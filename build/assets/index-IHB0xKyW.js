function Dte(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w_={exports:{}},lm={},__={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function Mte(){if(iD)return kt;iD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(X,ee,W){this.props=X,this.context=ee,this.refs=v,this.updater=W||g}b.prototype.isReactComponent={},b.prototype.setState=function(X,ee){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ee,"setState")},b.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=b.prototype;function C(X,ee,W){this.props=X,this.context=ee,this.refs=v,this.updater=W||g}var E=C.prototype=new _;E.constructor=C,x(E,b.prototype),E.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function N(X,ee,W){var Q,se={},oe=null,ae=null;if(ee!=null)for(Q in ee.ref!==void 0&&(ae=ee.ref),ee.key!==void 0&&(oe=""+ee.key),ee)I.call(ee,Q)&&!T.hasOwnProperty(Q)&&(se[Q]=ee[Q]);var ve=arguments.length-2;if(ve===1)se.children=W;else if(1<ve){for(var he=Array(ve),_e=0;_e<ve;_e++)he[_e]=arguments[_e+2];se.children=he}if(X&&X.defaultProps)for(Q in ve=X.defaultProps,ve)se[Q]===void 0&&(se[Q]=ve[Q]);return{$$typeof:t,type:X,key:oe,ref:ae,props:se,_owner:S.current}}function j(X,ee){return{$$typeof:t,type:X.type,key:ee,ref:X.ref,props:X.props,_owner:X._owner}}function B(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function M(X){var ee={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(W){return ee[W]})}var L=/\/+/g;function F(X,ee){return typeof X=="object"&&X!==null&&X.key!=null?M(""+X.key):ee.toString(36)}function $(X,ee,W,Q,se){var oe=typeof X;(oe==="undefined"||oe==="boolean")&&(X=null);var ae=!1;if(X===null)ae=!0;else switch(oe){case"string":case"number":ae=!0;break;case"object":switch(X.$$typeof){case t:case e:ae=!0}}if(ae)return ae=X,se=se(ae),X=Q===""?"."+F(ae,0):Q,P(se)?(W="",X!=null&&(W=X.replace(L,"$&/")+"/"),$(se,ee,W,"",function(_e){return _e})):se!=null&&(B(se)&&(se=j(se,W+(!se.key||ae&&ae.key===se.key?"":(""+se.key).replace(L,"$&/")+"/")+X)),ee.push(se)),1;if(ae=0,Q=Q===""?".":Q+":",P(X))for(var ve=0;ve<X.length;ve++){oe=X[ve];var he=Q+F(oe,ve);ae+=$(oe,ee,W,he,se)}else if(he=p(X),typeof he=="function")for(X=he.call(X),ve=0;!(oe=X.next()).done;)oe=oe.value,he=Q+F(oe,ve++),ae+=$(oe,ee,W,he,se);else if(oe==="object")throw ee=String(X),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ae}function H(X,ee,W){if(X==null)return X;var Q=[],se=0;return $(X,Q,"","",function(oe){return ee.call(W,oe,se++)}),Q}function K(X){if(X._status===-1){var ee=X._result;ee=ee(),ee.then(function(W){(X._status===0||X._status===-1)&&(X._status=1,X._result=W)},function(W){(X._status===0||X._status===-1)&&(X._status=2,X._result=W)}),X._status===-1&&(X._status=0,X._result=ee)}if(X._status===1)return X._result.default;throw X._result}var Z={current:null},q={transition:null},re={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:q,ReactCurrentOwner:S};function U(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:H,forEach:function(X,ee,W){H(X,function(){ee.apply(this,arguments)},W)},count:function(X){var ee=0;return H(X,function(){ee++}),ee},toArray:function(X){return H(X,function(ee){return ee})||[]},only:function(X){if(!B(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},kt.Component=b,kt.Fragment=r,kt.Profiler=i,kt.PureComponent=C,kt.StrictMode=n,kt.Suspense=l,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,kt.act=U,kt.cloneElement=function(X,ee,W){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Q=x({},X.props),se=X.key,oe=X.ref,ae=X._owner;if(ee!=null){if(ee.ref!==void 0&&(oe=ee.ref,ae=S.current),ee.key!==void 0&&(se=""+ee.key),X.type&&X.type.defaultProps)var ve=X.type.defaultProps;for(he in ee)I.call(ee,he)&&!T.hasOwnProperty(he)&&(Q[he]=ee[he]===void 0&&ve!==void 0?ve[he]:ee[he])}var he=arguments.length-2;if(he===1)Q.children=W;else if(1<he){ve=Array(he);for(var _e=0;_e<he;_e++)ve[_e]=arguments[_e+2];Q.children=ve}return{$$typeof:t,type:X.type,key:se,ref:oe,props:Q,_owner:ae}},kt.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:o,_context:X},X.Consumer=X},kt.createElement=N,kt.createFactory=function(X){var ee=N.bind(null,X);return ee.type=X,ee},kt.createRef=function(){return{current:null}},kt.forwardRef=function(X){return{$$typeof:s,render:X}},kt.isValidElement=B,kt.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:K}},kt.memo=function(X,ee){return{$$typeof:c,type:X,compare:ee===void 0?null:ee}},kt.startTransition=function(X){var ee=q.transition;q.transition={};try{X()}finally{q.transition=ee}},kt.unstable_act=U,kt.useCallback=function(X,ee){return Z.current.useCallback(X,ee)},kt.useContext=function(X){return Z.current.useContext(X)},kt.useDebugValue=function(){},kt.useDeferredValue=function(X){return Z.current.useDeferredValue(X)},kt.useEffect=function(X,ee){return Z.current.useEffect(X,ee)},kt.useId=function(){return Z.current.useId()},kt.useImperativeHandle=function(X,ee,W){return Z.current.useImperativeHandle(X,ee,W)},kt.useInsertionEffect=function(X,ee){return Z.current.useInsertionEffect(X,ee)},kt.useLayoutEffect=function(X,ee){return Z.current.useLayoutEffect(X,ee)},kt.useMemo=function(X,ee){return Z.current.useMemo(X,ee)},kt.useReducer=function(X,ee,W){return Z.current.useReducer(X,ee,W)},kt.useRef=function(X){return Z.current.useRef(X)},kt.useState=function(X){return Z.current.useState(X)},kt.useSyncExternalStore=function(X,ee,W){return Z.current.useSyncExternalStore(X,ee,W)},kt.useTransition=function(){return Z.current.useTransition()},kt.version="18.3.1",kt}var oD;function pb(){return oD||(oD=1,__.exports=Mte()),__.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function Fte(){if(aD)return lm;aD=1;var t=pb(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var f,h={},p=null,g=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(f in l)n.call(l,f)&&!o.hasOwnProperty(f)&&(h[f]=l[f]);if(s&&s.defaultProps)for(f in l=s.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:e,type:s,key:p,ref:g,props:h,_owner:i.current}}return lm.Fragment=r,lm.jsx=a,lm.jsxs=a,lm}var sD;function Lte(){return sD||(sD=1,w_.exports=Fte()),w_.exports}var u=Lte(),mv={},A_={exports:{}},Ii={},C_={exports:{}},E_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD;function Bte(){return lD||(lD=1,(function(t){function e(q,re){var U=q.length;q.push(re);e:for(;0<U;){var X=U-1>>>1,ee=q[X];if(0<i(ee,re))q[X]=re,q[U]=ee,U=X;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var re=q[0],U=q.pop();if(U!==re){q[0]=U;e:for(var X=0,ee=q.length,W=ee>>>1;X<W;){var Q=2*(X+1)-1,se=q[Q],oe=Q+1,ae=q[oe];if(0>i(se,U))oe<ee&&0>i(ae,se)?(q[X]=ae,q[oe]=U,X=oe):(q[X]=se,q[Q]=U,X=Q);else if(oe<ee&&0>i(ae,U))q[X]=ae,q[oe]=U,X=oe;else break e}}return re}function i(q,re){var U=q.sortIndex-re.sortIndex;return U!==0?U:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],f=1,h=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var re=r(c);re!==null;){if(re.callback===null)n(c);else if(re.startTime<=q)n(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(c)}}function P(q){if(v=!1,E(q),!x)if(r(l)!==null)x=!0,K(I);else{var re=r(c);re!==null&&Z(P,re.startTime-q)}}function I(q,re){x=!1,v&&(v=!1,_(N),N=-1),g=!0;var U=p;try{for(E(re),h=r(l);h!==null&&(!(h.expirationTime>re)||q&&!M());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var ee=X(h.expirationTime<=re);re=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(l)&&n(l),E(re)}else n(l);h=r(l)}if(h!==null)var W=!0;else{var Q=r(c);Q!==null&&Z(P,Q.startTime-re),W=!1}return W}finally{h=null,p=U,g=!1}}var S=!1,T=null,N=-1,j=5,B=-1;function M(){return!(t.unstable_now()-B<j)}function L(){if(T!==null){var q=t.unstable_now();B=q;var re=!0;try{re=T(!0,q)}finally{re?F():(S=!1,T=null)}}else S=!1}var F;if(typeof C=="function")F=function(){C(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=L,F=function(){H.postMessage(null)}}else F=function(){b(L,0)};function K(q){T=q,S||(S=!0,F())}function Z(q,re){N=b(function(){q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,K(I))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var U=p;p=re;try{return q()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var U=p;p=q;try{return re()}finally{p=U}},t.unstable_scheduleCallback=function(q,re,U){var X=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,q={id:f++,callback:re,priorityLevel:q,startTime:U,expirationTime:ee,sortIndex:-1},U>X?(q.sortIndex=U,e(c,q),r(l)===null&&q===r(c)&&(v?(_(N),N=-1):v=!0,Z(P,U-X))):(q.sortIndex=ee,e(l,q),x||g||(x=!0,K(I))),q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(q){var re=p;return function(){var U=p;p=re;try{return q.apply(this,arguments)}finally{p=U}}}})(E_)),E_}var cD;function Vte(){return cD||(cD=1,C_.exports=Bte()),C_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD;function $te(){if(uD)return Ii;uD=1;var t=pb(),e=Vte();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(d,m){a(d,m),a(d+"Capture",m)}function a(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(d){return l.call(h,d)?!0:l.call(f,d)?!1:c.test(d)?h[d]=!0:(f[d]=!0,!1)}function g(d,m,y,A){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return A?!1:y!==null?!y.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function x(d,m,y,A){if(m===null||typeof m>"u"||g(d,m,y,A))return!0;if(A)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(d,m,y,A,O,R,z){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=A,this.attributeNamespace=O,this.mustUseProperty=y,this.propertyName=d,this.type=m,this.sanitizeURL=R,this.removeEmptyString=z}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];b[m]=new v(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(_,C);b[m]=new v(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(_,C);b[m]=new v(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(_,C);b[m]=new v(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function E(d,m,y,A){var O=b.hasOwnProperty(m)?b[m]:null;(O!==null?O.type!==0:A||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,O,A)&&(y=null),A||O===null?p(m)&&(y===null?d.removeAttribute(m):d.setAttribute(m,""+y)):O.mustUseProperty?d[O.propertyName]=y===null?O.type===3?!1:"":y:(m=O.attributeName,A=O.attributeNamespace,y===null?d.removeAttribute(m):(O=O.type,y=O===3||O===4&&y===!0?"":""+y,A?d.setAttributeNS(A,m,y):d.setAttribute(m,y))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),q=Symbol.iterator;function re(d){return d===null||typeof d!="object"?null:(d=q&&d[q]||d["@@iterator"],typeof d=="function"?d:null)}var U=Object.assign,X;function ee(d){if(X===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);X=m&&m[1]||""}return`
`+X+d}var W=!1;function Q(d,m){if(!d||W)return"";W=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(me){var A=me}Reflect.construct(d,[],m)}else{try{m.call()}catch(me){A=me}d.call(m.prototype)}else{try{throw Error()}catch(me){A=me}d()}}catch(me){if(me&&A&&typeof me.stack=="string"){for(var O=me.stack.split(`
`),R=A.stack.split(`
`),z=O.length-1,J=R.length-1;1<=z&&0<=J&&O[z]!==R[J];)J--;for(;1<=z&&0<=J;z--,J--)if(O[z]!==R[J]){if(z!==1||J!==1)do if(z--,J--,0>J||O[z]!==R[J]){var ne=`
`+O[z].replace(" at new "," at ");return d.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",d.displayName)),ne}while(1<=z&&0<=J);break}}}finally{W=!1,Error.prepareStackTrace=y}return(d=d?d.displayName||d.name:"")?ee(d):""}function se(d){switch(d.tag){case 5:return ee(d.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return d=Q(d.type,!1),d;case 11:return d=Q(d.type.render,!1),d;case 1:return d=Q(d.type,!0),d;default:return""}}function oe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case T:return"Fragment";case S:return"Portal";case j:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case M:return(d.displayName||"Context")+".Consumer";case B:return(d._context.displayName||"Context")+".Provider";case L:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case H:return m=d.displayName||null,m!==null?m:oe(d.type)||"Memo";case K:m=d._payload,d=d._init;try{return oe(d(m))}catch{}}return null}function ae(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(m);case 8:return m===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ve(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function _e(d){var m=he(d)?"checked":"value",y=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),A=""+d[m];if(!d.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var O=y.get,R=y.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return O.call(this)},set:function(z){A=""+z,R.call(this,z)}}),Object.defineProperty(d,m,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(z){A=""+z},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Pe(d){d._valueTracker||(d._valueTracker=_e(d))}function pe(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var y=m.getValue(),A="";return d&&(A=he(d)?d.checked?"true":"false":d.value),d=A,d!==y?(m.setValue(d),!0):!1}function et(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function $e(d,m){var y=m.checked;return U({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??d._wrapperState.initialChecked})}function nt(d,m){var y=m.defaultValue==null?"":m.defaultValue,A=m.checked!=null?m.checked:m.defaultChecked;y=ve(m.value!=null?m.value:y),d._wrapperState={initialChecked:A,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ce(d,m){m=m.checked,m!=null&&E(d,"checked",m,!1)}function Re(d,m){Ce(d,m);var y=ve(m.value),A=m.type;if(y!=null)A==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+y):d.value!==""+y&&(d.value=""+y);else if(A==="submit"||A==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?ze(d,m.type,y):m.hasOwnProperty("defaultValue")&&ze(d,m.type,ve(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function Be(d,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var A=m.type;if(!(A!=="submit"&&A!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,y||m===d.value||(d.value=m),d.defaultValue=m}y=d.name,y!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,y!==""&&(d.name=y)}function ze(d,m,y){(m!=="number"||et(d.ownerDocument)!==d)&&(y==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+y&&(d.defaultValue=""+y))}var be=Array.isArray;function tt(d,m,y,A){if(d=d.options,m){m={};for(var O=0;O<y.length;O++)m["$"+y[O]]=!0;for(y=0;y<d.length;y++)O=m.hasOwnProperty("$"+d[y].value),d[y].selected!==O&&(d[y].selected=O),O&&A&&(d[y].defaultSelected=!0)}else{for(y=""+ve(y),m=null,O=0;O<d.length;O++){if(d[O].value===y){d[O].selected=!0,A&&(d[O].defaultSelected=!0);return}m!==null||d[O].disabled||(m=d[O])}m!==null&&(m.selected=!0)}}function Et(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function dr(d,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(r(92));if(be(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),y=m}d._wrapperState={initialValue:ve(y)}}function jr(d,m){var y=ve(m.value),A=ve(m.defaultValue);y!=null&&(y=""+y,y!==d.value&&(d.value=y),m.defaultValue==null&&d.defaultValue!==y&&(d.defaultValue=y)),A!=null&&(d.defaultValue=""+A)}function qr(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function ye(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?ye(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var le,We=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,A,O){MSApp.execUnsafeLocalFunction(function(){return d(m,y,A,O)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(le=le||document.createElement("div"),le.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=le.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function ut(d,m){if(m){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=m;return}}d.textContent=m}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(d){Vr.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),_r[m]=_r[d]})});function Cn(d,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||_r.hasOwnProperty(d)&&_r[d]?(""+m).trim():m+"px"}function yo(d,m){d=d.style;for(var y in m)if(m.hasOwnProperty(y)){var A=y.indexOf("--")===0,O=Cn(y,m[y],A);y==="float"&&(y="cssFloat"),A?d.setProperty(y,O):d[y]=O}}var Ko=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(d,m){if(m){if(Ko[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Wi(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var En=null;function Sf(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var _s=null,As=null,$r=null;function bp(d){if(d=Gp(d)){if(typeof _s!="function")throw Error(r(280));var m=d.stateNode;m&&(m=N0(m),_s(d.stateNode,d.type,m))}}function Al(d){As?$r?$r.push(d):$r=[d]:As=d}function Cl(){if(As){var d=As,m=$r;if($r=As=null,bp(d),m)for(d=0;d<m.length;d++)bp(m[d])}}function n0(d,m){return d(m)}function i0(){}var Ca=!1;function o0(d,m,y){if(Ca)return d(m,y);Ca=!0;try{return n0(d,m,y)}finally{Ca=!1,(As!==null||$r!==null)&&(i0(),Cl())}}function Gc(d,m){var y=d.stateNode;if(y===null)return null;var A=N0(y);if(A===null)return null;y=A[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(d=d.type,A=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!A;break e;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(r(231,m,typeof y));return y}var El=!1;if(s)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){El=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{El=!1}function a0(d,m,y,A,O,R,z,J,ne){var me=Array.prototype.slice.call(arguments,3);try{m.apply(y,me)}catch(Te){this.onError(Te)}}var Cs=!1,Ea=null,Tf=!1,vo=null,s0={onError:function(d){Cs=!0,Ea=d}};function l0(d,m,y,A,O,R,z,J,ne){Cs=!1,Ea=null,a0.apply(s0,arguments)}function wp(d,m,y,A,O,R,z,J,ne){if(l0.apply(this,arguments),Cs){if(Cs){var me=Ea;Cs=!1,Ea=null}else throw Error(r(198));Tf||(Tf=!0,vo=me)}}function Yo(d){var m=d,y=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(y=m.return),d=m.return;while(d)}return m.tag===3?y:null}function _p(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function c0(d){if(Yo(d)!==d)throw Error(r(188))}function u0(d){var m=d.alternate;if(!m){if(m=Yo(d),m===null)throw Error(r(188));return m!==d?null:d}for(var y=d,A=m;;){var O=y.return;if(O===null)break;var R=O.alternate;if(R===null){if(A=O.return,A!==null){y=A;continue}break}if(O.child===R.child){for(R=O.child;R;){if(R===y)return c0(O),d;if(R===A)return c0(O),m;R=R.sibling}throw Error(r(188))}if(y.return!==A.return)y=O,A=R;else{for(var z=!1,J=O.child;J;){if(J===y){z=!0,y=O,A=R;break}if(J===A){z=!0,A=O,y=R;break}J=J.sibling}if(!z){for(J=R.child;J;){if(J===y){z=!0,y=R,A=O;break}if(J===A){z=!0,A=R,y=O;break}J=J.sibling}if(!z)throw Error(r(189))}}if(y.alternate!==A)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?d:m}function f0(d){return d=u0(d),d!==null?Kc(d):null}function Kc(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Kc(d);if(m!==null)return m;d=d.sibling}return null}var Ap=e.unstable_scheduleCallback,If=e.unstable_cancelCallback,Yc=e.unstable_shouldYield,Es=e.unstable_requestPaint,Cr=e.unstable_now,Zw=e.unstable_getCurrentPriorityLevel,Nf=e.unstable_ImmediatePriority,Cp=e.unstable_UserBlockingPriority,Xc=e.unstable_NormalPriority,Ep=e.unstable_LowPriority,Pf=e.unstable_IdlePriority,Qc=null,Hi=null;function d0(d){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Qc,d,void 0,(d.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:Zc,Sa=Math.log,xo=Math.LN2;function Zc(d){return d>>>=0,d===0?32:31-(Sa(d)/xo|0)|0}var Ta=64,Tl=4194304;function Qt(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ss(d,m){var y=d.pendingLanes;if(y===0)return 0;var A=0,O=d.suspendedLanes,R=d.pingedLanes,z=y&268435455;if(z!==0){var J=z&~O;J!==0?A=Qt(J):(R&=z,R!==0&&(A=Qt(R)))}else z=y&~O,z!==0?A=Qt(z):R!==0&&(A=Qt(R));if(A===0)return 0;if(m!==0&&m!==A&&(m&O)===0&&(O=A&-A,R=m&-m,O>=R||O===16&&(R&4194240)!==0))return m;if((A&4)!==0&&(A|=y&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=A;0<m;)y=31-qi(m),O=1<<y,A|=d[y],m&=~O;return A}function Jc(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(d,m){for(var y=d.suspendedLanes,A=d.pingedLanes,O=d.expirationTimes,R=d.pendingLanes;0<R;){var z=31-qi(R),J=1<<z,ne=O[z];ne===-1?((J&y)===0||(J&A)!==0)&&(O[z]=Jc(J,m)):ne<=m&&(d.expiredLanes|=J),R&=~J}}function Sp(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Tp(){var d=Ta;return Ta<<=1,(Ta&4194240)===0&&(Ta=64),d}function Ip(d){for(var m=[],y=0;31>y;y++)m.push(d);return m}function tu(d,m,y){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-qi(m),d[m]=y}function Jw(d,m){var y=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<y;){var O=31-qi(y),R=1<<O;m[O]=0,A[O]=-1,d[O]=-1,y&=~R}}function Np(d,m){var y=d.entangledLanes|=m;for(d=d.entanglements;y;){var A=31-qi(y),O=1<<A;O&m|d[A]&m&&(d[A]|=m),y&=~O}}var Ft=0;function Ia(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Pp,kf,kp,Op,jp,Na=!1,Of=[],Pa=null,ka=null,Fn=null,ru=new Map,Ts=new Map,Gi=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(d,m){switch(d){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":ru.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(m.pointerId)}}function Xo(d,m,y,A,O,R){return d===null||d.nativeEvent!==R?(d={blockedOn:m,domEventName:y,eventSystemFlags:A,nativeEvent:R,targetContainers:[O]},m!==null&&(m=Gp(m),m!==null&&kf(m)),d):(d.eventSystemFlags|=A,m=d.targetContainers,O!==null&&m.indexOf(O)===-1&&m.push(O),d)}function p0(d,m,y,A,O){switch(m){case"focusin":return Pa=Xo(Pa,d,m,y,A,O),!0;case"dragenter":return ka=Xo(ka,d,m,y,A,O),!0;case"mouseover":return Fn=Xo(Fn,d,m,y,A,O),!0;case"pointerover":var R=O.pointerId;return ru.set(R,Xo(ru.get(R)||null,d,m,y,A,O)),!0;case"gotpointercapture":return R=O.pointerId,Ts.set(R,Xo(Ts.get(R)||null,d,m,y,A,O)),!0}return!1}function jf(d){var m=au(d.target);if(m!==null){var y=Yo(m);if(y!==null){if(m=y.tag,m===13){if(m=_p(y),m!==null){d.blockedOn=m,jp(d.priority,function(){kp(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ur(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var y=Rf(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(y===null){y=d.nativeEvent;var A=new y.constructor(y.type,y);En=A,y.target.dispatchEvent(A),En=null}else return m=Gp(y),m!==null&&kf(m),d.blockedOn=y,!1;m.shift()}return!0}function m0(d,m,y){ur(d)&&y.delete(m)}function e2(){Na=!1,Pa!==null&&ur(Pa)&&(Pa=null),ka!==null&&ur(ka)&&(ka=null),Fn!==null&&ur(Fn)&&(Fn=null),ru.forEach(m0),Ts.forEach(m0)}function Nl(d,m){d.blockedOn===m&&(d.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,e2)))}function Pl(d){function m(O){return Nl(O,d)}if(0<Of.length){Nl(Of[0],d);for(var y=1;y<Of.length;y++){var A=Of[y];A.blockedOn===d&&(A.blockedOn=null)}}for(Pa!==null&&Nl(Pa,d),ka!==null&&Nl(ka,d),Fn!==null&&Nl(Fn,d),ru.forEach(m),Ts.forEach(m),y=0;y<Gi.length;y++)A=Gi[y],A.blockedOn===d&&(A.blockedOn=null);for(;0<Gi.length&&(y=Gi[0],y.blockedOn===null);)jf(y),y.blockedOn===null&&Gi.shift()}var Is=P.ReactCurrentBatchConfig,Ns=!0;function Oa(d,m,y,A){var O=Ft,R=Is.transition;Is.transition=null;try{Ft=1,Rp(d,m,y,A)}finally{Ft=O,Is.transition=R}}function g0(d,m,y,A){var O=Ft,R=Is.transition;Is.transition=null;try{Ft=4,Rp(d,m,y,A)}finally{Ft=O,Is.transition=R}}function Rp(d,m,y,A){if(Ns){var O=Rf(d,m,y,A);if(O===null)f2(d,m,A,ja,y),Il(d,A);else if(p0(O,d,m,y,A))A.stopPropagation();else if(Il(d,A),m&4&&-1<h0.indexOf(d)){for(;O!==null;){var R=Gp(O);if(R!==null&&Pp(R),R=Rf(d,m,y,A),R===null&&f2(d,m,A,ja,y),R===O)break;O=R}O!==null&&A.stopPropagation()}else f2(d,m,A,null,y)}}var ja=null;function Rf(d,m,y,A){if(ja=null,d=Sf(A),d=au(d),d!==null)if(m=Yo(d),m===null)d=null;else if(y=m.tag,y===13){if(d=_p(m),d!==null)return d;d=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return ja=d,null}function Df(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zw()){case Nf:return 1;case Cp:return 4;case Xc:case Ep:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var Ki=null,Mf=null,Ps=null;function y0(){if(Ps)return Ps;var d,m=Mf,y=m.length,A,O="value"in Ki?Ki.value:Ki.textContent,R=O.length;for(d=0;d<y&&m[d]===O[d];d++);var z=y-d;for(A=1;A<=z&&m[y-A]===O[R-A];A++);return Ps=O.slice(d,1<A?1-A:void 0)}function nu(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Ra(){return!0}function Dp(){return!1}function Xn(d){function m(y,A,O,R,z){this._reactName=y,this._targetInst=O,this.type=A,this.nativeEvent=R,this.target=z,this.currentTarget=null;for(var J in d)d.hasOwnProperty(J)&&(y=d[J],this[J]=y?y(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ra:Dp,this.isPropagationStopped=Dp,this}return U(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),m}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Xn(Da),kl=U({},Da,{view:0,detail:0}),Ff=Xn(kl),Lf,Bf,Yi,ou=U({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wt,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Yi&&(Yi&&d.type==="mousemove"?(Lf=d.screenX-Yi.screenX,Bf=d.screenY-Yi.screenY):Bf=Lf=0,Yi=d),Lf)},movementY:function(d){return"movementY"in d?d.movementY:Bf}}),Mp=Xn(ou),v0=U({},ou,{dataTransfer:0}),x0=Xn(v0),Vf=U({},kl,{relatedTarget:0}),Ln=Xn(Vf),b0=U({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=Xn(b0),Ol=U({},Da,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),w=Xn(Ol),D=U({},Da,{data:0}),V=Xn(D),G={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function De(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=ge[d])?!!m[d]:!1}function wt(){return De}var Gr=U({},kl,{key:function(d){if(d.key){var m=G[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=nu(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?ue[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wt,charCode:function(d){return d.type==="keypress"?nu(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?nu(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),or=Xn(Gr),Qr=U({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Xn(Qr),ks=U({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wt}),Ma=Xn(ks),Fa=U({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=Xn(Fa),Fp=U({},ou,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Nee=Xn(Fp),Pee=[9,13,27,32],t2=s&&"CompositionEvent"in window,Lp=null;s&&"documentMode"in document&&(Lp=document.documentMode);var kee=s&&"TextEvent"in window&&!Lp,XO=s&&(!t2||Lp&&8<Lp&&11>=Lp),QO=" ",ZO=!1;function JO(d,m){switch(d){case"keyup":return Pee.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ej(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Uf=!1;function Oee(d,m){switch(d){case"compositionend":return ej(m);case"keypress":return m.which!==32?null:(ZO=!0,QO);case"textInput":return d=m.data,d===QO&&ZO?null:d;default:return null}}function jee(d,m){if(Uf)return d==="compositionend"||!t2&&JO(d,m)?(d=y0(),Ps=Mf=Ki=null,Uf=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return XO&&m.locale!=="ko"?null:m.data;default:return null}}var Ree={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tj(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Ree[d.type]:m==="textarea"}function rj(d,m,y,A){Al(A),m=S0(m,"onChange"),0<m.length&&(y=new iu("onChange","change",null,y,A),d.push({event:y,listeners:m}))}var Bp=null,Vp=null;function Dee(d){bj(d,0)}function _0(d){var m=Gf(d);if(pe(m))return d}function Mee(d,m){if(d==="change")return m}var nj=!1;if(s){var r2;if(s){var n2="oninput"in document;if(!n2){var ij=document.createElement("div");ij.setAttribute("oninput","return;"),n2=typeof ij.oninput=="function"}r2=n2}else r2=!1;nj=r2&&(!document.documentMode||9<document.documentMode)}function oj(){Bp&&(Bp.detachEvent("onpropertychange",aj),Vp=Bp=null)}function aj(d){if(d.propertyName==="value"&&_0(Vp)){var m=[];rj(m,Vp,d,Sf(d)),o0(Dee,m)}}function Fee(d,m,y){d==="focusin"?(oj(),Bp=m,Vp=y,Bp.attachEvent("onpropertychange",aj)):d==="focusout"&&oj()}function Lee(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return _0(Vp)}function Bee(d,m){if(d==="click")return _0(m)}function Vee(d,m){if(d==="input"||d==="change")return _0(m)}function $ee(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Qo=typeof Object.is=="function"?Object.is:$ee;function $p(d,m){if(Qo(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var y=Object.keys(d),A=Object.keys(m);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var O=y[A];if(!l.call(m,O)||!Qo(d[O],m[O]))return!1}return!0}function sj(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function lj(d,m){var y=sj(d);d=0;for(var A;y;){if(y.nodeType===3){if(A=d+y.textContent.length,d<=m&&A>=m)return{node:y,offset:m-d};d=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=sj(y)}}function cj(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?cj(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function uj(){for(var d=window,m=et();m instanceof d.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)d=m.contentWindow;else break;m=et(d.document)}return m}function i2(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Uee(d){var m=uj(),y=d.focusedElem,A=d.selectionRange;if(m!==y&&y&&y.ownerDocument&&cj(y.ownerDocument.documentElement,y)){if(A!==null&&i2(y)){if(m=A.start,d=A.end,d===void 0&&(d=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(d,y.value.length);else if(d=(m=y.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var O=y.textContent.length,R=Math.min(A.start,O);A=A.end===void 0?R:Math.min(A.end,O),!d.extend&&R>A&&(O=A,A=R,R=O),O=lj(y,R);var z=lj(y,A);O&&z&&(d.rangeCount!==1||d.anchorNode!==O.node||d.anchorOffset!==O.offset||d.focusNode!==z.node||d.focusOffset!==z.offset)&&(m=m.createRange(),m.setStart(O.node,O.offset),d.removeAllRanges(),R>A?(d.addRange(m),d.extend(z.node,z.offset)):(m.setEnd(z.node,z.offset),d.addRange(m)))}}for(m=[],d=y;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)d=m[y],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var zee=s&&"documentMode"in document&&11>=document.documentMode,zf=null,o2=null,Up=null,a2=!1;function fj(d,m,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;a2||zf==null||zf!==et(A)||(A=zf,"selectionStart"in A&&i2(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Up&&$p(Up,A)||(Up=A,A=S0(o2,"onSelect"),0<A.length&&(m=new iu("onSelect","select",null,m,y),d.push({event:m,listeners:A}),m.target=zf)))}function A0(d,m){var y={};return y[d.toLowerCase()]=m.toLowerCase(),y["Webkit"+d]="webkit"+m,y["Moz"+d]="moz"+m,y}var Wf={animationend:A0("Animation","AnimationEnd"),animationiteration:A0("Animation","AnimationIteration"),animationstart:A0("Animation","AnimationStart"),transitionend:A0("Transition","TransitionEnd")},s2={},dj={};s&&(dj=document.createElement("div").style,"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);function C0(d){if(s2[d])return s2[d];if(!Wf[d])return d;var m=Wf[d],y;for(y in m)if(m.hasOwnProperty(y)&&y in dj)return s2[d]=m[y];return d}var hj=C0("animationend"),pj=C0("animationiteration"),mj=C0("animationstart"),gj=C0("transitionend"),yj=new Map,vj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(d,m){yj.set(d,m),o(m,[d])}for(var l2=0;l2<vj.length;l2++){var c2=vj[l2],Wee=c2.toLowerCase(),Hee=c2[0].toUpperCase()+c2.slice(1);jl(Wee,"on"+Hee)}jl(hj,"onAnimationEnd"),jl(pj,"onAnimationIteration"),jl(mj,"onAnimationStart"),jl("dblclick","onDoubleClick"),jl("focusin","onFocus"),jl("focusout","onBlur"),jl(gj,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qee=new Set("cancel close invalid load scroll toggle".split(" ").concat(zp));function xj(d,m,y){var A=d.type||"unknown-event";d.currentTarget=y,wp(A,m,void 0,d),d.currentTarget=null}function bj(d,m){m=(m&4)!==0;for(var y=0;y<d.length;y++){var A=d[y],O=A.event;A=A.listeners;e:{var R=void 0;if(m)for(var z=A.length-1;0<=z;z--){var J=A[z],ne=J.instance,me=J.currentTarget;if(J=J.listener,ne!==R&&O.isPropagationStopped())break e;xj(O,J,me),R=ne}else for(z=0;z<A.length;z++){if(J=A[z],ne=J.instance,me=J.currentTarget,J=J.listener,ne!==R&&O.isPropagationStopped())break e;xj(O,J,me),R=ne}}}if(Tf)throw d=vo,Tf=!1,vo=null,d}function Er(d,m){var y=m[y2];y===void 0&&(y=m[y2]=new Set);var A=d+"__bubble";y.has(A)||(wj(m,d,2,!1),y.add(A))}function u2(d,m,y){var A=0;m&&(A|=4),wj(y,d,A,m)}var E0="_reactListening"+Math.random().toString(36).slice(2);function Wp(d){if(!d[E0]){d[E0]=!0,n.forEach(function(y){y!=="selectionchange"&&(qee.has(y)||u2(y,!1,d),u2(y,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[E0]||(m[E0]=!0,u2("selectionchange",!1,m))}}function wj(d,m,y,A){switch(Df(m)){case 1:var O=Oa;break;case 4:O=g0;break;default:O=Rp}y=O.bind(null,m,y,d),O=void 0,!El||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(O=!0),A?O!==void 0?d.addEventListener(m,y,{capture:!0,passive:O}):d.addEventListener(m,y,!0):O!==void 0?d.addEventListener(m,y,{passive:O}):d.addEventListener(m,y,!1)}function f2(d,m,y,A,O){var R=A;if((m&1)===0&&(m&2)===0&&A!==null)e:for(;;){if(A===null)return;var z=A.tag;if(z===3||z===4){var J=A.stateNode.containerInfo;if(J===O||J.nodeType===8&&J.parentNode===O)break;if(z===4)for(z=A.return;z!==null;){var ne=z.tag;if((ne===3||ne===4)&&(ne=z.stateNode.containerInfo,ne===O||ne.nodeType===8&&ne.parentNode===O))return;z=z.return}for(;J!==null;){if(z=au(J),z===null)return;if(ne=z.tag,ne===5||ne===6){A=R=z;continue e}J=J.parentNode}}A=A.return}o0(function(){var me=R,Te=Sf(y),Ie=[];e:{var Se=yj.get(d);if(Se!==void 0){var Ve=iu,Ge=d;switch(d){case"keypress":if(nu(y)===0)break e;case"keydown":case"keyup":Ve=or;break;case"focusin":Ge="focus",Ve=Ln;break;case"focusout":Ge="blur",Ve=Ln;break;case"beforeblur":case"afterblur":Ve=Ln;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Ma;break;case hj:case pj:case mj:Ve=w0;break;case gj:Ve=$f;break;case"scroll":Ve=Ff;break;case"wheel":Ve=Nee;break;case"copy":case"cut":case"paste":Ve=w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Xi}var Xe=(m&4)!==0,Kr=!Xe&&d==="scroll",ce=Xe?Se!==null?Se+"Capture":null:Se;Xe=[];for(var ie=me,de;ie!==null;){de=ie;var Oe=de.stateNode;if(de.tag===5&&Oe!==null&&(de=Oe,ce!==null&&(Oe=Gc(ie,ce),Oe!=null&&Xe.push(Hp(ie,Oe,de)))),Kr)break;ie=ie.return}0<Xe.length&&(Se=new Ve(Se,Ge,null,y,Te),Ie.push({event:Se,listeners:Xe}))}}if((m&7)===0){e:{if(Se=d==="mouseover"||d==="pointerover",Ve=d==="mouseout"||d==="pointerout",Se&&y!==En&&(Ge=y.relatedTarget||y.fromElement)&&(au(Ge)||Ge[Os]))break e;if((Ve||Se)&&(Se=Te.window===Te?Te:(Se=Te.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ve?(Ge=y.relatedTarget||y.toElement,Ve=me,Ge=Ge?au(Ge):null,Ge!==null&&(Kr=Yo(Ge),Ge!==Kr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Ve=null,Ge=me),Ve!==Ge)){if(Xe=Mp,Oe="onMouseLeave",ce="onMouseEnter",ie="mouse",(d==="pointerout"||d==="pointerover")&&(Xe=Xi,Oe="onPointerLeave",ce="onPointerEnter",ie="pointer"),Kr=Ve==null?Se:Gf(Ve),de=Ge==null?Se:Gf(Ge),Se=new Xe(Oe,ie+"leave",Ve,y,Te),Se.target=Kr,Se.relatedTarget=de,Oe=null,au(Te)===me&&(Xe=new Xe(ce,ie+"enter",Ge,y,Te),Xe.target=de,Xe.relatedTarget=Kr,Oe=Xe),Kr=Oe,Ve&&Ge)t:{for(Xe=Ve,ce=Ge,ie=0,de=Xe;de;de=Hf(de))ie++;for(de=0,Oe=ce;Oe;Oe=Hf(Oe))de++;for(;0<ie-de;)Xe=Hf(Xe),ie--;for(;0<de-ie;)ce=Hf(ce),de--;for(;ie--;){if(Xe===ce||ce!==null&&Xe===ce.alternate)break t;Xe=Hf(Xe),ce=Hf(ce)}Xe=null}else Xe=null;Ve!==null&&_j(Ie,Se,Ve,Xe,!1),Ge!==null&&Kr!==null&&_j(Ie,Kr,Ge,Xe,!0)}}e:{if(Se=me?Gf(me):window,Ve=Se.nodeName&&Se.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Se.type==="file")var Ze=Mee;else if(tj(Se))if(nj)Ze=Vee;else{Ze=Lee;var ot=Fee}else(Ve=Se.nodeName)&&Ve.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ze=Bee);if(Ze&&(Ze=Ze(d,me))){rj(Ie,Ze,y,Te);break e}ot&&ot(d,Se,me),d==="focusout"&&(ot=Se._wrapperState)&&ot.controlled&&Se.type==="number"&&ze(Se,"number",Se.value)}switch(ot=me?Gf(me):window,d){case"focusin":(tj(ot)||ot.contentEditable==="true")&&(zf=ot,o2=me,Up=null);break;case"focusout":Up=o2=zf=null;break;case"mousedown":a2=!0;break;case"contextmenu":case"mouseup":case"dragend":a2=!1,fj(Ie,y,Te);break;case"selectionchange":if(zee)break;case"keydown":case"keyup":fj(Ie,y,Te)}var at;if(t2)e:{switch(d){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Uf?JO(d,y)&&(gt="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(gt="onCompositionStart");gt&&(XO&&y.locale!=="ko"&&(Uf||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Uf&&(at=y0()):(Ki=Te,Mf="value"in Ki?Ki.value:Ki.textContent,Uf=!0)),ot=S0(me,gt),0<ot.length&&(gt=new V(gt,d,null,y,Te),Ie.push({event:gt,listeners:ot}),at?gt.data=at:(at=ej(y),at!==null&&(gt.data=at)))),(at=kee?Oee(d,y):jee(d,y))&&(me=S0(me,"onBeforeInput"),0<me.length&&(Te=new V("onBeforeInput","beforeinput",null,y,Te),Ie.push({event:Te,listeners:me}),Te.data=at))}bj(Ie,m)})}function Hp(d,m,y){return{instance:d,listener:m,currentTarget:y}}function S0(d,m){for(var y=m+"Capture",A=[];d!==null;){var O=d,R=O.stateNode;O.tag===5&&R!==null&&(O=R,R=Gc(d,y),R!=null&&A.unshift(Hp(d,R,O)),R=Gc(d,m),R!=null&&A.push(Hp(d,R,O))),d=d.return}return A}function Hf(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function _j(d,m,y,A,O){for(var R=m._reactName,z=[];y!==null&&y!==A;){var J=y,ne=J.alternate,me=J.stateNode;if(ne!==null&&ne===A)break;J.tag===5&&me!==null&&(J=me,O?(ne=Gc(y,R),ne!=null&&z.unshift(Hp(y,ne,J))):O||(ne=Gc(y,R),ne!=null&&z.push(Hp(y,ne,J)))),y=y.return}z.length!==0&&d.push({event:m,listeners:z})}var Gee=/\r\n?/g,Kee=/\u0000|\uFFFD/g;function Aj(d){return(typeof d=="string"?d:""+d).replace(Gee,`
`).replace(Kee,"")}function T0(d,m,y){if(m=Aj(m),Aj(d)!==m&&y)throw Error(r(425))}function I0(){}var d2=null,h2=null;function p2(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var m2=typeof setTimeout=="function"?setTimeout:void 0,Yee=typeof clearTimeout=="function"?clearTimeout:void 0,Cj=typeof Promise=="function"?Promise:void 0,Xee=typeof queueMicrotask=="function"?queueMicrotask:typeof Cj<"u"?function(d){return Cj.resolve(null).then(d).catch(Qee)}:m2;function Qee(d){setTimeout(function(){throw d})}function g2(d,m){var y=m,A=0;do{var O=y.nextSibling;if(d.removeChild(y),O&&O.nodeType===8)if(y=O.data,y==="/$"){if(A===0){d.removeChild(O),Pl(m);return}A--}else y!=="$"&&y!=="$?"&&y!=="$!"||A++;y=O}while(y);Pl(m)}function Rl(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function Ej(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return d;m--}else y==="/$"&&m++}d=d.previousSibling}return null}var qf=Math.random().toString(36).slice(2),La="__reactFiber$"+qf,qp="__reactProps$"+qf,Os="__reactContainer$"+qf,y2="__reactEvents$"+qf,Zee="__reactListeners$"+qf,Jee="__reactHandles$"+qf;function au(d){var m=d[La];if(m)return m;for(var y=d.parentNode;y;){if(m=y[Os]||y[La]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(d=Ej(d);d!==null;){if(y=d[La])return y;d=Ej(d)}return m}d=y,y=d.parentNode}return null}function Gp(d){return d=d[La]||d[Os],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Gf(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function N0(d){return d[qp]||null}var v2=[],Kf=-1;function Dl(d){return{current:d}}function Sr(d){0>Kf||(d.current=v2[Kf],v2[Kf]=null,Kf--)}function hr(d,m){Kf++,v2[Kf]=d.current,d.current=m}var Ml={},Qn=Dl(Ml),Ai=Dl(!1),su=Ml;function Yf(d,m){var y=d.type.contextTypes;if(!y)return Ml;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var O={},R;for(R in y)O[R]=m[R];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=O),O}function Ci(d){return d=d.childContextTypes,d!=null}function P0(){Sr(Ai),Sr(Qn)}function Sj(d,m,y){if(Qn.current!==Ml)throw Error(r(168));hr(Qn,m),hr(Ai,y)}function Tj(d,m,y){var A=d.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return y;A=A.getChildContext();for(var O in A)if(!(O in m))throw Error(r(108,ae(d)||"Unknown",O));return U({},y,A)}function k0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ml,su=Qn.current,hr(Qn,d),hr(Ai,Ai.current),!0}function Ij(d,m,y){var A=d.stateNode;if(!A)throw Error(r(169));y?(d=Tj(d,m,su),A.__reactInternalMemoizedMergedChildContext=d,Sr(Ai),Sr(Qn),hr(Qn,d)):Sr(Ai),hr(Ai,y)}var js=null,O0=!1,x2=!1;function Nj(d){js===null?js=[d]:js.push(d)}function ete(d){O0=!0,Nj(d)}function Fl(){if(!x2&&js!==null){x2=!0;var d=0,m=Ft;try{var y=js;for(Ft=1;d<y.length;d++){var A=y[d];do A=A(!0);while(A!==null)}js=null,O0=!1}catch(O){throw js!==null&&(js=js.slice(d+1)),Ap(Nf,Fl),O}finally{Ft=m,x2=!1}}return null}var Xf=[],Qf=0,j0=null,R0=0,bo=[],wo=0,lu=null,Rs=1,Ds="";function cu(d,m){Xf[Qf++]=R0,Xf[Qf++]=j0,j0=d,R0=m}function Pj(d,m,y){bo[wo++]=Rs,bo[wo++]=Ds,bo[wo++]=lu,lu=d;var A=Rs;d=Ds;var O=32-qi(A)-1;A&=~(1<<O),y+=1;var R=32-qi(m)+O;if(30<R){var z=O-O%5;R=(A&(1<<z)-1).toString(32),A>>=z,O-=z,Rs=1<<32-qi(m)+O|y<<O|A,Ds=R+d}else Rs=1<<R|y<<O|A,Ds=d}function b2(d){d.return!==null&&(cu(d,1),Pj(d,1,0))}function w2(d){for(;d===j0;)j0=Xf[--Qf],Xf[Qf]=null,R0=Xf[--Qf],Xf[Qf]=null;for(;d===lu;)lu=bo[--wo],bo[wo]=null,Ds=bo[--wo],bo[wo]=null,Rs=bo[--wo],bo[wo]=null}var Qi=null,Zi=null,Pr=!1,Zo=null;function kj(d,m){var y=Eo(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=d,m=d.deletions,m===null?(d.deletions=[y],d.flags|=16):m.push(y)}function Oj(d,m){switch(d.tag){case 5:var y=d.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Qi=d,Zi=Rl(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Qi=d,Zi=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=lu!==null?{id:Rs,overflow:Ds}:null,d.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=Eo(18,null,null,0),y.stateNode=m,y.return=d,d.child=y,Qi=d,Zi=null,!0):!1;default:return!1}}function _2(d){return(d.mode&1)!==0&&(d.flags&128)===0}function A2(d){if(Pr){var m=Zi;if(m){var y=m;if(!Oj(d,m)){if(_2(d))throw Error(r(418));m=Rl(y.nextSibling);var A=Qi;m&&Oj(d,m)?kj(A,y):(d.flags=d.flags&-4097|2,Pr=!1,Qi=d)}}else{if(_2(d))throw Error(r(418));d.flags=d.flags&-4097|2,Pr=!1,Qi=d}}}function jj(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Qi=d}function D0(d){if(d!==Qi)return!1;if(!Pr)return jj(d),Pr=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!p2(d.type,d.memoizedProps)),m&&(m=Zi)){if(_2(d))throw Rj(),Error(r(418));for(;m;)kj(d,m),m=Rl(m.nextSibling)}if(jj(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"){if(m===0){Zi=Rl(d.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}d=d.nextSibling}Zi=null}}else Zi=Qi?Rl(d.stateNode.nextSibling):null;return!0}function Rj(){for(var d=Zi;d;)d=Rl(d.nextSibling)}function Zf(){Zi=Qi=null,Pr=!1}function C2(d){Zo===null?Zo=[d]:Zo.push(d)}var tte=P.ReactCurrentBatchConfig;function Kp(d,m,y){if(d=y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var A=y.stateNode}if(!A)throw Error(r(147,d));var O=A,R=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===R?m.ref:(m=function(z){var J=O.refs;z===null?delete J[R]:J[R]=z},m._stringRef=R,m)}if(typeof d!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,d))}return d}function M0(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function Dj(d){var m=d._init;return m(d._payload)}function Mj(d){function m(ce,ie){if(d){var de=ce.deletions;de===null?(ce.deletions=[ie],ce.flags|=16):de.push(ie)}}function y(ce,ie){if(!d)return null;for(;ie!==null;)m(ce,ie),ie=ie.sibling;return null}function A(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function O(ce,ie){return ce=Hl(ce,ie),ce.index=0,ce.sibling=null,ce}function R(ce,ie,de){return ce.index=de,d?(de=ce.alternate,de!==null?(de=de.index,de<ie?(ce.flags|=2,ie):de):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function z(ce){return d&&ce.alternate===null&&(ce.flags|=2),ce}function J(ce,ie,de,Oe){return ie===null||ie.tag!==6?(ie=m_(de,ce.mode,Oe),ie.return=ce,ie):(ie=O(ie,de),ie.return=ce,ie)}function ne(ce,ie,de,Oe){var Ze=de.type;return Ze===T?Te(ce,ie,de.props.children,Oe,de.key):ie!==null&&(ie.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&Dj(Ze)===ie.type)?(Oe=O(ie,de.props),Oe.ref=Kp(ce,ie,de),Oe.return=ce,Oe):(Oe=av(de.type,de.key,de.props,null,ce.mode,Oe),Oe.ref=Kp(ce,ie,de),Oe.return=ce,Oe)}function me(ce,ie,de,Oe){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=g_(de,ce.mode,Oe),ie.return=ce,ie):(ie=O(ie,de.children||[]),ie.return=ce,ie)}function Te(ce,ie,de,Oe,Ze){return ie===null||ie.tag!==7?(ie=yu(de,ce.mode,Oe,Ze),ie.return=ce,ie):(ie=O(ie,de),ie.return=ce,ie)}function Ie(ce,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=m_(""+ie,ce.mode,de),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return de=av(ie.type,ie.key,ie.props,null,ce.mode,de),de.ref=Kp(ce,null,ie),de.return=ce,de;case S:return ie=g_(ie,ce.mode,de),ie.return=ce,ie;case K:var Oe=ie._init;return Ie(ce,Oe(ie._payload),de)}if(be(ie)||re(ie))return ie=yu(ie,ce.mode,de,null),ie.return=ce,ie;M0(ce,ie)}return null}function Se(ce,ie,de,Oe){var Ze=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Ze!==null?null:J(ce,ie,""+de,Oe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case I:return de.key===Ze?ne(ce,ie,de,Oe):null;case S:return de.key===Ze?me(ce,ie,de,Oe):null;case K:return Ze=de._init,Se(ce,ie,Ze(de._payload),Oe)}if(be(de)||re(de))return Ze!==null?null:Te(ce,ie,de,Oe,null);M0(ce,de)}return null}function Ve(ce,ie,de,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ce=ce.get(de)||null,J(ie,ce,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case I:return ce=ce.get(Oe.key===null?de:Oe.key)||null,ne(ie,ce,Oe,Ze);case S:return ce=ce.get(Oe.key===null?de:Oe.key)||null,me(ie,ce,Oe,Ze);case K:var ot=Oe._init;return Ve(ce,ie,de,ot(Oe._payload),Ze)}if(be(Oe)||re(Oe))return ce=ce.get(de)||null,Te(ie,ce,Oe,Ze,null);M0(ie,Oe)}return null}function Ge(ce,ie,de,Oe){for(var Ze=null,ot=null,at=ie,gt=ie=0,In=null;at!==null&&gt<de.length;gt++){at.index>gt?(In=at,at=null):In=at.sibling;var Wt=Se(ce,at,de[gt],Oe);if(Wt===null){at===null&&(at=In);break}d&&at&&Wt.alternate===null&&m(ce,at),ie=R(Wt,ie,gt),ot===null?Ze=Wt:ot.sibling=Wt,ot=Wt,at=In}if(gt===de.length)return y(ce,at),Pr&&cu(ce,gt),Ze;if(at===null){for(;gt<de.length;gt++)at=Ie(ce,de[gt],Oe),at!==null&&(ie=R(at,ie,gt),ot===null?Ze=at:ot.sibling=at,ot=at);return Pr&&cu(ce,gt),Ze}for(at=A(ce,at);gt<de.length;gt++)In=Ve(at,ce,gt,de[gt],Oe),In!==null&&(d&&In.alternate!==null&&at.delete(In.key===null?gt:In.key),ie=R(In,ie,gt),ot===null?Ze=In:ot.sibling=In,ot=In);return d&&at.forEach(function(ql){return m(ce,ql)}),Pr&&cu(ce,gt),Ze}function Xe(ce,ie,de,Oe){var Ze=re(de);if(typeof Ze!="function")throw Error(r(150));if(de=Ze.call(de),de==null)throw Error(r(151));for(var ot=Ze=null,at=ie,gt=ie=0,In=null,Wt=de.next();at!==null&&!Wt.done;gt++,Wt=de.next()){at.index>gt?(In=at,at=null):In=at.sibling;var ql=Se(ce,at,Wt.value,Oe);if(ql===null){at===null&&(at=In);break}d&&at&&ql.alternate===null&&m(ce,at),ie=R(ql,ie,gt),ot===null?Ze=ql:ot.sibling=ql,ot=ql,at=In}if(Wt.done)return y(ce,at),Pr&&cu(ce,gt),Ze;if(at===null){for(;!Wt.done;gt++,Wt=de.next())Wt=Ie(ce,Wt.value,Oe),Wt!==null&&(ie=R(Wt,ie,gt),ot===null?Ze=Wt:ot.sibling=Wt,ot=Wt);return Pr&&cu(ce,gt),Ze}for(at=A(ce,at);!Wt.done;gt++,Wt=de.next())Wt=Ve(at,ce,gt,Wt.value,Oe),Wt!==null&&(d&&Wt.alternate!==null&&at.delete(Wt.key===null?gt:Wt.key),ie=R(Wt,ie,gt),ot===null?Ze=Wt:ot.sibling=Wt,ot=Wt);return d&&at.forEach(function(Rte){return m(ce,Rte)}),Pr&&cu(ce,gt),Ze}function Kr(ce,ie,de,Oe){if(typeof de=="object"&&de!==null&&de.type===T&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case I:e:{for(var Ze=de.key,ot=ie;ot!==null;){if(ot.key===Ze){if(Ze=de.type,Ze===T){if(ot.tag===7){y(ce,ot.sibling),ie=O(ot,de.props.children),ie.return=ce,ce=ie;break e}}else if(ot.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&Dj(Ze)===ot.type){y(ce,ot.sibling),ie=O(ot,de.props),ie.ref=Kp(ce,ot,de),ie.return=ce,ce=ie;break e}y(ce,ot);break}else m(ce,ot);ot=ot.sibling}de.type===T?(ie=yu(de.props.children,ce.mode,Oe,de.key),ie.return=ce,ce=ie):(Oe=av(de.type,de.key,de.props,null,ce.mode,Oe),Oe.ref=Kp(ce,ie,de),Oe.return=ce,ce=Oe)}return z(ce);case S:e:{for(ot=de.key;ie!==null;){if(ie.key===ot)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){y(ce,ie.sibling),ie=O(ie,de.children||[]),ie.return=ce,ce=ie;break e}else{y(ce,ie);break}else m(ce,ie);ie=ie.sibling}ie=g_(de,ce.mode,Oe),ie.return=ce,ce=ie}return z(ce);case K:return ot=de._init,Kr(ce,ie,ot(de._payload),Oe)}if(be(de))return Ge(ce,ie,de,Oe);if(re(de))return Xe(ce,ie,de,Oe);M0(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(y(ce,ie.sibling),ie=O(ie,de),ie.return=ce,ce=ie):(y(ce,ie),ie=m_(de,ce.mode,Oe),ie.return=ce,ce=ie),z(ce)):y(ce,ie)}return Kr}var Jf=Mj(!0),Fj=Mj(!1),F0=Dl(null),L0=null,ed=null,E2=null;function S2(){E2=ed=L0=null}function T2(d){var m=F0.current;Sr(F0),d._currentValue=m}function I2(d,m,y){for(;d!==null;){var A=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),d===y)break;d=d.return}}function td(d,m){L0=d,E2=ed=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Ei=!0),d.firstContext=null)}function _o(d){var m=d._currentValue;if(E2!==d)if(d={context:d,memoizedValue:m,next:null},ed===null){if(L0===null)throw Error(r(308));ed=d,L0.dependencies={lanes:0,firstContext:d}}else ed=ed.next=d;return m}var uu=null;function N2(d){uu===null?uu=[d]:uu.push(d)}function Lj(d,m,y,A){var O=m.interleaved;return O===null?(y.next=y,N2(m)):(y.next=O.next,O.next=y),m.interleaved=y,Ms(d,A)}function Ms(d,m){d.lanes|=m;var y=d.alternate;for(y!==null&&(y.lanes|=m),y=d,d=d.return;d!==null;)d.childLanes|=m,y=d.alternate,y!==null&&(y.childLanes|=m),y=d,d=d.return;return y.tag===3?y.stateNode:null}var Ll=!1;function P2(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bj(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Fs(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Bl(d,m,y){var A=d.updateQueue;if(A===null)return null;if(A=A.shared,($t&2)!==0){var O=A.pending;return O===null?m.next=m:(m.next=O.next,O.next=m),A.pending=m,Ms(d,y)}return O=A.interleaved,O===null?(m.next=m,N2(A)):(m.next=O.next,O.next=m),A.interleaved=m,Ms(d,y)}function B0(d,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var A=m.lanes;A&=d.pendingLanes,y|=A,m.lanes=y,Np(d,y)}}function Vj(d,m){var y=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var O=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var z={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?O=R=z:R=R.next=z,y=y.next}while(y!==null);R===null?O=R=m:R=R.next=m}else O=R=m;y={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:R,shared:A.shared,effects:A.effects},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=m:d.next=m,y.lastBaseUpdate=m}function V0(d,m,y,A){var O=d.updateQueue;Ll=!1;var R=O.firstBaseUpdate,z=O.lastBaseUpdate,J=O.shared.pending;if(J!==null){O.shared.pending=null;var ne=J,me=ne.next;ne.next=null,z===null?R=me:z.next=me,z=ne;var Te=d.alternate;Te!==null&&(Te=Te.updateQueue,J=Te.lastBaseUpdate,J!==z&&(J===null?Te.firstBaseUpdate=me:J.next=me,Te.lastBaseUpdate=ne))}if(R!==null){var Ie=O.baseState;z=0,Te=me=ne=null,J=R;do{var Se=J.lane,Ve=J.eventTime;if((A&Se)===Se){Te!==null&&(Te=Te.next={eventTime:Ve,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ge=d,Xe=J;switch(Se=m,Ve=y,Xe.tag){case 1:if(Ge=Xe.payload,typeof Ge=="function"){Ie=Ge.call(Ve,Ie,Se);break e}Ie=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Xe.payload,Se=typeof Ge=="function"?Ge.call(Ve,Ie,Se):Ge,Se==null)break e;Ie=U({},Ie,Se);break e;case 2:Ll=!0}}J.callback!==null&&J.lane!==0&&(d.flags|=64,Se=O.effects,Se===null?O.effects=[J]:Se.push(J))}else Ve={eventTime:Ve,lane:Se,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Te===null?(me=Te=Ve,ne=Ie):Te=Te.next=Ve,z|=Se;if(J=J.next,J===null){if(J=O.shared.pending,J===null)break;Se=J,J=Se.next,Se.next=null,O.lastBaseUpdate=Se,O.shared.pending=null}}while(!0);if(Te===null&&(ne=Ie),O.baseState=ne,O.firstBaseUpdate=me,O.lastBaseUpdate=Te,m=O.shared.interleaved,m!==null){O=m;do z|=O.lane,O=O.next;while(O!==m)}else R===null&&(O.shared.lanes=0);hu|=z,d.lanes=z,d.memoizedState=Ie}}function $j(d,m,y){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var A=d[m],O=A.callback;if(O!==null){if(A.callback=null,A=y,typeof O!="function")throw Error(r(191,O));O.call(A)}}}var Yp={},Ba=Dl(Yp),Xp=Dl(Yp),Qp=Dl(Yp);function fu(d){if(d===Yp)throw Error(r(174));return d}function k2(d,m){switch(hr(Qp,m),hr(Xp,d),hr(Ba,Yp),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Ne(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=Ne(m,d)}Sr(Ba),hr(Ba,m)}function rd(){Sr(Ba),Sr(Xp),Sr(Qp)}function Uj(d){fu(Qp.current);var m=fu(Ba.current),y=Ne(m,d.type);m!==y&&(hr(Xp,d),hr(Ba,y))}function O2(d){Xp.current===d&&(Sr(Ba),Sr(Xp))}var Rr=Dl(0);function $0(d){for(var m=d;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var j2=[];function R2(){for(var d=0;d<j2.length;d++)j2[d]._workInProgressVersionPrimary=null;j2.length=0}var U0=P.ReactCurrentDispatcher,D2=P.ReactCurrentBatchConfig,du=0,Dr=null,ln=null,Sn=null,z0=!1,Zp=!1,Jp=0,rte=0;function Zn(){throw Error(r(321))}function M2(d,m){if(m===null)return!1;for(var y=0;y<m.length&&y<d.length;y++)if(!Qo(d[y],m[y]))return!1;return!0}function F2(d,m,y,A,O,R){if(du=R,Dr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,U0.current=d===null||d.memoizedState===null?ate:ste,d=y(A,O),Zp){R=0;do{if(Zp=!1,Jp=0,25<=R)throw Error(r(301));R+=1,Sn=ln=null,m.updateQueue=null,U0.current=lte,d=y(A,O)}while(Zp)}if(U0.current=q0,m=ln!==null&&ln.next!==null,du=0,Sn=ln=Dr=null,z0=!1,m)throw Error(r(300));return d}function L2(){var d=Jp!==0;return Jp=0,d}function Va(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Dr.memoizedState=Sn=d:Sn=Sn.next=d,Sn}function Ao(){if(ln===null){var d=Dr.alternate;d=d!==null?d.memoizedState:null}else d=ln.next;var m=Sn===null?Dr.memoizedState:Sn.next;if(m!==null)Sn=m,ln=d;else{if(d===null)throw Error(r(310));ln=d,d={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Sn===null?Dr.memoizedState=Sn=d:Sn=Sn.next=d}return Sn}function em(d,m){return typeof m=="function"?m(d):m}function B2(d){var m=Ao(),y=m.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var A=ln,O=A.baseQueue,R=y.pending;if(R!==null){if(O!==null){var z=O.next;O.next=R.next,R.next=z}A.baseQueue=O=R,y.pending=null}if(O!==null){R=O.next,A=A.baseState;var J=z=null,ne=null,me=R;do{var Te=me.lane;if((du&Te)===Te)ne!==null&&(ne=ne.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),A=me.hasEagerState?me.eagerState:d(A,me.action);else{var Ie={lane:Te,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};ne===null?(J=ne=Ie,z=A):ne=ne.next=Ie,Dr.lanes|=Te,hu|=Te}me=me.next}while(me!==null&&me!==R);ne===null?z=A:ne.next=J,Qo(A,m.memoizedState)||(Ei=!0),m.memoizedState=A,m.baseState=z,m.baseQueue=ne,y.lastRenderedState=A}if(d=y.interleaved,d!==null){O=d;do R=O.lane,Dr.lanes|=R,hu|=R,O=O.next;while(O!==d)}else O===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function V2(d){var m=Ao(),y=m.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var A=y.dispatch,O=y.pending,R=m.memoizedState;if(O!==null){y.pending=null;var z=O=O.next;do R=d(R,z.action),z=z.next;while(z!==O);Qo(R,m.memoizedState)||(Ei=!0),m.memoizedState=R,m.baseQueue===null&&(m.baseState=R),y.lastRenderedState=R}return[R,A]}function zj(){}function Wj(d,m){var y=Dr,A=Ao(),O=m(),R=!Qo(A.memoizedState,O);if(R&&(A.memoizedState=O,Ei=!0),A=A.queue,$2(Gj.bind(null,y,A,d),[d]),A.getSnapshot!==m||R||Sn!==null&&Sn.memoizedState.tag&1){if(y.flags|=2048,tm(9,qj.bind(null,y,A,O,m),void 0,null),Tn===null)throw Error(r(349));(du&30)!==0||Hj(y,m,O)}return O}function Hj(d,m,y){d.flags|=16384,d={getSnapshot:m,value:y},m=Dr.updateQueue,m===null?(m={lastEffect:null,stores:null},Dr.updateQueue=m,m.stores=[d]):(y=m.stores,y===null?m.stores=[d]:y.push(d))}function qj(d,m,y,A){m.value=y,m.getSnapshot=A,Kj(m)&&Yj(d)}function Gj(d,m,y){return y(function(){Kj(m)&&Yj(d)})}function Kj(d){var m=d.getSnapshot;d=d.value;try{var y=m();return!Qo(d,y)}catch{return!0}}function Yj(d){var m=Ms(d,1);m!==null&&ra(m,d,1,-1)}function Xj(d){var m=Va();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:d},m.queue=d,d=d.dispatch=ote.bind(null,Dr,d),[m.memoizedState,d]}function tm(d,m,y,A){return d={tag:d,create:m,destroy:y,deps:A,next:null},m=Dr.updateQueue,m===null?(m={lastEffect:null,stores:null},Dr.updateQueue=m,m.lastEffect=d.next=d):(y=m.lastEffect,y===null?m.lastEffect=d.next=d:(A=y.next,y.next=d,d.next=A,m.lastEffect=d)),d}function Qj(){return Ao().memoizedState}function W0(d,m,y,A){var O=Va();Dr.flags|=d,O.memoizedState=tm(1|m,y,void 0,A===void 0?null:A)}function H0(d,m,y,A){var O=Ao();A=A===void 0?null:A;var R=void 0;if(ln!==null){var z=ln.memoizedState;if(R=z.destroy,A!==null&&M2(A,z.deps)){O.memoizedState=tm(m,y,R,A);return}}Dr.flags|=d,O.memoizedState=tm(1|m,y,R,A)}function Zj(d,m){return W0(8390656,8,d,m)}function $2(d,m){return H0(2048,8,d,m)}function Jj(d,m){return H0(4,2,d,m)}function eR(d,m){return H0(4,4,d,m)}function tR(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function rR(d,m,y){return y=y!=null?y.concat([d]):null,H0(4,4,tR.bind(null,m,d),y)}function U2(){}function nR(d,m){var y=Ao();m=m===void 0?null:m;var A=y.memoizedState;return A!==null&&m!==null&&M2(m,A[1])?A[0]:(y.memoizedState=[d,m],d)}function iR(d,m){var y=Ao();m=m===void 0?null:m;var A=y.memoizedState;return A!==null&&m!==null&&M2(m,A[1])?A[0]:(d=d(),y.memoizedState=[d,m],d)}function oR(d,m,y){return(du&21)===0?(d.baseState&&(d.baseState=!1,Ei=!0),d.memoizedState=y):(Qo(y,m)||(y=Tp(),Dr.lanes|=y,hu|=y,d.baseState=!0),m)}function nte(d,m){var y=Ft;Ft=y!==0&&4>y?y:4,d(!0);var A=D2.transition;D2.transition={};try{d(!1),m()}finally{Ft=y,D2.transition=A}}function aR(){return Ao().memoizedState}function ite(d,m,y){var A=zl(d);if(y={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null},sR(d))lR(m,y);else if(y=Lj(d,m,y,A),y!==null){var O=pi();ra(y,d,A,O),cR(y,m,A)}}function ote(d,m,y){var A=zl(d),O={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null};if(sR(d))lR(m,O);else{var R=d.alternate;if(d.lanes===0&&(R===null||R.lanes===0)&&(R=m.lastRenderedReducer,R!==null))try{var z=m.lastRenderedState,J=R(z,y);if(O.hasEagerState=!0,O.eagerState=J,Qo(J,z)){var ne=m.interleaved;ne===null?(O.next=O,N2(m)):(O.next=ne.next,ne.next=O),m.interleaved=O;return}}catch{}finally{}y=Lj(d,m,O,A),y!==null&&(O=pi(),ra(y,d,A,O),cR(y,m,A))}}function sR(d){var m=d.alternate;return d===Dr||m!==null&&m===Dr}function lR(d,m){Zp=z0=!0;var y=d.pending;y===null?m.next=m:(m.next=y.next,y.next=m),d.pending=m}function cR(d,m,y){if((y&4194240)!==0){var A=m.lanes;A&=d.pendingLanes,y|=A,m.lanes=y,Np(d,y)}}var q0={readContext:_o,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},ate={readContext:_o,useCallback:function(d,m){return Va().memoizedState=[d,m===void 0?null:m],d},useContext:_o,useEffect:Zj,useImperativeHandle:function(d,m,y){return y=y!=null?y.concat([d]):null,W0(4194308,4,tR.bind(null,m,d),y)},useLayoutEffect:function(d,m){return W0(4194308,4,d,m)},useInsertionEffect:function(d,m){return W0(4,2,d,m)},useMemo:function(d,m){var y=Va();return m=m===void 0?null:m,d=d(),y.memoizedState=[d,m],d},useReducer:function(d,m,y){var A=Va();return m=y!==void 0?y(m):m,A.memoizedState=A.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},A.queue=d,d=d.dispatch=ite.bind(null,Dr,d),[A.memoizedState,d]},useRef:function(d){var m=Va();return d={current:d},m.memoizedState=d},useState:Xj,useDebugValue:U2,useDeferredValue:function(d){return Va().memoizedState=d},useTransition:function(){var d=Xj(!1),m=d[0];return d=nte.bind(null,d[1]),Va().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,y){var A=Dr,O=Va();if(Pr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=m(),Tn===null)throw Error(r(349));(du&30)!==0||Hj(A,m,y)}O.memoizedState=y;var R={value:y,getSnapshot:m};return O.queue=R,Zj(Gj.bind(null,A,R,d),[d]),A.flags|=2048,tm(9,qj.bind(null,A,R,y,m),void 0,null),y},useId:function(){var d=Va(),m=Tn.identifierPrefix;if(Pr){var y=Ds,A=Rs;y=(A&~(1<<32-qi(A)-1)).toString(32)+y,m=":"+m+"R"+y,y=Jp++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=rte++,m=":"+m+"r"+y.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},ste={readContext:_o,useCallback:nR,useContext:_o,useEffect:$2,useImperativeHandle:rR,useInsertionEffect:Jj,useLayoutEffect:eR,useMemo:iR,useReducer:B2,useRef:Qj,useState:function(){return B2(em)},useDebugValue:U2,useDeferredValue:function(d){var m=Ao();return oR(m,ln.memoizedState,d)},useTransition:function(){var d=B2(em)[0],m=Ao().memoizedState;return[d,m]},useMutableSource:zj,useSyncExternalStore:Wj,useId:aR,unstable_isNewReconciler:!1},lte={readContext:_o,useCallback:nR,useContext:_o,useEffect:$2,useImperativeHandle:rR,useInsertionEffect:Jj,useLayoutEffect:eR,useMemo:iR,useReducer:V2,useRef:Qj,useState:function(){return V2(em)},useDebugValue:U2,useDeferredValue:function(d){var m=Ao();return ln===null?m.memoizedState=d:oR(m,ln.memoizedState,d)},useTransition:function(){var d=V2(em)[0],m=Ao().memoizedState;return[d,m]},useMutableSource:zj,useSyncExternalStore:Wj,useId:aR,unstable_isNewReconciler:!1};function Jo(d,m){if(d&&d.defaultProps){m=U({},m),d=d.defaultProps;for(var y in d)m[y]===void 0&&(m[y]=d[y]);return m}return m}function z2(d,m,y,A){m=d.memoizedState,y=y(A,m),y=y==null?m:U({},m,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var G0={isMounted:function(d){return(d=d._reactInternals)?Yo(d)===d:!1},enqueueSetState:function(d,m,y){d=d._reactInternals;var A=pi(),O=zl(d),R=Fs(A,O);R.payload=m,y!=null&&(R.callback=y),m=Bl(d,R,O),m!==null&&(ra(m,d,O,A),B0(m,d,O))},enqueueReplaceState:function(d,m,y){d=d._reactInternals;var A=pi(),O=zl(d),R=Fs(A,O);R.tag=1,R.payload=m,y!=null&&(R.callback=y),m=Bl(d,R,O),m!==null&&(ra(m,d,O,A),B0(m,d,O))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var y=pi(),A=zl(d),O=Fs(y,A);O.tag=2,m!=null&&(O.callback=m),m=Bl(d,O,A),m!==null&&(ra(m,d,A,y),B0(m,d,A))}};function uR(d,m,y,A,O,R,z){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,R,z):m.prototype&&m.prototype.isPureReactComponent?!$p(y,A)||!$p(O,R):!0}function fR(d,m,y){var A=!1,O=Ml,R=m.contextType;return typeof R=="object"&&R!==null?R=_o(R):(O=Ci(m)?su:Qn.current,A=m.contextTypes,R=(A=A!=null)?Yf(d,O):Ml),m=new m(y,R),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=G0,d.stateNode=m,m._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=O,d.__reactInternalMemoizedMaskedChildContext=R),m}function dR(d,m,y,A){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,A),m.state!==d&&G0.enqueueReplaceState(m,m.state,null)}function W2(d,m,y,A){var O=d.stateNode;O.props=y,O.state=d.memoizedState,O.refs={},P2(d);var R=m.contextType;typeof R=="object"&&R!==null?O.context=_o(R):(R=Ci(m)?su:Qn.current,O.context=Yf(d,R)),O.state=d.memoizedState,R=m.getDerivedStateFromProps,typeof R=="function"&&(z2(d,m,R,y),O.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(m=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),m!==O.state&&G0.enqueueReplaceState(O,O.state,null),V0(d,y,O,A),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308)}function nd(d,m){try{var y="",A=m;do y+=se(A),A=A.return;while(A);var O=y}catch(R){O=`
Error generating stack: `+R.message+`
`+R.stack}return{value:d,source:m,stack:O,digest:null}}function H2(d,m,y){return{value:d,source:null,stack:y??null,digest:m??null}}function q2(d,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var cte=typeof WeakMap=="function"?WeakMap:Map;function hR(d,m,y){y=Fs(-1,y),y.tag=3,y.payload={element:null};var A=m.value;return y.callback=function(){ev||(ev=!0,s_=A),q2(d,m)},y}function pR(d,m,y){y=Fs(-1,y),y.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var O=m.value;y.payload=function(){return A(O)},y.callback=function(){q2(d,m)}}var R=d.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){q2(d,m),typeof A!="function"&&($l===null?$l=new Set([this]):$l.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})}),y}function mR(d,m,y){var A=d.pingCache;if(A===null){A=d.pingCache=new cte;var O=new Set;A.set(m,O)}else O=A.get(m),O===void 0&&(O=new Set,A.set(m,O));O.has(y)||(O.add(y),d=Ate.bind(null,d,m,y),m.then(d,d))}function gR(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function yR(d,m,y,A,O){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=Fs(-1,1),m.tag=2,Bl(y,m,1))),y.lanes|=1),d):(d.flags|=65536,d.lanes=O,d)}var ute=P.ReactCurrentOwner,Ei=!1;function hi(d,m,y,A){m.child=d===null?Fj(m,null,y,A):Jf(m,d.child,y,A)}function vR(d,m,y,A,O){y=y.render;var R=m.ref;return td(m,O),A=F2(d,m,y,A,R,O),y=L2(),d!==null&&!Ei?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~O,Ls(d,m,O)):(Pr&&y&&b2(m),m.flags|=1,hi(d,m,A,O),m.child)}function xR(d,m,y,A,O){if(d===null){var R=y.type;return typeof R=="function"&&!p_(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=R,bR(d,m,R,A,O)):(d=av(y.type,null,A,m,m.mode,O),d.ref=m.ref,d.return=m,m.child=d)}if(R=d.child,(d.lanes&O)===0){var z=R.memoizedProps;if(y=y.compare,y=y!==null?y:$p,y(z,A)&&d.ref===m.ref)return Ls(d,m,O)}return m.flags|=1,d=Hl(R,A),d.ref=m.ref,d.return=m,m.child=d}function bR(d,m,y,A,O){if(d!==null){var R=d.memoizedProps;if($p(R,A)&&d.ref===m.ref)if(Ei=!1,m.pendingProps=A=R,(d.lanes&O)!==0)(d.flags&131072)!==0&&(Ei=!0);else return m.lanes=d.lanes,Ls(d,m,O)}return G2(d,m,y,A,O)}function wR(d,m,y){var A=m.pendingProps,O=A.children,R=d!==null?d.memoizedState:null;if(A.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(od,Ji),Ji|=y;else{if((y&1073741824)===0)return d=R!==null?R.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,hr(od,Ji),Ji|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=R!==null?R.baseLanes:y,hr(od,Ji),Ji|=A}else R!==null?(A=R.baseLanes|y,m.memoizedState=null):A=y,hr(od,Ji),Ji|=A;return hi(d,m,O,y),m.child}function _R(d,m){var y=m.ref;(d===null&&y!==null||d!==null&&d.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function G2(d,m,y,A,O){var R=Ci(y)?su:Qn.current;return R=Yf(m,R),td(m,O),y=F2(d,m,y,A,R,O),A=L2(),d!==null&&!Ei?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~O,Ls(d,m,O)):(Pr&&A&&b2(m),m.flags|=1,hi(d,m,y,O),m.child)}function AR(d,m,y,A,O){if(Ci(y)){var R=!0;k0(m)}else R=!1;if(td(m,O),m.stateNode===null)Y0(d,m),fR(m,y,A),W2(m,y,A,O),A=!0;else if(d===null){var z=m.stateNode,J=m.memoizedProps;z.props=J;var ne=z.context,me=y.contextType;typeof me=="object"&&me!==null?me=_o(me):(me=Ci(y)?su:Qn.current,me=Yf(m,me));var Te=y.getDerivedStateFromProps,Ie=typeof Te=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ie||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==A||ne!==me)&&dR(m,z,A,me),Ll=!1;var Se=m.memoizedState;z.state=Se,V0(m,A,z,O),ne=m.memoizedState,J!==A||Se!==ne||Ai.current||Ll?(typeof Te=="function"&&(z2(m,y,Te,A),ne=m.memoizedState),(J=Ll||uR(m,y,J,A,Se,ne,me))?(Ie||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(m.flags|=4194308)):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=ne),z.props=A,z.state=ne,z.context=me,A=J):(typeof z.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{z=m.stateNode,Bj(d,m),J=m.memoizedProps,me=m.type===m.elementType?J:Jo(m.type,J),z.props=me,Ie=m.pendingProps,Se=z.context,ne=y.contextType,typeof ne=="object"&&ne!==null?ne=_o(ne):(ne=Ci(y)?su:Qn.current,ne=Yf(m,ne));var Ve=y.getDerivedStateFromProps;(Te=typeof Ve=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==Ie||Se!==ne)&&dR(m,z,A,ne),Ll=!1,Se=m.memoizedState,z.state=Se,V0(m,A,z,O);var Ge=m.memoizedState;J!==Ie||Se!==Ge||Ai.current||Ll?(typeof Ve=="function"&&(z2(m,y,Ve,A),Ge=m.memoizedState),(me=Ll||uR(m,y,me,A,Se,Ge,ne)||!1)?(Te||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(A,Ge,ne),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(A,Ge,ne)),typeof z.componentDidUpdate=="function"&&(m.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof z.componentDidUpdate!="function"||J===d.memoizedProps&&Se===d.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&Se===d.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=Ge),z.props=A,z.state=Ge,z.context=ne,A=me):(typeof z.componentDidUpdate!="function"||J===d.memoizedProps&&Se===d.memoizedState||(m.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&Se===d.memoizedState||(m.flags|=1024),A=!1)}return K2(d,m,y,A,R,O)}function K2(d,m,y,A,O,R){_R(d,m);var z=(m.flags&128)!==0;if(!A&&!z)return O&&Ij(m,y,!1),Ls(d,m,R);A=m.stateNode,ute.current=m;var J=z&&typeof y.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,d!==null&&z?(m.child=Jf(m,d.child,null,R),m.child=Jf(m,null,J,R)):hi(d,m,J,R),m.memoizedState=A.state,O&&Ij(m,y,!0),m.child}function CR(d){var m=d.stateNode;m.pendingContext?Sj(d,m.pendingContext,m.pendingContext!==m.context):m.context&&Sj(d,m.context,!1),k2(d,m.containerInfo)}function ER(d,m,y,A,O){return Zf(),C2(O),m.flags|=256,hi(d,m,y,A),m.child}var Y2={dehydrated:null,treeContext:null,retryLane:0};function X2(d){return{baseLanes:d,cachePool:null,transitions:null}}function SR(d,m,y){var A=m.pendingProps,O=Rr.current,R=!1,z=(m.flags&128)!==0,J;if((J=z)||(J=d!==null&&d.memoizedState===null?!1:(O&2)!==0),J?(R=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(O|=1),hr(Rr,O&1),d===null)return A2(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(z=A.children,d=A.fallback,R?(A=m.mode,R=m.child,z={mode:"hidden",children:z},(A&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=z):R=sv(z,A,0,null),d=yu(d,A,y,null),R.return=m,d.return=m,R.sibling=d,m.child=R,m.child.memoizedState=X2(y),m.memoizedState=Y2,d):Q2(m,z));if(O=d.memoizedState,O!==null&&(J=O.dehydrated,J!==null))return fte(d,m,z,A,J,O,y);if(R){R=A.fallback,z=m.mode,O=d.child,J=O.sibling;var ne={mode:"hidden",children:A.children};return(z&1)===0&&m.child!==O?(A=m.child,A.childLanes=0,A.pendingProps=ne,m.deletions=null):(A=Hl(O,ne),A.subtreeFlags=O.subtreeFlags&14680064),J!==null?R=Hl(J,R):(R=yu(R,z,y,null),R.flags|=2),R.return=m,A.return=m,A.sibling=R,m.child=A,A=R,R=m.child,z=d.child.memoizedState,z=z===null?X2(y):{baseLanes:z.baseLanes|y,cachePool:null,transitions:z.transitions},R.memoizedState=z,R.childLanes=d.childLanes&~y,m.memoizedState=Y2,A}return R=d.child,d=R.sibling,A=Hl(R,{mode:"visible",children:A.children}),(m.mode&1)===0&&(A.lanes=y),A.return=m,A.sibling=null,d!==null&&(y=m.deletions,y===null?(m.deletions=[d],m.flags|=16):y.push(d)),m.child=A,m.memoizedState=null,A}function Q2(d,m){return m=sv({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function K0(d,m,y,A){return A!==null&&C2(A),Jf(m,d.child,null,y),d=Q2(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function fte(d,m,y,A,O,R,z){if(y)return m.flags&256?(m.flags&=-257,A=H2(Error(r(422))),K0(d,m,z,A)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(R=A.fallback,O=m.mode,A=sv({mode:"visible",children:A.children},O,0,null),R=yu(R,O,z,null),R.flags|=2,A.return=m,R.return=m,A.sibling=R,m.child=A,(m.mode&1)!==0&&Jf(m,d.child,null,z),m.child.memoizedState=X2(z),m.memoizedState=Y2,R);if((m.mode&1)===0)return K0(d,m,z,null);if(O.data==="$!"){if(A=O.nextSibling&&O.nextSibling.dataset,A)var J=A.dgst;return A=J,R=Error(r(419)),A=H2(R,A,void 0),K0(d,m,z,A)}if(J=(z&d.childLanes)!==0,Ei||J){if(A=Tn,A!==null){switch(z&-z){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(A.suspendedLanes|z))!==0?0:O,O!==0&&O!==R.retryLane&&(R.retryLane=O,Ms(d,O),ra(A,d,O,-1))}return h_(),A=H2(Error(r(421))),K0(d,m,z,A)}return O.data==="$?"?(m.flags|=128,m.child=d.child,m=Cte.bind(null,d),O._reactRetry=m,null):(d=R.treeContext,Zi=Rl(O.nextSibling),Qi=m,Pr=!0,Zo=null,d!==null&&(bo[wo++]=Rs,bo[wo++]=Ds,bo[wo++]=lu,Rs=d.id,Ds=d.overflow,lu=m),m=Q2(m,A.children),m.flags|=4096,m)}function TR(d,m,y){d.lanes|=m;var A=d.alternate;A!==null&&(A.lanes|=m),I2(d.return,m,y)}function Z2(d,m,y,A,O){var R=d.memoizedState;R===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:O}:(R.isBackwards=m,R.rendering=null,R.renderingStartTime=0,R.last=A,R.tail=y,R.tailMode=O)}function IR(d,m,y){var A=m.pendingProps,O=A.revealOrder,R=A.tail;if(hi(d,m,A.children,y),A=Rr.current,(A&2)!==0)A=A&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&TR(d,y,m);else if(d.tag===19)TR(d,y,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(hr(Rr,A),(m.mode&1)===0)m.memoizedState=null;else switch(O){case"forwards":for(y=m.child,O=null;y!==null;)d=y.alternate,d!==null&&$0(d)===null&&(O=y),y=y.sibling;y=O,y===null?(O=m.child,m.child=null):(O=y.sibling,y.sibling=null),Z2(m,!1,O,y,R);break;case"backwards":for(y=null,O=m.child,m.child=null;O!==null;){if(d=O.alternate,d!==null&&$0(d)===null){m.child=O;break}d=O.sibling,O.sibling=y,y=O,O=d}Z2(m,!0,y,null,R);break;case"together":Z2(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Y0(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function Ls(d,m,y){if(d!==null&&(m.dependencies=d.dependencies),hu|=m.lanes,(y&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,y=Hl(d,d.pendingProps),m.child=y,y.return=m;d.sibling!==null;)d=d.sibling,y=y.sibling=Hl(d,d.pendingProps),y.return=m;y.sibling=null}return m.child}function dte(d,m,y){switch(m.tag){case 3:CR(m),Zf();break;case 5:Uj(m);break;case 1:Ci(m.type)&&k0(m);break;case 4:k2(m,m.stateNode.containerInfo);break;case 10:var A=m.type._context,O=m.memoizedProps.value;hr(F0,A._currentValue),A._currentValue=O;break;case 13:if(A=m.memoizedState,A!==null)return A.dehydrated!==null?(hr(Rr,Rr.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?SR(d,m,y):(hr(Rr,Rr.current&1),d=Ls(d,m,y),d!==null?d.sibling:null);hr(Rr,Rr.current&1);break;case 19:if(A=(y&m.childLanes)!==0,(d.flags&128)!==0){if(A)return IR(d,m,y);m.flags|=128}if(O=m.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),hr(Rr,Rr.current),A)break;return null;case 22:case 23:return m.lanes=0,wR(d,m,y)}return Ls(d,m,y)}var NR,J2,PR,kR;NR=function(d,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},J2=function(){},PR=function(d,m,y,A){var O=d.memoizedProps;if(O!==A){d=m.stateNode,fu(Ba.current);var R=null;switch(y){case"input":O=$e(d,O),A=$e(d,A),R=[];break;case"select":O=U({},O,{value:void 0}),A=U({},A,{value:void 0}),R=[];break;case"textarea":O=Et(d,O),A=Et(d,A),R=[];break;default:typeof O.onClick!="function"&&typeof A.onClick=="function"&&(d.onclick=I0)}Ar(y,A);var z;y=null;for(me in O)if(!A.hasOwnProperty(me)&&O.hasOwnProperty(me)&&O[me]!=null)if(me==="style"){var J=O[me];for(z in J)J.hasOwnProperty(z)&&(y||(y={}),y[z]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?R||(R=[]):(R=R||[]).push(me,null));for(me in A){var ne=A[me];if(J=O?.[me],A.hasOwnProperty(me)&&ne!==J&&(ne!=null||J!=null))if(me==="style")if(J){for(z in J)!J.hasOwnProperty(z)||ne&&ne.hasOwnProperty(z)||(y||(y={}),y[z]="");for(z in ne)ne.hasOwnProperty(z)&&J[z]!==ne[z]&&(y||(y={}),y[z]=ne[z])}else y||(R||(R=[]),R.push(me,y)),y=ne;else me==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(R=R||[]).push(me,ne)):me==="children"?typeof ne!="string"&&typeof ne!="number"||(R=R||[]).push(me,""+ne):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(ne!=null&&me==="onScroll"&&Er("scroll",d),R||J===ne||(R=[])):(R=R||[]).push(me,ne))}y&&(R=R||[]).push("style",y);var me=R;(m.updateQueue=me)&&(m.flags|=4)}},kR=function(d,m,y,A){y!==A&&(m.flags|=4)};function rm(d,m){if(!Pr)switch(d.tailMode){case"hidden":m=d.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Jn(d){var m=d.alternate!==null&&d.alternate.child===d.child,y=0,A=0;if(m)for(var O=d.child;O!==null;)y|=O.lanes|O.childLanes,A|=O.subtreeFlags&14680064,A|=O.flags&14680064,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)y|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=A,d.childLanes=y,m}function hte(d,m,y){var A=m.pendingProps;switch(w2(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(m),null;case 1:return Ci(m.type)&&P0(),Jn(m),null;case 3:return A=m.stateNode,rd(),Sr(Ai),Sr(Qn),R2(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(D0(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Zo!==null&&(u_(Zo),Zo=null))),J2(d,m),Jn(m),null;case 5:O2(m);var O=fu(Qp.current);if(y=m.type,d!==null&&m.stateNode!=null)PR(d,m,y,A,O),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(r(166));return Jn(m),null}if(d=fu(Ba.current),D0(m)){A=m.stateNode,y=m.type;var R=m.memoizedProps;switch(A[La]=m,A[qp]=R,d=(m.mode&1)!==0,y){case"dialog":Er("cancel",A),Er("close",A);break;case"iframe":case"object":case"embed":Er("load",A);break;case"video":case"audio":for(O=0;O<zp.length;O++)Er(zp[O],A);break;case"source":Er("error",A);break;case"img":case"image":case"link":Er("error",A),Er("load",A);break;case"details":Er("toggle",A);break;case"input":nt(A,R),Er("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!R.multiple},Er("invalid",A);break;case"textarea":dr(A,R),Er("invalid",A)}Ar(y,R),O=null;for(var z in R)if(R.hasOwnProperty(z)){var J=R[z];z==="children"?typeof J=="string"?A.textContent!==J&&(R.suppressHydrationWarning!==!0&&T0(A.textContent,J,d),O=["children",J]):typeof J=="number"&&A.textContent!==""+J&&(R.suppressHydrationWarning!==!0&&T0(A.textContent,J,d),O=["children",""+J]):i.hasOwnProperty(z)&&J!=null&&z==="onScroll"&&Er("scroll",A)}switch(y){case"input":Pe(A),Be(A,R,!0);break;case"textarea":Pe(A),qr(A);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(A.onclick=I0)}A=O,m.updateQueue=A,A!==null&&(m.flags|=4)}else{z=O.nodeType===9?O:O.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=ye(y)),d==="http://www.w3.org/1999/xhtml"?y==="script"?(d=z.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof A.is=="string"?d=z.createElement(y,{is:A.is}):(d=z.createElement(y),y==="select"&&(z=d,A.multiple?z.multiple=!0:A.size&&(z.size=A.size))):d=z.createElementNS(d,y),d[La]=m,d[qp]=A,NR(d,m,!1,!1),m.stateNode=d;e:{switch(z=Wi(y,A),y){case"dialog":Er("cancel",d),Er("close",d),O=A;break;case"iframe":case"object":case"embed":Er("load",d),O=A;break;case"video":case"audio":for(O=0;O<zp.length;O++)Er(zp[O],d);O=A;break;case"source":Er("error",d),O=A;break;case"img":case"image":case"link":Er("error",d),Er("load",d),O=A;break;case"details":Er("toggle",d),O=A;break;case"input":nt(d,A),O=$e(d,A),Er("invalid",d);break;case"option":O=A;break;case"select":d._wrapperState={wasMultiple:!!A.multiple},O=U({},A,{value:void 0}),Er("invalid",d);break;case"textarea":dr(d,A),O=Et(d,A),Er("invalid",d);break;default:O=A}Ar(y,O),J=O;for(R in J)if(J.hasOwnProperty(R)){var ne=J[R];R==="style"?yo(d,ne):R==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&We(d,ne)):R==="children"?typeof ne=="string"?(y!=="textarea"||ne!=="")&&ut(d,ne):typeof ne=="number"&&ut(d,""+ne):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?ne!=null&&R==="onScroll"&&Er("scroll",d):ne!=null&&E(d,R,ne,z))}switch(y){case"input":Pe(d),Be(d,A,!1);break;case"textarea":Pe(d),qr(d);break;case"option":A.value!=null&&d.setAttribute("value",""+ve(A.value));break;case"select":d.multiple=!!A.multiple,R=A.value,R!=null?tt(d,!!A.multiple,R,!1):A.defaultValue!=null&&tt(d,!!A.multiple,A.defaultValue,!0);break;default:typeof O.onClick=="function"&&(d.onclick=I0)}switch(y){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Jn(m),null;case 6:if(d&&m.stateNode!=null)kR(d,m,d.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(r(166));if(y=fu(Qp.current),fu(Ba.current),D0(m)){if(A=m.stateNode,y=m.memoizedProps,A[La]=m,(R=A.nodeValue!==y)&&(d=Qi,d!==null))switch(d.tag){case 3:T0(A.nodeValue,y,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&T0(A.nodeValue,y,(d.mode&1)!==0)}R&&(m.flags|=4)}else A=(y.nodeType===9?y:y.ownerDocument).createTextNode(A),A[La]=m,m.stateNode=A}return Jn(m),null;case 13:if(Sr(Rr),A=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Pr&&Zi!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Rj(),Zf(),m.flags|=98560,R=!1;else if(R=D0(m),A!==null&&A.dehydrated!==null){if(d===null){if(!R)throw Error(r(318));if(R=m.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[La]=m}else Zf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Jn(m),R=!1}else Zo!==null&&(u_(Zo),Zo=null),R=!0;if(!R)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(A=A!==null,A!==(d!==null&&d.memoizedState!==null)&&A&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Rr.current&1)!==0?cn===0&&(cn=3):h_())),m.updateQueue!==null&&(m.flags|=4),Jn(m),null);case 4:return rd(),J2(d,m),d===null&&Wp(m.stateNode.containerInfo),Jn(m),null;case 10:return T2(m.type._context),Jn(m),null;case 17:return Ci(m.type)&&P0(),Jn(m),null;case 19:if(Sr(Rr),R=m.memoizedState,R===null)return Jn(m),null;if(A=(m.flags&128)!==0,z=R.rendering,z===null)if(A)rm(R,!1);else{if(cn!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(z=$0(d),z!==null){for(m.flags|=128,rm(R,!1),A=z.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),m.subtreeFlags=0,A=y,y=m.child;y!==null;)R=y,d=A,R.flags&=14680066,z=R.alternate,z===null?(R.childLanes=0,R.lanes=d,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=z.childLanes,R.lanes=z.lanes,R.child=z.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=z.memoizedProps,R.memoizedState=z.memoizedState,R.updateQueue=z.updateQueue,R.type=z.type,d=z.dependencies,R.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),y=y.sibling;return hr(Rr,Rr.current&1|2),m.child}d=d.sibling}R.tail!==null&&Cr()>ad&&(m.flags|=128,A=!0,rm(R,!1),m.lanes=4194304)}else{if(!A)if(d=$0(z),d!==null){if(m.flags|=128,A=!0,y=d.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),rm(R,!0),R.tail===null&&R.tailMode==="hidden"&&!z.alternate&&!Pr)return Jn(m),null}else 2*Cr()-R.renderingStartTime>ad&&y!==1073741824&&(m.flags|=128,A=!0,rm(R,!1),m.lanes=4194304);R.isBackwards?(z.sibling=m.child,m.child=z):(y=R.last,y!==null?y.sibling=z:m.child=z,R.last=z)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=Cr(),m.sibling=null,y=Rr.current,hr(Rr,A?y&1|2:y&1),m):(Jn(m),null);case 22:case 23:return d_(),A=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(m.flags|=8192),A&&(m.mode&1)!==0?(Ji&1073741824)!==0&&(Jn(m),m.subtreeFlags&6&&(m.flags|=8192)):Jn(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function pte(d,m){switch(w2(m),m.tag){case 1:return Ci(m.type)&&P0(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return rd(),Sr(Ai),Sr(Qn),R2(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return O2(m),null;case 13:if(Sr(Rr),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Zf()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Sr(Rr),null;case 4:return rd(),null;case 10:return T2(m.type._context),null;case 22:case 23:return d_(),null;case 24:return null;default:return null}}var X0=!1,ei=!1,mte=typeof WeakSet=="function"?WeakSet:Set,He=null;function id(d,m){var y=d.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(A){Ur(d,m,A)}else y.current=null}function e_(d,m,y){try{y()}catch(A){Ur(d,m,A)}}var OR=!1;function gte(d,m){if(d2=Ns,d=uj(),i2(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else e:{y=(y=d.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var O=A.anchorOffset,R=A.focusNode;A=A.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break e}var z=0,J=-1,ne=-1,me=0,Te=0,Ie=d,Se=null;t:for(;;){for(var Ve;Ie!==y||O!==0&&Ie.nodeType!==3||(J=z+O),Ie!==R||A!==0&&Ie.nodeType!==3||(ne=z+A),Ie.nodeType===3&&(z+=Ie.nodeValue.length),(Ve=Ie.firstChild)!==null;)Se=Ie,Ie=Ve;for(;;){if(Ie===d)break t;if(Se===y&&++me===O&&(J=z),Se===R&&++Te===A&&(ne=z),(Ve=Ie.nextSibling)!==null)break;Ie=Se,Se=Ie.parentNode}Ie=Ve}y=J===-1||ne===-1?null:{start:J,end:ne}}else y=null}y=y||{start:0,end:0}}else y=null;for(h2={focusedElem:d,selectionRange:y},Ns=!1,He=m;He!==null;)if(m=He,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,He=d;else for(;He!==null;){m=He;try{var Ge=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Xe=Ge.memoizedProps,Kr=Ge.memoizedState,ce=m.stateNode,ie=ce.getSnapshotBeforeUpdate(m.elementType===m.type?Xe:Jo(m.type,Xe),Kr);ce.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var de=m.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){Ur(m,m.return,Oe)}if(d=m.sibling,d!==null){d.return=m.return,He=d;break}He=m.return}return Ge=OR,OR=!1,Ge}function nm(d,m,y){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var O=A=A.next;do{if((O.tag&d)===d){var R=O.destroy;O.destroy=void 0,R!==void 0&&e_(m,y,R)}O=O.next}while(O!==A)}}function Q0(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&d)===d){var A=y.create;y.destroy=A()}y=y.next}while(y!==m)}}function t_(d){var m=d.ref;if(m!==null){var y=d.stateNode;switch(d.tag){case 5:d=y;break;default:d=y}typeof m=="function"?m(d):m.current=d}}function jR(d){var m=d.alternate;m!==null&&(d.alternate=null,jR(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[La],delete m[qp],delete m[y2],delete m[Zee],delete m[Jee])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function RR(d){return d.tag===5||d.tag===3||d.tag===4}function DR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||RR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function r_(d,m,y){var A=d.tag;if(A===5||A===6)d=d.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(d,m):y.insertBefore(d,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(d,y)):(m=y,m.appendChild(d)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=I0));else if(A!==4&&(d=d.child,d!==null))for(r_(d,m,y),d=d.sibling;d!==null;)r_(d,m,y),d=d.sibling}function n_(d,m,y){var A=d.tag;if(A===5||A===6)d=d.stateNode,m?y.insertBefore(d,m):y.appendChild(d);else if(A!==4&&(d=d.child,d!==null))for(n_(d,m,y),d=d.sibling;d!==null;)n_(d,m,y),d=d.sibling}var Bn=null,ea=!1;function Vl(d,m,y){for(y=y.child;y!==null;)MR(d,m,y),y=y.sibling}function MR(d,m,y){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Qc,y)}catch{}switch(y.tag){case 5:ei||id(y,m);case 6:var A=Bn,O=ea;Bn=null,Vl(d,m,y),Bn=A,ea=O,Bn!==null&&(ea?(d=Bn,y=y.stateNode,d.nodeType===8?d.parentNode.removeChild(y):d.removeChild(y)):Bn.removeChild(y.stateNode));break;case 18:Bn!==null&&(ea?(d=Bn,y=y.stateNode,d.nodeType===8?g2(d.parentNode,y):d.nodeType===1&&g2(d,y),Pl(d)):g2(Bn,y.stateNode));break;case 4:A=Bn,O=ea,Bn=y.stateNode.containerInfo,ea=!0,Vl(d,m,y),Bn=A,ea=O;break;case 0:case 11:case 14:case 15:if(!ei&&(A=y.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){O=A=A.next;do{var R=O,z=R.destroy;R=R.tag,z!==void 0&&((R&2)!==0||(R&4)!==0)&&e_(y,m,z),O=O.next}while(O!==A)}Vl(d,m,y);break;case 1:if(!ei&&(id(y,m),A=y.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=y.memoizedProps,A.state=y.memoizedState,A.componentWillUnmount()}catch(J){Ur(y,m,J)}Vl(d,m,y);break;case 21:Vl(d,m,y);break;case 22:y.mode&1?(ei=(A=ei)||y.memoizedState!==null,Vl(d,m,y),ei=A):Vl(d,m,y);break;default:Vl(d,m,y)}}function FR(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var y=d.stateNode;y===null&&(y=d.stateNode=new mte),m.forEach(function(A){var O=Ete.bind(null,d,A);y.has(A)||(y.add(A),A.then(O,O))})}}function ta(d,m){var y=m.deletions;if(y!==null)for(var A=0;A<y.length;A++){var O=y[A];try{var R=d,z=m,J=z;e:for(;J!==null;){switch(J.tag){case 5:Bn=J.stateNode,ea=!1;break e;case 3:Bn=J.stateNode.containerInfo,ea=!0;break e;case 4:Bn=J.stateNode.containerInfo,ea=!0;break e}J=J.return}if(Bn===null)throw Error(r(160));MR(R,z,O),Bn=null,ea=!1;var ne=O.alternate;ne!==null&&(ne.return=null),O.return=null}catch(me){Ur(O,m,me)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)LR(m,d),m=m.sibling}function LR(d,m){var y=d.alternate,A=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ta(m,d),$a(d),A&4){try{nm(3,d,d.return),Q0(3,d)}catch(Xe){Ur(d,d.return,Xe)}try{nm(5,d,d.return)}catch(Xe){Ur(d,d.return,Xe)}}break;case 1:ta(m,d),$a(d),A&512&&y!==null&&id(y,y.return);break;case 5:if(ta(m,d),$a(d),A&512&&y!==null&&id(y,y.return),d.flags&32){var O=d.stateNode;try{ut(O,"")}catch(Xe){Ur(d,d.return,Xe)}}if(A&4&&(O=d.stateNode,O!=null)){var R=d.memoizedProps,z=y!==null?y.memoizedProps:R,J=d.type,ne=d.updateQueue;if(d.updateQueue=null,ne!==null)try{J==="input"&&R.type==="radio"&&R.name!=null&&Ce(O,R),Wi(J,z);var me=Wi(J,R);for(z=0;z<ne.length;z+=2){var Te=ne[z],Ie=ne[z+1];Te==="style"?yo(O,Ie):Te==="dangerouslySetInnerHTML"?We(O,Ie):Te==="children"?ut(O,Ie):E(O,Te,Ie,me)}switch(J){case"input":Re(O,R);break;case"textarea":jr(O,R);break;case"select":var Se=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!R.multiple;var Ve=R.value;Ve!=null?tt(O,!!R.multiple,Ve,!1):Se!==!!R.multiple&&(R.defaultValue!=null?tt(O,!!R.multiple,R.defaultValue,!0):tt(O,!!R.multiple,R.multiple?[]:"",!1))}O[qp]=R}catch(Xe){Ur(d,d.return,Xe)}}break;case 6:if(ta(m,d),$a(d),A&4){if(d.stateNode===null)throw Error(r(162));O=d.stateNode,R=d.memoizedProps;try{O.nodeValue=R}catch(Xe){Ur(d,d.return,Xe)}}break;case 3:if(ta(m,d),$a(d),A&4&&y!==null&&y.memoizedState.isDehydrated)try{Pl(m.containerInfo)}catch(Xe){Ur(d,d.return,Xe)}break;case 4:ta(m,d),$a(d);break;case 13:ta(m,d),$a(d),O=d.child,O.flags&8192&&(R=O.memoizedState!==null,O.stateNode.isHidden=R,!R||O.alternate!==null&&O.alternate.memoizedState!==null||(a_=Cr())),A&4&&FR(d);break;case 22:if(Te=y!==null&&y.memoizedState!==null,d.mode&1?(ei=(me=ei)||Te,ta(m,d),ei=me):ta(m,d),$a(d),A&8192){if(me=d.memoizedState!==null,(d.stateNode.isHidden=me)&&!Te&&(d.mode&1)!==0)for(He=d,Te=d.child;Te!==null;){for(Ie=He=Te;He!==null;){switch(Se=He,Ve=Se.child,Se.tag){case 0:case 11:case 14:case 15:nm(4,Se,Se.return);break;case 1:id(Se,Se.return);var Ge=Se.stateNode;if(typeof Ge.componentWillUnmount=="function"){A=Se,y=Se.return;try{m=A,Ge.props=m.memoizedProps,Ge.state=m.memoizedState,Ge.componentWillUnmount()}catch(Xe){Ur(A,y,Xe)}}break;case 5:id(Se,Se.return);break;case 22:if(Se.memoizedState!==null){$R(Ie);continue}}Ve!==null?(Ve.return=Se,He=Ve):$R(Ie)}Te=Te.sibling}e:for(Te=null,Ie=d;;){if(Ie.tag===5){if(Te===null){Te=Ie;try{O=Ie.stateNode,me?(R=O.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(J=Ie.stateNode,ne=Ie.memoizedProps.style,z=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=Cn("display",z))}catch(Xe){Ur(d,d.return,Xe)}}}else if(Ie.tag===6){if(Te===null)try{Ie.stateNode.nodeValue=me?"":Ie.memoizedProps}catch(Xe){Ur(d,d.return,Xe)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===d)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===d)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===d)break e;Te===Ie&&(Te=null),Ie=Ie.return}Te===Ie&&(Te=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:ta(m,d),$a(d),A&4&&FR(d);break;case 21:break;default:ta(m,d),$a(d)}}function $a(d){var m=d.flags;if(m&2){try{e:{for(var y=d.return;y!==null;){if(RR(y)){var A=y;break e}y=y.return}throw Error(r(160))}switch(A.tag){case 5:var O=A.stateNode;A.flags&32&&(ut(O,""),A.flags&=-33);var R=DR(d);n_(d,R,O);break;case 3:case 4:var z=A.stateNode.containerInfo,J=DR(d);r_(d,J,z);break;default:throw Error(r(161))}}catch(ne){Ur(d,d.return,ne)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function yte(d,m,y){He=d,BR(d)}function BR(d,m,y){for(var A=(d.mode&1)!==0;He!==null;){var O=He,R=O.child;if(O.tag===22&&A){var z=O.memoizedState!==null||X0;if(!z){var J=O.alternate,ne=J!==null&&J.memoizedState!==null||ei;J=X0;var me=ei;if(X0=z,(ei=ne)&&!me)for(He=O;He!==null;)z=He,ne=z.child,z.tag===22&&z.memoizedState!==null?UR(O):ne!==null?(ne.return=z,He=ne):UR(O);for(;R!==null;)He=R,BR(R),R=R.sibling;He=O,X0=J,ei=me}VR(d)}else(O.subtreeFlags&8772)!==0&&R!==null?(R.return=O,He=R):VR(d)}}function VR(d){for(;He!==null;){var m=He;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ei||Q0(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!ei)if(y===null)A.componentDidMount();else{var O=m.elementType===m.type?y.memoizedProps:Jo(m.type,y.memoizedProps);A.componentDidUpdate(O,y.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var R=m.updateQueue;R!==null&&$j(m,R,A);break;case 3:var z=m.updateQueue;if(z!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}$j(m,z,y)}break;case 5:var J=m.stateNode;if(y===null&&m.flags&4){y=J;var ne=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&y.focus();break;case"img":ne.src&&(y.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var me=m.alternate;if(me!==null){var Te=me.memoizedState;if(Te!==null){var Ie=Te.dehydrated;Ie!==null&&Pl(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ei||m.flags&512&&t_(m)}catch(Se){Ur(m,m.return,Se)}}if(m===d){He=null;break}if(y=m.sibling,y!==null){y.return=m.return,He=y;break}He=m.return}}function $R(d){for(;He!==null;){var m=He;if(m===d){He=null;break}var y=m.sibling;if(y!==null){y.return=m.return,He=y;break}He=m.return}}function UR(d){for(;He!==null;){var m=He;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{Q0(4,m)}catch(ne){Ur(m,y,ne)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var O=m.return;try{A.componentDidMount()}catch(ne){Ur(m,O,ne)}}var R=m.return;try{t_(m)}catch(ne){Ur(m,R,ne)}break;case 5:var z=m.return;try{t_(m)}catch(ne){Ur(m,z,ne)}}}catch(ne){Ur(m,m.return,ne)}if(m===d){He=null;break}var J=m.sibling;if(J!==null){J.return=m.return,He=J;break}He=m.return}}var vte=Math.ceil,Z0=P.ReactCurrentDispatcher,i_=P.ReactCurrentOwner,Co=P.ReactCurrentBatchConfig,$t=0,Tn=null,Zr=null,Vn=0,Ji=0,od=Dl(0),cn=0,im=null,hu=0,J0=0,o_=0,om=null,Si=null,a_=0,ad=1/0,Bs=null,ev=!1,s_=null,$l=null,tv=!1,Ul=null,rv=0,am=0,l_=null,nv=-1,iv=0;function pi(){return($t&6)!==0?Cr():nv!==-1?nv:nv=Cr()}function zl(d){return(d.mode&1)===0?1:($t&2)!==0&&Vn!==0?Vn&-Vn:tte.transition!==null?(iv===0&&(iv=Tp()),iv):(d=Ft,d!==0||(d=window.event,d=d===void 0?16:Df(d.type)),d)}function ra(d,m,y,A){if(50<am)throw am=0,l_=null,Error(r(185));tu(d,y,A),(($t&2)===0||d!==Tn)&&(d===Tn&&(($t&2)===0&&(J0|=y),cn===4&&Wl(d,Vn)),Ti(d,A),y===1&&$t===0&&(m.mode&1)===0&&(ad=Cr()+500,O0&&Fl()))}function Ti(d,m){var y=d.callbackNode;eu(d,m);var A=Ss(d,d===Tn?Vn:0);if(A===0)y!==null&&If(y),d.callbackNode=null,d.callbackPriority=0;else if(m=A&-A,d.callbackPriority!==m){if(y!=null&&If(y),m===1)d.tag===0?ete(WR.bind(null,d)):Nj(WR.bind(null,d)),Xee(function(){($t&6)===0&&Fl()}),y=null;else{switch(Ia(A)){case 1:y=Nf;break;case 4:y=Cp;break;case 16:y=Xc;break;case 536870912:y=Pf;break;default:y=Xc}y=ZR(y,zR.bind(null,d))}d.callbackPriority=m,d.callbackNode=y}}function zR(d,m){if(nv=-1,iv=0,($t&6)!==0)throw Error(r(327));var y=d.callbackNode;if(sd()&&d.callbackNode!==y)return null;var A=Ss(d,d===Tn?Vn:0);if(A===0)return null;if((A&30)!==0||(A&d.expiredLanes)!==0||m)m=ov(d,A);else{m=A;var O=$t;$t|=2;var R=qR();(Tn!==d||Vn!==m)&&(Bs=null,ad=Cr()+500,mu(d,m));do try{wte();break}catch(J){HR(d,J)}while(!0);S2(),Z0.current=R,$t=O,Zr!==null?m=0:(Tn=null,Vn=0,m=cn)}if(m!==0){if(m===2&&(O=Sp(d),O!==0&&(A=O,m=c_(d,O))),m===1)throw y=im,mu(d,0),Wl(d,A),Ti(d,Cr()),y;if(m===6)Wl(d,A);else{if(O=d.current.alternate,(A&30)===0&&!xte(O)&&(m=ov(d,A),m===2&&(R=Sp(d),R!==0&&(A=R,m=c_(d,R))),m===1))throw y=im,mu(d,0),Wl(d,A),Ti(d,Cr()),y;switch(d.finishedWork=O,d.finishedLanes=A,m){case 0:case 1:throw Error(r(345));case 2:gu(d,Si,Bs);break;case 3:if(Wl(d,A),(A&130023424)===A&&(m=a_+500-Cr(),10<m)){if(Ss(d,0)!==0)break;if(O=d.suspendedLanes,(O&A)!==A){pi(),d.pingedLanes|=d.suspendedLanes&O;break}d.timeoutHandle=m2(gu.bind(null,d,Si,Bs),m);break}gu(d,Si,Bs);break;case 4:if(Wl(d,A),(A&4194240)===A)break;for(m=d.eventTimes,O=-1;0<A;){var z=31-qi(A);R=1<<z,z=m[z],z>O&&(O=z),A&=~R}if(A=O,A=Cr()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*vte(A/1960))-A,10<A){d.timeoutHandle=m2(gu.bind(null,d,Si,Bs),A);break}gu(d,Si,Bs);break;case 5:gu(d,Si,Bs);break;default:throw Error(r(329))}}}return Ti(d,Cr()),d.callbackNode===y?zR.bind(null,d):null}function c_(d,m){var y=om;return d.current.memoizedState.isDehydrated&&(mu(d,m).flags|=256),d=ov(d,m),d!==2&&(m=Si,Si=y,m!==null&&u_(m)),d}function u_(d){Si===null?Si=d:Si.push.apply(Si,d)}function xte(d){for(var m=d;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var A=0;A<y.length;A++){var O=y[A],R=O.getSnapshot;O=O.value;try{if(!Qo(R(),O))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Wl(d,m){for(m&=~o_,m&=~J0,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var y=31-qi(m),A=1<<y;d[y]=-1,m&=~A}}function WR(d){if(($t&6)!==0)throw Error(r(327));sd();var m=Ss(d,0);if((m&1)===0)return Ti(d,Cr()),null;var y=ov(d,m);if(d.tag!==0&&y===2){var A=Sp(d);A!==0&&(m=A,y=c_(d,A))}if(y===1)throw y=im,mu(d,0),Wl(d,m),Ti(d,Cr()),y;if(y===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,gu(d,Si,Bs),Ti(d,Cr()),null}function f_(d,m){var y=$t;$t|=1;try{return d(m)}finally{$t=y,$t===0&&(ad=Cr()+500,O0&&Fl())}}function pu(d){Ul!==null&&Ul.tag===0&&($t&6)===0&&sd();var m=$t;$t|=1;var y=Co.transition,A=Ft;try{if(Co.transition=null,Ft=1,d)return d()}finally{Ft=A,Co.transition=y,$t=m,($t&6)===0&&Fl()}}function d_(){Ji=od.current,Sr(od)}function mu(d,m){d.finishedWork=null,d.finishedLanes=0;var y=d.timeoutHandle;if(y!==-1&&(d.timeoutHandle=-1,Yee(y)),Zr!==null)for(y=Zr.return;y!==null;){var A=y;switch(w2(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&P0();break;case 3:rd(),Sr(Ai),Sr(Qn),R2();break;case 5:O2(A);break;case 4:rd();break;case 13:Sr(Rr);break;case 19:Sr(Rr);break;case 10:T2(A.type._context);break;case 22:case 23:d_()}y=y.return}if(Tn=d,Zr=d=Hl(d.current,null),Vn=Ji=m,cn=0,im=null,o_=J0=hu=0,Si=om=null,uu!==null){for(m=0;m<uu.length;m++)if(y=uu[m],A=y.interleaved,A!==null){y.interleaved=null;var O=A.next,R=y.pending;if(R!==null){var z=R.next;R.next=O,A.next=z}y.pending=A}uu=null}return d}function HR(d,m){do{var y=Zr;try{if(S2(),U0.current=q0,z0){for(var A=Dr.memoizedState;A!==null;){var O=A.queue;O!==null&&(O.pending=null),A=A.next}z0=!1}if(du=0,Sn=ln=Dr=null,Zp=!1,Jp=0,i_.current=null,y===null||y.return===null){cn=1,im=m,Zr=null;break}e:{var R=d,z=y.return,J=y,ne=m;if(m=Vn,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var me=ne,Te=J,Ie=Te.tag;if((Te.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Se=Te.alternate;Se?(Te.updateQueue=Se.updateQueue,Te.memoizedState=Se.memoizedState,Te.lanes=Se.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Ve=gR(z);if(Ve!==null){Ve.flags&=-257,yR(Ve,z,J,R,m),Ve.mode&1&&mR(R,me,m),m=Ve,ne=me;var Ge=m.updateQueue;if(Ge===null){var Xe=new Set;Xe.add(ne),m.updateQueue=Xe}else Ge.add(ne);break e}else{if((m&1)===0){mR(R,me,m),h_();break e}ne=Error(r(426))}}else if(Pr&&J.mode&1){var Kr=gR(z);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),yR(Kr,z,J,R,m),C2(nd(ne,J));break e}}R=ne=nd(ne,J),cn!==4&&(cn=2),om===null?om=[R]:om.push(R),R=z;do{switch(R.tag){case 3:R.flags|=65536,m&=-m,R.lanes|=m;var ce=hR(R,ne,m);Vj(R,ce);break e;case 1:J=ne;var ie=R.type,de=R.stateNode;if((R.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&($l===null||!$l.has(de)))){R.flags|=65536,m&=-m,R.lanes|=m;var Oe=pR(R,J,m);Vj(R,Oe);break e}}R=R.return}while(R!==null)}KR(y)}catch(Ze){m=Ze,Zr===y&&y!==null&&(Zr=y=y.return);continue}break}while(!0)}function qR(){var d=Z0.current;return Z0.current=q0,d===null?q0:d}function h_(){(cn===0||cn===3||cn===2)&&(cn=4),Tn===null||(hu&268435455)===0&&(J0&268435455)===0||Wl(Tn,Vn)}function ov(d,m){var y=$t;$t|=2;var A=qR();(Tn!==d||Vn!==m)&&(Bs=null,mu(d,m));do try{bte();break}catch(O){HR(d,O)}while(!0);if(S2(),$t=y,Z0.current=A,Zr!==null)throw Error(r(261));return Tn=null,Vn=0,cn}function bte(){for(;Zr!==null;)GR(Zr)}function wte(){for(;Zr!==null&&!Yc();)GR(Zr)}function GR(d){var m=QR(d.alternate,d,Ji);d.memoizedProps=d.pendingProps,m===null?KR(d):Zr=m,i_.current=null}function KR(d){var m=d;do{var y=m.alternate;if(d=m.return,(m.flags&32768)===0){if(y=hte(y,m,Ji),y!==null){Zr=y;return}}else{if(y=pte(y,m),y!==null){y.flags&=32767,Zr=y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{cn=6,Zr=null;return}}if(m=m.sibling,m!==null){Zr=m;return}Zr=m=d}while(m!==null);cn===0&&(cn=5)}function gu(d,m,y){var A=Ft,O=Co.transition;try{Co.transition=null,Ft=1,_te(d,m,y,A)}finally{Co.transition=O,Ft=A}return null}function _te(d,m,y,A){do sd();while(Ul!==null);if(($t&6)!==0)throw Error(r(327));y=d.finishedWork;var O=d.finishedLanes;if(y===null)return null;if(d.finishedWork=null,d.finishedLanes=0,y===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var R=y.lanes|y.childLanes;if(Jw(d,R),d===Tn&&(Zr=Tn=null,Vn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||tv||(tv=!0,ZR(Xc,function(){return sd(),null})),R=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||R){R=Co.transition,Co.transition=null;var z=Ft;Ft=1;var J=$t;$t|=4,i_.current=null,gte(d,y),LR(y,d),Uee(h2),Ns=!!d2,h2=d2=null,d.current=y,yte(y),Es(),$t=J,Ft=z,Co.transition=R}else d.current=y;if(tv&&(tv=!1,Ul=d,rv=O),R=d.pendingLanes,R===0&&($l=null),d0(y.stateNode),Ti(d,Cr()),m!==null)for(A=d.onRecoverableError,y=0;y<m.length;y++)O=m[y],A(O.value,{componentStack:O.stack,digest:O.digest});if(ev)throw ev=!1,d=s_,s_=null,d;return(rv&1)!==0&&d.tag!==0&&sd(),R=d.pendingLanes,(R&1)!==0?d===l_?am++:(am=0,l_=d):am=0,Fl(),null}function sd(){if(Ul!==null){var d=Ia(rv),m=Co.transition,y=Ft;try{if(Co.transition=null,Ft=16>d?16:d,Ul===null)var A=!1;else{if(d=Ul,Ul=null,rv=0,($t&6)!==0)throw Error(r(331));var O=$t;for($t|=4,He=d.current;He!==null;){var R=He,z=R.child;if((He.flags&16)!==0){var J=R.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var me=J[ne];for(He=me;He!==null;){var Te=He;switch(Te.tag){case 0:case 11:case 15:nm(8,Te,R)}var Ie=Te.child;if(Ie!==null)Ie.return=Te,He=Ie;else for(;He!==null;){Te=He;var Se=Te.sibling,Ve=Te.return;if(jR(Te),Te===me){He=null;break}if(Se!==null){Se.return=Ve,He=Se;break}He=Ve}}}var Ge=R.alternate;if(Ge!==null){var Xe=Ge.child;if(Xe!==null){Ge.child=null;do{var Kr=Xe.sibling;Xe.sibling=null,Xe=Kr}while(Xe!==null)}}He=R}}if((R.subtreeFlags&2064)!==0&&z!==null)z.return=R,He=z;else e:for(;He!==null;){if(R=He,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:nm(9,R,R.return)}var ce=R.sibling;if(ce!==null){ce.return=R.return,He=ce;break e}He=R.return}}var ie=d.current;for(He=ie;He!==null;){z=He;var de=z.child;if((z.subtreeFlags&2064)!==0&&de!==null)de.return=z,He=de;else e:for(z=ie;He!==null;){if(J=He,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Q0(9,J)}}catch(Ze){Ur(J,J.return,Ze)}if(J===z){He=null;break e}var Oe=J.sibling;if(Oe!==null){Oe.return=J.return,He=Oe;break e}He=J.return}}if($t=O,Fl(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(Qc,d)}catch{}A=!0}return A}finally{Ft=y,Co.transition=m}}return!1}function YR(d,m,y){m=nd(y,m),m=hR(d,m,1),d=Bl(d,m,1),m=pi(),d!==null&&(tu(d,1,m),Ti(d,m))}function Ur(d,m,y){if(d.tag===3)YR(d,d,y);else for(;m!==null;){if(m.tag===3){YR(m,d,y);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&($l===null||!$l.has(A))){d=nd(y,d),d=pR(m,d,1),m=Bl(m,d,1),d=pi(),m!==null&&(tu(m,1,d),Ti(m,d));break}}m=m.return}}function Ate(d,m,y){var A=d.pingCache;A!==null&&A.delete(m),m=pi(),d.pingedLanes|=d.suspendedLanes&y,Tn===d&&(Vn&y)===y&&(cn===4||cn===3&&(Vn&130023424)===Vn&&500>Cr()-a_?mu(d,0):o_|=y),Ti(d,m)}function XR(d,m){m===0&&((d.mode&1)===0?m=1:(m=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var y=pi();d=Ms(d,m),d!==null&&(tu(d,m,y),Ti(d,y))}function Cte(d){var m=d.memoizedState,y=0;m!==null&&(y=m.retryLane),XR(d,y)}function Ete(d,m){var y=0;switch(d.tag){case 13:var A=d.stateNode,O=d.memoizedState;O!==null&&(y=O.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(m),XR(d,y)}var QR;QR=function(d,m,y){if(d!==null)if(d.memoizedProps!==m.pendingProps||Ai.current)Ei=!0;else{if((d.lanes&y)===0&&(m.flags&128)===0)return Ei=!1,dte(d,m,y);Ei=(d.flags&131072)!==0}else Ei=!1,Pr&&(m.flags&1048576)!==0&&Pj(m,R0,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;Y0(d,m),d=m.pendingProps;var O=Yf(m,Qn.current);td(m,y),O=F2(null,m,A,d,O,y);var R=L2();return m.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Ci(A)?(R=!0,k0(m)):R=!1,m.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,P2(m),O.updater=G0,m.stateNode=O,O._reactInternals=m,W2(m,A,d,y),m=K2(null,m,A,!0,R,y)):(m.tag=0,Pr&&R&&b2(m),hi(null,m,O,y),m=m.child),m;case 16:A=m.elementType;e:{switch(Y0(d,m),d=m.pendingProps,O=A._init,A=O(A._payload),m.type=A,O=m.tag=Tte(A),d=Jo(A,d),O){case 0:m=G2(null,m,A,d,y);break e;case 1:m=AR(null,m,A,d,y);break e;case 11:m=vR(null,m,A,d,y);break e;case 14:m=xR(null,m,A,Jo(A.type,d),y);break e}throw Error(r(306,A,""))}return m;case 0:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),G2(d,m,A,O,y);case 1:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),AR(d,m,A,O,y);case 3:e:{if(CR(m),d===null)throw Error(r(387));A=m.pendingProps,R=m.memoizedState,O=R.element,Bj(d,m),V0(m,A,null,y);var z=m.memoizedState;if(A=z.element,R.isDehydrated)if(R={element:A,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},m.updateQueue.baseState=R,m.memoizedState=R,m.flags&256){O=nd(Error(r(423)),m),m=ER(d,m,A,y,O);break e}else if(A!==O){O=nd(Error(r(424)),m),m=ER(d,m,A,y,O);break e}else for(Zi=Rl(m.stateNode.containerInfo.firstChild),Qi=m,Pr=!0,Zo=null,y=Fj(m,null,A,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Zf(),A===O){m=Ls(d,m,y);break e}hi(d,m,A,y)}m=m.child}return m;case 5:return Uj(m),d===null&&A2(m),A=m.type,O=m.pendingProps,R=d!==null?d.memoizedProps:null,z=O.children,p2(A,O)?z=null:R!==null&&p2(A,R)&&(m.flags|=32),_R(d,m),hi(d,m,z,y),m.child;case 6:return d===null&&A2(m),null;case 13:return SR(d,m,y);case 4:return k2(m,m.stateNode.containerInfo),A=m.pendingProps,d===null?m.child=Jf(m,null,A,y):hi(d,m,A,y),m.child;case 11:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),vR(d,m,A,O,y);case 7:return hi(d,m,m.pendingProps,y),m.child;case 8:return hi(d,m,m.pendingProps.children,y),m.child;case 12:return hi(d,m,m.pendingProps.children,y),m.child;case 10:e:{if(A=m.type._context,O=m.pendingProps,R=m.memoizedProps,z=O.value,hr(F0,A._currentValue),A._currentValue=z,R!==null)if(Qo(R.value,z)){if(R.children===O.children&&!Ai.current){m=Ls(d,m,y);break e}}else for(R=m.child,R!==null&&(R.return=m);R!==null;){var J=R.dependencies;if(J!==null){z=R.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===A){if(R.tag===1){ne=Fs(-1,y&-y),ne.tag=2;var me=R.updateQueue;if(me!==null){me=me.shared;var Te=me.pending;Te===null?ne.next=ne:(ne.next=Te.next,Te.next=ne),me.pending=ne}}R.lanes|=y,ne=R.alternate,ne!==null&&(ne.lanes|=y),I2(R.return,y,m),J.lanes|=y;break}ne=ne.next}}else if(R.tag===10)z=R.type===m.type?null:R.child;else if(R.tag===18){if(z=R.return,z===null)throw Error(r(341));z.lanes|=y,J=z.alternate,J!==null&&(J.lanes|=y),I2(z,y,m),z=R.sibling}else z=R.child;if(z!==null)z.return=R;else for(z=R;z!==null;){if(z===m){z=null;break}if(R=z.sibling,R!==null){R.return=z.return,z=R;break}z=z.return}R=z}hi(d,m,O.children,y),m=m.child}return m;case 9:return O=m.type,A=m.pendingProps.children,td(m,y),O=_o(O),A=A(O),m.flags|=1,hi(d,m,A,y),m.child;case 14:return A=m.type,O=Jo(A,m.pendingProps),O=Jo(A.type,O),xR(d,m,A,O,y);case 15:return bR(d,m,m.type,m.pendingProps,y);case 17:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),Y0(d,m),m.tag=1,Ci(A)?(d=!0,k0(m)):d=!1,td(m,y),fR(m,A,O),W2(m,A,O,y),K2(null,m,A,!0,d,y);case 19:return IR(d,m,y);case 22:return wR(d,m,y)}throw Error(r(156,m.tag))};function ZR(d,m){return Ap(d,m)}function Ste(d,m,y,A){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(d,m,y,A){return new Ste(d,m,y,A)}function p_(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Tte(d){if(typeof d=="function")return p_(d)?1:0;if(d!=null){if(d=d.$$typeof,d===L)return 11;if(d===H)return 14}return 2}function Hl(d,m){var y=d.alternate;return y===null?(y=Eo(d.tag,m,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=m,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&14680064,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,m=d.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y}function av(d,m,y,A,O,R){var z=2;if(A=d,typeof d=="function")p_(d)&&(z=1);else if(typeof d=="string")z=5;else e:switch(d){case T:return yu(y.children,O,R,m);case N:z=8,O|=8;break;case j:return d=Eo(12,y,m,O|2),d.elementType=j,d.lanes=R,d;case F:return d=Eo(13,y,m,O),d.elementType=F,d.lanes=R,d;case $:return d=Eo(19,y,m,O),d.elementType=$,d.lanes=R,d;case Z:return sv(y,O,R,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case B:z=10;break e;case M:z=9;break e;case L:z=11;break e;case H:z=14;break e;case K:z=16,A=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=Eo(z,y,m,O),m.elementType=d,m.type=A,m.lanes=R,m}function yu(d,m,y,A){return d=Eo(7,d,A,m),d.lanes=y,d}function sv(d,m,y,A){return d=Eo(22,d,A,m),d.elementType=Z,d.lanes=y,d.stateNode={isHidden:!1},d}function m_(d,m,y){return d=Eo(6,d,null,m),d.lanes=y,d}function g_(d,m,y){return m=Eo(4,d.children!==null?d.children:[],d.key,m),m.lanes=y,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Ite(d,m,y,A,O){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ip(0),this.expirationTimes=Ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.identifierPrefix=A,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function y_(d,m,y,A,O,R,z,J,ne){return d=new Ite(d,m,y,J,ne),m===1?(m=1,R===!0&&(m|=8)):m=0,R=Eo(3,null,null,m),d.current=R,R.stateNode=d,R.memoizedState={element:A,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},P2(R),d}function Nte(d,m,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:A==null?null:""+A,children:d,containerInfo:m,implementation:y}}function JR(d){if(!d)return Ml;d=d._reactInternals;e:{if(Yo(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Ci(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var y=d.type;if(Ci(y))return Tj(d,y,m)}return m}function eD(d,m,y,A,O,R,z,J,ne){return d=y_(y,A,!0,d,O,R,z,J,ne),d.context=JR(null),y=d.current,A=pi(),O=zl(y),R=Fs(A,O),R.callback=m??null,Bl(y,R,O),d.current.lanes=O,tu(d,O,A),Ti(d,A),d}function lv(d,m,y,A){var O=m.current,R=pi(),z=zl(O);return y=JR(y),m.context===null?m.context=y:m.pendingContext=y,m=Fs(R,z),m.payload={element:d},A=A===void 0?null:A,A!==null&&(m.callback=A),d=Bl(O,m,z),d!==null&&(ra(d,O,z,R),B0(d,O,z)),z}function cv(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function tD(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<m?y:m}}function v_(d,m){tD(d,m),(d=d.alternate)&&tD(d,m)}function Pte(){return null}var rD=typeof reportError=="function"?reportError:function(d){console.error(d)};function x_(d){this._internalRoot=d}uv.prototype.render=x_.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));lv(d,m,null,null)},uv.prototype.unmount=x_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;pu(function(){lv(null,d,null,null)}),m[Os]=null}};function uv(d){this._internalRoot=d}uv.prototype.unstable_scheduleHydration=function(d){if(d){var m=Op();d={blockedOn:null,target:d,priority:m};for(var y=0;y<Gi.length&&m!==0&&m<Gi[y].priority;y++);Gi.splice(y,0,d),y===0&&jf(d)}};function b_(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function fv(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function nD(){}function kte(d,m,y,A,O){if(O){if(typeof A=="function"){var R=A;A=function(){var me=cv(z);R.call(me)}}var z=eD(m,A,d,0,null,!1,!1,"",nD);return d._reactRootContainer=z,d[Os]=z.current,Wp(d.nodeType===8?d.parentNode:d),pu(),z}for(;O=d.lastChild;)d.removeChild(O);if(typeof A=="function"){var J=A;A=function(){var me=cv(ne);J.call(me)}}var ne=y_(d,0,!1,null,null,!1,!1,"",nD);return d._reactRootContainer=ne,d[Os]=ne.current,Wp(d.nodeType===8?d.parentNode:d),pu(function(){lv(m,ne,y,A)}),ne}function dv(d,m,y,A,O){var R=y._reactRootContainer;if(R){var z=R;if(typeof O=="function"){var J=O;O=function(){var ne=cv(z);J.call(ne)}}lv(m,z,d,O)}else z=kte(y,m,d,O,A);return cv(z)}Pp=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var y=Qt(m.pendingLanes);y!==0&&(Np(m,y|1),Ti(m,Cr()),($t&6)===0&&(ad=Cr()+500,Fl()))}break;case 13:pu(function(){var A=Ms(d,1);if(A!==null){var O=pi();ra(A,d,1,O)}}),v_(d,1)}},kf=function(d){if(d.tag===13){var m=Ms(d,134217728);if(m!==null){var y=pi();ra(m,d,134217728,y)}v_(d,134217728)}},kp=function(d){if(d.tag===13){var m=zl(d),y=Ms(d,m);if(y!==null){var A=pi();ra(y,d,m,A)}v_(d,m)}},Op=function(){return Ft},jp=function(d,m){var y=Ft;try{return Ft=d,m()}finally{Ft=y}},_s=function(d,m,y){switch(m){case"input":if(Re(d,y),m=y.name,y.type==="radio"&&m!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var A=y[m];if(A!==d&&A.form===d.form){var O=N0(A);if(!O)throw Error(r(90));pe(A),Re(A,O)}}}break;case"textarea":jr(d,y);break;case"select":m=y.value,m!=null&&tt(d,!!y.multiple,m,!1)}},n0=f_,i0=pu;var Ote={usingClientEntryPoint:!1,Events:[Gp,Gf,N0,Al,Cl,f_]},sm={findFiberByHostInstance:au,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jte={bundleType:sm.bundleType,version:sm.version,rendererPackageName:sm.rendererPackageName,rendererConfig:sm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=f0(d),d===null?null:d.stateNode},findFiberByHostInstance:sm.findFiberByHostInstance||Pte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hv.isDisabled&&hv.supportsFiber)try{Qc=hv.inject(jte),Hi=hv}catch{}}return Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ote,Ii.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b_(m))throw Error(r(200));return Nte(d,m,null,y)},Ii.createRoot=function(d,m){if(!b_(d))throw Error(r(299));var y=!1,A="",O=rD;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),m=y_(d,1,!1,null,null,y,!1,A,O),d[Os]=m.current,Wp(d.nodeType===8?d.parentNode:d),new x_(m)},Ii.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=f0(m),d=d===null?null:d.stateNode,d},Ii.flushSync=function(d){return pu(d)},Ii.hydrate=function(d,m,y){if(!fv(m))throw Error(r(200));return dv(null,d,m,!0,y)},Ii.hydrateRoot=function(d,m,y){if(!b_(d))throw Error(r(405));var A=y!=null&&y.hydratedSources||null,O=!1,R="",z=rD;if(y!=null&&(y.unstable_strictMode===!0&&(O=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(z=y.onRecoverableError)),m=eD(m,null,d,1,y??null,O,!1,R,z),d[Os]=m.current,Wp(d),A)for(d=0;d<A.length;d++)y=A[d],O=y._getVersion,O=O(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,O]:m.mutableSourceEagerHydrationData.push(y,O);return new uv(m)},Ii.render=function(d,m,y){if(!fv(m))throw Error(r(200));return dv(null,d,m,!1,y)},Ii.unmountComponentAtNode=function(d){if(!fv(d))throw Error(r(40));return d._reactRootContainer?(pu(function(){dv(null,null,d,!1,function(){d._reactRootContainer=null,d[Os]=null})}),!0):!1},Ii.unstable_batchedUpdates=f_,Ii.unstable_renderSubtreeIntoContainer=function(d,m,y,A){if(!fv(y))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return dv(d,m,y,!1,A)},Ii.version="18.3.1-next-f1338f8080-20240426",Ii}var fD;function bU(){if(fD)return A_.exports;fD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A_.exports=$te(),A_.exports}var dD;function Ute(){if(dD)return mv;dD=1;var t=bU();return mv.createRoot=t.createRoot,mv.hydrateRoot=t.hydrateRoot,mv}var zte=Ute();const Wte="modulepreload",Hte=function(t){return"/"+t},hD={},o1=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=a(r.map(c=>{if(c=Hte(c),c in hD)return;hD[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Wte,f||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};var k=pb();const te=Xt(k),wU=Dte({__proto__:null,default:te},[k]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gte=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),pD=t=>{const e=Gte(t);return e.charAt(0).toUpperCase()+e.slice(1)},_U=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a,...s},l)=>k.createElement("svg",{ref:l,...Kte,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:_U("lucide",i),...s},[...a.map(([c,f])=>k.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const r=k.forwardRef(({className:n,...i},o)=>k.createElement(Yte,{ref:o,iconNode:e,className:_U(`lucide-${qte(pD(t))}`,`lucide-${t}`,n),...i}));return r.displayName=pD(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AU=Le("activity",Xte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],tl=Le("apple",Qte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xd=Le("arrow-down",Zte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wa=Le("arrow-left",Jte);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tre=Le("arrow-right",ere);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Tm=Le("arrow-up",rre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ek=Le("award",nre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],tk=Le("barcode",ire);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],CU=Le("bell",ore);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],EU=Le("brain",are);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],lre=Le("bug",sre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zT=Le("calculator",cre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ed=Le("calendar",ure);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],my=Le("camera",fre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gy=Le("check",dre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],pre=Le("chef-hat",hre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yc=Le("chevron-down",mre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],SU=Le("chevron-left",gre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I1=Le("chevron-right",yre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rk=Le("chevron-up",vre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bre=Le("circle-alert",xre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nk=Le("circle-check-big",wre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TU=Le("circle-check",_re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Cre=Le("circle-user",Are);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],IU=Le("circle-x",Ere);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],bd=Le("clock",Sre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],WT=Le("copy",Tre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nre=Le("credit-card",Ire);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],mD=Le("download",Pre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],vc=Le("dumbbell",kre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gD=Le("eye-off",Ore);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HT=Le("eye",jre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yD=Le("file-text",Rre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Wh=Le("flame",Dre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]],Fre=Le("flashlight",Mre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Bre=Le("grip-vertical",Lre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],$re=Le("heart",Vre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qT=Le("info",Ure);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Wre=Le("keyboard",zre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],qre=Le("lightbulb",Hre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],th=Le("lock",Gre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Yre=Le("log-out",Kre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ug=Le("mail",Xre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],N1=Le("message-circle",Qre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],NU=Le("message-square",Zre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ene=Le("mic",Jre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M5 12h14",key:"1ays0h"}]],rne=Le("minus",tne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ine=Le("moon",nne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],ane=Le("party-popper",one);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],lne=Le("pen",sne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ys=Le("plus",cne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fne=Le("refresh-cw",une);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],PU=Le("ruler",dne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],P1=Le("save",hne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],mne=Le("scale",pne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yne=Le("search",gne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ik=Le("send",vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kU=Le("settings",xne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wne=Le("share-2",bne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Sd=Le("shield",_ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zo=Le("sparkles",Ane);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],OU=Le("square-pen",Cne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ok=Le("star",Ene);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Fo=Le("target",Sne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rh=Le("trash-2",Tne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Nne=Le("trending-down",Ine);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ya=Le("trending-up",Pne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jU=Le("triangle-alert",kne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],S_=Le("trophy",One);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],RU=Le("upload",jne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vD=Le("user-plus",Rne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vd=Le("user",Dne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xD=Le("users",Mne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Lne=Le("utensils",Fne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Vne=Le("weight",Bne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hh=Le("x",$ne);function Une({userName:t,onLogout:e,onAccountClick:r,isDarkMode:n=!1}){const[i,o]=k.useState(!1);return u.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[u.jsx("h1",{className:"text-white tracking-wide",children:"FareFit"}),t&&e?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[u.jsx(Vd,{className:"w-4 h-4"}),u.jsx("span",{children:t}),u.jsx(yc,{className:"w-4 h-4"})]}),i&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-xl shadow-lg py-2 z-20 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[r&&u.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--farefit-text)"},children:[u.jsx(Cre,{className:"w-4 h-4"}),"My Account"]}),u.jsxs("button",{onClick:()=>{e(),o(!1)},className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--farefit-text)"},children:[u.jsx(Yre,{className:"w-4 h-4"}),"Logout"]})]})]})]}):u.jsxs("button",{className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[u.jsx("span",{children:"Need help?"}),u.jsx(yc,{className:"w-4 h-4"})]})]})})}const ak=k.createContext({});function sk(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const lk=typeof window<"u",DU=lk?k.useLayoutEffect:k.useEffect,mb=k.createContext(null);function ck(t,e){t.indexOf(e)===-1&&t.push(e)}function uk(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const rl=(t,e,r)=>r>e?e:r<t?t:r;let fk=()=>{};const nl={},MU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function FU(t){return typeof t=="object"&&t!==null}const LU=t=>/^0[^.\s]+$/u.test(t);function dk(t){let e;return()=>(e===void 0&&(e=t()),e)}const $o=t=>t,zne=(t,e)=>r=>e(t(r)),yy=(...t)=>t.reduce(zne),fg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class hk{constructor(){this.subscriptions=[]}add(e){return ck(this.subscriptions,e),()=>uk(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Za=t=>t*1e3,Lo=t=>t/1e3;function BU(t,e){return e?t*(1e3/e):0}const VU=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Wne=1e-7,Hne=12;function qne(t,e,r,n,i){let o,a,s=0;do a=e+(r-e)/2,o=VU(a,n,i)-t,o>0?r=a:e=a;while(Math.abs(o)>Wne&&++s<Hne);return a}function vy(t,e,r,n){if(t===e&&r===n)return $o;const i=o=>qne(o,0,1,t,r);return o=>o===0||o===1?o:VU(i(o),e,n)}const $U=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UU=t=>e=>1-t(1-e),zU=vy(.33,1.53,.69,.99),pk=UU(zU),WU=$U(pk),HU=t=>(t*=2)<1?.5*pk(t):.5*(2-Math.pow(2,-10*(t-1))),mk=t=>1-Math.sin(Math.acos(t)),qU=UU(mk),GU=$U(mk),Gne=vy(.42,0,1,1),Kne=vy(0,0,.58,1),KU=vy(.42,0,.58,1),Yne=t=>Array.isArray(t)&&typeof t[0]!="number",YU=t=>Array.isArray(t)&&typeof t[0]=="number",Xne={linear:$o,easeIn:Gne,easeInOut:KU,easeOut:Kne,circIn:mk,circInOut:GU,circOut:qU,backIn:pk,backInOut:WU,backOut:zU,anticipate:HU},Qne=t=>typeof t=="string",bD=t=>{if(YU(t)){fk(t.length===4);const[e,r,n,i]=t;return vy(e,r,n,i)}else if(Qne(t))return Xne[t];return t},gv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zne(t,e){let r=new Set,n=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(f){a.has(f)&&(c.schedule(f),t()),f(s)}const c={schedule:(f,h=!1,p=!1)=>{const x=p&&i?r:n;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(s=f,i){o=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,o&&(o=!1,c.process(f))}};return c}const Jne=40;function XU(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,a=gv.reduce((E,P)=>(E[P]=Zne(o),E),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:f,update:h,preRender:p,render:g,postRender:x}=a,v=()=>{const E=nl.useManualTiming?i.timestamp:performance.now();r=!1,nl.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,Jne),1)),i.timestamp=E,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),f.process(i),h.process(i),p.process(i),g.process(i),x.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},b=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:gv.reduce((E,P)=>{const I=a[P];return E[P]=(S,T=!1,N=!1)=>(r||b(),I.schedule(S,T,N)),E},{}),cancel:E=>{for(let P=0;P<gv.length;P++)a[gv[P]].cancel(E)},state:i,steps:a}}const{schedule:kr,cancel:xc,state:Wn,steps:T_}=XU(typeof requestAnimationFrame<"u"?requestAnimationFrame:$o,!0);let a1;function eie(){a1=void 0}const Mi={now:()=>(a1===void 0&&Mi.set(Wn.isProcessing||nl.useManualTiming?Wn.timestamp:performance.now()),a1),set:t=>{a1=t,queueMicrotask(eie)}},QU=t=>e=>typeof e=="string"&&e.startsWith(t),gk=QU("--"),tie=QU("var(--"),yk=t=>tie(t)?rie.test(t.split("/*")[0].trim()):!1,rie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dg={...qh,transform:t=>rl(0,1,t)},yv={...qh,default:1},zm=t=>Math.round(t*1e5)/1e5,vk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nie(t){return t==null}const iie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xk=(t,e)=>r=>!!(typeof r=="string"&&iie.test(r)&&r.startsWith(t)||e&&!nie(r)&&Object.prototype.hasOwnProperty.call(r,e)),ZU=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,o,a,s]=n.match(vk);return{[t]:parseFloat(i),[e]:parseFloat(o),[r]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},oie=t=>rl(0,255,t),I_={...qh,transform:t=>Math.round(oie(t))},Ou={test:xk("rgb","red"),parse:ZU("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+I_.transform(t)+", "+I_.transform(e)+", "+I_.transform(r)+", "+zm(dg.transform(n))+")"};function aie(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const GT={test:xk("#"),parse:aie,transform:Ou.transform},xy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jl=xy("deg"),Ja=xy("%"),pt=xy("px"),sie=xy("vh"),lie=xy("vw"),wD={...Ja,parse:t=>Ja.parse(t)/100,transform:t=>Ja.transform(t*100)},Td={test:xk("hsl","hue"),parse:ZU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ja.transform(zm(e))+", "+Ja.transform(zm(r))+", "+zm(dg.transform(n))+")"},rn={test:t=>Ou.test(t)||GT.test(t)||Td.test(t),parse:t=>Ou.test(t)?Ou.parse(t):Td.test(t)?Td.parse(t):GT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ou.transform(t):Td.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},cie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uie(t){return isNaN(t)&&typeof t=="string"&&(t.match(vk)?.length||0)+(t.match(cie)?.length||0)>0}const JU="number",ez="color",fie="var",die="var(",_D="${}",hie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(hie,l=>(rn.test(l)?(n.color.push(o),i.push(ez),r.push(rn.parse(l))):l.startsWith(die)?(n.var.push(o),i.push(fie),r.push(l)):(n.number.push(o),i.push(JU),r.push(parseFloat(l))),++o,_D)).split(_D);return{values:r,split:s,indexes:n,types:i}}function tz(t){return hg(t).values}function rz(t){const{split:e,types:r}=hg(t),n=e.length;return i=>{let o="";for(let a=0;a<n;a++)if(o+=e[a],i[a]!==void 0){const s=r[a];s===JU?o+=zm(i[a]):s===ez?o+=rn.transform(i[a]):o+=i[a]}return o}}const pie=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function mie(t){const e=tz(t);return rz(t)(e.map(pie))}const bc={test:uie,parse:tz,createTransformer:rz,getAnimatableNone:mie};function N_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function gie({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,o=0,a=0;if(!e)i=o=a=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=N_(l,s,t+1/3),o=N_(l,s,t),a=N_(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function k1(t,e){return r=>r>0?e:t}const Mr=(t,e,r)=>t+(e-t)*r,P_=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},yie=[GT,Ou,Td],vie=t=>yie.find(e=>e.test(t));function AD(t){const e=vie(t);if(!e)return!1;let r=e.parse(t);return e===Td&&(r=gie(r)),r}const CD=(t,e)=>{const r=AD(t),n=AD(e);if(!r||!n)return k1(t,e);const i={...r};return o=>(i.red=P_(r.red,n.red,o),i.green=P_(r.green,n.green,o),i.blue=P_(r.blue,n.blue,o),i.alpha=Mr(r.alpha,n.alpha,o),Ou.transform(i))},KT=new Set(["none","hidden"]);function xie(t,e){return KT.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function bie(t,e){return r=>Mr(t,e,r)}function bk(t){return typeof t=="number"?bie:typeof t=="string"?yk(t)?k1:rn.test(t)?CD:Aie:Array.isArray(t)?nz:typeof t=="object"?rn.test(t)?CD:wie:k1}function nz(t,e){const r=[...t],n=r.length,i=t.map((o,a)=>bk(o)(o,e[a]));return o=>{for(let a=0;a<n;a++)r[a]=i[a](o);return r}}function wie(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=bk(t[i])(t[i],e[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}}function _ie(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][n[o]],s=t.values[a]??0;r[i]=s,n[o]++}return r}const Aie=(t,e)=>{const r=bc.createTransformer(e),n=hg(t),i=hg(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?KT.has(t)&&!i.values.length||KT.has(e)&&!n.values.length?xie(t,e):yy(nz(_ie(n,i),i.values),r):k1(t,e)};function iz(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Mr(t,e,r):bk(t)(t,e)}const Cie=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>kr.update(e,r),stop:()=>xc(e),now:()=>Wn.isProcessing?Wn.timestamp:Mi.now()}},oz=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let o=0;o<i;o++)n+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},O1=2e4;function wk(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<O1;)e+=r,n=t.next(e);return e>=O1?1/0:e}function Eie(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(wk(n),O1);return{type:"keyframes",ease:o=>n.next(i*o).value/e,duration:Lo(i)}}const Sie=5;function az(t,e,r){const n=Math.max(e-Sie,0);return BU(r-t(n),e-n)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},k_=.001;function Tie({duration:t=zr.duration,bounce:e=zr.bounce,velocity:r=zr.velocity,mass:n=zr.mass}){let i,o,a=1-e;a=rl(zr.minDamping,zr.maxDamping,a),t=rl(zr.minDuration,zr.maxDuration,Lo(t)),a<1?(i=c=>{const f=c*a,h=f*t,p=f-r,g=YT(c,a),x=Math.exp(-h);return k_-p/g*x},o=c=>{const h=c*a*t,p=h*r+r,g=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-h),v=YT(Math.pow(c,2),a);return(-i(c)+k_>0?-1:1)*((p-g)*x)/v}):(i=c=>{const f=Math.exp(-c*t),h=(c-r)*t+1;return-k_+f*h},o=c=>{const f=Math.exp(-c*t),h=(r-c)*(t*t);return f*h});const s=5/t,l=Nie(i,o,s);if(t=Za(t),isNaN(l))return{stiffness:zr.stiffness,damping:zr.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const Iie=12;function Nie(t,e,r){let n=r;for(let i=1;i<Iie;i++)n=n-t(n)/e(n);return n}function YT(t,e){return t*Math.sqrt(1-e*e)}const Pie=["duration","bounce"],kie=["stiffness","damping","mass"];function ED(t,e){return e.some(r=>t[r]!==void 0)}function Oie(t){let e={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...t};if(!ED(t,kie)&&ED(t,Pie))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,o=2*rl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zr.mass,stiffness:i,damping:o}}else{const r=Tie(t);e={...e,...r,mass:zr.mass},e.isResolvedFromDuration=!0}return e}function j1(t=zr.visualDuration,e=zr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const o=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:g}=Oie({...r,velocity:-Lo(r.velocity||0)}),x=p||0,v=c/(2*Math.sqrt(l*f)),b=a-o,_=Lo(Math.sqrt(l/f)),C=Math.abs(b)<5;n||(n=C?zr.restSpeed.granular:zr.restSpeed.default),i||(i=C?zr.restDelta.granular:zr.restDelta.default);let E;if(v<1){const I=YT(_,v);E=S=>{const T=Math.exp(-v*_*S);return a-T*((x+v*_*b)/I*Math.sin(I*S)+b*Math.cos(I*S))}}else if(v===1)E=I=>a-Math.exp(-_*I)*(b+(x+_*b)*I);else{const I=_*Math.sqrt(v*v-1);E=S=>{const T=Math.exp(-v*_*S),N=Math.min(I*S,300);return a-T*((x+v*_*b)*Math.sinh(N)+I*b*Math.cosh(N))/I}}const P={calculatedDuration:g&&h||null,next:I=>{const S=E(I);if(g)s.done=I>=h;else{let T=I===0?x:0;v<1&&(T=I===0?Za(x):az(E,I,S));const N=Math.abs(T)<=n,j=Math.abs(a-S)<=i;s.done=N&&j}return s.value=s.done?a:S,s},toString:()=>{const I=Math.min(wk(P),O1),S=oz(T=>P.next(I*T).value,I,30);return I+"ms "+S},toTransition:()=>{}};return P}j1.applyToOptions=t=>{const e=Eie(t,100,j1);return t.ease=e.ease,t.duration=Za(e.duration),t.type="keyframes",t};function XT({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},g=N=>s!==void 0&&N<s||l!==void 0&&N>l,x=N=>s===void 0?l:l===void 0||Math.abs(s-N)<Math.abs(l-N)?s:l;let v=r*e;const b=h+v,_=a===void 0?b:a(b);_!==b&&(v=_-h);const C=N=>-v*Math.exp(-N/n),E=N=>_+C(N),P=N=>{const j=C(N),B=E(N);p.done=Math.abs(j)<=c,p.value=p.done?_:B};let I,S;const T=N=>{g(p.value)&&(I=N,S=j1({keyframes:[p.value,x(p.value)],velocity:az(E,N,p.value),damping:i,stiffness:o,restDelta:c,restSpeed:f}))};return T(0),{calculatedDuration:null,next:N=>{let j=!1;return!S&&I===void 0&&(j=!0,P(N),T(N)),I!==void 0&&N>=I?S.next(N-I):(!j&&P(N),p)}}}function jie(t,e,r){const n=[],i=r||nl.mix||iz,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||$o:e;s=yy(l,s)}n.push(s)}return n}function Rie(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const o=t.length;if(fk(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=jie(e,n,i),l=s.length,c=f=>{if(a&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=fg(t[h],t[h+1],f);return s[h](p)};return r?f=>c(rl(t[0],t[o-1],f)):c}function Die(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=fg(0,e,n);t.push(Mr(r,1,i))}}function Mie(t){const e=[0];return Die(e,t.length-1),e}function Fie(t,e){return t.map(r=>r*e)}function Lie(t,e){return t.map(()=>e||KU).splice(0,t.length-1)}function Wm({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Yne(n)?n.map(bD):bD(n),o={done:!1,value:e[0]},a=Fie(r&&r.length===e.length?r:Mie(e),t),s=Rie(a,e,{ease:Array.isArray(i)?i:Lie(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const Bie=t=>t!==null;function _k(t,{repeat:e,repeatType:r="loop"},n,i=1){const o=t.filter(Bie),s=i<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!s||n===void 0?o[s]:n}const Vie={decay:XT,inertia:XT,tween:Wm,keyframes:Wm,spring:j1};function sz(t){typeof t.type=="string"&&(t.type=Vie[t.type])}class Ak{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const $ie=t=>t/100;class Ck extends Ak{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Mi.now()&&this.tick(Mi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sz(e);const{type:r=Wm,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:s}=e;const l=r||Wm;l!==Wm&&typeof s[0]!="number"&&(this.mixKeyframes=yy($ie,iz(s[0],s[1])),s=[0,100]);const c=l({...e,keyframes:s});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=wk(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,P=n;if(h){const N=Math.min(this.currentTime,i)/s;let j=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(p==="reverse"?(B=1-B,g&&(B-=g/s)):p==="mirror"&&(P=a)),E=rl(0,1,B)*s}const I=C?{done:!1,value:f[0]}:P.next(E);o&&(I.value=o(I.value));let{done:S}=I;!C&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return T&&x!==XT&&(I.value=_k(f,this.options,b,this.speed)),v&&v(I.value),T&&this.finish(),I}then(e,r){return this.finished.then(e,r)}get duration(){return Lo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Lo(e)}get time(){return Lo(this.currentTime)}set time(e){e=Za(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Lo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Cie,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Uie(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ju=t=>t*180/Math.PI,QT=t=>{const e=ju(Math.atan2(t[1],t[0]));return ZT(e)},zie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:QT,rotateZ:QT,skewX:t=>ju(Math.atan(t[1])),skewY:t=>ju(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ZT=t=>(t=t%360,t<0&&(t+=360),t),SD=QT,TD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ID=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Wie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TD,scaleY:ID,scale:t=>(TD(t)+ID(t))/2,rotateX:t=>ZT(ju(Math.atan2(t[6],t[5]))),rotateY:t=>ZT(ju(Math.atan2(-t[2],t[0]))),rotateZ:SD,rotate:SD,skewX:t=>ju(Math.atan(t[4])),skewY:t=>ju(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function JT(t){return t.includes("scale")?1:0}function eI(t,e){if(!t||t==="none")return JT(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Wie,i=r;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=zie,i=s}if(!i)return JT(e);const o=n[e],a=i[1].split(",").map(qie);return typeof o=="function"?o(a):a[o]}const Hie=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return eI(r,e)};function qie(t){return parseFloat(t.trim())}const Gh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kh=new Set(Gh),ND=t=>t===qh||t===pt,Gie=new Set(["x","y","z"]),Kie=Gh.filter(t=>!Gie.has(t));function Yie(t){const e=[];return Kie.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const zu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>eI(e,"x"),y:(t,{transform:e})=>eI(e,"y")};zu.translateX=zu.x;zu.translateY=zu.y;const Wu=new Set;let tI=!1,rI=!1,nI=!1;function lz(){if(rI){const t=Array.from(Wu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Yie(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([o,a])=>{n.getValue(o)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}rI=!1,tI=!1,Wu.forEach(t=>t.complete(nI)),Wu.clear()}function cz(){Wu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rI=!0)})}function Xie(){nI=!0,cz(),lz(),nI=!1}class Ek{constructor(e,r,n,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Wu.add(this),tI||(tI=!0,kr.read(cz),kr.resolveKeyframes(lz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const o=i?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const s=n.readValue(r,a);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}Uie(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wu.delete(this)}cancel(){this.state==="scheduled"&&(Wu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qie=t=>t.startsWith("--");function Zie(t,e,r){Qie(e)?t.style.setProperty(e,r):t.style[e]=r}const Jie=dk(()=>window.ScrollTimeline!==void 0),eoe={};function toe(t,e){const r=dk(t);return()=>eoe[e]??r()}const uz=toe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Im=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,PD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Im([0,.65,.55,1]),circOut:Im([.55,0,1,.45]),backIn:Im([.31,.01,.66,-.59]),backOut:Im([.33,1.53,.69,.99])};function fz(t,e){if(t)return typeof t=="function"?uz()?oz(t,e):"ease-out":YU(t)?Im(t):Array.isArray(t)?t.map(r=>fz(r,e)||PD.easeOut):PD[t]}function roe(t,e,r,{delay:n=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeOut",times:l}={},c=void 0){const f={[e]:r};l&&(f.offset=l);const h=fz(s,i);Array.isArray(h)&&(f.easing=h);const p={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(f,p)}function dz(t){return typeof t=="function"&&"applyToOptions"in t}function noe({type:t,...e}){return dz(t)&&uz()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ioe extends Ak{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,fk(typeof e.type!="string");const c=noe(e);this.animation=roe(r,n,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=_k(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(f):Zie(r,n,f),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Lo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Lo(e)}get time(){return Lo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Za(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Jie()?(this.animation.timeline=e,$o):r(this)}}const hz={anticipate:HU,backInOut:WU,circInOut:GU};function ooe(t){return t in hz}function aoe(t){typeof t.ease=="string"&&ooe(t.ease)&&(t.ease=hz[t.ease])}const kD=10;class soe extends ioe{constructor(e){aoe(e),sz(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:o,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const s=new Ck({...a,autoplay:!1}),l=Za(this.finishedTime??this.time);r.setWithVelocity(s.sample(l-kD).value,s.sample(l).value,kD),s.stop()}}const OD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bc.test(t)||t==="0")&&!t.startsWith("url("));function loe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function coe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=OD(i,e),s=OD(o,e);return!a||!s?!1:loe(t)||(r==="spring"||dz(r))&&n}function iI(t){t.duration=0,t.type="keyframes"}const uoe=new Set(["opacity","clipPath","filter","transform"]),foe=dk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function doe(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return foe()&&r&&uoe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&o!==0&&a!=="inertia"}const hoe=40;class poe extends Ak{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:s,name:l,motionValue:c,element:f,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mi.now();const p={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:o,repeatType:a,name:l,motionValue:c,element:f,...h},g=f?.KeyframeResolver||Ek;this.keyframeResolver=new g(s,(x,v,b)=>this.onKeyframesResolved(x,v,p,!b),l,c,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:s,delay:l,isHandoff:c,onUpdate:f}=n;this.resolvedAt=Mi.now(),coe(e,o,a,s)||((nl.instantAnimations||!l)&&f?.(_k(e,n,r)),e[0]=e[e.length-1],iI(n),n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>hoe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},g=!c&&doe(p)?new soe({...p,element:p.motionValue.owner.current}):new Ck(p);g.finished.then(()=>this.notifyFinished()).catch($o),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Xie()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const moe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function goe(t){const e=moe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function pz(t,e,r=1){const[n,i]=goe(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const a=o.trim();return MU(a)?parseFloat(a):a}return yk(i)?pz(i,e,r+1):i}function Sk(t,e){return t?.[e]??t?.default??t}const mz=new Set(["width","height","top","left","right","bottom",...Gh]),yoe={test:t=>t==="auto",parse:t=>t},gz=t=>e=>e.test(t),yz=[qh,pt,Ja,Jl,lie,sie,yoe],jD=t=>yz.find(gz(t));function voe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LU(t):!0}const xoe=new Set(["brightness","contrast","saturate","opacity"]);function boe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(vk)||[];if(!n)return t;const i=r.replace(n,"");let o=xoe.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+i+")"}const woe=/\b([a-z-]*)\(.*?\)/gu,oI={...bc,getAnimatableNone:t=>{const e=t.match(woe);return e?e.map(boe).join(" "):t}},RD={...qh,transform:Math.round},_oe={rotate:Jl,rotateX:Jl,rotateY:Jl,rotateZ:Jl,scale:yv,scaleX:yv,scaleY:yv,scaleZ:yv,skew:Jl,skewX:Jl,skewY:Jl,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:dg,originX:wD,originY:wD,originZ:pt},Tk={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,..._oe,zIndex:RD,fillOpacity:dg,strokeOpacity:dg,numOctaves:RD},Aoe={...Tk,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:oI,WebkitFilter:oI},vz=t=>Aoe[t];function xz(t,e){let r=vz(t);return r!==oI&&(r=bc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Coe=new Set(["auto","none","0"]);function Eoe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const o=t[n];typeof o=="string"&&!Coe.has(o)&&hg(o).values.length&&(i=t[n]),n++}if(i&&r)for(const o of e)t[o]=xz(r,i)}class Soe extends Ek{constructor(e,r,n,i,o){super(e,r,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),yk(c))){const f=pz(c,r.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!mz.has(n)||e.length!==2)return;const[i,o]=e,a=jD(i),s=jD(o);if(a!==s)if(ND(a)&&ND(s))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else zu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||voe(e[i]))&&n.push(i);n.length&&Eoe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,a=n[o];n[o]=zu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,l])=>{e.getValue(s).set(l)}),this.resolveNoneKeyframes()}}function Toe(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const bz=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wz(t){return FU(t)&&"offsetHeight"in t}const DD=30,Ioe=t=>!isNaN(parseFloat(t));class Noe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Mi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ioe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new hk);const n=this.events[e].add(r);return e==="change"?()=>{n(),kr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,DD);return BU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nh(t,e){return new Noe(t,e)}const{schedule:Ik}=XU(queueMicrotask,!1),aa={x:!1,y:!1};function _z(){return aa.x||aa.y}function Poe(t){return t==="x"||t==="y"?aa[t]?null:(aa[t]=!0,()=>{aa[t]=!1}):aa.x||aa.y?null:(aa.x=aa.y=!0,()=>{aa.x=aa.y=!1})}function Az(t,e){const r=Toe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function MD(t){return!(t.pointerType==="touch"||_z())}function koe(t,e,r={}){const[n,i,o]=Az(t,r),a=s=>{if(!MD(s))return;const{target:l}=s,c=e(l,s);if(typeof c!="function"||!l)return;const f=h=>{MD(h)&&(c(h),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return n.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const Cz=(t,e)=>e?t===e?!0:Cz(t,e.parentElement):!1,Nk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ooe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function joe(t){return Ooe.has(t.tagName)||t.tabIndex!==-1}const s1=new WeakSet;function FD(t){return e=>{e.key==="Enter"&&t(e)}}function O_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Roe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=FD(()=>{if(s1.has(r))return;O_(r,"down");const i=FD(()=>{O_(r,"up")}),o=()=>O_(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function LD(t){return Nk(t)&&!_z()}function Doe(t,e,r={}){const[n,i,o]=Az(t,r),a=s=>{const l=s.currentTarget;if(!LD(s))return;s1.add(l);const c=e(l,s),f=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),s1.has(l)&&s1.delete(l),LD(g)&&typeof c=="function"&&c(g,{success:x})},h=g=>{f(g,l===window||l===document||r.useGlobalTarget||Cz(l,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return n.forEach(s=>{(r.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),wz(s)&&(s.addEventListener("focus",c=>Roe(c,i)),!joe(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function Ez(t){return FU(t)&&"ownerSVGElement"in t}function Moe(t){return Ez(t)&&t.tagName==="svg"}const si=t=>!!(t&&t.getVelocity),Foe=[...yz,rn,bc],Loe=t=>Foe.find(gz(t)),Pk=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function BD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Boe(...t){return e=>{let r=!1;const n=t.map(i=>{const o=BD(i,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():BD(t[i],null)}}}}function Voe(...t){return k.useCallback(Boe(...t),t)}class $oe extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=wz(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Uoe({children:t,isPresent:e,anchorX:r,root:n}){const i=k.useId(),o=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=k.useContext(Pk),l=Voe(o,t?.ref);return k.useInsertionEffect(()=>{const{width:c,height:f,top:h,left:p,right:g}=a.current;if(e||!o.current||!c||!f)return;const x=r==="left"?`left: ${p}`:`right: ${g}`;o.current.dataset.motionPopId=i;const v=document.createElement("style");s&&(v.nonce=s);const b=n??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),u.jsx($oe,{isPresent:e,childRef:o,sizeRef:a,children:k.cloneElement(t,{ref:l})})}const zoe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:a,anchorX:s,root:l})=>{const c=sk(Woe),f=k.useId();let h=!0,p=k.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;n&&n()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[r,c,n]);return o&&h&&(p={...p}),k.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[r]),k.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(t=u.jsx(Uoe,{isPresent:r,anchorX:s,root:l,children:t})),u.jsx(mb.Provider,{value:p,children:t})};function Woe(){return new Map}function Sz(t=!0){const e=k.useContext(mb);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,o=k.useId();k.useEffect(()=>{if(t)return i(o)},[t]);const a=k.useCallback(()=>t&&n&&n(o),[o,n,t]);return!r&&n?[!1,a]:[!0]}const vv=t=>t.key||"";function VD(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const Yh=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:s="left",root:l})=>{const[c,f]=Sz(a),h=k.useMemo(()=>VD(t),[t]),p=a&&!c?[]:h.map(vv),g=k.useRef(!0),x=k.useRef(h),v=sk(()=>new Map),[b,_]=k.useState(h),[C,E]=k.useState(h);DU(()=>{g.current=!1,x.current=h;for(let S=0;S<C.length;S++){const T=vv(C[S]);p.includes(T)?v.delete(T):v.get(T)!==!0&&v.set(T,!1)}},[C,p.length,p.join("-")]);const P=[];if(h!==b){let S=[...h];for(let T=0;T<C.length;T++){const N=C[T],j=vv(N);p.includes(j)||(S.splice(T,0,N),P.push(N))}return o==="wait"&&P.length&&(S=P),E(VD(S)),_(h),null}const{forceRender:I}=k.useContext(ak);return u.jsx(u.Fragment,{children:C.map(S=>{const T=vv(S),N=a&&!c?!1:h===C||p.includes(T),j=()=>{if(v.has(T))v.set(T,!0);else return;let B=!0;v.forEach(M=>{M||(B=!1)}),B&&(I?.(),E(x.current),a&&f?.(),n&&n())};return u.jsx(zoe,{isPresent:N,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:N?void 0:j,anchorX:s,children:S},T)})})},Tz=k.createContext({strict:!1}),$D={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ih={};for(const t in $D)ih[t]={isEnabled:e=>$D[t].some(r=>!!e[r])};function Hoe(t){for(const e in t)ih[e]={...ih[e],...t[e]}}const qoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qoe.has(t)}let Iz=t=>!R1(t);function Goe(t){typeof t=="function"&&(Iz=e=>e.startsWith("on")?!R1(e):t(e))}try{Goe(require("@emotion/is-prop-valid").default)}catch{}function Koe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Iz(i)||r===!0&&R1(i)||!e&&!R1(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const gb=k.createContext({});function yb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pg(t){return typeof t=="string"||Array.isArray(t)}const kk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ok=["initial",...kk];function vb(t){return yb(t.animate)||Ok.some(e=>pg(t[e]))}function Nz(t){return!!(vb(t)||t.variants)}function Yoe(t,e){if(vb(t)){const{initial:r,animate:n}=t;return{initial:r===!1||pg(r)?r:void 0,animate:pg(n)?n:void 0}}return t.inherit!==!1?e:{}}function Xoe(t){const{initial:e,animate:r}=Yoe(t,k.useContext(gb));return k.useMemo(()=>({initial:e,animate:r}),[UD(e),UD(r)])}function UD(t){return Array.isArray(t)?t.join(" "):t}const mg={};function Qoe(t){for(const e in t)mg[e]=t[e],gk(e)&&(mg[e].isCSSVariable=!0)}function Pz(t,{layout:e,layoutId:r}){return Kh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!mg[t]||t==="opacity")}const Zoe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Joe=Gh.length;function eae(t,e,r){let n="",i=!0;for(let o=0;o<Joe;o++){const a=Gh[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||r){const c=bz(s,Tk[a]);if(!l){i=!1;const f=Zoe[a]||a;n+=`${f}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function jk(t,e,r){const{style:n,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const c=e[l];if(Kh.has(l)){a=!0;continue}else if(gk(l)){i[l]=c;continue}else{const f=bz(c,Tk[l]);l.startsWith("origin")?(s=!0,o[l]=f):n[l]=f}}if(e.transform||(a||r?n.transform=eae(e,t.transform,r):n.transform&&(n.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:f=0}=o;n.transformOrigin=`${l} ${c} ${f}`}}const Rk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kz(t,e,r){for(const n in e)!si(e[n])&&!Pz(n,r)&&(t[n]=e[n])}function tae({transformTemplate:t},e){return k.useMemo(()=>{const r=Rk();return jk(r,e,t),Object.assign({},r.vars,r.style)},[e])}function rae(t,e){const r=t.style||{},n={};return kz(n,r,t),Object.assign(n,tae(t,e)),n}function nae(t,e){const r={},n=rae(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const iae={offset:"stroke-dashoffset",array:"stroke-dasharray"},oae={offset:"strokeDashoffset",array:"strokeDasharray"};function aae(t,e,r=1,n=0,i=!0){t.pathLength=1;const o=i?iae:oae;t[o.offset]=pt.transform(-n);const a=pt.transform(e),s=pt.transform(r);t[o.array]=`${a} ${s}`}function Oz(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...s},l,c,f){if(jk(t,s,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&aae(h,i,o,a,!1)}const jz=()=>({...Rk(),attrs:{}}),Rz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sae(t,e,r,n){const i=k.useMemo(()=>{const o=jz();return Oz(o,e,Rz(n),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};kz(o,t.style,t),i.style={...o,...i.style}}return i}const lae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dk(t){return typeof t!="string"||t.includes("-")?!1:!!(lae.indexOf(t)>-1||/[A-Z]/u.test(t))}function cae(t,e,r,{latestValues:n},i,o=!1){const s=(Dk(t)?sae:nae)(e,n,i,t),l=Koe(e,typeof t=="string",o),c=t!==k.Fragment?{...l,...s,ref:r}:{},{children:f}=e,h=k.useMemo(()=>si(f)?f.get():f,[f]);return k.createElement(t,{...c,children:h})}function zD(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Mk(t,e,r,n){if(typeof e=="function"){const[i,o]=zD(n);e=e(r!==void 0?r:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=zD(n);e=e(r!==void 0?r:t.custom,i,o)}return e}function l1(t){return si(t)?t.get():t}function uae({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:fae(r,n,i,t),renderState:e()}}function fae(t,e,r,n){const i={},o=n(t,{});for(const p in o)i[p]=l1(o[p]);let{initial:a,animate:s}=t;const l=vb(t),c=Nz(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let f=r?r.initial===!1:!1;f=f||a===!1;const h=f?s:a;if(h&&typeof h!="boolean"&&!yb(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const x=Mk(t,p[g]);if(x){const{transitionEnd:v,transition:b,..._}=x;for(const C in _){let E=_[C];if(Array.isArray(E)){const P=f?E.length-1:0;E=E[P]}E!==null&&(i[C]=E)}for(const C in v)i[C]=v[C]}}}return i}const Dz=t=>(e,r)=>{const n=k.useContext(gb),i=k.useContext(mb),o=()=>uae(t,e,n,i);return r?o():sk(o)};function Fk(t,e,r){const{style:n}=t,i={};for(const o in n)(si(n[o])||e.style&&si(e.style[o])||Pz(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(i[o]=n[o]);return i}const dae=Dz({scrapeMotionValuesFromProps:Fk,createRenderState:Rk});function Mz(t,e,r){const n=Fk(t,e,r);for(const i in t)if(si(t[i])||si(e[i])){const o=Gh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=t[i]}return n}const hae=Dz({scrapeMotionValuesFromProps:Mz,createRenderState:jz}),pae=Symbol.for("motionComponentSymbol");function Id(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mae(t,e,r){return k.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Id(r)&&(r.current=n))},[e])}const Lk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gae="framerAppearId",Fz="data-"+Lk(gae),Lz=k.createContext({});function yae(t,e,r,n,i){const{visualElement:o}=k.useContext(gb),a=k.useContext(Tz),s=k.useContext(mb),l=k.useContext(Pk).reducedMotion,c=k.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:o,props:r,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const f=c.current,h=k.useContext(Lz);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&vae(c.current,r,i,h);const p=k.useRef(!1);k.useInsertionEffect(()=>{f&&p.current&&f.update(r,s)});const g=r[Fz],x=k.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return DU(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),f.enteringChildren=void 0)}),f}function vae(t,e,r,n){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Bz(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&Id(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:l,layoutRoot:c})}function Bz(t){if(t)return t.options.allowProjection!==!1?t.projection:Bz(t.parent)}function j_(t,{forwardMotionProps:e=!1}={},r,n){r&&Hoe(r);const i=Dk(t)?hae:dae;function o(s,l){let c;const f={...k.useContext(Pk),...s,layoutId:xae(s)},{isStatic:h}=f,p=Xoe(s),g=i(s,h);if(!h&&lk){bae();const x=wae(f);c=x.MeasureLayout,p.visualElement=yae(t,g,f,n,x.ProjectionNode)}return u.jsxs(gb.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...f}):null,cae(t,s,mae(g,p.visualElement,l),g,h,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=k.forwardRef(o);return a[pae]=t,a}function xae({layoutId:t}){const e=k.useContext(ak).id;return e&&t!==void 0?e+"-"+t:t}function bae(t,e){k.useContext(Tz).strict}function wae(t){const{drag:e,layout:r}=ih;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function _ae(t,e){if(typeof Proxy>"u")return j_;const r=new Map,n=(o,a)=>j_(o,a,t,e),i=(o,a)=>n(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?n:(r.has(a)||r.set(a,j_(a,void 0,t,e)),r.get(a))})}function Vz({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Aae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Cae(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function R_(t){return t===void 0||t===1}function aI({scale:t,scaleX:e,scaleY:r}){return!R_(t)||!R_(e)||!R_(r)}function Eu(t){return aI(t)||$z(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $z(t){return WD(t.x)||WD(t.y)}function WD(t){return t&&t!=="0%"}function D1(t,e,r){const n=t-r,i=e*n;return r+i}function HD(t,e,r,n,i){return i!==void 0&&(t=D1(t,i,n)),D1(t,r,n)+e}function sI(t,e=0,r=1,n,i){t.min=HD(t.min,e,r,n,i),t.max=HD(t.max,e,r,n,i)}function Uz(t,{x:e,y:r}){sI(t.x,e.translate,e.scale,e.originPoint),sI(t.y,r.translate,r.scale,r.originPoint)}const qD=.999999999999,GD=1.0000000000001;function Eae(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=r[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pd(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Uz(t,a)),n&&Eu(o.latestValues)&&Pd(t,o.latestValues))}e.x<GD&&e.x>qD&&(e.x=1),e.y<GD&&e.y>qD&&(e.y=1)}function Nd(t,e){t.min=t.min+e,t.max=t.max+e}function KD(t,e,r,n,i=.5){const o=Mr(t.min,t.max,i);sI(t,e,r,o,n)}function Pd(t,e){KD(t.x,e.x,e.scaleX,e.scale,e.originX),KD(t.y,e.y,e.scaleY,e.scale,e.originY)}function zz(t,e){return Vz(Cae(t.getBoundingClientRect(),e))}function Sae(t,e,r){const n=zz(t,r),{scroll:i}=e;return i&&(Nd(n.x,i.offset.x),Nd(n.y,i.offset.y)),n}const YD=()=>({translate:0,scale:1,origin:0,originPoint:0}),kd=()=>({x:YD(),y:YD()}),XD=()=>({min:0,max:0}),Yr=()=>({x:XD(),y:XD()}),lI={current:null},Wz={current:!1};function Tae(){if(Wz.current=!0,!!lk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lI.current=t.matches;t.addEventListener("change",e),e()}else lI.current=!1}const Iae=new WeakMap;function Nae(t,e,r){for(const n in e){const i=e[n],o=r[n];if(si(i))t.addValue(n,i);else if(si(o))t.addValue(n,nh(i,{owner:t}));else if(o!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,nh(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const QD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pae{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ek,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Mi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,kr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=vb(r),this.isVariantNode=Nz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&si(g)&&g.set(l[p])}}mount(e){this.current=e,Iae.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Wz.current||Tae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lI.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xc(this.notifyUpdate),xc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Kh.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&kr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ih){const r=ih[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<QD.length;n++){const i=QD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Nae(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=nh(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(MU(n)||LU(n))?n=parseFloat(n):!Loe(n)&&bc.test(r)&&(n=xz(e,r)),this.setBaseTarget(e,si(n)?n.get():n)),si(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Mk(this.props,r,this.presenceContext?.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!si(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new hk),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Ik.render(this.render)}}class Hz extends Pae{constructor(){super(...arguments),this.KeyframeResolver=Soe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;si(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qz(t,{style:e,vars:r},n,i){const o=t.style;let a;for(a in e)o[a]=e[a];i?.applyProjectionStyles(o,n);for(a in r)o.setProperty(a,r[a])}function kae(t){return window.getComputedStyle(t)}class Oae extends Hz{constructor(){super(...arguments),this.type="html",this.renderInstance=qz}readValueFromInstance(e,r){if(Kh.has(r))return this.projection?.isProjecting?JT(r):Hie(e,r);{const n=kae(e),i=(gk(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return zz(e,r)}build(e,r,n){jk(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Fk(e,r,n)}}const Gz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jae(t,e,r,n){qz(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Gz.has(i)?i:Lk(i),e.attrs[i])}class Rae extends Hz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Kh.has(r)){const n=vz(r);return n&&n.default||0}return r=Gz.has(r)?r:Lk(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Mz(e,r,n)}build(e,r,n){Oz(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){jae(e,r,n,i)}mount(e){this.isSVGTag=Rz(e.tagName),super.mount(e)}}const Dae=(t,e)=>Dk(t)?new Rae(e):new Oae(e,{allowProjection:t!==k.Fragment});function $d(t,e,r){const n=t.getProps();return Mk(n,e,r!==void 0?r:n.custom,t)}const cI=t=>Array.isArray(t);function Mae(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,nh(r))}function Fae(t){return cI(t)?t[t.length-1]||0:t}function Lae(t,e){const r=$d(t,e);let{transitionEnd:n={},transition:i={},...o}=r||{};o={...o,...n};for(const a in o){const s=Fae(o[a]);Mae(t,a,s)}}function Bae(t){return!!(si(t)&&t.add)}function uI(t,e){const r=t.getValue("willChange");if(Bae(r))return r.add(e);if(!r&&nl.WillChange){const n=new nl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Kz(t){return t.props[Fz]}const Vae=t=>t!==null;function $ae(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Vae),o=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[o]}const Uae={type:"spring",stiffness:500,damping:25,restSpeed:10},zae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wae={type:"keyframes",duration:.8},Hae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qae=(t,{keyframes:e})=>e.length>2?Wae:Kh.has(t)?t.startsWith("scale")?zae(e[1]):Uae:Hae;function Gae({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const Bk=(t,e,r,n={},i,o)=>a=>{const s=Sk(n,t)||{},l=s.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Za(l);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};Gae(s)||Object.assign(f,qae(t,f)),f.duration&&(f.duration=Za(f.duration)),f.repeatDelay&&(f.repeatDelay=Za(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(iI(f),f.delay===0&&(h=!0)),(nl.instantAnimations||nl.skipAnimations)&&(h=!0,iI(f),f.delay=0),f.allowFlatten=!s.type&&!s.ease,h&&!o&&e.get()!==void 0){const p=$ae(f.keyframes,s);if(p!==void 0){kr.update(()=>{f.onUpdate(p),f.onComplete()});return}}return s.isSync?new Ck(f):new poe(f)};function Kae({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Yz(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...s}=e;n&&(o=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f,t.latestValues[f]??null),p=s[f];if(p===void 0||c&&Kae(c,f))continue;const g={delay:r,...Sk(o||{},f)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const _=Kz(t);if(_){const C=window.MotionHandoffAnimation(_,f,kr);C!==null&&(g.startTime=C,v=!0)}}uI(t,f),h.start(Bk(f,h,p,t.shouldReduceMotion&&mz.has(f)?{type:!1}:g,t,v));const b=h.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{kr.update(()=>{a&&Lae(t,a)})}),l}function Xz(t,e,r,n=0,i=1){const o=Array.from(t).sort((c,f)=>c.sortNodePosition(f)).indexOf(e),a=t.size,s=(a-1)*n;return typeof r=="function"?r(o,a):i===1?o*n:s-o*n}function fI(t,e,r={}){const n=$d(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const o=n?()=>Promise.all(Yz(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=i;return Yae(t,e,l,c,f,h,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[o,a]:[a,o];return l().then(()=>c())}else return Promise.all([o(),a(r.delay)])}function Yae(t,e,r=0,n=0,i=0,o=1,a){const s=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),s.push(fI(l,e,{...a,delay:r+(typeof n=="function"?0:n)+Xz(t.variantChildren,l,n,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(s)}function Xae(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>fI(t,o,r));n=Promise.all(i)}else if(typeof e=="string")n=fI(t,e,r);else{const i=typeof e=="function"?$d(t,e,r.custom):e;n=Promise.all(Yz(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Qz(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Qae=Ok.length;function Zz(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Zz(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Qae;r++){const n=Ok[r],i=t.props[n];(pg(i)||i===!1)&&(e[n]=i)}return e}const Zae=[...kk].reverse(),Jae=kk.length;function ese(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Xae(t,r,n)))}function tse(t){let e=ese(t),r=ZD(),n=!0;const i=l=>(c,f)=>{const h=$d(t,f,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:g,...x}=h;c={...c,...x,...g}}return c};function o(l){e=l(t)}function a(l){const{props:c}=t,f=Zz(t.parent)||{},h=[],p=new Set;let g={},x=1/0;for(let b=0;b<Jae;b++){const _=Zae[b],C=r[_],E=c[_]!==void 0?c[_]:f[_],P=pg(E),I=_===l?C.isActive:null;I===!1&&(x=b);let S=E===f[_]&&E!==c[_]&&P;if(S&&n&&t.manuallyAnimateOnMount&&(S=!1),C.protectedKeys={...g},!C.isActive&&I===null||!E&&!C.prevProp||yb(E)||typeof E=="boolean")continue;const T=rse(C.prevProp,E);let N=T||_===l&&C.isActive&&!S&&P||b>x&&P,j=!1;const B=Array.isArray(E)?E:[E];let M=B.reduce(i(_),{});I===!1&&(M={});const{prevResolvedValues:L={}}=C,F={...L,...M},$=Z=>{N=!0,p.has(Z)&&(j=!0,p.delete(Z)),C.needsAnimating[Z]=!0;const q=t.getValue(Z);q&&(q.liveStyle=!1)};for(const Z in F){const q=M[Z],re=L[Z];if(g.hasOwnProperty(Z))continue;let U=!1;cI(q)&&cI(re)?U=!Qz(q,re):U=q!==re,U?q!=null?$(Z):p.add(Z):q!==void 0&&p.has(Z)?$(Z):C.protectedKeys[Z]=!0}C.prevProp=E,C.prevResolvedValues=M,C.isActive&&(g={...g,...M}),n&&t.blockInitialAnimation&&(N=!1);const H=S&&T;N&&(!H||j)&&h.push(...B.map(Z=>{const q={type:_};if(typeof Z=="string"&&n&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,U=$d(re,Z);if(re.enteringChildren&&U){const{delayChildren:X}=U.transition||{};q.delay=Xz(re.enteringChildren,t,X)}}return{animation:Z,options:q}}))}if(p.size){const b={};if(typeof c.initial!="boolean"){const _=$d(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(b.transition=_.transition)}p.forEach(_=>{const C=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),b[_]=C??null}),h.push({animation:b})}let v=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function s(l,c){if(r[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),r[l].isActive=c;const f=a(l);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>r,reset:()=>{r=ZD()}}}function rse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qz(e,t):!1}function vu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZD(){return{animate:vu(!0),whileInView:vu(),whileHover:vu(),whileTap:vu(),whileDrag:vu(),whileFocus:vu(),exit:vu()}}class kc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nse extends kc{constructor(e){super(e),e.animationState||(e.animationState=tse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ise=0;class ose extends kc{constructor(){super(...arguments),this.id=ise++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ase={animation:{Feature:nse},exit:{Feature:ose}};function gg(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function by(t){return{point:{x:t.pageX,y:t.pageY}}}const sse=t=>e=>Nk(e)&&t(e,by(e));function Hm(t,e,r,n){return gg(t,e,sse(r),n)}const Jz=1e-4,lse=1-Jz,cse=1+Jz,eW=.01,use=0-eW,fse=0+eW;function xi(t){return t.max-t.min}function dse(t,e,r){return Math.abs(t-e)<=r}function JD(t,e,r,n=.5){t.origin=n,t.originPoint=Mr(e.min,e.max,t.origin),t.scale=xi(r)/xi(e),t.translate=Mr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=lse&&t.scale<=cse||isNaN(t.scale))&&(t.scale=1),(t.translate>=use&&t.translate<=fse||isNaN(t.translate))&&(t.translate=0)}function qm(t,e,r,n){JD(t.x,e.x,r.x,n?n.originX:void 0),JD(t.y,e.y,r.y,n?n.originY:void 0)}function e6(t,e,r){t.min=r.min+e.min,t.max=t.min+xi(e)}function hse(t,e,r){e6(t.x,e.x,r.x),e6(t.y,e.y,r.y)}function t6(t,e,r){t.min=e.min-r.min,t.max=t.min+xi(e)}function Gm(t,e,r){t6(t.x,e.x,r.x),t6(t.y,e.y,r.y)}function Po(t){return[t("x"),t("y")]}const tW=({current:t})=>t?t.ownerDocument.defaultView:null,r6=(t,e)=>Math.abs(t-e);function pse(t,e){const r=r6(t.x,e.x),n=r6(t.y,e.y);return Math.sqrt(r**2+n**2)}class rW{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=M_(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=pse(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:b}=Wn;this.history.push({...v,timestamp:b});const{onStart:_,onMove:C}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=D_(g,this.transformPagePoint),kr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=M_(p.type==="pointercancel"?this.lastMoveEventInfo:D_(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,_),v&&v(p,_)},!Nk(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const s=by(e),l=D_(s,this.transformPagePoint),{point:c}=l,{timestamp:f}=Wn;this.history=[{...c,timestamp:f}];const{onSessionStart:h}=r;h&&h(e,M_(l,this.history)),this.removeListeners=yy(Hm(this.contextWindow,"pointermove",this.handlePointerMove),Hm(this.contextWindow,"pointerup",this.handlePointerUp),Hm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xc(this.updatePoint)}}function D_(t,e){return e?{point:e(t.point)}:t}function n6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function M_({point:t},e){return{point:t,delta:n6(t,nW(e)),offset:n6(t,mse(e)),velocity:gse(e,.1)}}function mse(t){return t[0]}function nW(t){return t[t.length-1]}function gse(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=nW(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Za(e)));)r--;if(!n)return{x:0,y:0};const o=Lo(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function yse(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Mr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Mr(r,t,n.max):Math.min(t,r)),t}function i6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function vse(t,{top:e,left:r,bottom:n,right:i}){return{x:i6(t.x,r,i),y:i6(t.y,e,n)}}function o6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function xse(t,e){return{x:o6(t.x,e.x),y:o6(t.y,e.y)}}function bse(t,e){let r=.5;const n=xi(t),i=xi(e);return i>n?r=fg(e.min,e.max-n,t.min):n>i&&(r=fg(t.min,t.max-i,e.min)),rl(0,1,r)}function wse(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const dI=.35;function _se(t=dI){return t===!1?t=0:t===!0&&(t=dI),{x:a6(t,"left","right"),y:a6(t,"top","bottom")}}function a6(t,e,r){return{min:s6(t,e),max:s6(t,r)}}function s6(t,e){return typeof t=="number"?t:t[e]||0}const Ase=new WeakMap;class Cse{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(by(h).point)},a=(h,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Poe(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Po(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Ja.test(C)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[_];P&&(C=xi(P)*(parseFloat(C)/100))}}this.originPoint[_]=C}),v&&kr.postRender(()=>v(h,p)),uI(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(x&&this.currentDirection===null){this.currentDirection=Ese(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Po(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new rW(e,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:tW(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&kr.postRender(()=>s(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!xv(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=yse(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Id(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=vse(n.layoutBox,e):this.constraints=!1,this.elastic=_se(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Po(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=wse(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Id(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Sae(n,i.root,this.visualElement.getTransformPagePoint());let a=xse(i.layout.layoutBox,o);if(r){const s=r(Aae(a));this.hasMutatedConstraints=!!s,s&&(a=Vz(s))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Po(f=>{if(!xv(f,r,this.currentDirection))return;let h=l&&l[f]||{};a&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:n?e[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(f,x)});return Promise.all(c).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return uI(this.visualElement,e),n.start(Bk(e,n,0,r,this.visualElement,!1))}stopAnimation(){Po(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Po(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Po(r=>{const{drag:n}=this.getProps();if(!xv(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[r];o.set(e[r]-Mr(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Id(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Po(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=bse({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Po(a=>{if(!xv(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];s.set(Mr(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Ase.set(this.visualElement,this);const e=this.visualElement.current,r=Hm(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Id(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kr.read(n);const a=gg(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Po(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())}));return()=>{a(),r(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=dI,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function xv(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Ese(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Sse extends kc{constructor(e){super(e),this.removeGroupControls=$o,this.removeListeners=$o,this.controls=new Cse(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$o}unmount(){this.removeGroupControls(),this.removeListeners()}}const l6=t=>(e,r)=>{t&&kr.postRender(()=>t(e,r))};class Tse extends kc{constructor(){super(...arguments),this.removePointerDownListener=$o}onPointerDown(e){this.session=new rW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:l6(e),onStart:l6(r),onMove:n,onEnd:(o,a)=>{delete this.session,i&&kr.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Hm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const c1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const r=c6(t,e.target.x),n=c6(t,e.target.y);return`${r}% ${n}%`}},Ise={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=bc.parse(t);if(i.length>5)return n;const o=bc.createTransformer(t),a=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const c=Mr(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),o(i)}};let F_=!1;class Nse extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;Qoe(Pse),o&&(r.group&&r.group.add(o),n&&n.register&&i&&n.register(o),F_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),c1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:o}=this.props,{projection:a}=n;return a&&(a.isPresent=o,F_=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||kr.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ik.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;F_=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iW(t){const[e,r]=Sz(),n=k.useContext(ak);return u.jsx(Nse,{...t,layoutGroup:n,switchLayoutGroup:k.useContext(Lz),isPresent:e,safeToRemove:r})}const Pse={borderRadius:{...cm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cm,borderTopRightRadius:cm,borderBottomLeftRadius:cm,borderBottomRightRadius:cm,boxShadow:Ise};function kse(t,e,r){const n=si(t)?t:nh(t);return n.start(Bk("",n,e,r)),n.animation}const Ose=(t,e)=>t.depth-e.depth;class jse{constructor(){this.children=[],this.isDirty=!1}add(e){ck(this.children,e),this.isDirty=!0}remove(e){uk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ose),this.isDirty=!1,this.children.forEach(e)}}function Rse(t,e){const r=Mi.now(),n=({timestamp:i})=>{const o=i-r;o>=e&&(xc(n),t(o-e))};return kr.setup(n,!0),()=>xc(n)}const oW=["TopLeft","TopRight","BottomLeft","BottomRight"],Dse=oW.length,u6=t=>typeof t=="string"?parseFloat(t):t,f6=t=>typeof t=="number"||pt.test(t);function Mse(t,e,r,n,i,o){i?(t.opacity=Mr(0,r.opacity??1,Fse(n)),t.opacityExit=Mr(e.opacity??1,0,Lse(n))):o&&(t.opacity=Mr(e.opacity??1,r.opacity??1,n));for(let a=0;a<Dse;a++){const s=`border${oW[a]}Radius`;let l=d6(e,s),c=d6(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||f6(l)===f6(c)?(t[s]=Math.max(Mr(u6(l),u6(c),n),0),(Ja.test(c)||Ja.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||r.rotate)&&(t.rotate=Mr(e.rotate||0,r.rotate||0,n))}function d6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Fse=aW(0,.5,qU),Lse=aW(.5,.95,$o);function aW(t,e,r){return n=>n<t?0:n>e?1:r(fg(t,e,n))}function h6(t,e){t.min=e.min,t.max=e.max}function So(t,e){h6(t.x,e.x),h6(t.y,e.y)}function p6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function m6(t,e,r,n,i){return t-=e,t=D1(t,1/r,n),i!==void 0&&(t=D1(t,1/i,n)),t}function Bse(t,e=0,r=1,n=.5,i,o=t,a=t){if(Ja.test(e)&&(e=parseFloat(e),e=Mr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=Mr(o.min,o.max,n);t===o&&(s-=e),t.min=m6(t.min,e,r,s,i),t.max=m6(t.max,e,r,s,i)}function g6(t,e,[r,n,i],o,a){Bse(t,e[r],e[n],e[i],e.scale,o,a)}const Vse=["x","scaleX","originX"],$se=["y","scaleY","originY"];function y6(t,e,r,n){g6(t.x,e,Vse,r?r.x:void 0,n?n.x:void 0),g6(t.y,e,$se,r?r.y:void 0,n?n.y:void 0)}function v6(t){return t.translate===0&&t.scale===1}function sW(t){return v6(t.x)&&v6(t.y)}function x6(t,e){return t.min===e.min&&t.max===e.max}function Use(t,e){return x6(t.x,e.x)&&x6(t.y,e.y)}function b6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lW(t,e){return b6(t.x,e.x)&&b6(t.y,e.y)}function w6(t){return xi(t.x)/xi(t.y)}function _6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zse{constructor(){this.members=[]}add(e){ck(this.members,e),e.scheduleRender()}remove(e){if(uk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wse(t,e,r){let n="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=r?.z||0;if((i||o||a)&&(n=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:p,skewX:g,skewY:x}=r;c&&(n=`perspective(${c}px) ${n}`),f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(n+=`scale(${s}, ${l})`),n||"none"}const L_=["","X","Y","Z"],Hse=1e3;let qse=0;function B_(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function cW(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Kz(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kr,!(i||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&cW(n)}function uW({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},s=e?.()){this.id=qse++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yse),this.nodes.forEach(Jse),this.nodes.forEach(ele),this.nodes.forEach(Xse)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jse)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hk),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ez(a)&&!Moe(a),this.instance=a;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),t){let f,h=0;const p=()=>this.root.updateBlockedByResize=!1;kr.read(()=>{h=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,f&&f(),f=Rse(p,250),c1.hasAnimatedSinceResize&&(c1.hasAnimatedSinceResize=!1,this.nodes.forEach(E6)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||ole,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=c.getProps(),_=!this.targetLayout||!lW(this.targetLayout,g),C=!h&&p;if(this.options.layoutRoot||this.resumeFrom||C||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Sk(x,"layout"),onPlay:v,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,C)}else h||E6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tle),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zse),this.nodes.forEach(Gse),this.nodes.forEach(Kse)):this.nodes.forEach(C6),this.clearAllSnapshots();const s=Mi.now();Wn.delta=rl(0,1e3/60,s-Wn.timestamp),Wn.timestamp=s,Wn.isProcessing=!0,T_.update.process(Wn),T_.preRender.process(Wn),T_.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ik.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qse),this.sharedNodes.forEach(rle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xi(this.snapshot.measuredBox.x)&&!xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!sW(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;a&&this.instance&&(s||Eu(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),ale(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Yr();const s=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sle))){const{scroll:c}=this.root;c&&(Nd(s.x,c.offset.x),Nd(s.y,c.offset.y))}return s}removeElementScroll(a){const s=Yr();if(So(s,a),this.scroll?.wasRoot)return s;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&So(s,a),Nd(s.x,f.offset.x),Nd(s.y,f.offset.y))}return s}applyTransform(a,s=!1){const l=Yr();So(l,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];!s&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Pd(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Eu(f.latestValues)&&Pd(l,f.latestValues)}return Eu(this.latestValues)&&Pd(l,this.latestValues),l}removeTransform(a){const s=Yr();So(s,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Eu(c.latestValues))continue;aI(c.latestValues)&&c.updateSnapshot();const f=Yr(),h=c.measurePageBox();So(f,h),y6(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return Eu(this.latestValues)&&y6(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),Gm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),So(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):So(this.target,this.layout.layoutBox),Uz(this.target,this.targetDelta)):So(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),Gm(this.relativeTargetOrigin,this.target,p.target),So(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aI(this.parent.latestValues)||$z(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),s=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;So(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Eae(this.layoutCorrected,this.treeScale,this.path,s),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Yr());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p6(this.prevProjectionDelta.x,this.projectionDelta.x),p6(this.prevProjectionDelta.y,this.projectionDelta.y)),qm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!_6(this.projectionDelta.x,this.prevProjectionDelta.x)||!_6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kd(),this.projectionDelta=kd(),this.projectionDeltaWithTransform=kd()}setAnimationOrigin(a,s=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},h=kd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=Yr(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),_=!b||b.members.length<=1,C=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(ile));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const I=P/1e3;S6(h.x,a.x,I),S6(h.y,a.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gm(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nle(this.relativeTarget,this.relativeTargetOrigin,p,I),E&&Use(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Yr()),So(E,this.relativeTarget)),v&&(this.animationValues=f,Mse(f,c,this.latestValues,I,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kr.update(()=>{c1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nh(0)),this.currentAnimation=kse(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hse),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:f}=a;if(!(!s||!l||!c)){if(this!==a&&this.layout&&c&&fW(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Yr();const h=xi(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const p=xi(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}So(s,l),Pd(s,f),qm(this.projectionDeltaWithTransform,this.layoutCorrected,s,f)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new zse),this.sharedNodes.get(a).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&B_("z",a,c,this.animationValues);for(let f=0;f<L_.length;f++)B_(`rotate${L_[f]}`,a,c,this.animationValues),B_(`skew${L_[f]}`,a,c,this.animationValues);a.render();for(const f in c)a.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);a.scheduleRender()}applyProjectionStyles(a,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=l1(s?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=l1(s?.pointerEvents)||""),this.hasProjected&&!Eu(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Wse(this.projectionDeltaWithTransform,this.treeScale,f);l&&(h=l(f,h)),a.transform=h;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in mg){if(f[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:_}=mg[x],C=h==="none"?f[x]:v(f[x],c);if(b){const E=b.length;for(let P=0;P<E;P++)a[b[P]]=C}else _?this.options.visualElement.renderState.vars[x]=C:a[x]=C}this.options.layoutId&&(a.pointerEvents=c===this?l1(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(A6),this.root.sharedNodes.clear()}}}function Gse(t){t.updateLayout()}function Kse(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Po(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],p=xi(h);h.min=r[f].min,h.max=h.min+p}):fW(i,e.layoutBox,r)&&Po(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],p=xi(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=kd();qm(a,r,e.layoutBox);const s=kd();o?qm(s,t.applyTransform(n,!0),e.measuredBox):qm(s,r,e.layoutBox);const l=!sW(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Yr();Gm(g,e.layoutBox,h.layoutBox);const x=Yr();Gm(x,r,p.layoutBox),lW(g,x)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Yse(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xse(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Qse(t){t.clearSnapshot()}function A6(t){t.clearMeasurements()}function C6(t){t.isLayoutDirty=!1}function Zse(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function E6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jse(t){t.resolveTargetDelta()}function ele(t){t.calcProjection()}function tle(t){t.resetSkewAndRotation()}function rle(t){t.removeLeadSnapshot()}function S6(t,e,r){t.translate=Mr(e.translate,0,r),t.scale=Mr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function T6(t,e,r,n){t.min=Mr(e.min,r.min,n),t.max=Mr(e.max,r.max,n)}function nle(t,e,r,n){T6(t.x,e.x,r.x,n),T6(t.y,e.y,r.y,n)}function ile(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ole={duration:.45,ease:[.4,0,.1,1]},I6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),N6=I6("applewebkit/")&&!I6("chrome/")?Math.round:$o;function P6(t){t.min=N6(t.min),t.max=N6(t.max)}function ale(t){P6(t.x),P6(t.y)}function fW(t,e,r){return t==="position"||t==="preserve-aspect"&&!dse(w6(e),w6(r),.2)}function sle(t){return t!==t.root&&t.scroll?.wasRoot}const lle=uW({attachResizeListener:(t,e)=>gg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),V_={current:void 0},dW=uW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!V_.current){const t=new lle({});t.mount(window),t.setOptions({layoutScroll:!0}),V_.current=t}return V_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cle={pan:{Feature:Tse},drag:{Feature:Sse,ProjectionNode:dW,MeasureLayout:iW}};function k6(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,o=n[i];o&&kr.postRender(()=>o(e,by(e)))}class ule extends kc{mount(){const{current:e}=this.node;e&&(this.unmount=koe(e,(r,n)=>(k6(this.node,n,"Start"),i=>k6(this.node,i,"End"))))}unmount(){}}class fle extends kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yy(gg(this.node.current,"focus",()=>this.onFocus()),gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O6(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),o=n[i];o&&kr.postRender(()=>o(e,by(e)))}class dle extends kc{mount(){const{current:e}=this.node;e&&(this.unmount=Doe(e,(r,n)=>(O6(this.node,n,"Start"),(i,{success:o})=>O6(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hI=new WeakMap,$_=new WeakMap,hle=t=>{const e=hI.get(t.target);e&&e(t)},ple=t=>{t.forEach(hle)};function mle({root:t,...e}){const r=t||document;$_.has(r)||$_.set(r,{});const n=$_.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(ple,{root:t,...e})),n[i]}function gle(t,e,r){const n=mle(e);return hI.set(t,r),n.observe(t),()=>{hI.delete(t),n.unobserve(t)}}const yle={some:0,all:1};class vle extends kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:o}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:yle[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=c?f:h;p&&p(l)};return gle(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(xle(e,r))&&this.startObserver()}unmount(){}}function xle({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const ble={inView:{Feature:vle},tap:{Feature:dle},focus:{Feature:fle},hover:{Feature:ule}},wle={layout:{ProjectionNode:dW,MeasureLayout:iW}},_le={...ase,...ble,...cle,...wle},mt=_ae(_le,Dae);function Ale(t){const e=new Date().getHours();return!t.hasLoggedMeals&&!t.hasLoggedWorkout?Cle(e):e>=5&&e<12?Ele(t):e>=12&&e<17?Sle(t):e>=17&&e<22?Tle(t):Ile(t)}function Cle(t){return t>=5&&t<12?{message:"Good morning! Start your day by logging your breakfast.",emoji:"🌅",type:"reminder"}:t>=12&&t<17?{message:"Welcome! Track your first meal to start your fitness journey.",emoji:"🎯",type:"reminder"}:t>=17&&t<22?{message:"Ready to get started? Log your dinner and today's workout!",emoji:"💪",type:"reminder"}:{message:"Start fresh tomorrow! Set up your goals and get ready to track.",emoji:"🌙",type:"motivational"}}function Ele(t){const{hasLoggedMeals:e,goalType:r,macroProgress:n}=t;if(!e){const i=[{message:"Good morning! Don't forget to log your breakfast to stay on track.",emoji:"☀️",type:"reminder"},{message:"Rise and shine! Start your day by tracking your morning meal.",emoji:"🌅",type:"reminder"},{message:"Morning! Fuel up and log it — breakfast is your most important meal.",emoji:"🍳",type:"reminder"}];return i[Math.floor(Math.random()*i.length)]}return r==="bulk"&&n&&n.protein<n.targetProtein*.3?{message:"Great start! Consider adding a protein shake to hit your muscle-building goals.",emoji:"💪",type:"suggestion"}:r==="cut"&&n&&n.calories<n.targetCalories*.25?{message:"Good morning! You're off to a light start — perfect for your cutting goals.",emoji:"🎯",type:"achievement"}:{message:"Morning routine looking good! Keep up the momentum throughout the day.",emoji:"🔥",type:"motivational"}}function Sle(t){const{hasLoggedMeals:e,hasLoggedWorkout:r,goalType:n,macroProgress:i}=t;if(!e)return{message:"Haven't tracked anything yet? It's not too late — log your lunch now!",emoji:"🍽️",type:"reminder"};if(!r){const o=[{message:"Great time for a workout! Even 30 minutes can make a difference.",emoji:"🏋️",type:"suggestion"},{message:"Afternoon energy dip? A quick workout can boost your mood and metabolism.",emoji:"⚡",type:"suggestion"}];return o[Math.floor(Math.random()*o.length)]}if(i){const o=i.protein/i.targetProtein*100,a=i.calories/i.targetCalories*100;if(o>=80&&o<100)return{message:"You're close to your protein goal — want to add a shake?",emoji:"🥤",type:"suggestion"};if(a>100&&n==="cut")return{message:"You've exceeded your calorie target. Consider a lighter dinner tonight.",emoji:"⚖️",type:"suggestion"};if(a<50&&(n==="bulk"||n==="maintain"))return{message:"You're running low on calories! Make sure to fuel up properly.",emoji:"🍱",type:"reminder"}}return{message:"Afternoon check-in: You're doing great! Stay consistent.",emoji:"✨",type:"motivational"}}function Tle(t){const{hasLoggedMeals:e,hasLoggedWorkout:r,goalType:n,macroProgress:i}=t;if(!r){const o=[{message:"Evening workout time! Get moving before the day ends.",emoji:"🌆",type:"reminder"},{message:"No workout logged yet? A quick session now can help you sleep better!",emoji:"💤",type:"suggestion"}];return o[Math.floor(Math.random()*o.length)]}if(!e)return{message:"Don't forget to log your dinner! Tracking is key to progress.",emoji:"🌙",type:"reminder"};if(i){const o=i.protein/i.targetProtein*100,a=i.calories/i.targetCalories*100;if(o>=90&&o<=110&&a>=90&&a<=110)return{message:"Perfect day! You've hit your macro targets like a pro! 🎉",emoji:"🏆",type:"achievement"};if(o<70)return{message:"Low on protein today. Add some lean meat or a protein shake with dinner!",emoji:"🥩",type:"suggestion"};if(a<70&&n==="bulk")return{message:"You need more calories to bulk effectively! Time for a substantial dinner.",emoji:"🍗",type:"reminder"}}return{message:"Evening wind-down: Review your progress and plan for tomorrow!",emoji:"📊",type:"motivational"}}function Ile(t){const{hasLoggedMeals:e,macroProgress:r}=t;if(!e)return{message:"Late night? Log what you ate today so you don't forget tomorrow!",emoji:"🌙",type:"reminder"};if(r&&r.calories>r.targetCalories*1.2)return{message:"Over target today? Don't stress! Tomorrow is a fresh start.",emoji:"💙",type:"motivational"};const n=[{message:"Great job tracking today! Get some rest and crush it tomorrow.",emoji:"😴",type:"motivational"},{message:"Late night? Avoid heavy snacking and stay hydrated before bed!",emoji:"💧",type:"suggestion"},{message:"Time to rest! Recovery is just as important as training.",emoji:"🛌",type:"motivational"}];return n[Math.floor(Math.random()*n.length)]}function Nle({onCoachAIClick:t,userName:e,hasLoggedMeals:r=!1,hasLoggedWorkout:n=!1,goalType:i,macroProgress:o}){const a=k.useMemo(()=>Ale({hasLoggedMeals:r,hasLoggedWorkout:n,goalType:i,macroProgress:o}),[e,r,n,i,o]),s=()=>{switch(a.type){case"achievement":return["#FFB6B9","#FF8FA3"];case"reminder":return["#1C7C54","#16a34a"];case"suggestion":return["#A8E6CF","#1C7C54"];case"motivational":return["#22c55e","#16a34a"];default:return["#1C7C54","#16a34a"]}},[l,c]=s();return u.jsx(mt.div,{className:"px-4 sm:px-6 lg:px-8 py-4 shadow-[0_0_15px_rgba(0,0,0,0.05)]",animate:{background:[`linear-gradient(90deg, ${l}, ${c})`,`linear-gradient(90deg, ${c}, ${l})`]},transition:{repeat:1/0,duration:5,ease:"easeInOut"},children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx(mt.div,{animate:{rotate:[0,10,-10,10,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},children:u.jsx("span",{className:"text-2xl flex-shrink-0",children:a.emoji})}),u.jsx("p",{className:"text-white text-sm sm:text-base",children:a.message})]}),t&&u.jsxs("button",{onClick:t,className:"text-sm text-white/90 hover:text-white underline decoration-white/50 hover:decoration-white transition-all flex items-center gap-1.5 whitespace-nowrap flex-shrink-0 hover:-translate-y-0.5 active:translate-y-0",children:[u.jsx(N1,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Ask Coach AI"}),u.jsx("span",{className:"sm:hidden",children:"Ask AI"})]})]})})}function Ple({onFitnessScoreClick:t,userName:e="there"}){const r=()=>{const n=new Date().getHours();return n<12?"Good morning":n<18?"Good afternoon":"Good evening"};return u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{style:{color:"var(--text-primary)"},children:[r(),", ",e]}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Let's start your journey today!"})]}),u.jsxs("button",{onClick:t,className:"hidden items-center gap-3 hover:opacity-80 transition-all hover:-translate-y-0.5 active:translate-y-0",children:[u.jsxs("div",{className:"relative w-20 h-20",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"40",cy:"40",r:"32",stroke:"var(--accent-light)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"40",cy:"40",r:"32",stroke:"var(--accent-primary)",strokeWidth:"6",fill:"none",strokeDasharray:`${0/100*201} 201`,strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",style:{color:"var(--text-primary)"},children:"0"})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Fitness"}),u.jsx("p",{style:{color:"var(--text-primary)"},children:"Score"})]})]})]})}const kle=()=>{};var j6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Ole=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],a=t[r++],s=t[r++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},pW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=o>>2,h=(o&3)<<4|s>>4;let p=(s&15)<<2|c>>6,g=c&63;l||(g=64,a||(p=64)),n.push(r[f],r[h],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ole(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||s==null||c==null||h==null)throw new jle;const p=o<<2|s>>4;if(n.push(p),c!==64){const g=s<<4&240|c>>2;if(n.push(g),h!==64){const x=c<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rle=function(t){const e=hW(t);return pW.encodeByteArray(e,!0)},M1=function(t){return Rle(t).replace(/\./g,"")},mW=function(t){try{return pW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=()=>Dle().__FIREBASE_DEFAULTS__,Fle=()=>{if(typeof process>"u"||typeof j6>"u")return;const t=j6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lle=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mW(t[1]);return e&&JSON.parse(e)},xb=()=>{try{return kle()||Mle()||Fle()||Lle()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gW=t=>xb()?.emulatorHosts?.[t],yW=t=>{const e=gW(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},vW=()=>xb()?.config,xW=t=>xb()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[M1(JSON.stringify(r)),M1(JSON.stringify(a)),""].join(".")}const Km={};function Vle(){const t={prod:[],emulator:[]};for(const e of Object.keys(Km))Km[e]?t.emulator.push(e):t.prod.push(e);return t}function $le(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let R6=!1;function $k(t,e){if(typeof window>"u"||typeof document>"u"||!gf(window.location.host)||Km[t]===e||Km[t]||R6)return;Km[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",o=Vle().prod.length>0;function a(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{R6=!0,a()},p}function f(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=$le(n),g=r("text"),x=document.getElementById(g)||document.createElement("span"),v=r("learnmore"),b=document.getElementById(v)||document.createElement("a"),_=r("preprendIcon"),C=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),f(b,v);const P=c();l(C,_),E.append(C,x,b,P),document.body.appendChild(E)}o?(x.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ule(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function zle(){const t=xb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hle(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qle(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gle(){const t=ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kle(){return!zle()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yle(){try{return typeof indexedDB=="object"}catch{return!1}}function Xle(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qle="FirebaseError";class ys extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Qle,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wy.prototype.create)}}class wy{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Zle(o,n):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ys(i,s,n)}}function Zle(t,e){return t.replace(Jle,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Jle=/\{\$([^}]+)}/g;function ece(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],a=e[i];if(D6(o)&&D6(a)){if(!Xu(o,a))return!1}else if(o!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function D6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Nm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Pm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function tce(t,e){const r=new rce(t,e);return r.subscribe.bind(r)}class rce{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");nce(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=U_),i.error===void 0&&(i.error=U_),i.complete===void 0&&(i.complete=U_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nce(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function U_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class wc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ice=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Ble;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ace(e))try{this.getOrInitializeService({instanceIdentifier:Su})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Su){return this.instances.has(e)}getOptions(e=Su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oce(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Su){return this.component?this.component.multipleInstances?e:Su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oce(t){return t===Su?void 0:t}function ace(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new ice(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const lce={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},cce=Rt.INFO,uce={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},fce=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=uce[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uk{constructor(e){this.name=e,this._logLevel=cce,this._logHandler=fce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const dce=(t,e)=>e.some(r=>t instanceof r);let M6,F6;function hce(){return M6||(M6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pce(){return F6||(F6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wW=new WeakMap,pI=new WeakMap,_W=new WeakMap,z_=new WeakMap,zk=new WeakMap;function mce(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(cc(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&wW.set(r,t)}).catch(()=>{}),zk.set(e,t),e}function gce(t){if(pI.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});pI.set(t,e)}let mI={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return pI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_W.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return cc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yce(t){mI=t(mI)}function vce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(W_(this),e,...r);return _W.set(n,e.sort?e.sort():[e]),cc(n)}:pce().includes(t)?function(...e){return t.apply(W_(this),e),cc(wW.get(this))}:function(...e){return cc(t.apply(W_(this),e))}}function xce(t){return typeof t=="function"?vce(t):(t instanceof IDBTransaction&&gce(t),dce(t,hce())?new Proxy(t,mI):t)}function cc(t){if(t instanceof IDBRequest)return mce(t);if(z_.has(t))return z_.get(t);const e=xce(t);return e!==t&&(z_.set(t,e),zk.set(e,t)),e}const W_=t=>zk.get(t);function bce(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=cc(a);return n&&a.addEventListener("upgradeneeded",l=>{n(cc(a.result),l.oldVersion,l.newVersion,cc(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const wce=["get","getKey","getAll","getAllKeys","count"],_ce=["put","add","delete","clear"],H_=new Map;function L6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(H_.get(e))return H_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=_ce.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||wce.includes(r)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return H_.set(e,o),o}yce(t=>({...t,get:(e,r,n)=>L6(e,r)||t.get(e,r,n),has:(e,r)=>!!L6(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Cce(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Cce(t){return t.getComponent()?.type==="VERSION"}const gI="@firebase/app",B6="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new Uk("@firebase/app"),Ece="@firebase/app-compat",Sce="@firebase/analytics-compat",Tce="@firebase/analytics",Ice="@firebase/app-check-compat",Nce="@firebase/app-check",Pce="@firebase/auth",kce="@firebase/auth-compat",Oce="@firebase/database",jce="@firebase/data-connect",Rce="@firebase/database-compat",Dce="@firebase/functions",Mce="@firebase/functions-compat",Fce="@firebase/installations",Lce="@firebase/installations-compat",Bce="@firebase/messaging",Vce="@firebase/messaging-compat",$ce="@firebase/performance",Uce="@firebase/performance-compat",zce="@firebase/remote-config",Wce="@firebase/remote-config-compat",Hce="@firebase/storage",qce="@firebase/storage-compat",Gce="@firebase/firestore",Kce="@firebase/ai",Yce="@firebase/firestore-compat",Xce="firebase",Qce="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="[DEFAULT]",Zce={[gI]:"fire-core",[Ece]:"fire-core-compat",[Tce]:"fire-analytics",[Sce]:"fire-analytics-compat",[Nce]:"fire-app-check",[Ice]:"fire-app-check-compat",[Pce]:"fire-auth",[kce]:"fire-auth-compat",[Oce]:"fire-rtdb",[jce]:"fire-data-connect",[Rce]:"fire-rtdb-compat",[Dce]:"fire-fn",[Mce]:"fire-fn-compat",[Fce]:"fire-iid",[Lce]:"fire-iid-compat",[Bce]:"fire-fcm",[Vce]:"fire-fcm-compat",[$ce]:"fire-perf",[Uce]:"fire-perf-compat",[zce]:"fire-rc",[Wce]:"fire-rc-compat",[Hce]:"fire-gcs",[qce]:"fire-gcs-compat",[Gce]:"fire-fst",[Yce]:"fire-fst-compat",[Kce]:"fire-vertex","fire-js":"fire-js",[Xce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map,Jce=new Map,vI=new Map;function V6(t,e){try{t.container.addComponent(e)}catch(r){il.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Qu(t){const e=t.name;if(vI.has(e))return il.debug(`There were multiple attempts to register component ${e}.`),!1;vI.set(e,t);for(const r of F1.values())V6(r,t);for(const r of Jce.values())V6(r,t);return!0}function bb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uc=new wy("app","Firebase",eue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=Qce;function AW(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:yI,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw uc.create("bad-app-name",{appName:String(i)});if(r||(r=vW()),!r)throw uc.create("no-options");const o=F1.get(i);if(o){if(Xu(r,o.options)&&Xu(n,o.config))return o;throw uc.create("duplicate-app",{appName:i})}const a=new sce(i);for(const l of vI.values())a.addComponent(l);const s=new tue(r,n,a);return F1.set(i,s),s}function Wk(t=yI){const e=F1.get(t);if(!e&&t===yI&&vW())return AW();if(!e)throw uc.create("no-app",{appName:t});return e}function es(t,e,r){let n=Zce[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),il.warn(a.join(" "));return}Qu(new wc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue="firebase-heartbeat-database",nue=1,yg="firebase-heartbeat-store";let q_=null;function CW(){return q_||(q_=bce(rue,nue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yg)}catch(r){console.warn(r)}}}}).catch(t=>{throw uc.create("idb-open",{originalErrorMessage:t.message})})),q_}async function iue(t){try{const r=(await CW()).transaction(yg),n=await r.objectStore(yg).get(EW(t));return await r.done,n}catch(e){if(e instanceof ys)il.warn(e.message);else{const r=uc.create("idb-get",{originalErrorMessage:e?.message});il.warn(r.message)}}}async function $6(t,e){try{const n=(await CW()).transaction(yg,"readwrite");await n.objectStore(yg).put(e,EW(t)),await n.done}catch(r){if(r instanceof ys)il.warn(r.message);else{const n=uc.create("idb-set",{originalErrorMessage:r?.message});il.warn(n.message)}}}function EW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue=1024,aue=30;class sue{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cue(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=U6();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>aue){const i=uue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){il.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=U6(),{heartbeatsToSend:r,unsentEntries:n}=lue(this._heartbeatsCache.heartbeats),i=M1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return il.warn(e),""}}}function U6(){return new Date().toISOString().substring(0,10)}function lue(t,e=oue){const r=[];let n=t.slice();for(const i of t){const o=r.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),z6(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),z6(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class cue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yle()?Xle().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await iue(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function z6(t){return M1(JSON.stringify({version:2,heartbeats:t})).length}function uue(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){Qu(new wc("platform-logger",e=>new Ace(e),"PRIVATE")),Qu(new wc("heartbeat",e=>new sue(e),"PRIVATE")),es(gI,B6,t),es(gI,B6,"esm2020"),es("fire-js","")}fue("");var W6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fc,SW;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,N){function j(){}j.prototype=N.prototype,T.F=N.prototype,T.prototype=new j,T.prototype.constructor=T,T.D=function(B,M,L){for(var F=Array(arguments.length-2),$=2;$<arguments.length;$++)F[$-2]=arguments[$];return N.prototype[M].apply(B,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,N,j){j||(j=0);const B=Array(16);if(typeof N=="string")for(var M=0;M<16;++M)B[M]=N.charCodeAt(j++)|N.charCodeAt(j++)<<8|N.charCodeAt(j++)<<16|N.charCodeAt(j++)<<24;else for(M=0;M<16;++M)B[M]=N[j++]|N[j++]<<8|N[j++]<<16|N[j++]<<24;N=T.g[0],j=T.g[1],M=T.g[2];let L=T.g[3],F;F=N+(L^j&(M^L))+B[0]+3614090360&4294967295,N=j+(F<<7&4294967295|F>>>25),F=L+(M^N&(j^M))+B[1]+3905402710&4294967295,L=N+(F<<12&4294967295|F>>>20),F=M+(j^L&(N^j))+B[2]+606105819&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(N^M&(L^N))+B[3]+3250441966&4294967295,j=M+(F<<22&4294967295|F>>>10),F=N+(L^j&(M^L))+B[4]+4118548399&4294967295,N=j+(F<<7&4294967295|F>>>25),F=L+(M^N&(j^M))+B[5]+1200080426&4294967295,L=N+(F<<12&4294967295|F>>>20),F=M+(j^L&(N^j))+B[6]+2821735955&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(N^M&(L^N))+B[7]+4249261313&4294967295,j=M+(F<<22&4294967295|F>>>10),F=N+(L^j&(M^L))+B[8]+1770035416&4294967295,N=j+(F<<7&4294967295|F>>>25),F=L+(M^N&(j^M))+B[9]+2336552879&4294967295,L=N+(F<<12&4294967295|F>>>20),F=M+(j^L&(N^j))+B[10]+4294925233&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(N^M&(L^N))+B[11]+2304563134&4294967295,j=M+(F<<22&4294967295|F>>>10),F=N+(L^j&(M^L))+B[12]+1804603682&4294967295,N=j+(F<<7&4294967295|F>>>25),F=L+(M^N&(j^M))+B[13]+4254626195&4294967295,L=N+(F<<12&4294967295|F>>>20),F=M+(j^L&(N^j))+B[14]+2792965006&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(N^M&(L^N))+B[15]+1236535329&4294967295,j=M+(F<<22&4294967295|F>>>10),F=N+(M^L&(j^M))+B[1]+4129170786&4294967295,N=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(N^j))+B[6]+3225465664&4294967295,L=N+(F<<9&4294967295|F>>>23),F=M+(N^j&(L^N))+B[11]+643717713&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^N&(M^L))+B[0]+3921069994&4294967295,j=M+(F<<20&4294967295|F>>>12),F=N+(M^L&(j^M))+B[5]+3593408605&4294967295,N=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(N^j))+B[10]+38016083&4294967295,L=N+(F<<9&4294967295|F>>>23),F=M+(N^j&(L^N))+B[15]+3634488961&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^N&(M^L))+B[4]+3889429448&4294967295,j=M+(F<<20&4294967295|F>>>12),F=N+(M^L&(j^M))+B[9]+568446438&4294967295,N=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(N^j))+B[14]+3275163606&4294967295,L=N+(F<<9&4294967295|F>>>23),F=M+(N^j&(L^N))+B[3]+4107603335&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^N&(M^L))+B[8]+1163531501&4294967295,j=M+(F<<20&4294967295|F>>>12),F=N+(M^L&(j^M))+B[13]+2850285829&4294967295,N=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(N^j))+B[2]+4243563512&4294967295,L=N+(F<<9&4294967295|F>>>23),F=M+(N^j&(L^N))+B[7]+1735328473&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^N&(M^L))+B[12]+2368359562&4294967295,j=M+(F<<20&4294967295|F>>>12),F=N+(j^M^L)+B[5]+4294588738&4294967295,N=j+(F<<4&4294967295|F>>>28),F=L+(N^j^M)+B[8]+2272392833&4294967295,L=N+(F<<11&4294967295|F>>>21),F=M+(L^N^j)+B[11]+1839030562&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^N)+B[14]+4259657740&4294967295,j=M+(F<<23&4294967295|F>>>9),F=N+(j^M^L)+B[1]+2763975236&4294967295,N=j+(F<<4&4294967295|F>>>28),F=L+(N^j^M)+B[4]+1272893353&4294967295,L=N+(F<<11&4294967295|F>>>21),F=M+(L^N^j)+B[7]+4139469664&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^N)+B[10]+3200236656&4294967295,j=M+(F<<23&4294967295|F>>>9),F=N+(j^M^L)+B[13]+681279174&4294967295,N=j+(F<<4&4294967295|F>>>28),F=L+(N^j^M)+B[0]+3936430074&4294967295,L=N+(F<<11&4294967295|F>>>21),F=M+(L^N^j)+B[3]+3572445317&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^N)+B[6]+76029189&4294967295,j=M+(F<<23&4294967295|F>>>9),F=N+(j^M^L)+B[9]+3654602809&4294967295,N=j+(F<<4&4294967295|F>>>28),F=L+(N^j^M)+B[12]+3873151461&4294967295,L=N+(F<<11&4294967295|F>>>21),F=M+(L^N^j)+B[15]+530742520&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^N)+B[2]+3299628645&4294967295,j=M+(F<<23&4294967295|F>>>9),F=N+(M^(j|~L))+B[0]+4096336452&4294967295,N=j+(F<<6&4294967295|F>>>26),F=L+(j^(N|~M))+B[7]+1126891415&4294967295,L=N+(F<<10&4294967295|F>>>22),F=M+(N^(L|~j))+B[14]+2878612391&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~N))+B[5]+4237533241&4294967295,j=M+(F<<21&4294967295|F>>>11),F=N+(M^(j|~L))+B[12]+1700485571&4294967295,N=j+(F<<6&4294967295|F>>>26),F=L+(j^(N|~M))+B[3]+2399980690&4294967295,L=N+(F<<10&4294967295|F>>>22),F=M+(N^(L|~j))+B[10]+4293915773&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~N))+B[1]+2240044497&4294967295,j=M+(F<<21&4294967295|F>>>11),F=N+(M^(j|~L))+B[8]+1873313359&4294967295,N=j+(F<<6&4294967295|F>>>26),F=L+(j^(N|~M))+B[15]+4264355552&4294967295,L=N+(F<<10&4294967295|F>>>22),F=M+(N^(L|~j))+B[6]+2734768916&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~N))+B[13]+1309151649&4294967295,j=M+(F<<21&4294967295|F>>>11),F=N+(M^(j|~L))+B[4]+4149444226&4294967295,N=j+(F<<6&4294967295|F>>>26),F=L+(j^(N|~M))+B[11]+3174756917&4294967295,L=N+(F<<10&4294967295|F>>>22),F=M+(N^(L|~j))+B[2]+718787259&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~N))+B[9]+3951481745&4294967295,T.g[0]=T.g[0]+N&4294967295,T.g[1]=T.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+L&4294967295}n.prototype.v=function(T,N){N===void 0&&(N=T.length);const j=N-this.blockSize,B=this.C;let M=this.h,L=0;for(;L<N;){if(M==0)for(;L<=j;)i(this,T,L),L+=this.blockSize;if(typeof T=="string"){for(;L<N;)if(B[M++]=T.charCodeAt(L++),M==this.blockSize){i(this,B),M=0;break}}else for(;L<N;)if(B[M++]=T[L++],M==this.blockSize){i(this,B),M=0;break}}this.h=M,this.o+=N},n.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var N=1;N<T.length-8;++N)T[N]=0;N=this.o*8;for(var j=T.length-8;j<T.length;++j)T[j]=N&255,N/=256;for(this.v(T),T=Array(16),N=0,j=0;j<4;++j)for(let B=0;B<32;B+=8)T[N++]=this.g[j]>>>B&255;return T};function o(T,N){var j=s;return Object.prototype.hasOwnProperty.call(j,T)?j[T]:j[T]=N(T)}function a(T,N){this.h=N;const j=[];let B=!0;for(let M=T.length-1;M>=0;M--){const L=T[M]|0;B&&L==N||(j[M]=L,B=!1)}this.g=j}var s={};function l(T){return-128<=T&&T<128?o(T,function(N){return new a([N|0],N<0?-1:0)}):new a([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(T<0)return b(c(-T));const N=[];let j=1;for(let B=0;T>=j;B++)N[B]=T/j|0,j*=4294967296;return new a(N,0)}function f(T,N){if(T.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T.charAt(0)=="-")return b(f(T.substring(1),N));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=c(Math.pow(N,8));let B=h;for(let L=0;L<T.length;L+=8){var M=Math.min(8,T.length-L);const F=parseInt(T.substring(L,L+M),N);M<8?(M=c(Math.pow(N,M)),B=B.j(M).add(c(F))):(B=B.j(j),B=B.add(c(F)))}return B}var h=l(0),p=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-b(this).m();let T=0,N=1;for(let j=0;j<this.g.length;j++){const B=this.i(j);T+=(B>=0?B:4294967296+B)*N,N*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(v(this))return"-"+b(this).toString(T);const N=c(Math.pow(T,6));var j=this;let B="";for(;;){const M=P(j,N).g;j=_(j,M.j(N));let L=((j.g.length>0?j.g[0]:j.h)>>>0).toString(T);if(j=M,x(j))return L+B;for(;L.length<6;)L="0"+L;B=L+B}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(let N=0;N<T.g.length;N++)if(T.g[N]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=_(this,T),v(T)?-1:x(T)?0:1};function b(T){const N=T.g.length,j=[];for(let B=0;B<N;B++)j[B]=~T.g[B];return new a(j,~T.h).add(p)}t.abs=function(){return v(this)?b(this):this},t.add=function(T){const N=Math.max(this.g.length,T.g.length),j=[];let B=0;for(let M=0;M<=N;M++){let L=B+(this.i(M)&65535)+(T.i(M)&65535),F=(L>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);B=F>>>16,L&=65535,F&=65535,j[M]=F<<16|L}return new a(j,j[j.length-1]&-2147483648?-1:0)};function _(T,N){return T.add(b(N))}t.j=function(T){if(x(this)||x(T))return h;if(v(this))return v(T)?b(this).j(b(T)):b(b(this).j(T));if(v(T))return b(this.j(b(T)));if(this.l(g)<0&&T.l(g)<0)return c(this.m()*T.m());const N=this.g.length+T.g.length,j=[];for(var B=0;B<2*N;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(let M=0;M<T.g.length;M++){const L=this.i(B)>>>16,F=this.i(B)&65535,$=T.i(M)>>>16,H=T.i(M)&65535;j[2*B+2*M]+=F*H,C(j,2*B+2*M),j[2*B+2*M+1]+=L*H,C(j,2*B+2*M+1),j[2*B+2*M+1]+=F*$,C(j,2*B+2*M+1),j[2*B+2*M+2]+=L*$,C(j,2*B+2*M+2)}for(T=0;T<N;T++)j[T]=j[2*T+1]<<16|j[2*T];for(T=N;T<2*N;T++)j[T]=0;return new a(j,0)};function C(T,N){for(;(T[N]&65535)!=T[N];)T[N+1]+=T[N]>>>16,T[N]&=65535,N++}function E(T,N){this.g=T,this.h=N}function P(T,N){if(x(N))throw Error("division by zero");if(x(T))return new E(h,h);if(v(T))return N=P(b(T),N),new E(b(N.g),b(N.h));if(v(N))return N=P(T,b(N)),new E(b(N.g),N.h);if(T.g.length>30){if(v(T)||v(N))throw Error("slowDivide_ only works with positive integers.");for(var j=p,B=N;B.l(T)<=0;)j=I(j),B=I(B);var M=S(j,1),L=S(B,1);for(B=S(B,2),j=S(j,2);!x(B);){var F=L.add(B);F.l(T)<=0&&(M=M.add(j),L=F),B=S(B,1),j=S(j,1)}return N=_(T,M.j(N)),new E(M,N)}for(M=h;T.l(N)>=0;){for(j=Math.max(1,Math.floor(T.m()/N.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),L=c(j),F=L.j(N);v(F)||F.l(T)>0;)j-=B,L=c(j),F=L.j(N);x(L)&&(L=p),M=M.add(L),T=_(T,F)}return new E(M,T)}t.B=function(T){return P(this,T).h},t.and=function(T){const N=Math.max(this.g.length,T.g.length),j=[];for(let B=0;B<N;B++)j[B]=this.i(B)&T.i(B);return new a(j,this.h&T.h)},t.or=function(T){const N=Math.max(this.g.length,T.g.length),j=[];for(let B=0;B<N;B++)j[B]=this.i(B)|T.i(B);return new a(j,this.h|T.h)},t.xor=function(T){const N=Math.max(this.g.length,T.g.length),j=[];for(let B=0;B<N;B++)j[B]=this.i(B)^T.i(B);return new a(j,this.h^T.h)};function I(T){const N=T.g.length+1,j=[];for(let B=0;B<N;B++)j[B]=T.i(B)<<1|T.i(B-1)>>>31;return new a(j,T.h)}function S(T,N){const j=N>>5;N%=32;const B=T.g.length-j,M=[];for(let L=0;L<B;L++)M[L]=N>0?T.i(L+j)>>>N|T.i(L+j+1)<<32-N:T.i(L+j);return new a(M,T.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,SW=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,fc=a}).apply(typeof W6<"u"?W6:typeof self<"u"?self:typeof window<"u"?window:{});var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TW,km,IW,u1,xI,NW,PW,kW;(function(){var t,e=Object.defineProperty;function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof bv=="object"&&bv];for(var D=0;D<w.length;++D){var V=w[D];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(w,D){if(D)e:{var V=n;w=w.split(".");for(var G=0;G<w.length-1;G++){var ue=w[G];if(!(ue in V))break e;V=V[ue]}w=w[w.length-1],G=V[w],D=D(G),D!=G&&D!=null&&e(V,w,{configurable:!0,writable:!0,value:D})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(D){var V=[],G;for(G in D)Object.prototype.hasOwnProperty.call(D,G)&&V.push([G,D[G]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(w){var D=typeof w;return D=="object"&&w!=null||D=="function"}function l(w,D,V){return w.call.apply(w.bind,arguments)}function c(w,D,V){return c=l,c.apply(null,arguments)}function f(w,D){var V=Array.prototype.slice.call(arguments,1);return function(){var G=V.slice();return G.push.apply(G,arguments),w.apply(this,G)}}function h(w,D){function V(){}V.prototype=D.prototype,w.Z=D.prototype,w.prototype=new V,w.prototype.constructor=w,w.Ob=function(G,ue,ge){for(var De=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)De[wt-2]=arguments[wt];return D.prototype[ue].apply(G,De)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function g(w){const D=w.length;if(D>0){const V=Array(D);for(let G=0;G<D;G++)V[G]=w[G];return V}return[]}function x(w,D){for(let G=1;G<arguments.length;G++){const ue=arguments[G];var V=typeof ue;if(V=V!="object"?V:ue?Array.isArray(ue)?"array":V:"null",V=="array"||V=="object"&&typeof ue.length=="number"){V=w.length||0;const ge=ue.length||0;w.length=V+ge;for(let De=0;De<ge;De++)w[V+De]=ue[De]}else w.push(ue)}}class v{constructor(D,V){this.i=D,this.j=V,this.h=0,this.g=null}get(){let D;return this.h>0?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function b(w){a.setTimeout(()=>{throw w},0)}function _(){var w=T;let D=null;return w.g&&(D=w.g,w.g=w.g.next,w.g||(w.h=null),D.next=null),D}class C{constructor(){this.h=this.g=null}add(D,V){const G=E.get();G.set(D,V),this.h?this.h.next=G:this.g=G,this.h=G}}var E=new v(()=>new P,w=>w.reset());class P{constructor(){this.next=this.g=this.h=null}set(D,V){this.h=D,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let I,S=!1,T=new C,N=()=>{const w=Promise.resolve(void 0);I=()=>{w.then(j)}};function j(){for(var w;w=_();){try{w.h.call(w.g)}catch(V){b(V)}var D=E;D.j(w),D.h<100&&(D.h++,w.next=D.g,D.g=w)}S=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(w,D){this.type=w,this.g=this.target=D,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,D=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const V=()=>{};a.addEventListener("test",V,D),a.removeEventListener("test",V,D)}catch{}return w})();function F(w){return/^[\s\xa0]*$/.test(w)}function $(w,D){M.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,D)}h($,M),$.prototype.init=function(w,D){const V=this.type=w.type,G=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=D,D=w.relatedTarget,D||(V=="mouseover"?D=w.fromElement:V=="mouseout"&&(D=w.toElement)),this.relatedTarget=D,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),K=0;function Z(w,D,V,G,ue){this.listener=w,this.proxy=null,this.src=D,this.type=V,this.capture=!!G,this.ha=ue,this.key=++K,this.da=this.fa=!1}function q(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function re(w,D,V){for(const G in w)D.call(V,w[G],G,w)}function U(w,D){for(const V in w)D.call(void 0,w[V],V,w)}function X(w){const D={};for(const V in w)D[V]=w[V];return D}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(w,D){let V,G;for(let ue=1;ue<arguments.length;ue++){G=arguments[ue];for(V in G)w[V]=G[V];for(let ge=0;ge<ee.length;ge++)V=ee[ge],Object.prototype.hasOwnProperty.call(G,V)&&(w[V]=G[V])}}function Q(w){this.src=w,this.g={},this.h=0}Q.prototype.add=function(w,D,V,G,ue){const ge=w.toString();w=this.g[ge],w||(w=this.g[ge]=[],this.h++);const De=oe(w,D,G,ue);return De>-1?(D=w[De],V||(D.fa=!1)):(D=new Z(D,this.src,ge,!!G,ue),D.fa=V,w.push(D)),D};function se(w,D){const V=D.type;if(V in w.g){var G=w.g[V],ue=Array.prototype.indexOf.call(G,D,void 0),ge;(ge=ue>=0)&&Array.prototype.splice.call(G,ue,1),ge&&(q(D),w.g[V].length==0&&(delete w.g[V],w.h--))}}function oe(w,D,V,G){for(let ue=0;ue<w.length;++ue){const ge=w[ue];if(!ge.da&&ge.listener==D&&ge.capture==!!V&&ge.ha==G)return ue}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),ve={};function he(w,D,V,G,ue){if(Array.isArray(D)){for(let ge=0;ge<D.length;ge++)he(w,D[ge],V,G,ue);return null}return V=Be(V),w&&w[H]?w.J(D,V,s(G)?!!G.capture:!1,ue):_e(w,D,V,!1,G,ue)}function _e(w,D,V,G,ue,ge){if(!D)throw Error("Invalid event type");const De=s(ue)?!!ue.capture:!!ue;let wt=Ce(w);if(wt||(w[ae]=wt=new Q(w)),V=wt.add(D,V,G,De,ge),V.proxy)return V;if(G=Pe(),V.proxy=G,G.src=w,G.listener=V,w.addEventListener)L||(ue=De),ue===void 0&&(ue=!1),w.addEventListener(D.toString(),G,ue);else if(w.attachEvent)w.attachEvent($e(D.toString()),G);else if(w.addListener&&w.removeListener)w.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Pe(){function w(V){return D.call(w.src,w.listener,V)}const D=nt;return w}function pe(w,D,V,G,ue){if(Array.isArray(D))for(var ge=0;ge<D.length;ge++)pe(w,D[ge],V,G,ue);else G=s(G)?!!G.capture:!!G,V=Be(V),w&&w[H]?(w=w.i,ge=String(D).toString(),ge in w.g&&(D=w.g[ge],V=oe(D,V,G,ue),V>-1&&(q(D[V]),Array.prototype.splice.call(D,V,1),D.length==0&&(delete w.g[ge],w.h--)))):w&&(w=Ce(w))&&(D=w.g[D.toString()],w=-1,D&&(w=oe(D,V,G,ue)),(V=w>-1?D[w]:null)&&et(V))}function et(w){if(typeof w!="number"&&w&&!w.da){var D=w.src;if(D&&D[H])se(D.i,w);else{var V=w.type,G=w.proxy;D.removeEventListener?D.removeEventListener(V,G,w.capture):D.detachEvent?D.detachEvent($e(V),G):D.addListener&&D.removeListener&&D.removeListener(G),(V=Ce(D))?(se(V,w),V.h==0&&(V.src=null,D[ae]=null)):q(w)}}}function $e(w){return w in ve?ve[w]:ve[w]="on"+w}function nt(w,D){if(w.da)w=!0;else{D=new $(D,this);const V=w.listener,G=w.ha||w.src;w.fa&&et(w),w=V.call(G,D)}return w}function Ce(w){return w=w[ae],w instanceof Q?w:null}var Re="__closure_events_fn_"+(Math.random()*1e9>>>0);function Be(w){return typeof w=="function"?w:(w[Re]||(w[Re]=function(D){return w.handleEvent(D)}),w[Re])}function ze(){B.call(this),this.i=new Q(this),this.M=this,this.G=null}h(ze,B),ze.prototype[H]=!0,ze.prototype.removeEventListener=function(w,D,V,G){pe(this,w,D,V,G)};function be(w,D){var V,G=w.G;if(G)for(V=[];G;G=G.G)V.push(G);if(w=w.M,G=D.type||D,typeof D=="string")D=new M(D,w);else if(D instanceof M)D.target=D.target||w;else{var ue=D;D=new M(G,w),W(D,ue)}ue=!0;let ge,De;if(V)for(De=V.length-1;De>=0;De--)ge=D.g=V[De],ue=tt(ge,G,!0,D)&&ue;if(ge=D.g=w,ue=tt(ge,G,!0,D)&&ue,ue=tt(ge,G,!1,D)&&ue,V)for(De=0;De<V.length;De++)ge=D.g=V[De],ue=tt(ge,G,!1,D)&&ue}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var w=this.i;for(const D in w.g){const V=w.g[D];for(let G=0;G<V.length;G++)q(V[G]);delete w.g[D],w.h--}}this.G=null},ze.prototype.J=function(w,D,V,G){return this.i.add(String(w),D,!1,V,G)},ze.prototype.K=function(w,D,V,G){return this.i.add(String(w),D,!0,V,G)};function tt(w,D,V,G){if(D=w.i.g[String(D)],!D)return!0;D=D.concat();let ue=!0;for(let ge=0;ge<D.length;++ge){const De=D[ge];if(De&&!De.da&&De.capture==V){const wt=De.listener,Gr=De.ha||De.src;De.fa&&se(w.i,De),ue=wt.call(Gr,G)!==!1&&ue}}return ue&&!G.defaultPrevented}function Et(w,D){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=c(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(D)>2147483647?-1:a.setTimeout(w,D||0)}function dr(w){w.g=Et(()=>{w.g=null,w.i&&(w.i=!1,dr(w))},w.l);const D=w.h;w.h=null,w.m.apply(null,D)}class jr extends B{constructor(D,V){super(),this.m=D,this.l=V,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(w){B.call(this),this.h=w,this.g={}}h(qr,B);var ye=[];function Ne(w){re(w.g,function(D,V){this.g.hasOwnProperty(V)&&et(D)},w),w.g={}}qr.prototype.N=function(){qr.Z.N.call(this),Ne(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var le=a.JSON.stringify,We=a.JSON.parse,ut=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function _r(){}function Vr(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yo(){M.call(this,"d")}h(yo,M);function Ko(){M.call(this,"c")}h(Ko,M);var Ar={},Wi=null;function En(){return Wi=Wi||new ze}Ar.Ia="serverreachability";function Sf(w){M.call(this,Ar.Ia,w)}h(Sf,M);function _s(w){const D=En();be(D,new Sf(D))}Ar.STAT_EVENT="statevent";function As(w,D){M.call(this,Ar.STAT_EVENT,w),this.stat=D}h(As,M);function $r(w){const D=En();be(D,new As(D,w))}Ar.Ja="timingevent";function bp(w,D){M.call(this,Ar.Ja,w),this.size=D}h(bp,M);function Al(w,D){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},D)}function Cl(){this.g=!0}Cl.prototype.ua=function(){this.g=!1};function n0(w,D,V,G,ue,ge){w.info(function(){if(w.g)if(ge){var De="",wt=ge.split("&");for(let or=0;or<wt.length;or++){var Gr=wt[or].split("=");if(Gr.length>1){const Qr=Gr[0];Gr=Gr[1];const Xi=Qr.split("_");De=Xi.length>=2&&Xi[1]=="type"?De+(Qr+"="+Gr+"&"):De+(Qr+"=redacted&")}}}else De=null;else De=ge;return"XMLHTTP REQ ("+G+") [attempt "+ue+"]: "+D+`
`+V+`
`+De})}function i0(w,D,V,G,ue,ge,De){w.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ue+"]: "+D+`
`+V+`
`+ge+" "+De})}function Ca(w,D,V,G){w.info(function(){return"XMLHTTP TEXT ("+D+"): "+Gc(w,V)+(G?" "+G:"")})}function o0(w,D){w.info(function(){return"TIMEOUT: "+D})}Cl.prototype.info=function(){};function Gc(w,D){if(!w.g)return D;if(!D)return null;try{const ge=JSON.parse(D);if(ge){for(w=0;w<ge.length;w++)if(Array.isArray(ge[w])){var V=ge[w];if(!(V.length<2)){var G=V[1];if(Array.isArray(G)&&!(G.length<1)){var ue=G[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let De=1;De<G.length;De++)G[De]=""}}}}return le(ge)}catch{return D}}var El={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},a0;function Cs(){}h(Cs,_r),Cs.prototype.g=function(){return new XMLHttpRequest},a0=new Cs;function Ea(w){return encodeURIComponent(String(w))}function Tf(w){var D=1;w=w.split(":");const V=[];for(;D>0&&w.length;)V.push(w.shift()),D--;return w.length&&V.push(w.join(":")),V}function vo(w,D,V,G){this.j=w,this.i=D,this.l=V,this.S=G||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new s0}function s0(){this.i=null,this.g="",this.h=!1}var l0={},wp={};function Yo(w,D,V){w.M=1,w.A=Ss(xo(D)),w.u=V,w.R=!0,_p(w,null)}function _p(w,D){w.F=Date.now(),Kc(w),w.B=xo(w.A);var V=w.B,G=w.S;Array.isArray(G)||(G=[String(G)]),Op(V.i,"t",G),w.C=0,V=w.j.L,w.h=new s0,w.g=v0(w.j,V?D:null,!w.u),w.P>0&&(w.O=new jr(c(w.Y,w,w.g),w.P)),D=w.V,V=w.g,G=w.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(ye[0]=ue.toString()),ue=ye);for(let ge=0;ge<ue.length;ge++){const De=he(V,ue[ge],G||D.handleEvent,!1,D.h||D);if(!De)break;D.g[De.key]=De}D=w.J?X(w.J):{},w.u?(w.v||(w.v="POST"),D["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,D)):(w.v="GET",w.g.ea(w.B,w.v,null,D)),_s(),n0(w.i,w.v,w.B,w.l,w.S,w.u)}vo.prototype.ba=function(w){w=w.target;const D=this.O;D&&Oa(w)==3?D.j():this.Y(w)},vo.prototype.Y=function(w){try{if(w==this.g)e:{const wt=Oa(this.g),Gr=this.g.ya(),or=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||g0(this.g)))){this.K||wt!=4||Gr==7||(Gr==8||or<=0?_s(3):_s(2)),If(this);var D=this.g.ca();this.X=D;var V=c0(this);if(this.o=D==200,i0(this.i,this.v,this.B,this.l,this.S,wt,D),this.o){if(this.U&&!this.L){t:{if(this.g){var G,ue=this.g;if((G=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(G)){var ge=G;break t}}ge=null}if(w=ge)Ca(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,w);else{this.o=!1,this.m=3,$r(12),Es(this),Yc(this);break e}}if(this.R){w=!0;let Qr;for(;!this.K&&this.C<V.length;)if(Qr=f0(this,V),Qr==wp){wt==4&&(this.m=4,$r(14),w=!1),Ca(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==l0){this.m=4,$r(15),Ca(this.i,this.l,V,"[Invalid Chunk]"),w=!1;break}else Ca(this.i,this.l,Qr,null),Cr(this,Qr);if(u0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||V.length!=0||this.h.h||(this.m=1,$r(16),w=!1),this.o=this.o&&w,!w)Ca(this.i,this.l,V,"[Invalid Chunked Response]"),Es(this),Yc(this);else if(V.length>0&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.aa&&!De.P&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),iu(De),De.P=!0,$r(11))}}else Ca(this.i,this.l,V,null),Cr(this,V);wt==4&&Es(this),this.o&&!this.K&&(wt==4?Lf(this.j,this):(this.o=!1,Kc(this)))}else Rp(this.g),D==400&&V.indexOf("Unknown SID")>0?(this.m=3,$r(12)):(this.m=0,$r(13)),Es(this),Yc(this)}}}catch{}finally{}};function c0(w){if(!u0(w))return w.g.la();const D=g0(w.g);if(D==="")return"";let V="";const G=D.length,ue=Oa(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return Es(w),Yc(w),"";w.h.i=new a.TextDecoder}for(let ge=0;ge<G;ge++)w.h.h=!0,V+=w.h.i.decode(D[ge],{stream:!(ue&&ge==G-1)});return D.length=0,w.h.g+=V,w.C=0,w.h.g}function u0(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function f0(w,D){var V=w.C,G=D.indexOf(`
`,V);return G==-1?wp:(V=Number(D.substring(V,G)),isNaN(V)?l0:(G+=1,G+V>D.length?wp:(D=D.slice(G,G+V),w.C=G+V,D)))}vo.prototype.cancel=function(){this.K=!0,Es(this)};function Kc(w){w.T=Date.now()+w.H,Ap(w,w.H)}function Ap(w,D){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Al(c(w.aa,w),D)}function If(w){w.D&&(a.clearTimeout(w.D),w.D=null)}vo.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(o0(this.i,this.B),this.M!=2&&(_s(),$r(17)),Es(this),this.m=2,Yc(this)):Ap(this,this.T-w)};function Yc(w){w.j.I==0||w.K||Lf(w.j,w)}function Es(w){If(w);var D=w.O;D&&typeof D.dispose=="function"&&D.dispose(),w.O=null,Ne(w.V),w.g&&(D=w.g,w.g=null,D.abort(),D.dispose())}function Cr(w,D){try{var V=w.j;if(V.I!=0&&(V.g==w||Ep(V.h,w))){if(!w.L&&Ep(V.h,w)&&V.I==3){try{var G=V.Ba.g.parse(D)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ue=G;if(ue[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<w.F)Ff(V),Ki(V);else break e;Da(V),$r(18)}}else V.xa=ue[1],0<V.xa-V.K&&ue[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=Al(c(V.Va,V),6e3));Xc(V.h)<=1&&V.ta&&(V.ta=void 0)}else Yi(V,11)}else if((w.L||V.g==w)&&Ff(V),!F(D))for(ue=V.Ba.g.parse(D),D=0;D<ue.length;D++){let or=ue[D];const Qr=or[0];if(!(Qr<=V.K))if(V.K=Qr,or=or[1],V.I==2)if(or[0]=="c"){V.M=or[1],V.ba=or[2];const Xi=or[3];Xi!=null&&(V.ka=Xi,V.j.info("VER="+V.ka));const ks=or[4];ks!=null&&(V.za=ks,V.j.info("SVER="+V.za));const Ma=or[5];Ma!=null&&typeof Ma=="number"&&Ma>0&&(G=1.5*Ma,V.O=G,V.j.info("backChannelRequestTimeoutMs_="+G)),G=V;const Fa=w.g;if(Fa){const $f=Fa.g?Fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($f){var ge=G.h;ge.g||$f.indexOf("spdy")==-1&&$f.indexOf("quic")==-1&&$f.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Pf(ge,ge.h),ge.h=null))}if(G.G){const Fp=Fa.g?Fa.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(G.wa=Fp,Qt(G.J,G.G,Fp))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-w.F,V.j.info("Handshake RTT: "+V.T+"ms")),G=V;var De=w;if(G.na=Mp(G,G.L?G.ba:null,G.W),De.L){Qc(G.h,De);var wt=De,Gr=G.O;Gr&&(wt.H=Gr),wt.D&&(If(wt),Kc(wt)),G.g=De}else Xn(G);V.i.length>0&&Ps(V)}else or[0]!="stop"&&or[0]!="close"||Yi(V,7);else V.I==3&&(or[0]=="stop"||or[0]=="close"?or[0]=="stop"?Yi(V,7):Df(V):or[0]!="noop"&&V.l&&V.l.qa(or),V.A=0)}}_s(4)}catch{}}var Zw=class{constructor(w,D){this.g=w,this.map=D}};function Nf(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cp(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Xc(w){return w.h?1:w.g?w.g.size:0}function Ep(w,D){return w.h?w.h==D:w.g?w.g.has(D):!1}function Pf(w,D){w.g?w.g.add(D):w.h=D}function Qc(w,D){w.h&&w.h==D?w.h=null:w.g&&w.g.has(D)&&w.g.delete(D)}Nf.prototype.cancel=function(){if(this.i=Hi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Hi(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let D=w.i;for(const V of w.g.values())D=D.concat(V.G);return D}return g(w.i)}var d0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qi(w,D){if(w){w=w.split("&");for(let V=0;V<w.length;V++){const G=w[V].indexOf("=");let ue,ge=null;G>=0?(ue=w[V].substring(0,G),ge=w[V].substring(G+1)):ue=w[V],D(ue,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Sa(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let D;w instanceof Sa?(this.l=w.l,Zc(this,w.j),this.o=w.o,this.g=w.g,Ta(this,w.u),this.h=w.h,Tl(this,jp(w.i)),this.m=w.m):w&&(D=String(w).match(d0))?(this.l=!1,Zc(this,D[1]||"",!0),this.o=Jc(D[2]||""),this.g=Jc(D[3]||"",!0),Ta(this,D[4]),this.h=Jc(D[5]||"",!0),Tl(this,D[6]||"",!0),this.m=Jc(D[7]||"")):(this.l=!1,this.i=new Ft(null,this.l))}Sa.prototype.toString=function(){const w=[];var D=this.j;D&&w.push(eu(D,Tp,!0),":");var V=this.g;return(V||D=="file")&&(w.push("//"),(D=this.o)&&w.push(eu(D,Tp,!0),"@"),w.push(Ea(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&w.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&w.push("/"),w.push(eu(V,V.charAt(0)=="/"?tu:Ip,!0))),(V=this.i.toString())&&w.push("?",V),(V=this.m)&&w.push("#",eu(V,Np)),w.join("")},Sa.prototype.resolve=function(w){const D=xo(this);let V=!!w.j;V?Zc(D,w.j):V=!!w.o,V?D.o=w.o:V=!!w.g,V?D.g=w.g:V=w.u!=null;var G=w.h;if(V)Ta(D,w.u);else if(V=!!w.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var ue=D.h.lastIndexOf("/");ue!=-1&&(G=D.h.slice(0,ue+1)+G)}if(ue=G,ue==".."||ue==".")G="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){G=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const ge=[];for(let De=0;De<ue.length;){const wt=ue[De++];wt=="."?G&&De==ue.length&&ge.push(""):wt==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),G&&De==ue.length&&ge.push("")):(ge.push(wt),G=!0)}G=ge.join("/")}else G=ue}return V?D.h=G:V=w.i.toString()!=="",V?Tl(D,jp(w.i)):V=!!w.m,V&&(D.m=w.m),D};function xo(w){return new Sa(w)}function Zc(w,D,V){w.j=V?Jc(D,!0):D,w.j&&(w.j=w.j.replace(/:$/,""))}function Ta(w,D){if(D){if(D=Number(D),isNaN(D)||D<0)throw Error("Bad port number "+D);w.u=D}else w.u=null}function Tl(w,D,V){D instanceof Ft?(w.i=D,Of(w.i,w.l)):(V||(D=eu(D,Jw)),w.i=new Ft(D,w.l))}function Qt(w,D,V){w.i.set(D,V)}function Ss(w){return Qt(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Jc(w,D){return w?D?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function eu(w,D,V){return typeof w=="string"?(w=encodeURI(w).replace(D,Sp),V&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Sp(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Tp=/[#\/\?@]/g,Ip=/[#\?:]/g,tu=/[#\?]/g,Jw=/[#\?@]/g,Np=/#/g;function Ft(w,D){this.h=this.g=null,this.i=w||null,this.j=!!D}function Ia(w){w.g||(w.g=new Map,w.h=0,w.i&&qi(w.i,function(D,V){w.add(decodeURIComponent(D.replace(/\+/g," ")),V)}))}t=Ft.prototype,t.add=function(w,D){Ia(this),this.i=null,w=Na(this,w);let V=this.g.get(w);return V||this.g.set(w,V=[]),V.push(D),this.h+=1,this};function Pp(w,D){Ia(w),D=Na(w,D),w.g.has(D)&&(w.i=null,w.h-=w.g.get(D).length,w.g.delete(D))}function kf(w,D){return Ia(w),D=Na(w,D),w.g.has(D)}t.forEach=function(w,D){Ia(this),this.g.forEach(function(V,G){V.forEach(function(ue){w.call(D,ue,G,this)},this)},this)};function kp(w,D){Ia(w);let V=[];if(typeof D=="string")kf(w,D)&&(V=V.concat(w.g.get(Na(w,D))));else for(w=Array.from(w.g.values()),D=0;D<w.length;D++)V=V.concat(w[D]);return V}t.set=function(w,D){return Ia(this),this.i=null,w=Na(this,w),kf(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[D]),this.h+=1,this},t.get=function(w,D){return w?(w=kp(this,w),w.length>0?String(w[0]):D):D};function Op(w,D,V){Pp(w,D),V.length>0&&(w.i=null,w.g.set(Na(w,D),g(V)),w.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],D=Array.from(this.g.keys());for(let G=0;G<D.length;G++){var V=D[G];const ue=Ea(V);V=kp(this,V);for(let ge=0;ge<V.length;ge++){let De=ue;V[ge]!==""&&(De+="="+Ea(V[ge])),w.push(De)}}return this.i=w.join("&")};function jp(w){const D=new Ft;return D.i=w.i,w.g&&(D.g=new Map(w.g),D.h=w.h),D}function Na(w,D){return D=String(D),w.j&&(D=D.toLowerCase()),D}function Of(w,D){D&&!w.j&&(Ia(w),w.i=null,w.g.forEach(function(V,G){const ue=G.toLowerCase();G!=ue&&(Pp(this,G),Op(this,ue,V))},w)),w.j=D}function Pa(w,D){const V=new Cl;if(a.Image){const G=new Image;G.onload=f(Fn,V,"TestLoadImage: loaded",!0,D,G),G.onerror=f(Fn,V,"TestLoadImage: error",!1,D,G),G.onabort=f(Fn,V,"TestLoadImage: abort",!1,D,G),G.ontimeout=f(Fn,V,"TestLoadImage: timeout",!1,D,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=w}else D(!1)}function ka(w,D){const V=new Cl,G=new AbortController,ue=setTimeout(()=>{G.abort(),Fn(V,"TestPingServer: timeout",!1,D)},1e4);fetch(w,{signal:G.signal}).then(ge=>{clearTimeout(ue),ge.ok?Fn(V,"TestPingServer: ok",!0,D):Fn(V,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(ue),Fn(V,"TestPingServer: error",!1,D)})}function Fn(w,D,V,G,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),G(V)}catch{}}function ru(){this.g=new ut}function Ts(w){this.i=w.Sb||null,this.h=w.ab||!1}h(Ts,_r),Ts.prototype.g=function(){return new Gi(this.i,this.h)};function Gi(w,D){ze.call(this),this.H=w,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Gi,ze),t=Gi.prototype,t.open=function(w,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=D,this.readyState=1,Xo(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const D={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(D.body=w),(this.H||a).fetch(new Request(this.D,D)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;h0(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function h0(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var D=w.value?w.value:new Uint8Array(0);(D=this.B.decode(D,{stream:!w.done}))&&(this.response=this.responseText+=D)}w.done?Il(this):Xo(this),this.readyState==3&&h0(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Il(this))},t.Na=function(w){this.g&&(this.response=w,Il(this))},t.ga=function(){this.g&&Il(this)};function Il(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Xo(w)}t.setRequestHeader=function(w,D){this.A.append(w,D)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],D=this.h.entries();for(var V=D.next();!V.done;)V=V.value,w.push(V[0]+": "+V[1]),V=D.next();return w.join(`\r
`)};function Xo(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function p0(w){let D="";return re(w,function(V,G){D+=G,D+=":",D+=V,D+=`\r
`}),D}function jf(w,D,V){e:{for(G in V){var G=!1;break e}G=!0}G||(V=p0(V),typeof w=="string"?V!=null&&Ea(V):Qt(w,D,V))}function ur(w){ze.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(ur,ze);var m0=/^https?$/i,e2=["POST","PUT"];t=ur.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,D,V,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);D=D?D.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():a0.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(D,String(w),!0),this.B=!1}catch(ge){Nl(this,ge);return}if(w=V||"",V=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ue in G)V.set(ue,G[ue]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ge of G.keys())V.set(ge,G.get(ge));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(V.keys()).find(ge=>ge.toLowerCase()=="content-type"),ue=a.FormData&&w instanceof a.FormData,!(Array.prototype.indexOf.call(e2,D,void 0)>=0)||G||ue||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,De]of V)this.g.setRequestHeader(ge,De);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(ge){Nl(this,ge)}};function Nl(w,D){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=D,w.o=5,Pl(w),Ns(w)}function Pl(w){w.A||(w.A=!0,be(w,"complete"),be(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,be(this,"complete"),be(this,"abort"),Ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),ur.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},t.Xa=function(){Is(this)};function Is(w){if(w.h&&typeof o<"u"){if(w.v&&Oa(w)==4)setTimeout(w.Ca.bind(w),0);else if(be(w,"readystatechange"),Oa(w)==4){w.h=!1;try{const ge=w.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var V;if(!(V=D)){var G;if(G=ge===0){let De=String(w.D).match(d0)[1]||null;!De&&a.self&&a.self.location&&(De=a.self.location.protocol.slice(0,-1)),G=!m0.test(De?De.toLowerCase():"")}V=G}if(V)be(w,"complete"),be(w,"success");else{w.o=6;try{var ue=Oa(w)>2?w.g.statusText:""}catch{ue=""}w.l=ue+" ["+w.ca()+"]",Pl(w)}}finally{Ns(w)}}}}function Ns(w,D){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const V=w.g;w.g=null,D||be(w,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oa(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Oa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var D=this.g.responseText;return w&&D.indexOf(w)==0&&(D=D.substring(w.length)),We(D)}};function g0(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Rp(w){const D={};w=(w.g&&Oa(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<w.length;G++){if(F(w[G]))continue;var V=Tf(w[G]);const ue=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ge=D[ue]||[];D[ue]=ge,ge.push(V)}U(D,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(w,D,V){return V&&V.internalChannelParams&&V.internalChannelParams[w]||D}function Rf(w){this.za=0,this.i=[],this.j=new Cl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ja("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ja("baseRetryDelayMs",5e3,w),this.Za=ja("retryDelaySeedMs",1e4,w),this.Ta=ja("forwardChannelMaxRetries",2,w),this.va=ja("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Nf(w&&w.concurrentRequestLimit),this.Ba=new ru,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Rf.prototype,t.ka=8,t.I=1,t.connect=function(w,D,V,G){$r(0),this.W=w,this.H=D||{},V&&G!==void 0&&(this.H.OSID=V,this.H.OAID=G),this.F=this.X,this.J=Mp(this,null,this.W),Ps(this)};function Df(w){if(Mf(w),w.I==3){var D=w.V++,V=xo(w.J);if(Qt(V,"SID",w.M),Qt(V,"RID",D),Qt(V,"TYPE","terminate"),Ra(w,V),D=new vo(w,w.j,D),D.M=2,D.A=Ss(xo(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(D.A.toString(),"")}catch{}!V&&a.Image&&(new Image().src=D.A,V=!0),V||(D.g=v0(D.j,null),D.g.ea(D.A)),D.F=Date.now(),Kc(D)}ou(w)}function Ki(w){w.g&&(iu(w),w.g.cancel(),w.g=null)}function Mf(w){Ki(w),w.v&&(a.clearTimeout(w.v),w.v=null),Ff(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&a.clearTimeout(w.m),w.m=null)}function Ps(w){if(!Cp(w.h)&&!w.m){w.m=!0;var D=w.Ea;I||N(),S||(I(),S=!0),T.add(D,w),w.D=0}}function y0(w,D){return Xc(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=D.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Al(c(w.Ea,w,D),Bf(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const ue=new vo(this,this.j,w);let ge=this.o;if(this.U&&(ge?(ge=X(ge),W(ge,this.U)):ge=this.U),this.u!==null||this.R||(ue.J=ge,ge=null),this.S)e:{for(var D=0,V=0;V<this.i.length;V++){t:{var G=this.i[V];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(D+=G,D>4096){D=V;break e}if(D===4096||V===this.i.length-1){D=V+1;break e}}D=1e3}else D=1e3;D=Dp(this,ue,D),V=xo(this.J),Qt(V,"RID",w),Qt(V,"CVER",22),this.G&&Qt(V,"X-HTTP-Session-Id",this.G),Ra(this,V),ge&&(this.R?D="headers="+Ea(p0(ge))+"&"+D:this.u&&jf(V,this.u,ge)),Pf(this.h,ue),this.Ra&&Qt(V,"TYPE","init"),this.S?(Qt(V,"$req",D),Qt(V,"SID","null"),ue.U=!0,Yo(ue,V,null)):Yo(ue,V,D),this.I=2}}else this.I==3&&(w?nu(this,w):this.i.length==0||Cp(this.h)||nu(this))};function nu(w,D){var V;D?V=D.l:V=w.V++;const G=xo(w.J);Qt(G,"SID",w.M),Qt(G,"RID",V),Qt(G,"AID",w.K),Ra(w,G),w.u&&w.o&&jf(G,w.u,w.o),V=new vo(w,w.j,V,w.D+1),w.u===null&&(V.J=w.o),D&&(w.i=D.G.concat(w.i)),D=Dp(w,V,1e3),V.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),Pf(w.h,V),Yo(V,G,D)}function Ra(w,D){w.H&&re(w.H,function(V,G){Qt(D,G,V)}),w.l&&re({},function(V,G){Qt(D,G,V)})}function Dp(w,D,V){V=Math.min(w.i.length,V);const G=w.l?c(w.l.Ka,w.l,w):null;e:{var ue=w.i;let wt=-1;for(;;){const Gr=["count="+V];wt==-1?V>0?(wt=ue[0].g,Gr.push("ofs="+wt)):wt=0:Gr.push("ofs="+wt);let or=!0;for(let Qr=0;Qr<V;Qr++){var ge=ue[Qr].g;const Xi=ue[Qr].map;if(ge-=wt,ge<0)wt=Math.max(0,ue[Qr].g-100),or=!1;else try{ge="req"+ge+"_"||"";try{var De=Xi instanceof Map?Xi:Object.entries(Xi);for(const[ks,Ma]of De){let Fa=Ma;s(Ma)&&(Fa=le(Ma)),Gr.push(ge+ks+"="+encodeURIComponent(Fa))}}catch(ks){throw Gr.push(ge+"type="+encodeURIComponent("_badmap")),ks}}catch{G&&G(Xi)}}if(or){De=Gr.join("&");break e}}De=void 0}return w=w.i.splice(0,V),D.G=w,De}function Xn(w){if(!w.g&&!w.v){w.Y=1;var D=w.Da;I||N(),S||(I(),S=!0),T.add(D,w),w.A=0}}function Da(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Al(c(w.Da,w),Bf(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,kl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Al(c(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$r(10),Ki(this),kl(this))};function iu(w){w.B!=null&&(a.clearTimeout(w.B),w.B=null)}function kl(w){w.g=new vo(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var D=xo(w.na);Qt(D,"RID","rpc"),Qt(D,"SID",w.M),Qt(D,"AID",w.K),Qt(D,"CI",w.F?"0":"1"),!w.F&&w.ia&&Qt(D,"TO",w.ia),Qt(D,"TYPE","xmlhttp"),Ra(w,D),w.u&&w.o&&jf(D,w.u,w.o),w.O&&(w.g.H=w.O);var V=w.g;w=w.ba,V.M=1,V.A=Ss(xo(D)),V.u=null,V.R=!0,_p(V,w)}t.Va=function(){this.C!=null&&(this.C=null,Ki(this),Da(this),$r(19))};function Ff(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Lf(w,D){var V=null;if(w.g==D){Ff(w),iu(w),w.g=null;var G=2}else if(Ep(w.h,D))V=D.G,Qc(w.h,D),G=1;else return;if(w.I!=0){if(D.o)if(G==1){V=D.u?D.u.length:0,D=Date.now()-D.F;var ue=w.D;G=En(),be(G,new bp(G,V)),Ps(w)}else Xn(w);else if(ue=D.m,ue==3||ue==0&&D.X>0||!(G==1&&y0(w,D)||G==2&&Da(w)))switch(V&&V.length>0&&(D=w.h,D.i=D.i.concat(V)),ue){case 1:Yi(w,5);break;case 4:Yi(w,10);break;case 3:Yi(w,6);break;default:Yi(w,2)}}}function Bf(w,D){let V=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(V*=2),V*D}function Yi(w,D){if(w.j.info("Error code "+D),D==2){var V=c(w.bb,w),G=w.Ua;const ue=!G;G=new Sa(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zc(G,"https"),Ss(G),ue?Pa(G.toString(),V):ka(G.toString(),V)}else $r(2);w.I=0,w.l&&w.l.pa(D),ou(w),Mf(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),$r(2)):(this.j.info("Failed to ping google.com"),$r(1))};function ou(w){if(w.I=0,w.ja=[],w.l){const D=Hi(w.h);(D.length!=0||w.i.length!=0)&&(x(w.ja,D),x(w.ja,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.oa()}}function Mp(w,D,V){var G=V instanceof Sa?xo(V):new Sa(V);if(G.g!="")D&&(G.g=D+"."+G.g),Ta(G,G.u);else{var ue=a.location;G=ue.protocol,D=D?D+"."+ue.hostname:ue.hostname,ue=+ue.port;const ge=new Sa(null);G&&Zc(ge,G),D&&(ge.g=D),ue&&Ta(ge,ue),V&&(ge.h=V),G=ge}return V=w.G,D=w.wa,V&&D&&Qt(G,V,D),Qt(G,"VER",w.ka),Ra(w,G),G}function v0(w,D,V){if(D&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return D=w.Aa&&!w.ma?new ur(new Ts({ab:V})):new ur(w.ma),D.Fa(w.L),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x0(){}t=x0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vf(){}Vf.prototype.g=function(w,D){return new Ln(w,D)};function Ln(w,D){ze.call(this),this.g=new Rf(D),this.l=w,this.h=D&&D.messageUrlParams||null,w=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(w?w["X-WebChannel-Content-Type"]=D.messageContentType:w={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.sa&&(w?w["X-WebChannel-Client-Profile"]=D.sa:w={"X-WebChannel-Client-Profile":D.sa}),this.g.U=w,(w=D&&D.Qb)&&!F(w)&&(this.g.u=w),this.A=D&&D.supportsCrossDomainXhr||!1,this.v=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!F(D)&&(this.g.G=D,w=this.h,w!==null&&D in w&&(w=this.h,D in w&&delete w[D])),this.j=new Ol(this)}h(Ln,ze),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Df(this.g)},Ln.prototype.o=function(w){var D=this.g;if(typeof w=="string"){var V={};V.__data__=w,w=V}else this.v&&(V={},V.__data__=le(w),w=V);D.i.push(new Zw(D.Ya++,w)),D.I==3&&Ps(D)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Df(this.g),delete this.g,Ln.Z.N.call(this)};function b0(w){yo.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var D=w.__sm__;if(D){e:{for(const V in D){w=V;break e}w=void 0}(this.i=w)&&(w=this.i,D=D!==null&&w in D?D[w]:void 0),this.data=D}else this.data=w}h(b0,yo);function w0(){Ko.call(this),this.status=1}h(w0,Ko);function Ol(w){this.g=w}h(Ol,x0),Ol.prototype.ra=function(){be(this.g,"a")},Ol.prototype.qa=function(w){be(this.g,new b0(w))},Ol.prototype.pa=function(w){be(this.g,new w0)},Ol.prototype.oa=function(){be(this.g,"b")},Vf.prototype.createWebChannel=Vf.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,kW=function(){return new Vf},PW=function(){return En()},NW=Ar,xI={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,u1=El,Sl.COMPLETE="complete",IW=Sl,Vr.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",ze.prototype.listen=ze.prototype.J,km=Vr,ur.prototype.listenOnce=ur.prototype.K,ur.prototype.getLastError=ur.prototype.Ha,ur.prototype.getLastErrorCode=ur.prototype.ya,ur.prototype.getStatus=ur.prototype.ca,ur.prototype.getResponseJson=ur.prototype.La,ur.prototype.getResponseText=ur.prototype.la,ur.prototype.send=ur.prototype.ea,ur.prototype.setWithCredentials=ur.prototype.Fa,TW=ur}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});const H6="@firebase/firestore",q6="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Uk("@firebase/firestore");function wd(){return Zu.logLevel}function Ue(t,...e){if(Zu.logLevel<=Rt.DEBUG){const r=e.map(Hk);Zu.debug(`Firestore (${Xh}): ${t}`,...r)}}function ol(t,...e){if(Zu.logLevel<=Rt.ERROR){const r=e.map(Hk);Zu.error(`Firestore (${Xh}): ${t}`,...r)}}function oh(t,...e){if(Zu.logLevel<=Rt.WARN){const r=e.map(Hk);Zu.warn(`Firestore (${Xh}): ${t}`,...r)}}function Hk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,OW(t,n,r)}function OW(t,e,r){let n=`FIRESTORE (${Xh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ol(n),new Error(n)}function ir(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||OW(e,i,n)}function At(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends ys{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class due{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ii.UNAUTHENTICATED)))}shutdown(){}}class hue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class pue{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ir(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xs,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=o;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},s=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>s(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xs)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ir(typeof n.accessToken=="string",31837,{l:n}),new jW(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ir(e===null||typeof e=="string",2055,{h:e}),new ii(e)}}class mue{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gue{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new mue(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(ii.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yue{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ir(this.o===void 0,3512);const n=o=>{o.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ir(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new G6(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=vue(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Dt(t,e){return t<e?-1:t>e?1:0}function bI(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),o=e.charAt(n);if(i!==o)return G_(i)===G_(o)?Dt(i,o):G_(i)?1:-1}return Dt(t.length,e.length)}const xue=55296,bue=57343;function G_(t){const e=t.charCodeAt(0);return e>=xue&&e<=bue}function ah(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="__name__";class Wa{constructor(e,r,n){r===void 0?r=0:r>e.length&&ht(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ht(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Wa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=Wa.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Dt(e.length,r.length)}static compareSegments(e,r){const n=Wa.isNumericId(e),i=Wa.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Wa.extractNumericId(e).compare(Wa.extractNumericId(r)):bI(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fc.fromString(e.substring(4,e.length-2))}}class yr extends Wa{construct(e,r,n){return new yr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new yr(r)}static emptyPath(){return new yr([])}}const wue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Wa{construct(e,r,n){return new Gn(e,r,n)}static isValidIdentifier(e){return wue.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K6}static keyField(){return new Gn([K6])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Fe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(n+=s,i++):(o(),i++)}if(o(),a)throw new Fe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(r)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(yr.fromString(e))}static fromName(e){return new rt(yr.fromString(e).popFirst(5))}static empty(){return new rt(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return yr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new yr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t,e,r){if(!r)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _ue(t,e,r,n){if(e===!0&&n===!0)throw new Fe(Ae.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Y6(t){if(!rt.isDocumentKey(t))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X6(t){if(rt.isDocumentKey(t))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DW(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ht(12329,{type:typeof t})}function uo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=wb(t);throw new Fe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Aue(t,e){if(e<=0)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const r={typeString:t};return e&&(r.value=e),r}function Ay(t,e){if(!DW(t))throw new Fe(Ae.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new Fe(Ae.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=-62135596800,Z6=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Z6);return new Pt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Q6)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z6}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ay(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:on("string",Pt._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Pt(0,0))}static max(){return new bt(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function Cue(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(n===1e9?new Pt(r+1,0):new Pt(r,n));return new _c(i,rt.empty(),e)}function Eue(t){return new _c(t.readTime,t.key,vg)}class _c{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new _c(bt.min(),rt.empty(),vg)}static max(){return new _c(bt.max(),rt.empty(),vg)}}function Sue(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=rt.comparator(t.documentKey,e.documentKey),r!==0?r:Dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==Tue)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ee(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Ee?r:Ee.resolve(r)}catch(r){return Ee.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Ee.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Ee.reject(r)}static resolve(e){return new Ee(((r,n)=>{r(e)}))}static reject(e){return new Ee(((r,n)=>{n(e)}))}static waitFor(e){return new Ee(((r,n)=>{let i=0,o=0,a=!1;e.forEach((s=>{++i,s.next((()=>{++o,a&&o===i&&r()}),(l=>n(l)))})),a=!0,o===i&&r()}))}static or(e){let r=Ee.resolve(!1);for(const n of e)r=r.next((i=>i?Ee.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,o)=>{n.push(r.call(this,i,o))})),this.waitFor(n)}static mapArray(e,r){return new Ee(((n,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;r(e[c]).next((f=>{a[c]=f,++s,s===o&&n(a)}),(f=>i(f)))}}))}static doWhile(e,r){return new Ee(((n,i)=>{const o=()=>{e()===!0?r().next((()=>{o()}),i):n()};o()}))}}function Nue(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Zh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_b.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=-1;function Ab(t){return t==null}function L1(t){return t===0&&1/t==-1/0}function Pue(t){return typeof t=="number"&&Number.isInteger(t)&&!L1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW="";function kue(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=J6(e)),e=Oue(t.get(r),e);return J6(e)}function Oue(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case MW:r+="";break;default:r+=o}}return r}function J6(t){return t+MW+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Oc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function FW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,r){this.comparator=e,this.root=r||qn.EMPTY}insert(e,r){return new Br(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wv(this.root,e,this.comparator,!1)}getReverseIterator(){return new wv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wv(this.root,e,this.comparator,!0)}}class wv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??qn.RED,this.left=i??qn.EMPTY,this.right=o??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new qn(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return qn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new qn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new t5(this.data.getIterator())}getIteratorFrom(e){return new t5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new _n(this.comparator);return r.data=e,r}}class t5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new so([])}unionWith(e){let r=new _n(Gn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new so(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LW("Invalid base64 string: "+o):o}})(e);return new Yn(r)}static fromUint8Array(e){const r=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new Yn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const jue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(t){if(ir(!!t,39018),typeof t=="string"){let e=0;const r=jue.exec(t);if(ir(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Xr(t.seconds),nanos:Xr(t.nanos)}}function Xr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cc(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW="server_timestamp",VW="__type__",$W="__previous_value__",UW="__local_write_time__";function Kk(t){return(t?.mapValue?.fields||{})[VW]?.stringValue===BW}function Cb(t){const e=t.mapValue.fields[$W];return Kk(e)?Cb(e):e}function xg(t){const e=Ac(t.mapValue.fields[UW].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e,r,n,i,o,a,s,l,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=f}}const B1="(default)";class bg{constructor(e,r){this.projectId=e,this.database=r||B1}static empty(){return new bg("","")}get isDefaultDatabase(){return this.database===B1}isEqual(e){return e instanceof bg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="__type__",Due="__max__",_v={mapValue:{}},WW="__vector__",V1="value";function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kk(t)?4:Fue(t)?9007199254740991:Mue(t)?10:11:ht(28295,{value:t})}function us(t,e){if(t===e)return!0;const r=Ec(t);if(r!==Ec(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xg(t).isEqual(xg(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ac(i.timestampValue),s=Ac(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Cc(i.bytesValue).isEqual(Cc(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Xr(i.geoPointValue.latitude)===Xr(o.geoPointValue.latitude)&&Xr(i.geoPointValue.longitude)===Xr(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Xr(i.integerValue)===Xr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Xr(i.doubleValue),s=Xr(o.doubleValue);return a===s?L1(a)===L1(s):isNaN(a)&&isNaN(s)}return!1})(t,e);case 9:return ah(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(e5(a)!==e5(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!us(a[l],s[l])))return!1;return!0})(t,e);default:return ht(52216,{left:t})}}function wg(t,e){return(t.values||[]).find((r=>us(r,e)))!==void 0}function sh(t,e){if(t===e)return 0;const r=Ec(t),n=Ec(e);if(r!==n)return Dt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Dt(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const s=Xr(o.integerValue||o.doubleValue),l=Xr(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1})(t,e);case 3:return r5(t.timestampValue,e.timestampValue);case 4:return r5(xg(t),xg(e));case 5:return bI(t.stringValue,e.stringValue);case 6:return(function(o,a){const s=Cc(o),l=Cc(a);return s.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const s=o.split("/"),l=a.split("/");for(let c=0;c<s.length&&c<l.length;c++){const f=Dt(s[c],l[c]);if(f!==0)return f}return Dt(s.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const s=Dt(Xr(o.latitude),Xr(a.latitude));return s!==0?s:Dt(Xr(o.longitude),Xr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return n5(t.arrayValue,e.arrayValue);case 10:return(function(o,a){const s=o.fields||{},l=a.fields||{},c=s[V1]?.arrayValue,f=l[V1]?.arrayValue,h=Dt(c?.values?.length||0,f?.values?.length||0);return h!==0?h:n5(c,f)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===_v.mapValue&&a===_v.mapValue)return 0;if(o===_v.mapValue)return 1;if(a===_v.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),c=a.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const p=bI(l[h],f[h]);if(p!==0)return p;const g=sh(s[l[h]],c[f[h]]);if(g!==0)return g}return Dt(l.length,f.length)})(t.mapValue,e.mapValue);default:throw ht(23264,{he:r})}}function r5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dt(t,e);const r=Ac(t),n=Ac(e),i=Dt(r.seconds,n.seconds);return i!==0?i:Dt(r.nanos,n.nanos)}function n5(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=sh(r[i],n[i]);if(o)return o}return Dt(r.length,n.length)}function lh(t){return wI(t)}function wI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Ac(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Cc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return rt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=wI(o);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of n)o?o=!1:i+=",",i+=`${a}:${wI(r.fields[a])}`;return i+"}"})(t.mapValue):ht(61005,{value:t})}function f1(t){switch(Ec(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cb(t);return e?16+f1(e):16;case 5:return 2*t.stringValue.length;case 6:return Cc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+f1(o)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Oc(n.fields,((o,a)=>{i+=o.length+f1(a)})),i})(t.mapValue);default:throw ht(13486,{value:t})}}function i5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _I(t){return!!t&&"integerValue"in t}function Yk(t){return!!t&&"arrayValue"in t}function o5(t){return!!t&&"nullValue"in t}function a5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function d1(t){return!!t&&"mapValue"in t}function Mue(t){return(t?.mapValue?.fields||{})[zW]?.stringValue===WW}function Ym(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Ym(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ym(t.arrayValue.values[r]);return e}return{...t}}function Fue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Due}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!d1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ym(r)}setAll(e){let r=Gn.emptyPath(),n={},i=[];e.forEach(((a,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}a?n[s.lastSegment()]=Ym(a):i.push(s.lastSegment())}));const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());d1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];d1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Oc(r,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new Ri(Ym(this.value))}}function HW(t){const e=[];return Oc(t.fields,((r,n)=>{const i=new Gn([r]);if(d1(n)){const o=HW(n.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new so(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,r,n,i,o,a,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new oi(e,0,bt.min(),bt.min(),bt.min(),Ri.empty(),0)}static newFoundDocument(e,r,n,i){return new oi(e,1,r,bt.min(),n,i,0)}static newNoDocument(e,r){return new oi(e,2,r,bt.min(),bt.min(),Ri.empty(),0)}static newUnknownDocument(e,r){return new oi(e,3,r,bt.min(),bt.min(),Ri.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,r){this.position=e,this.inclusive=r}}function s5(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?n=rt.comparator(rt.fromName(a.referenceValue),r.key):n=sh(a,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function l5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!us(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,r="asc"){this.field=e,this.dir=r}}function Lue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{}class nn extends qW{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Vue(e,r,n):r==="array-contains"?new zue(e,n):r==="in"?new Wue(e,n):r==="not-in"?new Hue(e,n):r==="array-contains-any"?new que(e,n):new nn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new $ue(e,n):new Uue(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(sh(r,this.value)):r!==null&&Ec(this.value)===Ec(r)&&this.matchesComparison(sh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class va extends qW{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new va(e,r)}matches(e){return GW(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GW(t){return t.op==="and"}function KW(t){return Bue(t)&&GW(t)}function Bue(t){for(const e of t.filters)if(e instanceof va)return!1;return!0}function AI(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+lh(t.value);if(KW(t))return t.filters.map((e=>AI(e))).join(",");{const e=t.filters.map((r=>AI(r))).join(",");return`${t.op}(${e})`}}function YW(t,e){return t instanceof nn?(function(n,i){return i instanceof nn&&n.op===i.op&&n.field.isEqual(i.field)&&us(n.value,i.value)})(t,e):t instanceof va?(function(n,i){return i instanceof va&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,a,s)=>o&&YW(a,i.filters[s])),!0):!1})(t,e):void ht(19439)}function XW(t){return t instanceof nn?(function(r){return`${r.field.canonicalString()} ${r.op} ${lh(r.value)}`})(t):t instanceof va?(function(r){return r.op.toString()+" {"+r.getFilters().map(XW).join(" ,")+"}"})(t):"Filter"}class Vue extends nn{constructor(e,r,n){super(e,r,n),this.key=rt.fromName(n.referenceValue)}matches(e){const r=rt.comparator(e.key,this.key);return this.matchesComparison(r)}}class $ue extends nn{constructor(e,r){super(e,"in",r),this.keys=QW("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Uue extends nn{constructor(e,r){super(e,"not-in",r),this.keys=QW("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function QW(t,e){return(e.arrayValue?.values||[]).map((r=>rt.fromName(r.referenceValue)))}class zue extends nn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Yk(r)&&wg(r.arrayValue,this.value)}}class Wue extends nn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&wg(this.value.arrayValue,r)}}class Hue extends nn{constructor(e,r){super(e,"not-in",r)}matches(e){if(wg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!wg(this.value.arrayValue,r)}}class que extends nn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Yk(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>wg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(e,r=null,n=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function c5(t,e=null,r=[],n=[],i=null,o=null,a=null){return new Gue(t,e,r,n,i,o,a)}function Xk(t){const e=At(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>AI(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Ab(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>lh(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>lh(n))).join(",")),e.Te=r}return e.Te}function Qk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Lue(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!YW(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l5(t.startAt,e.startAt)&&l5(t.endAt,e.endAt)}function CI(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,r=null,n=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kue(t,e,r,n,i,o,a,s){return new Jh(t,e,r,n,i,o,a,s)}function Eb(t){return new Jh(t)}function u5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZW(t){return t.collectionGroup!==null}function Xm(t){const e=At(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new _n(Gn.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(s=s.add(c.field))}))})),s})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new _g(o,n))})),r.has(Gn.keyField().canonicalString())||e.Ie.push(new _g(Gn.keyField(),n))}return e.Ie}function ts(t){const e=At(t);return e.Ee||(e.Ee=Yue(e,Xm(t))),e.Ee}function Yue(t,e){if(t.limitType==="F")return c5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new _g(i.field,o)}));const r=t.endAt?new $1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new $1(t.startAt.position,t.startAt.inclusive):null;return c5(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function EI(t,e){const r=t.filters.concat([e]);return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function U1(t,e,r){return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Sb(t,e){return Qk(ts(t),ts(e))&&t.limitType===e.limitType}function JW(t){return`${Xk(ts(t))}|lt:${t.limitType}`}function _d(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>XW(i))).join(", ")}]`),Ab(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>lh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>lh(i))).join(",")),`Target(${n})`})(ts(t))}; limitType=${t.limitType})`}function Tb(t,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):rt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(t,e)&&(function(n,i){for(const o of Xm(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,s,l){const c=s5(a,s,l);return a.inclusive?c<=0:c<0})(n.startAt,Xm(n),i)||n.endAt&&!(function(a,s,l){const c=s5(a,s,l);return a.inclusive?c>=0:c>0})(n.endAt,Xm(n),i))})(t,e)}function Xue(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eH(t){return(e,r)=>{let n=!1;for(const i of Xm(t)){const o=Que(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Que(t,e,r){const n=t.field.isKeyField()?rt.comparator(e.key,r.key):(function(o,a,s){const l=a.data.field(o),c=s.data.field(o);return l!==null&&c!==null?sh(l,c):ht(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ht(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oc(this.inner,((r,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return FW(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue=new Br(rt.comparator);function al(){return Zue}const tH=new Br(rt.comparator);function Om(...t){let e=tH;for(const r of t)e=e.insert(r.key,r);return e}function rH(t){let e=tH;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Ru(){return Qm()}function nH(){return Qm()}function Qm(){return new vf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Jue=new Br(rt.comparator),efe=new _n(rt.comparator);function Mt(...t){let e=efe;for(const r of t)e=e.add(r);return e}const tfe=new _n(Dt);function rfe(){return tfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:L1(e)?"-0":e}}function iH(t){return{integerValue:""+t}}function nfe(t,e){return Pue(e)?iH(e):Zk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this._=void 0}}function ife(t,e,r){return t instanceof z1?(function(i,o){const a={fields:{[VW]:{stringValue:BW},[UW]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Kk(o)&&(o=Cb(o)),o&&(a.fields[$W]=o),{mapValue:a}})(r,e):t instanceof Ag?aH(t,e):t instanceof Cg?sH(t,e):(function(i,o){const a=oH(i,o),s=f5(a)+f5(i.Ae);return _I(a)&&_I(i.Ae)?iH(s):Zk(i.serializer,s)})(t,e)}function ofe(t,e,r){return t instanceof Ag?aH(t,e):t instanceof Cg?sH(t,e):r}function oH(t,e){return t instanceof W1?(function(n){return _I(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class z1 extends Ib{}class Ag extends Ib{constructor(e){super(),this.elements=e}}function aH(t,e){const r=lH(e);for(const n of t.elements)r.some((i=>us(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Cg extends Ib{constructor(e){super(),this.elements=e}}function sH(t,e){let r=lH(e);for(const n of t.elements)r=r.filter((i=>!us(i,n)));return{arrayValue:{values:r}}}class W1 extends Ib{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function f5(t){return Xr(t.integerValue||t.doubleValue)}function lH(t){return Yk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function afe(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Ag&&i instanceof Ag||n instanceof Cg&&i instanceof Cg?ah(n.elements,i.elements,us):n instanceof W1&&i instanceof W1?us(n.Ae,i.Ae):n instanceof z1&&i instanceof z1})(t.transform,e.transform)}class sfe{constructor(e,r){this.version=e,this.transformResults=r}}class fo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fo}static exists(e){return new fo(void 0,e)}static updateTime(e){return new fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nb{}function cH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jk(t.key,fo.none()):new Cy(t.key,t.data,fo.none());{const r=t.data,n=Ri.empty();let i=new _n(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?n.delete(o):n.set(o,a),i=i.add(o)}return new jc(t.key,n,new so(i.toArray()),fo.none())}}function lfe(t,e,r){t instanceof Cy?(function(i,o,a){const s=i.value.clone(),l=h5(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()})(t,e,r):t instanceof jc?(function(i,o,a){if(!h1(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=h5(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(uH(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function Zm(t,e,r,n){return t instanceof Cy?(function(o,a,s,l){if(!h1(o.precondition,a))return s;const c=o.value.clone(),f=p5(o.fieldTransforms,l,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,r,n):t instanceof jc?(function(o,a,s,l){if(!h1(o.precondition,a))return s;const c=p5(o.fieldTransforms,l,a),f=a.data;return f.setAll(uH(o)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((h=>h.field)))})(t,e,r,n):(function(o,a,s){return h1(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s})(t,e,r)}function cfe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=oH(n.transform,i||null);o!=null&&(r===null&&(r=Ri.empty()),r.set(n.field,o))}return r||null}function d5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ah(n,i,((o,a)=>afe(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cy extends Nb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jc extends Nb{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uH(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function h5(t,e,r){const n=new Map;ir(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);n.set(o.field,ofe(a,s,r[i]))}return n}function p5(t,e,r){const n=new Map;for(const i of t){const o=i.transform,a=r.data.field(i.field);n.set(i.field,ife(o,a,e))}return n}class Jk extends Nb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ufe extends Nb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&lfe(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Zm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Zm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=nH();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=r.has(i.key)?null:s;const l=cH(a,s);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(bt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,((r,n)=>d5(r,n)))&&ah(this.baseMutations,e.baseMutations,((r,n)=>d5(r,n)))}}class e4{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ir(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Jue})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new e4(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dfe=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr,Bt;function pfe(t){switch(t){case Ae.OK:return ht(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return ht(15467,{code:t})}}function fH(t){if(t===void 0)return ol("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case Jr.OK:return Ae.OK;case Jr.CANCELLED:return Ae.CANCELLED;case Jr.UNKNOWN:return Ae.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Ae.INTERNAL;case Jr.UNAVAILABLE:return Ae.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Ae.NOT_FOUND;case Jr.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Jr.ABORTED:return Ae.ABORTED;case Jr.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Jr.DATA_LOSS:return Ae.DATA_LOSS;default:return ht(39323,{code:t})}}(Bt=Jr||(Jr={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=new fc([4294967295,4294967295],0);function m5(t){const e=mfe().encode(t),r=new SW;return r.update(e),new Uint8Array(r.digest())}function g5(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fc([r,n],0),new fc([i,o],0)]}class t4{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new jm(`Invalid padding: ${r}`);if(n<0)throw new jm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new jm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new jm(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=fc.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(fc.fromNumber(n)));return i.compare(gfe)===1&&(i=new fc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=m5(e),[n,i]=g5(r);for(let o=0;o<this.hashCount;o++){const a=this.ye(n,i,o);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t4(o,i,r);return n.forEach((s=>a.insert(s))),a}insert(e){if(this.ge===0)return;const r=m5(e),[n,i]=g5(r);for(let o=0;o<this.hashCount;o++){const a=this.ye(n,i,o);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class jm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ey.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Pb(bt.min(),i,new Br(Dt),al(),Mt())}}class Ey{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ey(n,r,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class dH{constructor(e,r){this.targetId=e,this.Ce=r}}class hH{constructor(e,r,n=Yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class y5{constructor(){this.ve=0,this.Fe=v5(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),r=Mt(),n=Mt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ht(38017,{changeType:o})}})),new Ey(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=v5()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ir(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yfe{constructor(e){this.Ge=e,this.ze=new Map,this.je=al(),this.Je=Av(),this.He=Av(),this.Ye=new Br(Dt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const o=i.target;if(CI(o))if(n===0){const a=new rt(o.path);this.et(r,a,oi.newNoDocument(a,bt.min()))}else ir(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let a,s;try{a=Cc(n).toUint8Array()}catch(l){if(l instanceof LW)return oh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new t4(a,i,o)}catch(l){return oh(l instanceof jm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(r,o,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((o,a)=>{const s=this.ot(a);if(s){if(o.current&&CI(s.target)){const l=new rt(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,oi.newNoDocument(l,e))}o.Be&&(r.set(a,o.ke()),o.qe())}}));let n=Mt();this.He.forEach(((o,a)=>{let s=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)})),s&&(n=n.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Pb(e,r,this.Ye,this.je,n);return this.je=al(),this.Je=Av(),this.He=Av(),this.Ye=new Br(Dt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new y5,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new _n(Dt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new _n(Dt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ue("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y5),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Av(){return new Br(rt.comparator)}function v5(){return new Br(rt.comparator)}const vfe={asc:"ASCENDING",desc:"DESCENDING"},xfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bfe={and:"AND",or:"OR"};class wfe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function SI(t,e){return t.useProto3Json||Ab(e)?e:{value:e}}function H1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _fe(t,e){return H1(t,e.toTimestamp())}function rs(t){return ir(!!t,49232),bt.fromTimestamp((function(r){const n=Ac(r);return new Pt(n.seconds,n.nanos)})(t))}function r4(t,e){return TI(t,e).canonicalString()}function TI(t,e){const r=(function(i){return new yr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function mH(t){const e=yr.fromString(t);return ir(bH(e),10190,{key:e.toString()}),e}function II(t,e){return r4(t.databaseId,e.path)}function K_(t,e){const r=mH(e);if(r.get(1)!==t.databaseId.projectId)throw new Fe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Fe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new rt(yH(r))}function gH(t,e){return r4(t.databaseId,e)}function Afe(t){const e=mH(t);return e.length===4?yr.emptyPath():yH(e)}function NI(t){return new yr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yH(t){return ir(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x5(t,e,r){return{name:II(t,e),fields:r.value.mapValue.fields}}function Cfe(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ht(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(c,f){return c.useProto3Json?(ir(f===void 0||typeof f=="string",58123),Yn.fromBase64String(f||"")):(ir(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Yn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&(function(c){const f=c.code===void 0?Ae.UNKNOWN:fH(c.code);return new Fe(f,c.message||"")})(a);r=new hH(n,i,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=K_(t,n.document.name),o=rs(n.document.updateTime),a=n.document.createTime?rs(n.document.createTime):bt.min(),s=new Ri({mapValue:{fields:n.document.fields}}),l=oi.newFoundDocument(i,o,a,s),c=n.targetIds||[],f=n.removedTargetIds||[];r=new p1(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=K_(t,n.document),o=n.readTime?rs(n.readTime):bt.min(),a=oi.newNoDocument(i,o),s=n.removedTargetIds||[];r=new p1([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=K_(t,n.document),o=n.removedTargetIds||[];r=new p1([],o,i,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,a=new hfe(i,o),s=n.targetId;r=new dH(s,a)}}return r}function Efe(t,e){let r;if(e instanceof Cy)r={update:x5(t,e.key,e.value)};else if(e instanceof Jk)r={delete:II(t,e.key)};else if(e instanceof jc)r={update:x5(t,e.key,e.data),updateMask:Rfe(e.fieldMask)};else{if(!(e instanceof ufe))return ht(16599,{Vt:e.type});r={verify:II(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(o,a){const s=a.transform;if(s instanceof z1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ag)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Cg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof W1)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw ht(20930,{transform:a.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:_fe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ht(27497)})(t,e.precondition)),r}function Sfe(t,e){return t&&t.length>0?(ir(e!==void 0,14353),t.map((r=>(function(i,o){let a=i.updateTime?rs(i.updateTime):rs(o);return a.isEqual(bt.min())&&(a=rs(o)),new sfe(a,i.transformResults||[])})(r,e)))):[]}function Tfe(t,e){return{documents:[gH(t,e.path)]}}function Ife(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=gH(t,i);const o=(function(c){if(c.length!==0)return xH(va.create(c,"and"))})(e.filters);o&&(r.structuredQuery.where=o);const a=(function(c){if(c.length!==0)return c.map((f=>(function(p){return{field:Ad(p.field),direction:kfe(p.dir)}})(f)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const s=SI(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:r,parent:i}}function Nfe(t){let e=Afe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ir(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];r.where&&(o=(function(h){const p=vH(h);return p instanceof va&&KW(p)?p.getFilters():[p]})(r.where));let a=[];r.orderBy&&(a=(function(h){return h.map((p=>(function(x){return new _g(Cd(x.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(p)))})(r.orderBy));let s=null;r.limit&&(s=(function(h){let p;return p=typeof h=="object"?h.value:h,Ab(p)?null:p})(r.limit));let l=null;r.startAt&&(l=(function(h){const p=!!h.before,g=h.values||[];return new $1(g,p)})(r.startAt));let c=null;return r.endAt&&(c=(function(h){const p=!h.before,g=h.values||[];return new $1(g,p)})(r.endAt)),Kue(e,i,a,o,s,"F",l,c)}function Pfe(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function vH(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Cd(r.unaryFilter.field);return nn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Cd(r.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cd(r.unaryFilter.field);return nn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cd(r.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(t):t.fieldFilter!==void 0?(function(r){return nn.create(Cd(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return va.create(r.compositeFilter.filters.map((n=>vH(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(r.compositeFilter.op))})(t):ht(30097,{filter:t})}function kfe(t){return vfe[t]}function Ofe(t){return xfe[t]}function jfe(t){return bfe[t]}function Ad(t){return{fieldPath:t.canonicalString()}}function Cd(t){return Gn.fromServerFormat(t.fieldPath)}function xH(t){return t instanceof nn?(function(r){if(r.op==="=="){if(a5(r.value))return{unaryFilter:{field:Ad(r.field),op:"IS_NAN"}};if(o5(r.value))return{unaryFilter:{field:Ad(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(a5(r.value))return{unaryFilter:{field:Ad(r.field),op:"IS_NOT_NAN"}};if(o5(r.value))return{unaryFilter:{field:Ad(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ad(r.field),op:Ofe(r.op),value:r.value}}})(t):t instanceof va?(function(r){const n=r.getFilters().map((i=>xH(i)));return n.length===1?n[0]:{compositeFilter:{op:jfe(r.op),filters:n}}})(t):ht(54877,{filter:t})}function Rfe(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function bH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,r,n,i,o=bt.min(),a=bt.min(),s=Yn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e){this.yt=e}}function Mfe(t){const e=Nfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe{constructor(){this.Cn=new Lfe}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ee.resolve()}getCollectionParents(e,r){return Ee.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ee.resolve()}deleteFieldIndex(e,r){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,r){return Ee.resolve()}getDocumentsMatchingTarget(e,r){return Ee.resolve(null)}getIndexType(e,r){return Ee.resolve(0)}getFieldIndexes(e,r){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,r){return Ee.resolve(_c.min())}getMinOffsetFromCollectionGroup(e,r){return Ee.resolve(_c.min())}updateCollectionGroup(e,r,n){return Ee.resolve()}updateIndexEntries(e,r){return Ee.resolve()}}class Lfe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new _n(yr.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new _n(yr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wH=41943040;class Oi{static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(wH,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ch(0)}static cr(){return new ch(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="LruGarbageCollector",Bfe=1048576;function _5([t,e],[r,n]){const i=Dt(t,r);return i===0?Dt(e,n):i}class Vfe{constructor(e){this.Ir=e,this.buffer=new _n(_5),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();_5(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $fe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ue(w5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Zh(r)?Ue(w5,"Ignoring IndexedDB error during garbage collection: ",r):await Qh(r)}await this.Vr(3e5)}))}}class Ufe{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Ee.resolve(_b.ce);const n=new Vfe(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(b5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b5):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,o,a,s,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i)))).next((h=>(n=h,s=Date.now(),this.removeTargets(e,n,r)))).next((h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((h=>(c=Date.now(),wd()<=Rt.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h}))))}}function zfe(t,e){return new Ufe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wfe{constructor(){this.changes=new vf((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ee.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Zm(n.mutation,i,so.empty(),Pt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Mt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Mt()){const i=Ru();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((o=>{let a=Om();return o.forEach(((s,l)=>{a=a.insert(s,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=Ru();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Mt())))}populateOverlays(e,r,n){const i=[];return n.forEach((o=>{r.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,s)=>{r.set(a,s)}))}))}computeViews(e,r,n,i){let o=al();const a=Qm(),s=(function(){return Qm()})();return r.forEach(((l,c)=>{const f=n.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof jc)?o=o.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Zm(f.mutation,c,f.mutation.getFieldMask(),Pt.now())):a.set(c.key,so.empty())})),this.recalculateAndSaveOverlays(e,o).next((l=>(l.forEach(((c,f)=>a.set(c,f))),r.forEach(((c,f)=>s.set(c,new Hfe(f,a.get(c)??null)))),s)))}recalculateAndSaveOverlays(e,r){const n=Qm();let i=new Br(((a,s)=>a-s)),o=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const s of a)s.keys().forEach((l=>{const c=r.get(l);if(c===null)return;let f=n.get(l)||so.empty();f=s.applyToLocalView(c,f),n.set(l,f);const h=(i.get(s.batchId)||Mt()).add(l);i=i.insert(s.batchId,h)}))})).next((()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,f=l.value,h=nH();f.forEach((p=>{if(!o.has(p)){const g=cH(r.get(p),n.get(p));g!==null&&h.set(p,g),o=o.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Ee.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return rt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ZW(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):Ee.resolve(Ru());let s=vg,l=o;return a.next((c=>Ee.forEach(c,((f,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(f)?Ee.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{l=l.insert(f,p)}))))).next((()=>this.populateOverlays(e,c,o))).next((()=>this.computeViews(e,l,c,Mt()))).next((f=>({batchId:s,changes:rH(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new rt(r)).next((n=>{let i=Om();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let a=Om();return this.indexManager.getCollectionParents(e,o).next((s=>Ee.forEach(s,(l=>{const c=(function(h,p){return new Jh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next((f=>{f.forEach(((h,p)=>{a=a.insert(h,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i)))).next((a=>{o.forEach(((l,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,oi.newInvalidDocument(f)))}));let s=Om();return a.forEach(((l,c)=>{const f=o.get(l);f!==void 0&&Zm(f.mutation,c,so.empty(),Pt.now()),Tb(r,c)&&(s=s.insert(l,c))})),s}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ee.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:rs(i.createTime)}})(r)),Ee.resolve()}getNamedQuery(e,r){return Ee.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Mfe(i.bundledQuery),readTime:rs(i.readTime)}})(r)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kfe{constructor(){this.overlays=new Br(rt.comparator),this.qr=new Map}getOverlay(e,r){return Ee.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ru();return Ee.forEach(r,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,o)=>{this.St(e,r,o)})),Ee.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Ee.resolve()}getOverlaysForCollection(e,r,n){const i=Ru(),o=r.length+1,a=new rt(r.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Br(((c,f)=>c-f));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let f=o.get(c.largestBatchId);f===null&&(f=Ru(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const s=Ru(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,f)=>s.set(c,f))),!(s.size()>=i)););return Ee.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new dfe(r,n));let o=this.qr.get(r);o===void 0&&(o=Mt(),this.qr.set(r,o)),this.qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Qr=new _n(kn.$r),this.Ur=new _n(kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new kn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new kn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new rt(new yr([])),n=new kn(r,e),i=new kn(r,e+1),o=[];return this.Ur.forEachInRange([n,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new rt(new yr([])),n=new kn(r,e),i=new kn(r,e+1);let o=Mt();return this.Ur.forEachInRange([n,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const r=new kn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return rt.comparator(e.key,r.key)||Dt(e.Yr,r.Yr)}static Kr(e,r){return Dt(e.Yr,r.Yr)||rt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new _n(kn.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ffe(o,r,n,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new kn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ee.resolve(a)}lookupMutationBatch(e,r){return Ee.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),o=i<0?0:i;return Ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?Gk:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kn(r,0),i=new kn(r,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,i],(a=>{const s=this.Xr(a.Yr);o.push(s)})),Ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _n(Dt);return r.forEach((i=>{const o=new kn(i,0),a=new kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(s=>{n=n.add(s.Yr)}))})),Ee.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;rt.isDocumentKey(o)||(o=o.child(""));const a=new kn(new rt(o),0);let s=new _n(Dt);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Yr)),!0)}),a),Ee.resolve(this.ti(s))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ir(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ee.forEach(r.mutations,(i=>{const o=new kn(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new kn(r,0),i=this.Zr.firstAfterOrEqual(n);return Ee.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e){this.ri=e,this.docs=(function(){return new Br(rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ee.resolve(n?n.document.mutableCopy():oi.newInvalidDocument(r))}getEntries(e,r){let n=al();return r.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():oi.newInvalidDocument(i))})),Ee.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=al();const a=r.path,s=new rt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Sue(Eue(f),n)<=0||(i.has(f.key)||Tb(r,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Ee.resolve(o)}getAllFromCollectionGroup(e,r,n,i){ht(9500)}ii(e,r){return Ee.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Zfe(this)}getSize(e){return Ee.resolve(this.size)}}class Zfe extends Wfe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),Ee.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jfe{constructor(e){this.persistence=e,this.si=new vf((r=>Xk(r)),Qk),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new n4,this.targetCount=0,this.ai=ch.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ee.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ch(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ee.resolve()}updateTargetData(e,r){return this.Pr(r),Ee.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.si.forEach(((a,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ee.waitFor(o).next((()=>i))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Ee.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Ee.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),Ee.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ee.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Ee.resolve(n)}containsKey(e,r){return Ee.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,r){this.ui={},this.overlays={},this.ci=new _b(0),this.li=!1,this.li=!0,this.hi=new Yfe,this.referenceDelegate=e(this),this.Pi=new Jfe(this),this.indexManager=new Ffe,this.remoteDocumentCache=(function(i){return new Qfe(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Dfe(r),this.Ii=new Gfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Kfe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Xfe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ue("MemoryPersistence","Starting transaction:",e);const i=new ede(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,r){return Ee.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class ede extends Iue{constructor(e){super(),this.currentSequenceNumber=e}}class i4{constructor(e){this.persistence=e,this.Ri=new n4,this.Vi=null}static mi(e){return new i4(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ee.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ee.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ee.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,(n=>{const i=rt.fromPath(n);return this.gi(e,i).next((o=>{o||r.removeEntry(i,bt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class q1{constructor(e,r){this.persistence=e,this.pi=new vf((n=>kue(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=zfe(this,r)}static mi(e,r){return new q1(e,r)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return Ee.forEach(this.pi,((n,i)=>this.br(e,n,i).next((o=>o?Ee.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,r).next((s=>{s||(n++,o.removeEntry(a,bt.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=f1(e.data.value)),r}br(e,r,n){return Ee.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Ee.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Mt(),i=Mt();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new o4(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rde{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kle()?8:Nue(ui())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ys(e,r).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,r,i,n).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new tde;return this.Ss(e,r,a).next((s=>{if(o.result=s,this.Vs)return this.bs(e,r,a,s.size)}))})).next((()=>o.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(wd()<=Rt.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",_d(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(wd()<=Rt.DEBUG&&Ue("QueryEngine","Query:",_d(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(wd()<=Rt.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",_d(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(r))):Ee.resolve())}ys(e,r){if(u5(r))return Ee.resolve(null);let n=ts(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=U1(r,null,"F"),n=ts(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const a=Mt(...o);return this.ps.getDocuments(e,a).next((s=>this.indexManager.getMinOffset(e,n).next((l=>{const c=this.Ds(r,s);return this.Cs(r,c,a,l.readTime)?this.ys(e,U1(r,null,"F")):this.vs(e,c,r,l)}))))})))))}ws(e,r,n,i){return u5(r)||i.isEqual(bt.min())?Ee.resolve(null):this.ps.getDocuments(e,n).next((o=>{const a=this.Ds(r,o);return this.Cs(r,a,n,i)?Ee.resolve(null):(wd()<=Rt.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_d(r)),this.vs(e,a,r,Cue(i,vg)).next((s=>s)))}))}Ds(e,r){let n=new _n(eH(e));return r.forEach(((i,o)=>{Tb(e,o)&&(n=n.add(o))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,r,n){return wd()<=Rt.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",_d(r)),this.ps.getDocumentsMatchingQuery(e,r,_c.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((o=>(r.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="LocalStore",nde=3e8;class ide{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Br(Dt),this.xs=new vf((o=>Xk(o)),Qk),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qfe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function ode(t,e,r,n){return new ide(t,e,r,n)}async function AH(t,e){const r=At(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((o=>{const a=[],s=[];let l=Mt();for(const c of i){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of o){s.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:s})))}))}))}function ade(t,e){const r=At(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(s,l,c,f){const h=c.batch,p=h.keys();let g=Ee.resolve();return p.forEach((x=>{g=g.next((()=>f.getEntry(l,x))).next((v=>{const b=c.docVersions.get(x);ir(b!==null,48541),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),f.addEntry(v)))}))})),g.next((()=>s.mutationQueue.removeMutationBatch(l,h)))})(r,n,e,o).next((()=>o.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(s){let l=Mt();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function CH(t){const e=At(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function sde(t,e){const r=At(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach(((f,h)=>{const p=i.get(h);if(!p)return;s.push(r.Pi.removeMatchingKeys(o,f.removedDocuments,h).next((()=>r.Pi.addMatchingKeys(o,f.addedDocuments,h))));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Yn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,n)),i=i.insert(h,g),(function(v,b,_){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=nde?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(p,g,f)&&s.push(r.Pi.updateTargetData(o,g))}));let l=al(),c=Mt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(o,f))})),s.push(lde(o,a,e.documentUpdates).next((f=>{l=f.ks,c=f.qs}))),!n.isEqual(bt.min())){const f=r.Pi.getLastRemoteSnapshotVersion(o).next((h=>r.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));s.push(f)}return Ee.waitFor(s).next((()=>a.apply(o))).next((()=>r.localDocuments.getLocalViewOfDocuments(o,l,c))).next((()=>l))})).then((o=>(r.Ms=i,o)))}function lde(t,e,r){let n=Mt(),i=Mt();return r.forEach((o=>n=n.add(o))),e.getEntries(t,n).next((o=>{let a=al();return r.forEach(((s,l)=>{const c=o.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):Ue(a4,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function cde(t,e){const r=At(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Gk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function ude(t,e){const r=At(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((o=>o?(i=o,Ee.resolve(i)):r.Pi.allocateTargetId(n).next((a=>(i=new sc(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function PI(t,e,r){const n=At(t),i=n.Ms.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Zh(a))throw a;Ue(a4,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function A5(t,e,r){const n=At(t);let i=bt.min(),o=Mt();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,f){const h=At(l),p=h.xs.get(f);return p!==void 0?Ee.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,f)})(n,a,ts(e)).next((s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,s.targetId).next((l=>{o=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:bt.min(),r?o:Mt()))).next((s=>(fde(n,Xue(e),s),{documents:s,Qs:o})))))}function fde(t,e,r){let n=t.Os.get(e)||bt.min();r.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),t.Os.set(e,n)}class C5{constructor(){this.activeTargetIds=rfe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dde{constructor(){this.Mo=new C5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C5,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="ConnectivityMonitor";class S5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ue(E5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ue(E5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv=null;function kI(){return Cv===null?Cv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cv++,"0x"+Cv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="RestConnection",pde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mde{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===B1?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,o){const a=kI(),s=this.zo(e,r.toUriEncodedString());Ue(Y_,`Sending RPC '${e}' ${a}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(s),f=gf(c);return this.Jo(e,s,l,n,f).then((h=>(Ue(Y_,`Received RPC '${e}' ${a}: `,h),h)),(h=>{throw oh(Y_,`RPC '${e}' ${a} failed with error: `,h,"url: ",s,"request:",n),h}))}Ho(e,r,n,i,o,a){return this.Go(e,r,n,i,o)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}zo(e,r){const n=pde[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class yde extends mde{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const a=kI();return new Promise(((s,l)=>{const c=new TW;c.setWithCredentials(!0),c.listenOnce(IW.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case u1.NO_ERROR:const h=c.getResponseJson();Ue(ti,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case u1.TIMEOUT:Ue(ti,`RPC '${e}' ${a} timed out`),l(new Fe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case u1.HTTP_ERROR:const p=c.getStatus();if(Ue(ti,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g?.error;if(x&&x.status&&x.message){const v=(function(_){const C=_.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(C)>=0?C:Ae.UNKNOWN})(x.status);l(new Fe(v,x.message))}else l(new Fe(Ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Fe(Ae.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ue(ti,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);Ue(ti,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=kI(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=kW(),s=PW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=o.join("");Ue(ti,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=a.createWebChannel(f,l);this.I_(h);let p=!1,g=!1;const x=new gde({Yo:b=>{g?Ue(ti,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(Ue(ti,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Ue(ti,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Zo:()=>h.close()}),v=(b,_,C)=>{b.listen(_,(E=>{try{C(E)}catch(P){setTimeout((()=>{throw P}),0)}}))};return v(h,km.EventType.OPEN,(()=>{g||(Ue(ti,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),v(h,km.EventType.CLOSE,(()=>{g||(g=!0,Ue(ti,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(h))})),v(h,km.EventType.ERROR,(b=>{g||(g=!0,oh(ti,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),x.a_(new Fe(Ae.UNAVAILABLE,"The operation could not be completed")))})),v(h,km.EventType.MESSAGE,(b=>{if(!g){const _=b.data[0];ir(!!_,16349);const C=_,E=C?.error||C[0]?.error;if(E){Ue(ti,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let I=(function(N){const j=Jr[N];if(j!==void 0)return fH(j)})(P),S=E.message;I===void 0&&(I=Ae.INTERNAL,S="Unknown error status: "+P+" with message "+E.message),g=!0,x.a_(new Fe(I,S)),h.close()}else Ue(ti,`RPC '${e}' stream ${i} received:`,_),x.u_(_)}})),v(s,NW.STAT_EVENT,(b=>{b.stat===xI.PROXY?Ue(ti,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===xI.NOPROXY&&Ue(ti,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function X_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){return new wfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,r,n=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="PersistentStream";class SH{constructor(e,r,n,i,o,a,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EH(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ae.RESOURCE_EXHAUSTED?(ol(r.toString()),ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Fe(Ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ue(T5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Ue(T5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vde extends SH{constructor(e,r,n,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Cfe(this.serializer,e),n=(function(o){if(!("targetChange"in o))return bt.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?rs(a.readTime):bt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=NI(this.serializer),r.addTarget=(function(o,a){let s;const l=a.target;if(s=CI(l)?{documents:Tfe(o,l)}:{query:Ife(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=pH(o,a.resumeToken);const c=SI(o,a.expectedCount);c!==null&&(s.expectedCount=c)}else if(a.snapshotVersion.compareTo(bt.min())>0){s.readTime=H1(o,a.snapshotVersion.toTimestamp());const c=SI(o,a.expectedCount);c!==null&&(s.expectedCount=c)}return s})(this.serializer,e);const n=Pfe(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=NI(this.serializer),r.removeTarget=e,this.q_(r)}}class xde extends SH{constructor(e,r,n,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return ir(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ir(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ir(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Sfe(e.writeResults,e.commitTime),n=rs(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=NI(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Efe(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{}class wde extends bde{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Fe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,TI(r,n),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Ae.UNKNOWN,o.toString())}))}Ho(e,r,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Ho(e,TI(r,n),i,a,s,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(Ae.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _de{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ol(r),this.aa=!1):Ue("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="RemoteStore";class Ade{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{xf(this)&&(Ue(Ju,"Restarting streams for network reachability change."),await(async function(l){const c=At(l);c.Ea.add(4),await Sy(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ob(c)})(this))}))})),this.Ra=new _de(n,i)}}async function Ob(t){if(xf(t))for(const e of t.da)await e(!0)}async function Sy(t){for(const e of t.da)await e(!1)}function TH(t,e){const r=At(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),u4(r)?c4(r):ep(r).O_()&&l4(r,e))}function s4(t,e){const r=At(t),n=ep(r);r.Ia.delete(e),n.O_()&&IH(r,e),r.Ia.size===0&&(n.O_()?n.L_():xf(r)&&r.Ra.set("Unknown"))}function l4(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ep(t).Y_(e)}function IH(t,e){t.Va.Ue(e),ep(t).Z_(e)}function c4(t){t.Va=new yfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ep(t).start(),t.Ra.ua()}function u4(t){return xf(t)&&!ep(t).x_()&&t.Ia.size>0}function xf(t){return At(t).Ea.size===0}function NH(t){t.Va=void 0}async function Cde(t){t.Ra.set("Online")}async function Ede(t){t.Ia.forEach(((e,r)=>{l4(t,e)}))}async function Sde(t,e){NH(t),u4(t)?(t.Ra.ha(e),c4(t)):t.Ra.set("Unknown")}async function Tde(t,e,r){if(t.Ra.set("Online"),e instanceof hH&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))})(t,e)}catch(n){Ue(Ju,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await G1(t,n)}else if(e instanceof p1?t.Va.Ze(e):e instanceof dH?t.Va.st(e):t.Va.tt(e),!r.isEqual(bt.min()))try{const n=await CH(t.localStore);r.compareTo(n)>=0&&await(function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.Ia.get(c);f&&o.Ia.set(c,f.withResumeToken(l.resumeToken,a))}})),s.targetMismatches.forEach(((l,c)=>{const f=o.Ia.get(l);if(!f)return;o.Ia.set(l,f.withResumeToken(Yn.EMPTY_BYTE_STRING,f.snapshotVersion)),IH(o,l);const h=new sc(f.target,l,c,f.sequenceNumber);l4(o,h)})),o.remoteSyncer.applyRemoteEvent(s)})(t,r)}catch(n){Ue(Ju,"Failed to raise snapshot:",n),await G1(t,n)}}async function G1(t,e,r){if(!Zh(e))throw e;t.Ea.add(1),await Sy(t),t.Ra.set("Offline"),r||(r=()=>CH(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ue(Ju,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Ob(t)}))}function PH(t,e){return e().catch((r=>G1(t,r,e)))}async function jb(t){const e=At(t),r=Sc(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gk;for(;Ide(e);)try{const i=await cde(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Nde(e,i)}catch(i){await G1(e,i)}kH(e)&&OH(e)}function Ide(t){return xf(t)&&t.Ta.length<10}function Nde(t,e){t.Ta.push(e);const r=Sc(t);r.O_()&&r.X_&&r.ea(e.mutations)}function kH(t){return xf(t)&&!Sc(t).x_()&&t.Ta.length>0}function OH(t){Sc(t).start()}async function Pde(t){Sc(t).ra()}async function kde(t){const e=Sc(t);for(const r of t.Ta)e.ea(r.mutations)}async function Ode(t,e,r){const n=t.Ta.shift(),i=e4.from(n,e,r);await PH(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await jb(t)}async function jde(t,e){e&&Sc(t).X_&&await(async function(n,i){if((function(a){return pfe(a)&&a!==Ae.ABORTED})(i.code)){const o=n.Ta.shift();Sc(n).B_(),await PH(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await jb(n)}})(t,e),kH(t)&&OH(t)}async function I5(t,e){const r=At(t);r.asyncQueue.verifyOperationInProgress(),Ue(Ju,"RemoteStore received new credentials");const n=xf(r);r.Ea.add(3),await Sy(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Ob(r)}async function Rde(t,e){const r=At(t);e?(r.Ea.delete(2),await Ob(r)):e||(r.Ea.add(2),await Sy(r),r.Ra.set("Unknown"))}function ep(t){return t.ma||(t.ma=(function(r,n,i){const o=At(r);return o.sa(),new vde(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Cde.bind(null,t),t_:Ede.bind(null,t),r_:Sde.bind(null,t),H_:Tde.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u4(t)?c4(t):t.Ra.set("Unknown")):(await t.ma.stop(),NH(t))}))),t.ma}function Sc(t){return t.fa||(t.fa=(function(r,n,i){const o=At(r);return o.sa(),new xde(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pde.bind(null,t),r_:jde.bind(null,t),ta:kde.bind(null,t),na:Ode.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await jb(t)):(await t.fa.stop(),t.Ta.length>0&&(Ue(Ju,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const a=Date.now()+n,s=new f4(e,r,a,i,o);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d4(t,e){if(ol("AsyncQueue",`${e}: ${t}`),Zh(t))return new Fe(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{static emptySet(e){return new Ud(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||rt.comparator(r.key,n.key):(r,n)=>rt.comparator(r.key,n.key),this.keyedMap=Om(),this.sortedSet=new Br(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ud)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ud;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.ga=new Br(rt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class uh{constructor(e,r,n,i,o,a,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,o){const a=[];return r.forEach((s=>{a.push({type:0,doc:s})})),new uh(e,r,Ud.emptySet(r),a,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Mde{constructor(){this.queries=P5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=At(r),o=i.queries;i.queries=P5(),o.forEach(((a,s)=>{for(const l of s.Sa)l.onError(n)}))})(this,new Fe(Ae.ABORTED,"Firestore shutting down"))}}function P5(){return new vf((t=>JW(t)),Sb)}async function h4(t,e){const r=At(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.ba()&&e.Da()&&(n=2):(o=new Dde,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await r.onListen(i,!0);break;case 1:o.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const s=d4(a,`Initialization of query '${_d(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,o),o.Sa.push(e),e.va(r.onlineState),o.wa&&e.Fa(o.wa)&&m4(r)}async function p4(t,e){const r=At(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Fde(t,e){const r=At(t);let n=!1;for(const i of e){const o=i.query,a=r.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(n=!0);a.wa=i}}n&&m4(r)}function Lde(t,e,r){const n=At(t),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(r);n.queries.delete(e)}function m4(t){t.Ca.forEach((e=>{e.next()}))}var OI,k5;(k5=OI||(OI={})).Ma="default",k5.Cache="cache";class g4{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new uh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==OI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.key=e}}class RH{constructor(e){this.key=e}}class Bde{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=eH(e),this.tu=new Ud(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new N5,i=r?r.tu:this.tu;let o=r?r.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,h)=>{const p=i.get(f),g=Tb(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?x!==v&&(n.track({type:3,doc:g}),b=!0):this.su(p,g)||(n.track({type:2,doc:g}),b=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(s=!0)):!p&&g?(n.track({type:0,doc:g}),b=!0):p&&!g&&(n.track({type:1,doc:p}),b=!0,(l||c)&&(s=!0)),b&&(g?(a=a.add(g),o=v?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),n.track({type:1,doc:f})}return{tu:a,iu:n,Cs:s,mutatedKeys:o}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,h)=>(function(g,x){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:b})}};return v(g)-v(x)})(f.type,h.type)||this.eu(f.doc,h.doc))),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new uh(this.query,e.tu,o,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new RH(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new jH(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Mt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return uh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y4="SyncEngine";class Vde{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class $de{constructor(e){this.key=e,this.hu=!1}}class Ude{constructor(e,r,n,i,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new vf((s=>JW(s)),Sb),this.Iu=new Map,this.Eu=new Set,this.du=new Br(rt.comparator),this.Au=new Map,this.Ru=new n4,this.Vu={},this.mu=new Map,this.fu=ch.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zde(t,e,r=!0){const n=VH(t);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await DH(n,e,r,!0),i}async function Wde(t,e){const r=VH(t);await DH(r,e,!0,!1)}async function DH(t,e,r,n){const i=await ude(t.localStore,ts(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let s;return n&&(s=await Hde(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&TH(t.remoteStore,i),s}async function Hde(t,e,r,n,i){t.pu=(h,p,g)=>(async function(v,b,_,C){let E=b.view.ru(_);E.Cs&&(E=await A5(v.localStore,b.query,!1).then((({documents:T})=>b.view.ru(T,E))));const P=C&&C.targetChanges.get(b.targetId),I=C&&C.targetMismatches.get(b.targetId)!=null,S=b.view.applyChanges(E,v.isPrimaryClient,P,I);return j5(v,b.targetId,S.au),S.snapshot})(t,h,p,g);const o=await A5(t.localStore,e,!0),a=new Bde(e,o.Qs),s=a.ru(o.documents),l=Ey.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(s,t.isPrimaryClient,l);j5(t,r,c.au);const f=new Vde(e,r,a);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function qde(t,e,r){const n=At(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter((a=>!Sb(a,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await PI(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&s4(n.remoteStore,i.targetId),jI(n,i.targetId)})).catch(Qh)):(jI(n,i.targetId),await PI(n.localStore,i.targetId,!0))}async function Gde(t,e){const r=At(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),s4(r.remoteStore,n.targetId))}async function Kde(t,e,r){const n=the(t);try{const i=await(function(a,s){const l=At(a),c=Pt.now(),f=s.reduce(((g,x)=>g.add(x.key)),Mt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let x=al(),v=Mt();return l.Ns.getEntries(g,f).next((b=>{x=b,x.forEach(((_,C)=>{C.isValidDocument()||(v=v.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,x))).next((b=>{h=b;const _=[];for(const C of s){const E=cfe(C,h.get(C.key).overlayedDocument);E!=null&&_.push(new jc(C.key,E,HW(E.value.mapValue),fo.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,s)})).next((b=>{p=b;const _=b.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,b.batchId,_)}))})).then((()=>({batchId:p.batchId,changes:rH(h)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,s,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Br(Dt)),c=c.insert(s,l),a.Vu[a.currentUser.toKey()]=c})(n,i.batchId,r),await Ty(n,i.changes),await jb(n.remoteStore)}catch(i){const o=d4(i,"Failed to persist write");r.reject(o)}}async function MH(t,e){const r=At(t);try{const n=await sde(r.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=r.Au.get(o);a&&(ir(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ir(a.hu,14607):i.removedDocuments.size>0&&(ir(a.hu,42227),a.hu=!1))})),await Ty(r,n,e)}catch(n){await Qh(n)}}function O5(t,e,r){const n=At(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)})),(function(a,s){const l=At(a);l.onlineState=s;let c=!1;l.queries.forEach(((f,h)=>{for(const p of h.Sa)p.va(s)&&(c=!0)})),c&&m4(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Yde(t,e,r){const n=At(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),o=i&&i.key;if(o){let a=new Br(rt.comparator);a=a.insert(o,oi.newNoDocument(o,bt.min()));const s=Mt().add(o),l=new Pb(bt.min(),new Map,new Br(Dt),a,s);await MH(n,l),n.du=n.du.remove(o),n.Au.delete(e),v4(n)}else await PI(n.localStore,e,!1).then((()=>jI(n,e,r))).catch(Qh)}async function Xde(t,e){const r=At(t),n=e.batch.batchId;try{const i=await ade(r.localStore,e);LH(r,n,null),FH(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ty(r,i)}catch(i){await Qh(i)}}async function Qde(t,e,r){const n=At(t);try{const i=await(function(a,s){const l=At(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let f;return l.mutationQueue.lookupMutationBatch(c,s).next((h=>(ir(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,s))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f))).next((()=>l.localDocuments.getDocuments(c,f)))}))})(n.localStore,e);LH(n,e,r),FH(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ty(n,i)}catch(i){await Qh(i)}}function FH(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function LH(t,e,r){const n=At(t);let i=n.Vu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function jI(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||BH(t,n)}))}function BH(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(s4(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),v4(t))}function j5(t,e,r){for(const n of r)n instanceof jH?(t.Ru.addReference(n.key,e),Zde(t,n)):n instanceof RH?(Ue(y4,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||BH(t,n.key)):ht(19791,{wu:n})}function Zde(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ue(y4,"New document in limbo: "+r),t.Eu.add(n),v4(t))}function v4(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new rt(yr.fromString(e)),n=t.fu.next();t.Au.set(n,new $de(r)),t.du=t.du.insert(r,n),TH(t.remoteStore,new sc(ts(Eb(r.path)),n,"TargetPurposeLimboResolution",_b.ce))}}async function Ty(t,e,r){const n=At(t),i=[],o=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((s,l)=>{a.push(n.pu(l,e,r).then((c=>{if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:r?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=o4.As(l.targetId,c);o.push(f)}})))})),await Promise.all(a),n.Pu.H_(i),await(async function(l,c){const f=At(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>Ee.forEach(c,(p=>Ee.forEach(p.Es,(g=>f.persistence.referenceDelegate.addReference(h,p.targetId,g))).next((()=>Ee.forEach(p.ds,(g=>f.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))))))}catch(h){if(!Zh(h))throw h;Ue(a4,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=f.Ms.get(p),x=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(p,v)}}})(n.localStore,o))}async function Jde(t,e){const r=At(t);if(!r.currentUser.isEqual(e)){Ue(y4,"User change. New user:",e.toKey());const n=await AH(r.localStore,e);r.currentUser=e,(function(o,a){o.mu.forEach((s=>{s.forEach((l=>{l.reject(new Fe(Ae.CANCELLED,a))}))})),o.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ty(r,n.Ls)}}function ehe(t,e){const r=At(t),n=r.Au.get(e);if(n&&n.hu)return Mt().add(n.key);{let i=Mt();const o=r.Iu.get(e);if(!o)return i;for(const a of o){const s=r.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function VH(t){const e=At(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ehe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yde.bind(null,e),e.Pu.H_=Fde.bind(null,e.eventManager),e.Pu.yu=Lde.bind(null,e.eventManager),e}function the(t){const e=At(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qde.bind(null,e),e}class K1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return ode(this.persistence,new rde,e.initialUser,this.serializer)}Cu(e){return new _H(i4.mi,this.serializer)}Du(e){return new dde}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}K1.provider={build:()=>new K1};class rhe extends K1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ir(this.persistence.referenceDelegate instanceof q1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new $fe(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Oi.withCacheSize(this.cacheSizeBytes):Oi.DEFAULT;return new _H((n=>q1.mi(n,r)),this.serializer)}}class RI{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>O5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jde.bind(null,this.syncEngine),await Rde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mde})()}createDatastore(e){const r=kb(e.databaseInfo.databaseId),n=(function(o){return new yde(o)})(e.databaseInfo);return(function(o,a,s,l){return new wde(o,a,s,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,o,a,s){return new Ade(n,i,o,a,s)})(this.localStore,this.datastore,e.asyncQueue,(r=>O5(this.syncEngine,r,0)),(function(){return S5.v()?new S5:new hde})())}createSyncEngine(e,r){return(function(i,o,a,s,l,c,f){const h=new Ude(i,o,a,s,l,c);return f&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=At(r);Ue(Ju,"RemoteStore shutting down."),n.Ea.add(5),await Sy(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}RI.provider={build:()=>new RI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ol("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="FirestoreClient";class nhe{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ii.UNAUTHENTICATED,this.clientId=qk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async a=>{Ue(Tc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Ue(Tc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=d4(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress(),Ue(Tc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await AH(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function R5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ihe(t);Ue(Tc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>I5(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>I5(e.remoteStore,i))),t._onlineComponents=e}async function ihe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue(Tc,"Using user provided OfflineComponentProvider");try{await Q_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ae.FAILED_PRECONDITION||i.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;oh("Error using user provided cache. Falling back to memory cache: "+r),await Q_(t,new K1)}}else Ue(Tc,"Using default OfflineComponentProvider"),await Q_(t,new rhe(void 0));return t._offlineComponents}async function $H(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue(Tc,"Using user provided OnlineComponentProvider"),await R5(t,t._uninitializedComponentsProvider._online)):(Ue(Tc,"Using default OnlineComponentProvider"),await R5(t,new RI))),t._onlineComponents}function ohe(t){return $H(t).then((e=>e.syncEngine))}async function Y1(t){const e=await $H(t),r=e.eventManager;return r.onListen=zde.bind(null,e.syncEngine),r.onUnlisten=qde.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Wde.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Gde.bind(null,e.syncEngine),r}function ahe(t,e,r={}){const n=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,s,l,c){const f=new x4({next:p=>{f.Nu(),a.enqueueAndForget((()=>p4(o,h)));const g=p.docs.has(s);!g&&p.fromCache?c.reject(new Fe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Fe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new g4(Eb(s.path),f,{includeMetadataChanges:!0,qa:!0});return h4(o,h)})(await Y1(t),t.asyncQueue,e,r,n))),n.promise}function she(t,e,r={}){const n=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,s,l,c){const f=new x4({next:p=>{f.Nu(),a.enqueueAndForget((()=>p4(o,h))),p.fromCache&&l.source==="server"?c.reject(new Fe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new g4(s,f,{includeMetadataChanges:!0,qa:!0});return h4(o,h)})(await Y1(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH="firestore.googleapis.com",M5=!0;class F5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zH,this.ssl=M5}else this.host=e.host,this.ssl=e.ssl??M5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wH;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bfe)throw new Fe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_ue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UH(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new due;switch(n.type){case"firstParty":return new gue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Fe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=D5.get(r);n&&(Ue("ComponentProvider","Removing Datastore"),D5.delete(r),n.terminate())})(this),Promise.resolve()}}function lhe(t,e,r,n={}){t=uo(t,Rb);const i=gf(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(Vk(`https://${s}`),$k("Firestore",!0)),o.host!==zH&&o.host!==s&&oh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:n};if(!Xu(l,a)&&(t._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=ii.MOCK_USER;else{c=bW(n.mockUserToken,t._app?.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Fe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ii(h)}t._authCredentials=new hue(new jW(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class Hr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}toJSON(){return{type:Hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Ay(r,Hr._jsonSchema))return new Hr(e,n||null,new rt(yr.fromString(r.referencePath)))}}Hr._jsonSchemaVersion="firestore/documentReference/1.0",Hr._jsonSchema={type:on("string",Hr._jsonSchemaVersion),referencePath:on("string")};class dc extends ml{constructor(e,r,n){super(e,r,Eb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new rt(e))}withConverter(e){return new dc(this.firestore,e,this._path)}}function Iy(t,e,...r){if(t=Lr(t),RW("collection","path",e),t instanceof Rb){const n=yr.fromString(e,...r);return X6(n),new dc(t,null,n)}{if(!(t instanceof Hr||t instanceof dc))throw new Fe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(yr.fromString(e,...r));return X6(n),new dc(t.firestore,null,n)}}function zt(t,e,...r){if(t=Lr(t),arguments.length===1&&(e=qk.newId()),RW("doc","path",e),t instanceof Rb){const n=yr.fromString(e,...r);return Y6(n),new Hr(t,null,new rt(n))}{if(!(t instanceof Hr||t instanceof dc))throw new Fe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(yr.fromString(e,...r));return Y6(n),new Hr(t.firestore,t instanceof dc?t.converter:null,new rt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="AsyncQueue";class B5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EH(this,"async_queue_retry"),this._c=()=>{const n=X_();n&&Ue(L5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=X_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=X_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zh(e))throw e;Ue(L5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ol("INTERNAL UNHANDLED ERROR: ",V5(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=f4.createAndSchedule(this,e,r,n,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&ht(47125,{Pc:V5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function V5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Ic extends Rb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new B5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B5(e),this._firestoreClient=void 0,await e}}}function b4(t,e){const r=typeof t=="object"?t:Wk(),n=typeof t=="string"?t:B1,i=bb(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=yW("firestore");o&&lhe(i,...o)}return i}function Ny(t){if(t._terminated)throw new Fe(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||che(t),t._firestoreClient}function che(t){const e=t._freezeSettings(),r=(function(i,o,a,s){return new Rue(i,o,a,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,UH(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nhe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Yn.fromBase64String(e))}catch(r){throw new Fe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ro(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ro._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ay(e,Ro._jsonSchema))return Ro.fromBase64String(e.bytes)}}Ro._jsonSchemaVersion="firestore/bytes/1.0",Ro._jsonSchema={type:on("string",Ro._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Fe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Fe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Fe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(Ay(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:on("string",ns._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ay(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new is(e.vectorValues);throw new Fe(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:on("string",is._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uhe=/^__.*__$/;class fhe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new jc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cy(e,this.data,r,this.fieldTransforms)}}class WH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new jc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function HH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:t})}}class _4{constructor(e,r,n,i,o,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _4({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return X1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HH(this.Ac)&&uhe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dhe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||kb(e)}Cc(e,r,n,i=!1){return new _4({Ac:e,methodName:r,Dc:n,path:Gn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Db(t){const e=t._freezeSettings(),r=kb(t._databaseId);return new dhe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function qH(t,e,r,n,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,r,i);A4("Data must be an object, but it was:",a,n);const s=YH(n,a);let l,c;if(o.merge)l=new so(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const p=DI(e,h,r);if(!a.contains(p))throw new Fe(Ae.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);QH(f,p)||f.push(p)}l=new so(f),c=a.fieldTransforms.filter((h=>l.covers(h.field)))}else l=null,c=a.fieldTransforms;return new fhe(new Ri(s),l,c)}class Mb extends w4{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mb}}function GH(t,e,r,n){const i=t.Cc(1,e,r);A4("Data must be an object, but it was:",i,n);const o=[],a=Ri.empty();Oc(n,((l,c)=>{const f=C4(e,l,r);c=Lr(c);const h=i.yc(f);if(c instanceof Mb)o.push(f);else{const p=ky(c,h);p!=null&&(o.push(f),a.set(f,p))}}));const s=new so(o);return new WH(a,s,i.fieldTransforms)}function KH(t,e,r,n,i,o){const a=t.Cc(1,e,r),s=[DI(e,n,r)],l=[i];if(o.length%2!=0)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)s.push(DI(e,o[p])),l.push(o[p+1]);const c=[],f=Ri.empty();for(let p=s.length-1;p>=0;--p)if(!QH(c,s[p])){const g=s[p];let x=l[p];x=Lr(x);const v=a.yc(g);if(x instanceof Mb)c.push(g);else{const b=ky(x,v);b!=null&&(c.push(g),f.set(g,b))}}const h=new so(c);return new WH(f,h,a.fieldTransforms)}function hhe(t,e,r,n=!1){return ky(r,t.Cc(n?4:3,e))}function ky(t,e){if(XH(t=Lr(t)))return A4("Unsupported field value:",e,t),YH(t,e);if(t instanceof w4)return(function(n,i){if(!HH(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const o=[];let a=0;for(const s of n){let l=ky(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}})(t,e)}return(function(n,i){if((n=Lr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nfe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Pt.fromDate(n);return{timestampValue:H1(i.serializer,o)}}if(n instanceof Pt){const o=new Pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:H1(i.serializer,o)}}if(n instanceof ns)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:pH(i.serializer,n._byteString)};if(n instanceof Hr){const o=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r4(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof is)return(function(a,s){return{mapValue:{fields:{[zW]:{stringValue:WW},[V1]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw s.Sc("VectorValues must only contain numeric values.");return Zk(s.serializer,c)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${wb(n)}`)})(t,e)}function YH(t,e){const r={};return FW(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oc(t,((n,i)=>{const o=ky(i,e.mc(n));o!=null&&(r[n]=o)})),{mapValue:{fields:r}}}function XH(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof ns||t instanceof Ro||t instanceof Hr||t instanceof w4||t instanceof is)}function A4(t,e,r){if(!XH(r)||!DW(r)){const n=wb(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function DI(t,e,r){if((e=Lr(e))instanceof Py)return e._internalPath;if(typeof e=="string")return C4(t,e);throw X1("Field path arguments must be of type string or ",t,!1,void 0,r)}const phe=new RegExp("[~\\*/\\[\\]]");function C4(t,e,r){if(e.search(phe)>=0)throw X1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Py(...e.split("."))._internalPath}catch{throw X1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function X1(t,e,r,n,i){const o=n&&!n.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Fe(Ae.INVALID_ARGUMENT,s+t+l)}function QH(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Fb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class mhe extends ZH{data(){return super.data()}}function Fb(t,e){return typeof e=="string"?C4(t,e):e instanceof Py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E4{}class S4 extends E4{}function Oy(t,e,...r){let n=[];e instanceof E4&&n.push(e),n=n.concat(r),(function(o){const a=o.filter((l=>l instanceof T4)).length,s=o.filter((l=>l instanceof Lb)).length;if(a>1||a>0&&s>0)throw new Fe(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Lb extends S4{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Lb(e,r,n)}_apply(e){const r=this._parse(e);return eq(e._query,r),new ml(e.firestore,e.converter,EI(e._query,r))}_parse(e){const r=Db(e.firestore);return(function(o,a,s,l,c,f,h){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Fe(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){z5(h,f);const x=[];for(const v of h)x.push(U5(l,o,v));p={arrayValue:{values:x}}}else p=U5(l,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||z5(h,f),p=hhe(s,a,h,f==="in"||f==="not-in");return nn.create(c,f,p)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ef(t,e,r){const n=e,i=Fb("where",t);return Lb._create(i,n,r)}class T4 extends E4{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new T4(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:va.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)eq(a,l),a=EI(a,l)})(e._query,r),new ml(e.firestore,e.converter,EI(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class I4 extends S4{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new I4(e,r)}_apply(e){const r=(function(i,o,a){if(i.startAt!==null)throw new Fe(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Fe(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _g(o,a)})(e._query,this._field,this._direction);return new ml(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new Jh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function N4(t,e="asc"){const r=e,n=Fb("orderBy",t);return I4._create(n,r)}class P4 extends S4{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new P4(e,r,n)}_apply(e){return new ml(e.firestore,e.converter,U1(e._query,this._limit,this._limitType))}}function k4(t){return Aue("limit",t),P4._create("limit",t,"F")}function U5(t,e,r){if(typeof(r=Lr(r))=="string"){if(r==="")throw new Fe(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZW(e)&&r.indexOf("/")!==-1)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(yr.fromString(r));if(!rt.isDocumentKey(n))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return i5(t,new rt(n))}if(r instanceof Hr)return i5(t,r._key);throw new Fe(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wb(r)}.`)}function z5(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eq(t,e){const r=(function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Fe(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ghe{convertValue(e,r="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Oc(e,((i,o)=>{n[i]=this.convertValue(o,r)})),n}convertVectorValue(e){const r=e.fields?.[V1].arrayValue?.values?.map((n=>Xr(n.doubleValue)));return new is(r)}convertGeoPoint(e){return new ns(Xr(e.latitude),Xr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Cb(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(xg(e));default:return null}}convertTimestamp(e){const r=Ac(e);return new Pt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=yr.fromString(e);ir(bH(n),9688,{name:e});const i=new bg(n.get(1),n.get(3)),o=new rt(n.popFirst(5));return i.isEqual(r)||ol(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Rm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends ZH{constructor(e,r,n,i,o,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new m1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Fb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Hu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hu._jsonSchema={type:on("string",Hu._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class m1 extends Hu{data(e={}){return super.data(e)}}class qu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Rm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new m1(this._firestore,this._userDataWriter,n.key,n,new Rm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Fe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((s=>{const l=new m1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Rm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((s=>o||s.type!==3)).map((s=>{const l=new m1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Rm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return s.type!==0&&(c=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),f=a.indexOf(s.doc.key)),{type:yhe(s.type),doc:l,oldIndex:c,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(r.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){t=uo(t,Hr);const e=uo(t.firestore,Ic);return ahe(Ny(e),t._key).then((r=>nq(e,t,r)))}qu._jsonSchemaVersion="firestore/querySnapshot/1.0",qu._jsonSchema={type:on("string",qu._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class O4 extends ghe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,r)}}function jy(t){t=uo(t,ml);const e=uo(t.firestore,Ic),r=Ny(e),n=new O4(e);return JH(t._query),she(r,t._query).then((i=>new qu(e,n,t,i)))}function qa(t,e,r){t=uo(t,Hr);const n=uo(t.firestore,Ic),i=tq(t.converter,e,r);return j4(n,[qH(Db(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,fo.none())])}function Rc(t,e,r,...n){t=uo(t,Hr);const i=uo(t.firestore,Ic),o=Db(i);let a;return a=typeof(e=Lr(e))=="string"||e instanceof Py?KH(o,"updateDoc",t._key,e,r,n):GH(o,"updateDoc",t._key,e),j4(i,[a.toMutation(t._key,fo.exists(!0))])}function rq(t,...e){t=Lr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||$5(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if($5(e[n])){const l=e[n];e[n]=l.next?.bind(l),e[n+1]=l.error?.bind(l),e[n+2]=l.complete?.bind(l)}let o,a,s;if(t instanceof Hr)a=uo(t.firestore,Ic),s=Eb(t._key.path),o={next:l=>{e[n]&&e[n](nq(a,t,l))},error:e[n+1],complete:e[n+2]};else{const l=uo(t,ml);a=uo(l.firestore,Ic),s=l._query;const c=new O4(a);o={next:f=>{e[n]&&e[n](new qu(a,c,l,f))},error:e[n+1],complete:e[n+2]},JH(t._query)}return(function(c,f,h,p){const g=new x4(p),x=new g4(f,g,h);return c.asyncQueue.enqueueAndForget((async()=>h4(await Y1(c),x))),()=>{g.Nu(),c.asyncQueue.enqueueAndForget((async()=>p4(await Y1(c),x)))}})(Ny(a),s,i,o)}function j4(t,e){return(function(n,i){const o=new Xs;return n.asyncQueue.enqueueAndForget((async()=>Kde(await ohe(n),i,o))),o.promise})(Ny(t),e)}function nq(t,e,r){const n=r.docs.get(e._key),i=new O4(t);return new Hu(t,i,e._key,n,new Rm(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Db(e)}set(e,r,n){this._verifyNotCommitted();const i=Z_(e,this._firestore),o=tq(i.converter,r,n),a=qH(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,fo.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const o=Z_(e,this._firestore);let a;return a=typeof(r=Lr(r))=="string"||r instanceof Py?KH(this._dataReader,"WriteBatch.update",o._key,r,n,i):GH(this._dataReader,"WriteBatch.update",o._key,r),this._mutations.push(a.toMutation(o._key,fo.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Z_(e,this._firestore);return this._mutations=this._mutations.concat(new Jk(r._key,fo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Z_(t,e){if((t=Lr(t)).firestore!==e)throw new Fe(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(t){return Ny(t=uo(t,Ic)),new vhe(t,(e=>j4(t,e)))}(function(e,r=!0){(function(i){Xh=i})(yf),Qu(new wc("firestore",((n,{instanceIdentifier:i,options:o})=>{const a=n.getProvider("app").getImmediate(),s=new Ic(new pue(n.getProvider("auth-internal")),new yue(a,n.getProvider("app-check-internal")),(function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Fe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bg(c.options.projectId,f)})(a,i),a);return o={useFetchStreams:r,...o},s._setSettings(o),s}),"PUBLIC").setMultipleInstances(!0)),es(H6,q6,e),es(H6,q6,"esm2020")})();function iq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bhe=iq,oq=new wy("auth","Firebase",iq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Uk("@firebase/auth");function whe(t,...e){Q1.logLevel<=Rt.WARN&&Q1.warn(`Auth (${yf}): ${t}`,...e)}function g1(t,...e){Q1.logLevel<=Rt.ERROR&&Q1.error(`Auth (${yf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,...e){throw D4(t,...e)}function ma(t,...e){return D4(t,...e)}function R4(t,e,r){const n={...bhe(),[e]:r};return new wy("auth","Firebase",n).create(e,{appName:t.name})}function Qs(t){return R4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _he(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Wo(t,"argument-error"),R4(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D4(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return oq.create(t,...e)}function ft(t,e,...r){if(!t)throw D4(e,...r)}function Ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw g1(e),new Error(e)}function sl(t,e){t||Ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof self<"u"&&self.location?.href||""}function Ahe(){return W5()==="http:"||W5()==="https:"}function W5(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ahe()||Hle()||"connection"in navigator)?navigator.onLine:!0}function Ehe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,r){this.shortDelay=e,this.longDelay=r,sl(r>e,"Short delay should be less than long delay!"),this.isMobile=Ule()||qle()}get(){return Che()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){sl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ihe=new Ry(3e4,6e4);function Dc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gl(t,e,r,n,i={}){return sq(t,i,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const s=_y({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return Wle()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gf(t.emulatorConfig.host)&&(c.credentials="include"),aq.fetch()(await lq(t,t.config.apiHost,r,s),c)})}async function sq(t,e,r){t._canInitEmulator=!1;const n={...She,...e};try{const i=new Phe(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Ev(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ev(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Ev(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Ev(t,"user-disabled",a);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw R4(t,f,c);Wo(t,f)}}catch(i){if(i instanceof ys)throw i;Wo(t,"network-request-failed",{message:String(i)})}}async function Dy(t,e,r,n,i={}){const o=await gl(t,e,r,n,i);return"mfaPendingCredential"in o&&Wo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function lq(t,e,r,n){const i=`${e}${r}?${n}`,o=t,a=o.config.emulator?M4(t.config,i):`${t.config.apiScheme}://${i}`;return The.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function Nhe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Phe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ma(this.auth,"network-request-failed")),Ihe.get())})}}function Ev(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ma(t,e,n);return i.customData._tokenResponse=r,i}function H5(t){return t!==void 0&&t.enterprise!==void 0}class khe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Nhe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ohe(t,e){return gl(t,"GET","/v2/recaptchaConfig",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jhe(t,e){return gl(t,"POST","/v1/accounts:delete",e)}async function Z1(t,e){return gl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rhe(t,e=!1){const r=Lr(t),n=await r.getIdToken(e),i=F4(n);ft(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:n,authTime:Jm(J_(i.auth_time)),issuedAtTime:Jm(J_(i.iat)),expirationTime:Jm(J_(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function J_(t){return Number(t)*1e3}function F4(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return g1("JWT malformed, contained fewer than 3 sections"),null;try{const i=mW(r);return i?JSON.parse(i):(g1("Failed to decode base64 JWT payload"),null)}catch(i){return g1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function q5(t){const e=F4(t);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ys&&Dhe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Dhe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jm(this.lastLoginAt),this.creationTime=Jm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(t){const e=t.auth,r=await t.getIdToken(),n=await fh(t,Z1(e,{idToken:r}));ft(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?cq(i.providerUserInfo):[],a=Lhe(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!a?.length,c=s?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new FI(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function Fhe(t){const e=Lr(t);await J1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lhe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function cq(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bhe(t,e){const r=await sq(t,{},async()=>{const n=_y({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await lq(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&gf(t.emulatorConfig.host)&&(l.credentials="include"),aq.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Vhe(t,e){return gl(t,"POST","/v2/accounts:revokeToken",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const r=q5(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await Bhe(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,a=new zd;return n&&(ft(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(ft(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ft(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zd,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e){ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ha{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Mhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new FI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await fh(this,this.stsTokenManager.getToken(this.auth,e));return ft(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Rhe(this,e)}reload(){return Fhe(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ha({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await J1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await fh(this,jhe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,o=r.phoneNumber??void 0,a=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:x,stsTokenManager:v}=r;ft(h&&v,e,"internal-error");const b=zd.fromJSON(this.name,v);ft(typeof h=="string",e,"internal-error"),Gl(n,e.name),Gl(i,e.name),ft(typeof p=="boolean",e,"internal-error"),ft(typeof g=="boolean",e,"internal-error"),Gl(o,e.name),Gl(a,e.name),Gl(s,e.name),Gl(l,e.name),Gl(c,e.name),Gl(f,e.name);const _=new ha({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:g,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:b,createdAt:c,lastLoginAt:f});return x&&Array.isArray(x)&&(_.providerData=x.map(C=>({...C}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,r,n=!1){const i=new zd;i.updateFromServerResponse(r);const o=new ha({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await J1(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ft(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?cq(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new zd;s.updateFromIdToken(n);const l=new ha({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new FI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Map;function Hs(t){sl(t instanceof Function,"Expected a class definition");let e=G5.get(t);return e?(sl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}uq.type="NONE";const K5=uq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e,r){return`firebase:${t}:${e}:${r}`}class Wd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=y1(this.userKey,i.apiKey,o),this.fullPersistenceKey=y1("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Z1(this.auth,{idToken:e}).catch(()=>{});return r?ha._fromGetAccountInfoResponse(this.auth,r,e):null}return ha._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Wd(Hs(K5),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Hs(K5);const a=y1(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const f=await c._get(a);if(f){let h;if(typeof f=="string"){const p=await Z1(e,{idToken:f}).catch(()=>{});if(!p)break;h=await ha._fromGetAccountInfoResponse(e,p,f)}else h=ha._fromJSON(e,f);c!==o&&(s=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Wd(o,e,n):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==o)try{await c._remove(a)}catch{}})),new Wd(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gq(e))return"Blackberry";if(yq(e))return"Webos";if(dq(e))return"Safari";if((e.includes("chrome/")||hq(e))&&!e.includes("edge/"))return"Chrome";if(mq(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function fq(t=ui()){return/firefox\//i.test(t)}function dq(t=ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hq(t=ui()){return/crios\//i.test(t)}function pq(t=ui()){return/iemobile/i.test(t)}function mq(t=ui()){return/android/i.test(t)}function gq(t=ui()){return/blackberry/i.test(t)}function yq(t=ui()){return/webos/i.test(t)}function L4(t=ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $he(t=ui()){return L4(t)&&!!window.navigator?.standalone}function Uhe(){return Gle()&&document.documentMode===10}function vq(t=ui()){return L4(t)||mq(t)||yq(t)||gq(t)||/windows phone/i.test(t)||pq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t,e=[]){let r;switch(t){case"Browser":r=Y5(ui());break;case"Worker":r=`${Y5(ui())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${yf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zhe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Whe(t,e={}){return gl(t,"GET","/v2/passwordPolicy",Dc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=6;class qhe{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Hhe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X5(this),this.idTokenSubscription=new X5(this),this.beforeStateQueue=new zhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Hs(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Z1(this,{idToken:e}),n=await ha._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ji(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,a=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!o||o===a)&&s?.user&&(n=s.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await J1(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ehe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(Qs(this));const r=e?Lr(e):null;return r&&ft(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Whe(this),r=new qhe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wy("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Vhe(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Hs(e)||this._popupRedirectResolver;ft(r,this,"argument-error"),this.redirectPersistenceManager=await Wd.create(this,[Hs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&whe(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mc(t){return Lr(t)}class X5{constructor(e){this.auth=e,this.observer=null,this.addObserver=tce(r=>this.observer=r)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Khe(t){Bb=t}function bq(t){return Bb.loadJS(t)}function Yhe(){return Bb.recaptchaEnterpriseScript}function Xhe(){return Bb.gapiScript}function Qhe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Zhe{constructor(){this.enterprise=new Jhe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Jhe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const epe="recaptcha-enterprise",wq="NO_RECAPTCHA";class tpe{constructor(e){this.type=epe,this.auth=Mc(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{Ohe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new khe(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,a(c.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;H5(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{a(c)}).catch(()=>{a(wq)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zhe().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{n(this.auth).then(s=>{if(!r&&H5(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Yhe();l.length!==0&&(l+=s),bq(l).then(()=>{i(s,o,a)}).catch(c=>{a(c)})}}).catch(s=>{a(s)})})}}async function Q5(t,e,r,n=!1,i=!1){const o=new tpe(t);let a;if(i)a=wq;else try{a=await o.verify(r)}catch{a=await o.verify(r,!0)}const s={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function LI(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q5(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Q5(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rpe(t,e){const r=bb(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Xu(o,e??{}))return i;Wo(i,"already-initialized")}return r.initialize({options:e})}function npe(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Hs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function ipe(t,e,r){const n=Mc(t);ft(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=_q(e),{host:a,port:s}=ope(e),l=s===null?"":`:${s}`,c={url:`${o}//${a}${l}/`},f=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ft(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ft(Xu(c,n.config.emulator)&&Xu(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,gf(a)?(Vk(`${o}//${a}${l}`),$k("Auth",!0)):ape()}function _q(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ope(t){const e=_q(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:Z5(n.substr(o.length+1))}}else{const[o,a]=n.split(":");return{host:o,port:Z5(a)}}}function Z5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ape(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,r){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function spe(t,e){return gl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lpe(t,e){return Dy(t,"POST","/v1/accounts:signInWithPassword",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cpe(t,e){return Dy(t,"POST","/v1/accounts:signInWithEmailLink",Dc(t,e))}async function upe(t,e){return Dy(t,"POST","/v1/accounts:signInWithEmailLink",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends B4{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Eg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Eg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LI(e,r,"signInWithPassword",lpe);case"emailLink":return cpe(e,{email:this._email,oobCode:this._password});default:Wo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LI(e,n,"signUpPassword",spe);case"emailLink":return upe(e,{idToken:r,email:this._email,oobCode:this._password});default:Wo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t,e){return Dy(t,"POST","/v1/accounts:signInWithIdp",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe="http://localhost";class tf extends B4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new tf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Wo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=r;if(!n||!i)return null;const a=new tf(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Hd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hd(e,r)}buildRequest(){const e={requestUri:fpe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=_y(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dpe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hpe(t){const e=Nm(Pm(t)).link,r=e?Nm(Pm(e)).deep_link_id:null,n=Nm(Pm(t)).deep_link_id;return(n?Nm(Pm(n)).link:null)||n||r||e||t}class V4{constructor(e){const r=Nm(Pm(e)),n=r.apiKey??null,i=r.oobCode??null,o=dpe(r.mode??null);ft(n&&i&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=hpe(e);try{return new V4(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.providerId=tp.PROVIDER_ID}static credential(e,r){return Eg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=V4.parseLink(r);return ft(n,"argument-error"),Eg._fromEmailAndCode(e,n.code,n.tenantId)}}tp.PROVIDER_ID="password";tp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends $4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends My{constructor(){super("facebook.com")}static credential(e){return tf._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nc.credentialFromTaggedObject(e)}static credentialFromError(e){return nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nc.credential(e.oauthAccessToken)}catch{return null}}}nc.FACEBOOK_SIGN_IN_METHOD="facebook.com";nc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends My{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return tf._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return zs.credential(r,n)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends My{constructor(){super("github.com")}static credential(e){return tf._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ic.credential(e.oauthAccessToken)}catch{return null}}}ic.GITHUB_SIGN_IN_METHOD="github.com";ic.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends My{constructor(){super("twitter.com")}static credential(e,r){return tf._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return oc.credentialFromTaggedObject(e)}static credentialFromError(e){return oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return oc.credential(r,n)}catch{return null}}}oc.TWITTER_SIGN_IN_METHOD="twitter.com";oc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ppe(t,e){return Dy(t,"POST","/v1/accounts:signUp",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await ha._fromIdTokenResponse(e,n,i),a=J5(n);return new rf({user:o,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=J5(n);return new rf({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function J5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends ys{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ex.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new ex(e,r,n,i)}}function Aq(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ex._fromErrorAndOperation(t,o,e,n):o})}async function mpe(t,e,r=!1){const n=await fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return rf._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gpe(t,e,r=!1){const{auth:n}=t;if(ji(n.app))return Promise.reject(Qs(n));const i="reauthenticate";try{const o=await fh(t,Aq(n,i,e,t),r);ft(o.idToken,n,"internal-error");const a=F4(o.idToken);ft(a,n,"internal-error");const{sub:s}=a;return ft(t.uid===s,n,"user-mismatch"),rf._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wo(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e,r=!1){if(ji(t.app))return Promise.reject(Qs(t));const n="signIn",i=await Aq(t,n,e),o=await rf._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function ype(t,e){return Cq(Mc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t){const e=Mc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vpe(t,e,r){if(ji(t.app))return Promise.reject(Qs(t));const n=Mc(t),a=await LI(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ppe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Eq(t),l}),s=await rf._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(s.user),s}function xpe(t,e,r){return ji(t.app)?Promise.reject(Qs(t)):ype(Lr(t),tp.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Eq(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bpe(t,e){return gl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wpe(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Lr(t),o={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await fh(n,bpe(n.auth,o));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function _pe(t,e,r,n){return Lr(t).onIdTokenChanged(e,r,n)}function Ape(t,e,r){return Lr(t).beforeAuthStateChanged(e,r)}function Cpe(t,e,r,n){return Lr(t).onAuthStateChanged(e,r,n)}function Epe(t){return Lr(t).signOut()}const tx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(tx,"1"),this.storage.removeItem(tx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe=1e3,Tpe=10;class Tq extends Sq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);Uhe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tpe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Spe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tq.type="LOCAL";const Ipe=Tq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq extends Sq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Iq.type="SESSION";const Nq=Iq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Npe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Vb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,a=this.handlersMap[i];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(a).map(async c=>c(r.origin,o)),l=await Npe(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const c=U4("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(p.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function kpe(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function Ope(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jpe(){return navigator?.serviceWorker?.controller||null}function Rpe(){return Pq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq="firebaseLocalStorageDb",Dpe=1,rx="firebaseLocalStorage",Oq="fbase_key";class Fy{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $b(t,e){return t.transaction([rx],e?"readwrite":"readonly").objectStore(rx)}function Mpe(){const t=indexedDB.deleteDatabase(kq);return new Fy(t).toPromise()}function BI(){const t=indexedDB.open(kq,Dpe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(rx,{keyPath:Oq})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(rx)?e(n):(n.close(),await Mpe(),e(await BI()))})})}async function eM(t,e,r){const n=$b(t,!0).put({[Oq]:e,value:r});return new Fy(n).toPromise()}async function Fpe(t,e){const r=$b(t,!1).get(e),n=await new Fy(r).toPromise();return n===void 0?null:n.value}function tM(t,e){const r=$b(t,!0).delete(e);return new Fy(r).toPromise()}const Lpe=800,Bpe=3;class jq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BI(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Bpe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vb._getInstance(Rpe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ope(),!this.activeServiceWorker)return;this.sender=new Ppe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BI();return await eM(e,tx,"1"),await tM(e,tx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>eM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Fpe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>tM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$b(i,!1).getAll();return new Fy(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jq.type="LOCAL";const Vpe=jq;new Ry(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t,e){return e?Hs(e):(ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4 extends B4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function $pe(t){return Cq(t.auth,new z4(t),t.bypassAuthState)}function Upe(t){const{auth:e,user:r}=t;return ft(r,e,"internal-error"),gpe(r,new z4(t),t.bypassAuthState)}async function zpe(t){const{auth:e,user:r}=t;return ft(r,e,"internal-error"),mpe(r,new z4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $pe;case"linkViaPopup":case"linkViaRedirect":return zpe;case"reauthViaPopup":case"reauthViaRedirect":return Upe;default:Wo(this.auth,"internal-error")}}resolve(e){sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=new Ry(2e3,1e4);async function Hpe(t,e,r){if(ji(t.app))return Promise.reject(ma(t,"operation-not-supported-in-this-environment"));const n=Mc(t);_he(t,e,$4);const i=Rq(n,r);return new Du(n,"signInViaPopup",e,i).executeNotNull()}class Du extends Dq{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){sl(this.filter.length===1,"Popup operations only handle one event");const e=U4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wpe.get())};e()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qpe="pendingRedirect",v1=new Map;class Gpe extends Dq{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=v1.get(this.auth._key());if(!e){try{const n=await Kpe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}v1.set(this.auth._key(),e)}return this.bypassAuthState||v1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kpe(t,e){const r=Qpe(e),n=Xpe(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Ype(t,e){v1.set(t._key(),e)}function Xpe(t){return Hs(t._redirectPersistence)}function Qpe(t){return y1(qpe,t.config.apiKey,t.name)}async function Zpe(t,e,r=!1){if(ji(t.app))return Promise.reject(Qs(t));const n=Mc(t),i=Rq(n,e),a=await new Gpe(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe=600*1e3;class eme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tme(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Mq(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(ma(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jpe&&this.cachedEventUids.clear(),this.cachedEventUids.has(rM(e))}saveEventToCache(e){this.cachedEventUids.add(rM(e)),this.lastProcessedEventTime=Date.now()}}function rM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mq({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rme(t,e={}){return gl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ime=/^https?/;async function ome(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rme(t);for(const r of e)try{if(ame(r))return}catch{}Wo(t,"unauthorized-domain")}function ame(t){const e=MI(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!ime.test(r))return!1;if(nme.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sme=new Ry(3e4,6e4);function nM(){const t=os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function lme(t){return new Promise((e,r)=>{function n(){nM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nM(),r(ma(t,"network-request-failed"))},timeout:sme.get()})}if(os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(os().gapi?.load)n();else{const i=Qhe("iframefcb");return os()[i]=()=>{gapi.load?n():r(ma(t,"network-request-failed"))},bq(`${Xhe()}?onload=${i}`).catch(o=>r(o))}}).catch(e=>{throw x1=null,e})}let x1=null;function cme(t){return x1=x1||lme(t),x1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume=new Ry(5e3,15e3),fme="__/auth/iframe",dme="emulator/auth/iframe",hme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mme(t){const e=t.config;ft(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?M4(e,dme):`https://${t.config.authDomain}/${fme}`,n={apiKey:e.apiKey,appName:t.name,v:yf},i=pme.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${_y(n).slice(1)}`}async function gme(t){const e=await cme(t),r=os().gapi;return ft(r,t,"internal-error"),e.open({where:document.body,url:mme(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hme,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const a=ma(t,"network-request-failed"),s=os().setTimeout(()=>{o(a)},ume.get());function l(){os().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vme=500,xme=600,bme="_blank",wme="http://localhost";class iM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _me(t,e,r,n=vme,i=xme){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...yme,width:n.toString(),height:i.toString(),top:o,left:a},c=ui().toLowerCase();r&&(s=hq(c)?bme:r),fq(c)&&(e=e||wme,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if($he(c)&&s!=="_self")return Ame(e||"",s),new iM(null);const h=window.open(e||"",s,f);ft(h,t,"popup-blocked");try{h.focus()}catch{}return new iM(h)}function Ame(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme="__/auth/handler",Eme="emulator/auth/handler",Sme=encodeURIComponent("fac");async function oM(t,e,r,n,i,o){ft(t.config.authDomain,t,"auth-domain-config-required"),ft(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:yf,eventId:i};if(e instanceof $4){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ece(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof My){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),c=l?`#${Sme}=${encodeURIComponent(l)}`:"";return`${Tme(t)}?${_y(s).slice(1)}${c}`}function Tme({config:t}){return t.emulator?M4(t,Eme):`https://${t.authDomain}/${Cme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="webStorageSupport";class Ime{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nq,this._completeRedirectFn=Zpe,this._overrideRedirectResult=Ype}async _openPopup(e,r,n,i){sl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await oM(e,r,n,MI(),i);return _me(e,o,U4())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await oM(e,r,n,MI(),i);return kpe(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(sl(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await gme(e),n=new eme(e);return r.register("authEvent",i=>(ft(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(eA,{type:eA},i=>{const o=i?.[0]?.[eA];o!==void 0&&r(!!o),Wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ome(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return vq()||dq()||L4()}}const Nme=Ime;var aM="@firebase/auth",sM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ome(t){Qu(new wc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;ft(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xq(t)},c=new Ghe(n,i,o,l);return npe(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Qu(new wc("auth-internal",e=>{const r=Mc(e.getProvider("auth").getImmediate());return(n=>new Pme(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(aM,sM,kme(t)),es(aM,sM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jme=300,Rme=xW("authIdTokenMaxAge")||jme;let lM=null;const Dme=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Rme)return;const i=r?.token;lM!==i&&(lM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wr(t=Wk()){const e=bb(t,"auth");if(e.isInitialized())return e.getImmediate();const r=rpe(t,{popupRedirectResolver:Nme,persistence:[Vpe,Ipe,Nq]}),n=xW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const a=Dme(o.toString());Ape(r,a,()=>a(r.currentUser)),_pe(r,s=>a(s))}}const i=gW("auth");return i&&ipe(r,`http://${i}`),r}function Mme(){return document.getElementsByTagName("head")?.[0]??document}Khe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=ma("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",Mme().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ome("Browser");var Fme="firebase",Lme="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(Fme,Lme,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="firebasestorage.googleapis.com",Bme="storageBucket",Vme=120*1e3,$me=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ys{constructor(e,r,n=0){super(tA(e),`Firebase Storage: ${r} (${tA(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fs||(fs={}));function tA(t){return"storage/"+t}function Ume(){const t="An unknown error occurred, please check the error payload for server response.";return new vs(fs.UNKNOWN,t)}function zme(){return new vs(fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wme(){return new vs(fs.CANCELED,"User canceled the upload/download.")}function Hme(t){return new vs(fs.INVALID_URL,"Invalid URL '"+t+"'.")}function qme(t){return new vs(fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cM(t){return new vs(fs.INVALID_ARGUMENT,t)}function Lq(){return new vs(fs.APP_DELETED,"The Firebase app was deleted.")}function Gme(t){return new vs(fs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=pa.makeFromUrl(e,r)}catch{return new pa(e,"")}if(n.path==="")return n;throw qme(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${f}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},v=r===Fq?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",_=new RegExp(`^https?://${v}/${i}/${b}`,"i"),E=[{regex:s,indices:l,postModify:o},{regex:g,indices:x,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<E.length;P++){const I=E[P],S=I.regex.exec(e);if(S){const T=S[I.indices.bucket];let N=S[I.indices.path];N||(N=""),n=new pa(T,N),I.postModify(n);break}}if(n==null)throw Hme(e);return n}}class Kme{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yme(t,e,r){let n=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let c=!1;function f(...b){c||(c=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(g,l())},b)}function p(){o&&clearTimeout(o)}function g(b,..._){if(c){p();return}if(b){p(),f.call(null,b,..._);return}if(l()||a){p(),f.call(null,b,..._);return}n<64&&(n*=2);let E;s===1?(s=2,E=0):E=(n+Math.random())*1e3,h(E)}let x=!1;function v(b){x||(x=!0,p(),!c&&(i!==null?(b||(s=2),clearTimeout(i),h(0)):b||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,v(!0)},r),v}function Xme(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qme(t){return t!==void 0}function uM(t,e,r,n){if(n<e)throw cM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw cM(`Invalid value for '${t}'. Expected ${r} or less.`)}function Zme(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var nx;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nx||(nx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jme(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ege{constructor(e,r,n,i,o,a,s,l,c,f,h,p=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,v)=>{this.resolve_=x,this.reject_=v,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Sv(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===nx.NO_ERROR,l=o.getStatus();if(!s||Jme(l,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===nx.ABORT;n(!1,new Sv(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Sv(c,o))})},r=(n,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());Qme(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=Ume();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?Lq():Wme();a(l)}else{const l=zme();a(l)}};this.canceled_?r(!1,new Sv(!1,null,!0)):this.backoffId_=Yme(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xme(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sv{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function tge(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nge(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ige(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oge(t,e,r,n,i,o,a=!0,s=!1){const l=Zme(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return nge(f,e),tge(f,r),rge(f,o),ige(f,n),new ege(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function age(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sge(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,r){this._service=e,r instanceof pa?this._location=r:this._location=pa.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ix(e,r)}get root(){const e=new pa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sge(this._location.path)}get storage(){return this._service}get parent(){const e=age(this._location.path);if(e===null)return null;const r=new pa(this._location.bucket,e);return new ix(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Gme(e)}}function fM(t,e){const r=e?.[Bme];return r==null?null:pa.makeFromBucketSpec(r,t)}function lge(t,e,r,n={}){t.host=`${e}:${r}`;const i=gf(e);i&&(Vk(`https://${t.host}/b`),$k("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=n;o&&(t._overrideAuthToken=typeof o=="string"?o:bW(o,t.app.options.projectId))}class cge{constructor(e,r,n,i,o,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=Fq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vme,this._maxUploadRetryTime=$me,this._requests=new Set,i!=null?this._bucket=pa.makeFromBucketSpec(i,this._host):this._bucket=fM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pa.makeFromBucketSpec(this._url,e):this._bucket=fM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ix(this,e)}_makeRequest(e,r,n,i,o=!0){if(this._deleted)return new Kme(Lq());{const a=oge(e,this._appId,n,i,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const dM="@firebase/storage",hM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="storage";function uge(t=Wk(),e){t=Lr(t);const n=bb(t,Bq).getImmediate({identifier:e}),i=yW("storage");return i&&fge(n,...i),n}function fge(t,e,r,n={}){lge(t,e,r,n)}function dge(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cge(r,n,i,e,yf)}function hge(){Qu(new wc(Bq,dge,"PUBLIC").setMultipleInstances(!0)),es(dM,hM,""),es(dM,hM,"esm2020")}hge();const pge={apiKey:"AIzaSyDmtiawl0FF9SlDL2BXei7Db6aSCbJBqcE",authDomain:"farefit.firebaseapp.com",projectId:"farefit",storageBucket:"farefit.firebasestorage.app",messagingSenderId:"1070470589283",appId:"1:1070470589283:web:92acabab864d302949c156",measurementId:"G-J1XPZP1E3L"},W4=AW(pge),VI=wr(W4),jt=b4(W4),mge=uge(W4),rA=Object.freeze(Object.defineProperty({__proto__:null,auth:VI,db:jt,storage:mge},Symbol.toStringTag,{value:"Module"})),gge=async(t,e,r)=>{const n=wr(),i=await vpe(n,t,e);return n.currentUser&&await wpe(n.currentUser,{displayName:r}),i.user},yge=async(t,e)=>{try{const r=wr(),n=await xpe(r,t,e);return console.log("✅ User logged in successfully:",n.user.email),n.user}catch(r){throw console.error("❌ Error logging in:",r.message),new Error(r.message)}},vge=async()=>{try{const t=wr(),e=new zs,n=(await Hpe(t,e)).user,i=zt(jt,"Users",n.uid);return(await xn(i)).exists()||(console.log("🆕 First Google login detected — creating default records..."),await Vq(n.uid,n.displayName||"Unnamed User",n.email||"")),console.log("✅ Google sign-in successful:",n.email),n}catch(t){throw console.error("❌ Error with Google sign-in:",t.message),new Error(t.message)}};async function Vq(t,e,r){try{await qa(zt(jt,"Users",t),{full_name:e,email:r,avatar_url:"",onboardingComplete:!1,created_at:Pt.now(),updated_at:Pt.now()}),await qa(zt(jt,"User_Preferences",t),{theme:"light",notifications_enabled:!0,email_notifications:!0,measurement_units:"metric",language:"en"}),await qa(zt(jt,"Fitness_Goals",t),{age:null,gender:null,height:null,weight:null,activity_level:null,goal_type:"maintain",target_weight:null,weekly_goal:null,tdee:null,target_calories:null,protein_target:null,carbs_target:null,fats_target:null,fiber_target:null,created_at:Pt.now(),is_active:!0}),await qa(zt(jt,"Daily_Nutrition_Summary",t),{todays_meals:[{meal_date:null,meal_type:null,food_name:null,brand:null,serving_size:0,calories:0,protein:0,carbs:0,fats:0,fiber:0,meal_time:null}]});const i=wr().currentUser,o=i?.metadata?.creationTime?new Date(i.metadata.creationTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});console.log(`✅ Creating FareScore with real join date: ${o}`),await qa(zt(jt,"FareScore",t),{score:350,tier:null,mealsLogged:0,workoutsCompleted:0,streakDays:0,lastStreakDate:"2025-10-17",penalties:0,joinDate:o,history:[{date:"2025-10-17",score:350}]}),await qa(zt(jt,"Workout_Exercises",t),{workout:[{day_type:null,duration:0,calories_burned:0,total_sets:0,total_reps:0,volume:0,exercises:[{name:null,sets:0,reps:0,weight:0,startTime:null,endTime:null,notes:null}]}]}),console.log("Default user records created successfully!")}catch(n){console.error("Error creating user records:",n)}}const nf=async(t,e,r,n="Fitness_Goals")=>{try{const i=zt(jt,n,t);await Rc(i,{[e]:r}),console.log(`✅ Updated ${e} in ${n}/${t} successfully.`)}catch(i){throw console.error(`❌ Error updating ${e} for user ${t}:`,i),i}};function xge(t){const e={...t};return["calories","protein","carbs","fats","fiber","serving_size"].forEach(r=>{const n=e[r];n===""||isNaN(n)||n===void 0||n===null?e[r]=0:e[r]=Number(n)}),e}const bge=async(t,e)=>{try{const r=xge(e);console.log("🧩 Original meal data:",JSON.stringify(e,null,2)),console.log("🧩 Sanitized meal data being saved:",JSON.stringify(r,null,2));const n=of(),i=zt(jt,"Daily_Nutrition_Summary",t),o=await xn(i);let a=[];o.exists()&&(a=o.data()?.todays_meals||[],(a.length?a[a.length-1].meal_date:null)!==n&&(a=[])),a.push({...r,meal_date:n}),await Rc(i,{todays_meals:a}),console.log("✅ Meal added successfully!")}catch(r){console.error("❌ Error adding meal:",r)}},$q=async t=>{const e=zt(jt,"Daily_Nutrition_Summary",t),r=await xn(e),n=of();return r.exists()?(r.data()?.todays_meals||[]).filter(s=>s.meal_date===n).map(s=>({...s,calories:Number(s.calories)||0,protein:Number(s.protein)||0,carbs:Number(s.carbs)||0,fats:Number(s.fats)||0,fiber:Number(s.fiber)||0,serving_size:Number(s.serving_size)||1})):[]},of=()=>dh(),dh=t=>{const e=t||new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit"}).format(e)},wge=async(t,e)=>{try{const r=zt(jt,"Barcode_History",t),n=await xn(r);let i=[];n.exists()&&(i=n.data()?.scanned_products||[]);const o=i.findIndex(a=>a.barcode===e.barcode);o>=0?i[o]={...i[o],scan_count:i[o].scan_count+1,last_scanned:Pt.now()}:i.push({...e,scan_count:1,first_scanned:Pt.now(),last_scanned:Pt.now()}),i.sort((a,s)=>s.last_scanned.toMillis()-a.last_scanned.toMillis()),i=i.slice(0,20),n.exists()?await Rc(r,{scanned_products:i}):await qa(r,{scanned_products:i}),console.log("✅ Barcode added to history!")}catch(r){console.error("❌ Error adding barcode to history:",r)}},pM=async t=>{try{const e=zt(jt,"Barcode_History",t),r=await xn(e);return r.exists()?r.data()?.scanned_products||[]:[]}catch(e){return console.error("❌ Error fetching barcode history:",e),[]}},_ge=async t=>{const e=zt(jt,"FareScore",t),r=await xn(e);if(!r.exists())return;const n=r.data(),i=n.lastStreakDate,o=of(),a=i?new Date(i):null,s=new Date(o),l=1440*60*1e3;let c=1,f=n.score;if(a){const h=Math.floor((s.getTime()-a.getTime())/l);if(h===0){console.log("✅ Streak already counted today.");return}else h===1?c=n.streakDays+1:h<=6?(c=1,f-=5,console.log("⚠️ Streak broken, -5 points")):h>=7&&(c=1,f-=10,console.log("⚠️ Inactive for a week, -10 points"));h===2&&(f-=2)}await Rc(e,{streakDays:c,lastStreakDate:o,score:f}),console.log(`✅ Updated streak: ${c}, FareScore: ${f}`)},Uq=async(t,e)=>{const r=zt(jt,"FareScore",t),n=await xn(r);if(!n.exists()){console.error("❌ FareScore document does not exist for user:",t);return}let o=n.data().score||0;if(e==="logged_food")o+=1;else if(e==="macros_hit")o+=2;else if(e==="logged_workout")o+=3;else{console.warn(`⚠️ Event "${e}" not recognized. No score update.`);return}await Rc(r,{score:o}),console.log(`✅ FareScore updated for ${e}: ${o}`)},nA=async t=>{try{const e=zt(jt,"Users",t),r=await xn(e);if(!r.exists())return console.log(`📝 No user document found for ${t} - treating as new user`),!1;const i=r.data().onboardingComplete||!1;return console.log(`📋 Onboarding status for ${t}: ${i}`),i}catch(e){return console.error("❌ Error fetching onboarding status:",e),!1}},Age=async t=>{try{const e=zt(jt,"Users",t);await Rc(e,{onboardingComplete:!0,updated_at:Pt.now()}),console.log(`✅ Onboarding marked as complete for user ${t}`)}catch(e){throw console.error("❌ Error marking onboarding complete:",e),e}},mM=async t=>{try{const e=zt(jt,"Users",t),r=await xn(e);r.exists()&&r.data().onboardingComplete===void 0&&(console.log(`🔄 Migrating existing user ${t} - setting onboarding as complete`),await Rc(e,{onboardingComplete:!0,updated_at:Pt.now()}))}catch(e){console.error("❌ Error migrating onboarding status:",e)}},Cge=async t=>{try{const e=zt(jt,"FareScore",t),r=await xn(e);return r.exists()?r.data():(console.warn("No FareScore document found for user:",t),null)}catch(e){return console.error("❌ Error fetching FareScore:",e),null}},Ege=async t=>{const r=wr().currentUser;if(!r)throw new Error("User not logged in");const n=zt(jt,"Workout_Exercises",r.uid),i=await xn(n);if(!i.exists())return console.log("No Workout_Exercises document found for this user"),{workout:[]};const o=i.data(),a=of(),s=o.workout.find(l=>l.date===a);return{workout:s?[s]:[],allWorkouts:o.workout||[]}},Sge=async(t,e)=>{const n=wr().currentUser;if(!n)throw new Error("User not logged in");const i=zt(jt,"Workout_Exercises",n.uid),o=await xn(i),a=of();let s=[];o.exists()&&(s=o.data()?.workout||[],s=s.filter(c=>c.date!==a));const l={...t,date:a,updated_at:Pt.now()};s.push(l),s.sort((c,f)=>new Date(f.date).getTime()-new Date(c.date).getTime()),s=s.slice(0,30),await qa(i,{workout:s,last_updated:Pt.now()},{merge:!0}),console.log("Workout saved for date:",a)},$I=async()=>{const e=wr().currentUser;if(!e)return;const r=zt(jt,"Workout_Exercises",e.uid),n=await xn(r);if(!n.exists())return;const i=n.data(),o=i.last_updated?.toDate(),a=new Date(of());if(o&&o.toDateString()===a.toDateString())return;const l=(i.workout||[]).filter(c=>c.date!==of());await qa(r,{workout:l,last_updated:Pt.now()},{merge:!0}),console.log("✅ Daily workout slot cleared for new day")},UI=t=>t>=800?"FareFit Elite":t>=700?"Goal Crusher":t>=550?"Consistent Tracker":t>=400?"Building Habits":"Starting Journey",Tge=async(t=50)=>{try{console.log(`🏆 Fetching global leaderboard (top ${t})`);const e=Oy(Iy(jt,"FareScore"),N4("score","desc"),k4(t)),r=await jy(e),n=[],i=wr().currentUser?.uid;let o=1;for(const a of r.docs){const s=a.data(),l=a.id,c=await xn(zt(jt,"Users",l)),f=c.exists()?c.data():{},h=f.full_name||f.name||"Anonymous User",p=`@${h.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,12)||"user"+l.substring(0,4)}`;n.push({rank:o,name:h,username:p,avatar:f.avatar||"",fareScore:s.score||350,tier:UI(s.score||350),change:s.weeklyChange||0,isCurrentUser:l===i}),o++}return console.log(`✅ Global leaderboard loaded: ${n.length} users`),n}catch(e){return console.error("❌ Error fetching global leaderboard:",e),[]}},Ige=async t=>{try{const e=await xn(zt(jt,"User_Friends",t));return e.exists()?e.data().friendsList||[]:[]}catch(e){return console.error("❌ Error getting user friends:",e),[]}},Nge=async()=>{try{const t=wr().currentUser?.uid;if(!t)return console.log("❌ No current user for friends leaderboard"),[];console.log("👥 Fetching real friends leaderboard");const e=await Ige(t);if(e.length===0)return console.log("📭 No friends found"),[];console.log(`Found ${e.length} friends:`,e);const r=[];for(const n of e)try{const i=await xn(zt(jt,"FareScore",n)),o=i.exists()?i.data():{score:350},a=await xn(zt(jt,"Users",n)),s=a.exists()?a.data():{},l=s.full_name||s.name||"Friend",c=`@${l.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,12)||"friend"+n.substring(0,4)}`;r.push({rank:0,name:l,username:c,avatar:s.avatar||"",fareScore:o.score||350,tier:UI(o.score||350),change:o.weeklyChange||0,isCurrentUser:n===t})}catch(i){console.error(`❌ Error fetching data for friend ${n}:`,i)}try{const n=await xn(zt(jt,"FareScore",t)),i=n.exists()?n.data():{score:350},o=await xn(zt(jt,"Users",t)),a=o.exists()?o.data():{},s=a.full_name||a.name||"You",l=`@${s.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,12)||"you"}`;r.push({rank:0,name:s,username:l,avatar:a.avatar||"",fareScore:i.score||350,tier:UI(i.score||350),change:i.weeklyChange||0,isCurrentUser:!0})}catch(n){console.error("❌ Error fetching current user data:",n)}return r.sort((n,i)=>i.fareScore-n.fareScore),r.forEach((n,i)=>{n.rank=i+1}),console.log(`✅ Real friends leaderboard loaded: ${r.length} friends`),r}catch(t){return console.error("❌ Error fetching friends leaderboard:",t),[]}},Pge=async t=>{try{const{getUserPlanSummary:e}=await o1(async()=>{const{getUserPlanSummary:r}=await Promise.resolve().then(()=>URe);return{getUserPlanSummary:r}},void 0);return await e(t)}catch(e){return console.error("❌ Error fetching user plan summary:",e),null}},kge=async(t,e)=>{try{const r=zt(jt,"Fitness_Goals",t);await Rc(r,{age:e.age,weight:e.weight,height:e.height,gender:e.gender,activity_level:e.activityLevel,goal_type:e.goalType,tdee:e.tdee,target_calories:e.targetCalories,protein_target:e.protein,carbs_target:e.carbs,fats_target:e.fat,fiber_target:e.fiber,updated_at:Pt.now(),is_active:!0}),console.log(`✅ Updated fitness goals for user ${t} with AI plan data`)}catch(r){throw console.error("❌ Error updating fitness goals from plan:",r),r}};function H4(t){const[e,r]=k.useState([]),[n,i]=k.useState(!0),[o,a]=k.useState({calories:0,protein:0,carbs:0,fat:0,fiber:0});k.useEffect(()=>{const c=wr(),f=Cpe(c,h=>{if(!h){r([]),a({calories:0,protein:0,carbs:0,fat:0,fiber:0}),i(!1);return}const p=b4(),g=zt(p,"Daily_Nutrition_Summary",h.uid);return console.log("🔄 Setting up real-time meal listener for user:",h.uid),rq(g,v=>{const _=v.data()?.todays_meals||[],C=t?dh(t):dh(),E=_.filter(I=>I.meal_date===C);console.log("🗓️ Filtering meals for date:",C),console.log("📋 All meals in Firestore:",_.map(I=>({food:I.food_name,date:I.meal_date,type:I.meal_type}))),console.log("📋 Filtered meals:",E.length,"out of",_.length,"total meals");const P=E.reduce((I,S)=>({calories:I.calories+(S.calories||0),protein:I.protein+(S.protein||0),carbs:I.carbs+(S.carbs||0),fat:I.fat+(S.fats||0),fiber:I.fiber+(S.fiber||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0});r(E),a(P),i(!1),console.log("📊 Meals updated:",{mealCount:E.length,totals:P})},v=>{console.error("🔥 Firestore listener error:",v),i(!1)})});return()=>{f()}},[t]);const s=()=>e.reduce((c,f)=>{const h=f.meal_type.toLowerCase();return c[h]||(c[h]=[]),c[h].push(f),c},{});return{meals:e,loading:n,totals:o,getMealsByType:s,getMealTypeOrder:()=>{const c=["breakfast","lunch","dinner","snack"],f=s();return c.filter(h=>f[h]?.length>0)}}}function Oge({onFoodAIClick:t,onLogMealClick:e,userGoal:r,planSummary:n,loggedMacros:i}){const{meals:o,loading:a,totals:s}=H4();if(a)return u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 transition-colors duration-300",style:{background:"linear-gradient(135deg, var(--farefit-primary) 0%, var(--farefit-secondary) 100%)"},children:[u.jsx("h3",{className:"text-white mb-2",children:"CALORIES CONSUMED"}),u.jsx("p",{className:"text-center text-white opacity-70",children:"Loading meals..."})]});const l=o.length>0,c=s.calories,f=n?.targetCalories||r?.targetCalories||2200,h=s.protein,p=n?.macros.protein||r?.protein||165,g=s.carbs,x=n?.macros.carbs||r?.carbs||220,v=s.fat,b=n?.macros.fat||r?.fat||73,_=s.fiber,C=n?.macros.fiber||r?.fiber||30;return u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 transition-colors duration-300",style:{background:"linear-gradient(135deg, var(--farefit-primary) 0%, var(--farefit-secondary) 100%)"},children:[u.jsx("h3",{className:"text-white mb-2",children:"CALORIES CONSUMED"}),l?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[u.jsx("span",{className:"text-5xl sm:text-6xl text-white",children:c.toLocaleString()}),u.jsxs("span",{className:"text-xl text-white opacity-90 pb-2",children:["/ ",f.toLocaleString()," kcal"]})]}),u.jsx("p",{className:"text-white opacity-90 mb-6",children:c<=f?"On track with your goals":"Over target today"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Protein"}),u.jsxs("p",{className:"text-white text-xl",children:[h,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",p,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Carbs"}),u.jsxs("p",{className:"text-white text-xl",children:[g,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",x,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Fat"}),u.jsxs("p",{className:"text-white text-xl",children:[v,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",b,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Fiber"}),u.jsxs("p",{className:"text-white text-xl",children:[_,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",C,"g"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-primary)"},children:"Log Meal"}),u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-accent)"},children:"Ask Food AI"})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-5xl",children:"🍽️"}),u.jsx("p",{className:"text-white text-lg mb-2",children:"No calories logged yet"}),u.jsx("p",{className:"text-white opacity-70 text-sm mb-6",children:"Start tracking your nutrition today"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 bg-white/20 hover:bg-white/30 flex items-center justify-center gap-2",children:"Log Meal"}),u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 flex items-center justify-center gap-2",style:{backgroundColor:"var(--farefit-accent)"},children:"Ask Food AI"})]})]})]})}function jge({onViewTimeline:t,onLogMealClick:e}){const{meals:r,loading:n,getMealsByType:i,getMealTypeOrder:o}=H4();return u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{style:{color:"var(--farefit-text)"},children:"Meals Today"}),u.jsxs("button",{onClick:t,className:"text-sm hover:underline flex items-center gap-1 transition-all hover:-translate-y-0.5",style:{color:"var(--farefit-primary)"},children:["View More",u.jsx(I1,{className:"w-4 h-4"})]})]}),u.jsx("div",{className:"space-y-4",children:n?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Loading meals..."})}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-4xl",children:"🍽️"}),u.jsx("p",{className:"mb-2",style:{color:"var(--farefit-subtext)"},children:"No meals logged yet"}),u.jsx("p",{className:"text-sm mb-6",style:{color:"var(--farefit-subtext)",opacity:.7},children:"Start your day by logging your first meal"}),u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-lg text-white transition-all hover:opacity-90 hover:-translate-y-0.5 inline-flex items-center justify-center gap-2",style:{backgroundColor:"var(--farefit-primary)"},children:"Log Your First Meal"})]}):o().map(a=>{const s=i()[a]||[];if(s.length===0)return null;const l=s.reduce((g,x)=>g+x.calories,0),c=s.reduce((g,x)=>g+x.protein,0),f=s.reduce((g,x)=>g+x.carbs,0),h=s.reduce((g,x)=>g+x.fats,0),p=s.reduce((g,x)=>g+x.fiber,0);return u.jsxs("div",{onClick:t,className:"flex justify-between items-center py-4 px-4 mb-3 cursor-pointer hover:opacity-80 rounded-lg transition-all hover:-translate-y-0.5",style:{backgroundColor:"var(--farefit-bg)",opacity:.8},children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-lg",children:a==="breakfast"?"🍳":a==="lunch"?"🥗":a==="dinner"?"🍽️":"🍿"}),u.jsx("h4",{className:"text-base font-medium capitalize",style:{color:"var(--farefit-text)"},children:a})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:[s.length," item",s.length!==1?"s":""]}),u.jsx("span",{className:"text-sm",style:{color:"var(--farefit-subtext)",opacity:.5},children:"•"}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"var(--farefit-subtext)"},children:[u.jsxs("span",{style:{color:"#F5A623"},children:["P: ",Math.round(c),"g"]}),u.jsxs("span",{style:{color:"#4DD4AC"},children:["C: ",Math.round(f),"g"]}),u.jsxs("span",{style:{color:"#6B47DC"},children:["F: ",Math.round(h),"g"]}),u.jsxs("span",{style:{color:"var(--farefit-primary)"},children:["Fb: ",Math.round(p),"g"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-lg font-semibold",style:{color:"var(--farefit-text)"},children:[l," kcal"]}),u.jsx(I1,{className:"w-4 h-4 mt-1 mx-auto",style:{color:"var(--farefit-primary)"}})]})]},a)})})]})}function dt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function gM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zq(...t){return e=>{let r=!1;const n=t.map(i=>{const o=gM(i,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():gM(t[i],null)}}}}function Lt(...t){return k.useCallback(zq(...t),t)}function Rge(t,e){const r=k.createContext(e),n=o=>{const{children:a,...s}=o,l=k.useMemo(()=>s,Object.values(s));return u.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(o){const a=k.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,i]}function qo(t,e=[]){let r=[];function n(o,a){const s=k.createContext(a),l=r.length;r=[...r,a];const c=h=>{const{scope:p,children:g,...x}=h,v=p?.[t]?.[l]||s,b=k.useMemo(()=>x,Object.values(x));return u.jsx(v.Provider,{value:b,children:g})};c.displayName=o+"Provider";function f(h,p){const g=p?.[t]?.[l]||s,x=k.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,f]}const i=()=>{const o=r.map(a=>k.createContext(a));return function(s){const l=s?.[t]||o;return k.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Dge(i,...e)]}function Dge(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=n.reduce((s,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...s,...h}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var sn=globalThis?.document?k.useLayoutEffect:()=>{},Mge=wU[" useId ".trim().toString()]||(()=>{}),Fge=0;function as(t){const[e,r]=k.useState(Mge());return sn(()=>{r(n=>n??String(Fge++))},[t]),t||(e?`radix-${e}`:"")}var Lge=wU[" useInsertionEffect ".trim().toString()]||sn;function ll({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,o,a]=Bge({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:i;{const f=k.useRef(t!==void 0);k.useEffect(()=>{const h=f.current;h!==s&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=s},[s,n])}const c=k.useCallback(f=>{if(s){const h=Vge(f)?f(t):f;h!==t&&a.current?.(h)}else o(f)},[s,t,o,a]);return[l,c]}function Bge({defaultProp:t,onChange:e}){const[r,n]=k.useState(t),i=k.useRef(r),o=k.useRef(e);return Lge(()=>{o.current=e},[e]),k.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function Vge(t){return typeof t=="function"}var Ly=bU();const $ge=Xt(Ly);function hh(t){const e=Uge(t),r=k.forwardRef((n,i)=>{const{children:o,...a}=n,s=k.Children.toArray(o),l=s.find(zge);if(l){const c=l.props.children,f=s.map(h=>h===l?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...a,ref:i,children:k.isValidElement(c)?k.cloneElement(c,void 0,f):null})}return u.jsx(e,{...a,ref:i,children:o})});return r.displayName=`${t}.Slot`,r}var Wq=hh("Slot");function Uge(t){const e=k.forwardRef((r,n)=>{const{children:i,...o}=r;if(k.isValidElement(i)){const a=Hge(i),s=Wge(o,i.props);return i.type!==k.Fragment&&(s.ref=n?zq(n,a):a),k.cloneElement(i,s)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Hq=Symbol("radix.slottable");function qq(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Hq,e}function zge(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Hq}function Wge(t,e){const r={...e};for(const n in e){const i=t[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...t,...r}}function Hge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xt=qge.reduce((t,e)=>{const r=hh(`Primitive.${e}`),n=k.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...s,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Gge(t,e){t&&Ly.flushSync(()=>t.dispatchEvent(e))}function cl(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...r)=>e.current?.(...r),[])}function Kge(t,e=globalThis?.document){const r=cl(t);k.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Yge="DismissableLayer",zI="dismissableLayer.update",Xge="dismissableLayer.pointerDownOutside",Qge="dismissableLayer.focusOutside",yM,Gq=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ub=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=k.useContext(Gq),[f,h]=k.useState(null),p=f?.ownerDocument??globalThis?.document,[,g]=k.useState({}),x=Lt(e,T=>h(T)),v=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(b),C=f?v.indexOf(f):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,P=C>=_,I=eye(T=>{const N=T.target,j=[...c.branches].some(B=>B.contains(N));!P||j||(i?.(T),a?.(T),T.defaultPrevented||s?.())},p),S=tye(T=>{const N=T.target;[...c.branches].some(B=>B.contains(N))||(o?.(T),a?.(T),T.defaultPrevented||s?.())},p);return Kge(T=>{C===c.layers.size-1&&(n?.(T),!T.defaultPrevented&&s&&(T.preventDefault(),s()))},p),k.useEffect(()=>{if(f)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yM=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),vM(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yM)}},[f,p,r,c]),k.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),vM())},[f,c]),k.useEffect(()=>{const T=()=>g({});return document.addEventListener(zI,T),()=>document.removeEventListener(zI,T)},[]),u.jsx(xt.div,{...l,ref:x,style:{pointerEvents:E?P?"auto":"none":void 0,...t.style},onFocusCapture:dt(t.onFocusCapture,S.onFocusCapture),onBlurCapture:dt(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:dt(t.onPointerDownCapture,I.onPointerDownCapture)})});Ub.displayName=Yge;var Zge="DismissableLayerBranch",Jge=k.forwardRef((t,e)=>{const r=k.useContext(Gq),n=k.useRef(null),i=Lt(e,n);return k.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(xt.div,{...t,ref:i})});Jge.displayName=Zge;function eye(t,e=globalThis?.document){const r=cl(t),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let l=function(){Kq(Xge,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function tye(t,e=globalThis?.document){const r=cl(t),n=k.useRef(!1);return k.useEffect(()=>{const i=o=>{o.target&&!n.current&&Kq(Qge,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vM(){const t=new CustomEvent(zI);document.dispatchEvent(t)}function Kq(t,e,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Gge(i,o):i.dispatchEvent(o)}var iA="focusScope.autoFocusOnMount",oA="focusScope.autoFocusOnUnmount",xM={bubbles:!1,cancelable:!0},rye="FocusScope",q4=k.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=k.useState(null),c=cl(i),f=cl(o),h=k.useRef(null),p=Lt(e,v=>l(v)),g=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let v=function(E){if(g.paused||!s)return;const P=E.target;s.contains(P)?h.current=P:ec(h.current,{select:!0})},b=function(E){if(g.paused||!s)return;const P=E.relatedTarget;P!==null&&(s.contains(P)||ec(h.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&ec(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const C=new MutationObserver(_);return s&&C.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),C.disconnect()}}},[n,s,g.paused]),k.useEffect(()=>{if(s){wM.add(g);const v=document.activeElement;if(!s.contains(v)){const _=new CustomEvent(iA,xM);s.addEventListener(iA,c),s.dispatchEvent(_),_.defaultPrevented||(nye(lye(Yq(s)),{select:!0}),document.activeElement===v&&ec(s))}return()=>{s.removeEventListener(iA,c),setTimeout(()=>{const _=new CustomEvent(oA,xM);s.addEventListener(oA,f),s.dispatchEvent(_),_.defaultPrevented||ec(v??document.body,{select:!0}),s.removeEventListener(oA,f),wM.remove(g)},0)}}},[s,c,f,g]);const x=k.useCallback(v=>{if(!r&&!n||g.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(b&&_){const C=v.currentTarget,[E,P]=iye(C);E&&P?!v.shiftKey&&_===P?(v.preventDefault(),r&&ec(E,{select:!0})):v.shiftKey&&_===E&&(v.preventDefault(),r&&ec(P,{select:!0})):_===C&&v.preventDefault()}},[r,n,g.paused]);return u.jsx(xt.div,{tabIndex:-1,...a,ref:p,onKeyDown:x})});q4.displayName=rye;function nye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ec(n,{select:e}),document.activeElement!==r)return}function iye(t){const e=Yq(t),r=bM(e,t),n=bM(e.reverse(),t);return[r,n]}function Yq(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function bM(t,e){for(const r of t)if(!oye(r,{upTo:e}))return r}function oye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function aye(t){return t instanceof HTMLInputElement&&"select"in t}function ec(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&aye(t)&&e&&t.select()}}var wM=sye();function sye(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=_M(t,e),t.unshift(e)},remove(e){t=_M(t,e),t[0]?.resume()}}}function _M(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function lye(t){return t.filter(e=>e.tagName!=="A")}var cye="Portal",zb=k.forwardRef((t,e)=>{const{container:r,...n}=t,[i,o]=k.useState(!1);sn(()=>o(!0),[]);const a=r||i&&globalThis?.document?.body;return a?$ge.createPortal(u.jsx(xt.div,{...n,ref:e}),a):null});zb.displayName=cye;function uye(t,e){return k.useReducer((r,n)=>e[r][n]??r,t)}var Fc=t=>{const{present:e,children:r}=t,n=fye(e),i=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),o=Lt(n.ref,dye(i));return typeof r=="function"||n.isPresent?k.cloneElement(i,{ref:o}):null};Fc.displayName="Presence";function fye(t){const[e,r]=k.useState(),n=k.useRef(null),i=k.useRef(t),o=k.useRef("none"),a=t?"mounted":"unmounted",[s,l]=uye(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=Tv(n.current);o.current=s==="mounted"?c:"none"},[s]),sn(()=>{const c=n.current,f=i.current;if(f!==t){const p=o.current,g=Tv(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),sn(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=g=>{const v=Tv(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(o.current=Tv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:k.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Tv(t){return t?.animationName||"none"}function dye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var aA=0;function Xq(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AM()),document.body.insertAdjacentElement("beforeend",t[1]??AM()),aA++,()=>{aA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),aA--}},[])}function AM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ga=function(){return Ga=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ga.apply(this,arguments)};function Qq(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function hye(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var b1="right-scroll-bar-position",w1="width-before-scroll-bar",pye="with-scroll-bars-hidden",mye="--removed-body-scroll-bar-size";function sA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gye(t,e){var r=k.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var yye=typeof window<"u"?k.useLayoutEffect:k.useEffect,CM=new WeakMap;function vye(t,e){var r=gye(null,function(n){return t.forEach(function(i){return sA(i,n)})});return yye(function(){var n=CM.get(r);if(n){var i=new Set(n),o=new Set(t),a=r.current;i.forEach(function(s){o.has(s)||sA(s,null)}),o.forEach(function(s){i.has(s)||sA(s,a)})}CM.set(r,t)},[t]),r}function xye(t){return t}function bye(t,e){e===void 0&&(e=xye);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(s){return o(s)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(o),a=r}var l=function(){var f=a;a=[],f.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(f){a.push(f),c()},filter:function(f){return a=a.filter(f),r}}}};return i}function wye(t){t===void 0&&(t={});var e=bye(null);return e.options=Ga({async:!0,ssr:!1},t),e}var Zq=function(t){var e=t.sideCar,r=Qq(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Ga({},r))};Zq.isSideCarExport=!0;function _ye(t,e){return t.useMedium(e),Zq}var Jq=wye(),lA=function(){},Wb=k.forwardRef(function(t,e){var r=k.useRef(null),n=k.useState({onScrollCapture:lA,onWheelCapture:lA,onTouchMoveCapture:lA}),i=n[0],o=n[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,g=t.noRelative,x=t.noIsolation,v=t.inert,b=t.allowPinchZoom,_=t.as,C=_===void 0?"div":_,E=t.gapMode,P=Qq(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,S=vye([r,e]),T=Ga(Ga({},P),i);return k.createElement(k.Fragment,null,f&&k.createElement(I,{sideCar:Jq,removeScrollBar:c,shards:h,noRelative:g,noIsolation:x,inert:v,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:E}),a?k.cloneElement(k.Children.only(s),Ga(Ga({},T),{ref:S})):k.createElement(C,Ga({},T,{className:l,ref:S}),s))});Wb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wb.classNames={fullWidth:w1,zeroRight:b1};var Aye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Aye();return e&&t.setAttribute("nonce",e),t}function Eye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Sye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tye=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Cye())&&(Eye(e,r),Sye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iye=function(){var t=Tye();return function(e,r){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},eG=function(){var t=Iye(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Nye={left:0,top:0,right:0,gap:0},cA=function(t){return parseInt(t||"",10)||0},Pye=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[cA(r),cA(n),cA(i)]},kye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nye;var e=Pye(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Oye=eG(),qd="data-scroll-locked",jye=function(t,e,r,n){var i=t.left,o=t.top,a=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(pye,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(qd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(b1,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(w1,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(b1," .").concat(b1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(w1," .").concat(w1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qd,`] {
    `).concat(mye,": ").concat(s,`px;
  }
`)},EM=function(){var t=parseInt(document.body.getAttribute(qd)||"0",10);return isFinite(t)?t:0},Rye=function(){k.useEffect(function(){return document.body.setAttribute(qd,(EM()+1).toString()),function(){var t=EM()-1;t<=0?document.body.removeAttribute(qd):document.body.setAttribute(qd,t.toString())}},[])},Dye=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Rye();var o=k.useMemo(function(){return kye(i)},[i]);return k.createElement(Oye,{styles:jye(o,!e,i,r?"":"!important")})},WI=!1;if(typeof window<"u")try{var Iv=Object.defineProperty({},"passive",{get:function(){return WI=!0,!0}});window.addEventListener("test",Iv,Iv),window.removeEventListener("test",Iv,Iv)}catch{WI=!1}var ld=WI?{passive:!1}:!1,Mye=function(t){return t.tagName==="TEXTAREA"},tG=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Mye(t)&&r[e]==="visible")},Fye=function(t){return tG(t,"overflowY")},Lye=function(t){return tG(t,"overflowX")},SM=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=rG(t,n);if(i){var o=nG(t,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Bye=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Vye=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},rG=function(t,e){return t==="v"?Fye(e):Lye(e)},nG=function(t,e){return t==="v"?Bye(e):Vye(e)},$ye=function(t,e){return t==="h"&&e==="rtl"?-1:1},Uye=function(t,e,r,n,i){var o=$ye(t,window.getComputedStyle(e).direction),a=o*n,s=r.target,l=e.contains(s),c=!1,f=a>0,h=0,p=0;do{if(!s)break;var g=nG(t,s),x=g[0],v=g[1],b=g[2],_=v-b-o*x;(x||_)&&rG(t,s)&&(h+=_,p+=x);var C=s.parentNode;s=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(c=!0),c},Nv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TM=function(t){return[t.deltaX,t.deltaY]},IM=function(t){return t&&"current"in t?t.current:t},zye=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Wye=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hye=0,cd=[];function qye(t){var e=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),i=k.useState(Hye++)[0],o=k.useState(eG)[0],a=k.useRef(t);k.useEffect(function(){a.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=hye([t.lockRef.current],(t.shards||[]).map(IM),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=k.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var _=Nv(v),C=r.current,E="deltaX"in v?v.deltaX:C[0]-_[0],P="deltaY"in v?v.deltaY:C[1]-_[1],I,S=v.target,T=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in v&&T==="h"&&S.type==="range")return!1;var N=SM(T,S);if(!N)return!0;if(N?I=T:(I=T==="v"?"h":"v",N=SM(T,S)),!N)return!1;if(!n.current&&"changedTouches"in v&&(E||P)&&(n.current=I),!I)return!0;var j=n.current||I;return Uye(j,b,v,j==="h"?E:P)},[]),l=k.useCallback(function(v){var b=v;if(!(!cd.length||cd[cd.length-1]!==o)){var _="deltaY"in b?TM(b):Nv(b),C=e.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&zye(I.delta,_)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var E=(a.current.shards||[]).map(IM).filter(Boolean).filter(function(I){return I.contains(b.target)}),P=E.length>0?s(b,E[0]):!a.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),c=k.useCallback(function(v,b,_,C){var E={name:v,delta:b,target:_,should:C,shadowParent:Gye(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(P){return P!==E})},1)},[]),f=k.useCallback(function(v){r.current=Nv(v),n.current=void 0},[]),h=k.useCallback(function(v){c(v.type,TM(v),v.target,s(v,t.lockRef.current))},[]),p=k.useCallback(function(v){c(v.type,Nv(v),v.target,s(v,t.lockRef.current))},[]);k.useEffect(function(){return cd.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ld),document.addEventListener("touchmove",l,ld),document.addEventListener("touchstart",f,ld),function(){cd=cd.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,ld),document.removeEventListener("touchmove",l,ld),document.removeEventListener("touchstart",f,ld)}},[]);var g=t.removeScrollBar,x=t.inert;return k.createElement(k.Fragment,null,x?k.createElement(o,{styles:Wye(i)}):null,g?k.createElement(Dye,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Gye(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Kye=_ye(Jq,qye);var G4=k.forwardRef(function(t,e){return k.createElement(Wb,Ga({},t,{ref:e,sideCar:Kye}))});G4.classNames=Wb.classNames;var Yye=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ud=new WeakMap,Pv=new WeakMap,kv={},uA=0,iG=function(t){return t&&(t.host||iG(t.parentNode))},Xye=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=iG(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Qye=function(t,e,r,n){var i=Xye(e,Array.isArray(t)?t:[t]);kv[r]||(kv[r]=new WeakMap);var o=kv[r],a=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(s.has(p))f(p);else try{var g=p.getAttribute(n),x=g!==null&&g!=="false",v=(ud.get(p)||0)+1,b=(o.get(p)||0)+1;ud.set(p,v),o.set(p,b),a.push(p),v===1&&x&&Pv.set(p,!0),b===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),s.clear(),uA++,function(){a.forEach(function(h){var p=ud.get(h)-1,g=o.get(h)-1;ud.set(h,p),o.set(h,g),p||(Pv.has(h)||h.removeAttribute(n),Pv.delete(h)),g||h.removeAttribute(r)}),uA--,uA||(ud=new WeakMap,ud=new WeakMap,Pv=new WeakMap,kv={})}},oG=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Yye(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Qye(n,i,r,"aria-hidden")):function(){return null}},Hb="Dialog",[aG,sG]=qo(Hb),[Zye,_a]=aG(Hb),lG=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=k.useRef(null),l=k.useRef(null),[c,f]=ll({prop:n,defaultProp:i??!1,onChange:o,caller:Hb});return u.jsx(Zye,{scope:e,triggerRef:s,contentRef:l,contentId:as(),titleId:as(),descriptionId:as(),open:c,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(h=>!h),[f]),modal:a,children:r})};lG.displayName=Hb;var cG="DialogTrigger",uG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_a(cG,r),o=Lt(e,i.triggerRef);return u.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X4(i.open),...n,ref:o,onClick:dt(t.onClick,i.onOpenToggle)})});uG.displayName=cG;var K4="DialogPortal",[Jye,fG]=aG(K4,{forceMount:void 0}),dG=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,o=_a(K4,e);return u.jsx(Jye,{scope:e,forceMount:r,children:k.Children.map(n,a=>u.jsx(Fc,{present:r||o.open,children:u.jsx(zb,{asChild:!0,container:i,children:a})}))})};dG.displayName=K4;var ox="DialogOverlay",hG=k.forwardRef((t,e)=>{const r=fG(ox,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=_a(ox,t.__scopeDialog);return o.modal?u.jsx(Fc,{present:n||o.open,children:u.jsx(t0e,{...i,ref:e})}):null});hG.displayName=ox;var e0e=hh("DialogOverlay.RemoveScroll"),t0e=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_a(ox,r);return u.jsx(G4,{as:e0e,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(xt.div,{"data-state":X4(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),af="DialogContent",pG=k.forwardRef((t,e)=>{const r=fG(af,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=_a(af,t.__scopeDialog);return u.jsx(Fc,{present:n||o.open,children:o.modal?u.jsx(r0e,{...i,ref:e}):u.jsx(n0e,{...i,ref:e})})});pG.displayName=af;var r0e=k.forwardRef((t,e)=>{const r=_a(af,t.__scopeDialog),n=k.useRef(null),i=Lt(e,r.contentRef,n);return k.useEffect(()=>{const o=n.current;if(o)return oG(o)},[]),u.jsx(mG,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(t.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:dt(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:dt(t.onFocusOutside,o=>o.preventDefault())})}),n0e=k.forwardRef((t,e)=>{const r=_a(af,t.__scopeDialog),n=k.useRef(!1),i=k.useRef(!1);return u.jsx(mG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;r.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),mG=k.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=_a(af,r),l=k.useRef(null),c=Lt(e,l);return Xq(),u.jsxs(u.Fragment,{children:[u.jsx(q4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Ub,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":X4(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(o0e,{titleId:s.titleId}),u.jsx(s0e,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Y4="DialogTitle",gG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_a(Y4,r);return u.jsx(xt.h2,{id:i.titleId,...n,ref:e})});gG.displayName=Y4;var yG="DialogDescription",vG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_a(yG,r);return u.jsx(xt.p,{id:i.descriptionId,...n,ref:e})});vG.displayName=yG;var xG="DialogClose",bG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_a(xG,r);return u.jsx(xt.button,{type:"button",...n,ref:e,onClick:dt(t.onClick,()=>i.onOpenChange(!1))})});bG.displayName=xG;function X4(t){return t?"open":"closed"}var wG="DialogTitleWarning",[i0e,_G]=Rge(wG,{contentName:af,titleName:Y4,docsSlug:"dialog"}),o0e=({titleId:t})=>{const e=_G(wG),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},a0e="DialogDescriptionWarning",s0e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_G(a0e).contentName}}.`;return k.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Q4=lG,l0e=uG,Z4=dG,By=hG,J4=pG,e3=gG,t3=vG,qb=bG;function AG(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=AG(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=AG(t))&&(n&&(n+=" "),n+=e);return n}const r3="-",c0e=t=>{const e=f0e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const s=a.split(r3);return s[0]===""&&s.length!==1&&s.shift(),CG(s,e)||u0e(a)},getConflictingClassGroupIds:(a,s)=>{const l=r[a]||[];return s&&n[a]?[...l,...n[a]]:l}}},CG=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?CG(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(r3);return e.validators.find(({validator:a})=>a(o))?.classGroupId},NM=/^\[(.+)\]$/,u0e=t=>{if(NM.test(t)){const e=NM.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},f0e=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)HI(r[i],n,i,e);return n},HI=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:PM(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(d0e(i)){HI(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{HI(a,PM(e,o),r,n)})})},PM=(t,e)=>{let r=t;return e.split(r3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},d0e=t=>t.isThemeGetter,h0e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},qI="!",GI=":",p0e=GI.length,m0e=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const o=[];let a=0,s=0,l=0,c;for(let x=0;x<i.length;x++){let v=i[x];if(a===0&&s===0){if(v===GI){o.push(i.slice(l,x)),l=x+p0e;continue}if(v==="/"){c=x;continue}}v==="["?a++:v==="]"?a--:v==="("?s++:v===")"&&s--}const f=o.length===0?i:i.substring(l),h=g0e(f),p=h!==f,g=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:g}};if(e){const i=e+GI,o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},g0e=t=>t.endsWith(qI)?t.substring(0,t.length-1):t.startsWith(qI)?t.substring(1):t,y0e=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},v0e=t=>({cache:h0e(t.cacheSize),parseClassName:m0e(t),sortModifiers:y0e(t),...c0e(t)}),x0e=/\s+/,b0e=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],s=t.trim().split(x0e);let l="";for(let c=s.length-1;c>=0;c-=1){const f=s[c],{isExternal:h,modifiers:p,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=r(f);if(h){l=f+(l.length>0?" "+l:l);continue}let b=!!v,_=n(b?x.substring(0,v):x);if(!_){if(!b){l=f+(l.length>0?" "+l:l);continue}if(_=n(x),!_){l=f+(l.length>0?" "+l:l);continue}b=!1}const C=o(p).join(":"),E=g?C+qI:C,P=E+_;if(a.includes(P))continue;a.push(P);const I=i(_,b);for(let S=0;S<I.length;++S){const T=I[S];a.push(E+T)}l=f+(l.length>0?" "+l:l)}return l};function w0e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=EG(e))&&(n&&(n+=" "),n+=r);return n}const EG=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=EG(t[n]))&&(r&&(r+=" "),r+=e);return r};function _0e(t,...e){let r,n,i,o=a;function a(l){const c=e.reduce((f,h)=>h(f),t());return r=v0e(c),n=r.cache.get,i=r.cache.set,o=s,s(l)}function s(l){const c=n(l);if(c)return c;const f=b0e(l,r);return i(l,f),f}return function(){return o(w0e.apply(null,arguments))}}const un=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},SG=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TG=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A0e=/^\d+\/\d+$/,C0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,T0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fd=t=>A0e.test(t),It=t=>!!t&&!Number.isNaN(Number(t)),Kl=t=>!!t&&Number.isInteger(Number(t)),fA=t=>t.endsWith("%")&&It(t.slice(0,-1)),Vs=t=>C0e.test(t),N0e=()=>!0,P0e=t=>E0e.test(t)&&!S0e.test(t),IG=()=>!1,k0e=t=>T0e.test(t),O0e=t=>I0e.test(t),j0e=t=>!Ke(t)&&!Ye(t),R0e=t=>rp(t,kG,IG),Ke=t=>SG.test(t),xu=t=>rp(t,OG,P0e),dA=t=>rp(t,B0e,It),kM=t=>rp(t,NG,IG),D0e=t=>rp(t,PG,O0e),Ov=t=>rp(t,jG,k0e),Ye=t=>TG.test(t),um=t=>np(t,OG),M0e=t=>np(t,V0e),OM=t=>np(t,NG),F0e=t=>np(t,kG),L0e=t=>np(t,PG),jv=t=>np(t,jG,!0),rp=(t,e,r)=>{const n=SG.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},np=(t,e,r=!1)=>{const n=TG.exec(t);return n?n[1]?e(n[1]):r:!1},NG=t=>t==="position"||t==="percentage",PG=t=>t==="image"||t==="url",kG=t=>t==="length"||t==="size"||t==="bg-size",OG=t=>t==="length",B0e=t=>t==="number",V0e=t=>t==="family-name",jG=t=>t==="shadow",$0e=()=>{const t=un("color"),e=un("font"),r=un("text"),n=un("font-weight"),i=un("tracking"),o=un("leading"),a=un("breakpoint"),s=un("container"),l=un("spacing"),c=un("radius"),f=un("shadow"),h=un("inset-shadow"),p=un("text-shadow"),g=un("drop-shadow"),x=un("blur"),v=un("perspective"),b=un("aspect"),_=un("ease"),C=un("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...P(),Ye,Ke],S=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],N=()=>[Ye,Ke,l],j=()=>[fd,"full","auto",...N()],B=()=>[Kl,"none","subgrid",Ye,Ke],M=()=>["auto",{span:["full",Kl,Ye,Ke]},Kl,Ye,Ke],L=()=>[Kl,"auto",Ye,Ke],F=()=>["auto","min","max","fr",Ye,Ke],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...N()],Z=()=>[fd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],q=()=>[t,Ye,Ke],re=()=>[...P(),OM,kM,{position:[Ye,Ke]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",F0e,R0e,{size:[Ye,Ke]}],ee=()=>[fA,um,xu],W=()=>["","none","full",c,Ye,Ke],Q=()=>["",It,um,xu],se=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[It,fA,OM,kM],ve=()=>["","none",x,Ye,Ke],he=()=>["none",It,Ye,Ke],_e=()=>["none",It,Ye,Ke],Pe=()=>[It,Ye,Ke],pe=()=>[fd,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[N0e],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[j0e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",It],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fd,Ke,Ye,b]}],container:["container"],columns:[{columns:[It,Ke,Ye,s]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Kl,"auto",Ye,Ke]}],basis:[{basis:[fd,"full","auto",s,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[It,fd,"auto","initial","none",Ke]}],grow:[{grow:["",It,Ye,Ke]}],shrink:[{shrink:["",It,Ye,Ke]}],order:[{order:[Kl,"first","last","none",Ye,Ke]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[s,"screen",...Z()]}],"min-w":[{"min-w":[s,"screen","none",...Z()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",r,um,xu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ye,dA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fA,Ke]}],"font-family":[{font:[M0e,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ye,Ke]}],"line-clamp":[{"line-clamp":[It,"none",Ye,dA]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",Ye,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[It,"from-font","auto",Ye,xu]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[It,"auto",Ye,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kl,Ye,Ke],radial:["",Ye,Ke],conic:[Kl,Ye,Ke]},L0e,D0e]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[It,Ye,Ke]}],"outline-w":[{outline:["",It,um,xu]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",f,jv,Ov]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",h,jv,Ov]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[It,xu]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",p,jv,Ov]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[It,Ye,Ke]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[It]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ye,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[It]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Ke]}],filter:[{filter:["","none",Ye,Ke]}],blur:[{blur:ve()}],brightness:[{brightness:[It,Ye,Ke]}],contrast:[{contrast:[It,Ye,Ke]}],"drop-shadow":[{"drop-shadow":["","none",g,jv,Ov]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",It,Ye,Ke]}],"hue-rotate":[{"hue-rotate":[It,Ye,Ke]}],invert:[{invert:["",It,Ye,Ke]}],saturate:[{saturate:[It,Ye,Ke]}],sepia:[{sepia:["",It,Ye,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Ke]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[It,Ye,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[It,Ye,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",It,Ye,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[It,Ye,Ke]}],"backdrop-invert":[{"backdrop-invert":["",It,Ye,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[It,Ye,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[It,Ye,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",It,Ye,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[It,"initial",Ye,Ke]}],ease:[{ease:["linear","initial",_,Ye,Ke]}],delay:[{delay:[It,Ye,Ke]}],animate:[{animate:["none",C,Ye,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Ye,Ke]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Ye,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Ke]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[It,um,xu,dA]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},U0e=_0e($0e);function St(...t){return U0e(Ct(t))}function li({...t}){return u.jsx(Q4,{"data-slot":"dialog",...t})}function z0e({...t}){return u.jsx(Z4,{"data-slot":"dialog-portal",...t})}const RG=k.forwardRef(({className:t,...e},r)=>u.jsx(By,{ref:r,"data-slot":"dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));RG.displayName=By.displayName;function ci({className:t,children:e,...r}){return u.jsxs(z0e,{"data-slot":"dialog-portal",children:[u.jsx(RG,{}),u.jsxs(J4,{"data-slot":"dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,u.jsxs(qb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(Hh,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Fi({className:t,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Li({className:t,...e}){return u.jsx(e3,{"data-slot":"dialog-title",className:St("text-lg leading-none font-semibold",t),...e})}function lo({className:t,...e}){return u.jsx(t3,{"data-slot":"dialog-description",className:St("text-muted-foreground text-sm",t),...e})}function Gb({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:St("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function W0e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let KI=1;class H0e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,o=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:KI++,a=this.toasts.find(l=>l.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:n}),{...l,...e,id:o,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,a;const s=i.then(async c=>{if(a=["resolve",c],te.isValidElement(c))o=!1,this.create({id:n,type:"default",message:c});else if(G0e(c)&&!c.ok){o=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,x=typeof h=="object"&&!te.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:p,...x})}else if(c instanceof Error){o=!1;const h=typeof r.error=="function"?await r.error(c):r.error,p=typeof r.description=="function"?await r.description(c):r.description,x=typeof h=="object"&&!te.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:p,...x})}else if(r.success!==void 0){o=!1;const h=typeof r.success=="function"?await r.success(c):r.success,p=typeof r.description=="function"?await r.description(c):r.description,x=typeof h=="object"&&!te.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:p,...x})}}).catch(async c=>{if(a=["reject",c],r.error!==void 0){o=!1;const f=typeof r.error=="function"?await r.error(c):r.error,h=typeof r.description=="function"?await r.description(c):r.description,g=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,f)=>s.then(()=>a[0]==="reject"?f(a[1]):c(a[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=r?.id||KI++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Oo=new H0e,q0e=(t,e)=>{const r=e?.id||KI++;return Oo.addToast({title:t,...e,id:r}),r},G0e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",K0e=q0e,Y0e=()=>Oo.toasts,X0e=()=>Oo.getActiveToasts(),Je=Object.assign(K0e,{success:Oo.success,info:Oo.info,warning:Oo.warning,error:Oo.error,custom:Oo.custom,message:Oo.message,promise:Oo.promise,dismiss:Oo.dismiss,loading:Oo.loading},{getHistory:Y0e,getToasts:X0e});W0e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Q0e({onCoachAIClick:t,onViewWorkout:e,workoutData:r}){const[n,i]=k.useState(!1),[o,a]=k.useState(`Push Day - 1h 45m

Bench Press
- Set 1: 135 lbs x 12 reps
- Set 2: 185 lbs x 10 reps
- Set 3: 205 lbs x 8 reps

Triceps Extension
- Set 1: 60 lbs x 15 reps
- Set 2: 70 lbs x 12 reps
- Set 3: 70 lbs x 10 reps

Cardio
- Treadmill: 20 minutes
- Incline: 5%
- Speed: 6.5 mph`);r?.exercises.reduce((x,v)=>x+v.sets,0);const s=r?.exercises.reduce((x,v)=>x+v.volume,0)||0,l=r?.caloriesBurned||0,c=r?.workoutType||"No workout logged",f=r?.duration||0,h=x=>{if(x>=60){const v=Math.floor(x/60),b=x%60;return b>0?`${v}h ${b}m`:`${v}h`}return`${x}m`},p=()=>{Je.success("Workout saved!")},g=()=>{Je.success("Sending to Coach AI to estimate calories burned..."),setTimeout(()=>{Je.success("Estimated 517 calories burned!"),i(!1)},1500)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 transition-colors duration-300",style:{background:"linear-gradient(135deg, var(--farefit-primary) 0%, var(--farefit-primary) 100%)"},children:[u.jsx("h3",{className:"text-white mb-6",children:"Workout Overview"}),r?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Calories Burned"}),u.jsxs("p",{className:"text-white text-3xl",children:[l," kcal"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Workout"}),u.jsx("p",{className:"text-white text-xl",children:c})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Duration"}),u.jsx("p",{className:"text-white text-xl",children:h(f)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Total Volume"}),u.jsxs("p",{className:"text-white text-xl",children:[s.toLocaleString()," lb"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:e||(()=>i(!0)),className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(4px)"},children:"View Workout"}),u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 active:translate-y-0 hover:shadow-md",style:{backgroundColor:"var(--farefit-accent)"},children:"Ask Coach AI"})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-5xl",children:"💪"}),u.jsx("p",{className:"text-white mb-2 text-lg",children:"No workout logged today"}),u.jsx("p",{className:"text-white opacity-70 text-sm mb-6",children:"Get started by logging your first workout"}),u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 active:translate-y-0 bg-white/20 hover:bg-white/30",children:"Log Workout"})]})]}),u.jsx(li,{open:n,onOpenChange:i,children:u.jsxs(ci,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"var(--farefit-text)"},children:"Workout Editor"}),u.jsx(lo,{style:{color:"var(--farefit-subtext)"},children:'Edit your workout details below. Click "Log" to send to Coach AI for calorie estimation.'})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{children:u.jsx(Gb,{value:o,onChange:x=>a(x.target.value),className:"min-h-[400px] font-mono",style:{borderColor:"var(--farefit-border)"},placeholder:"Enter your workout details..."})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-primary)"},children:"Save"}),u.jsx("button",{onClick:g,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-accent)"},children:"Log & Estimate Calories"}),u.jsx("button",{onClick:()=>i(!1),className:"px-6 py-3 rounded-md border transition-all hover:opacity-70",style:{borderColor:"var(--farefit-border)",color:"var(--farefit-text)"},children:"Close"})]})]})]})})]})}function Z0e({onClick:t}){return u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(ya,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx("h3",{style:{color:"#102A43"},children:"Progress Overview"})]}),u.jsx("p",{className:"text-sm mb-6",style:{color:"#102A43",opacity:.7},children:"Track your weekly stats, streaks, and see how you're improving over time."}),u.jsxs(mt.button,{onClick:t,className:"px-6 py-3 rounded-md text-white flex items-center gap-2 shadow-md",style:{backgroundColor:"#1C7C54"},whileHover:{y:-2,boxShadow:"0 10px 25px rgba(28, 124, 84, 0.3)"},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:[u.jsx("span",{children:"View Progress"}),u.jsx(tre,{className:"w-4 h-4"})]})]})}function J0e({onClick:t,userGoal:e,planSummary:r}){const n=s=>s==="cut"?"Cutting":s==="bulk"?"Bulking":"Maintaining",i=r||e,o=r?.goalType||e?.goalType,a=r?.targetCalories||e?.targetCalories;return u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm cursor-pointer hover:shadow-md transition-all group",onClick:t,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Fo,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx(I1,{className:"w-5 h-5 transition-transform group-hover:translate-x-1",style:{color:"#1C7C54",opacity:.5}})]}),i?u.jsxs(u.Fragment,{children:[u.jsx("h4",{className:"mb-1",style:{color:"#102A43"},children:"Current Goal"}),u.jsx("div",{className:"mb-3",children:u.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mb-2",style:{backgroundColor:"#1C7C5415",color:"#1C7C54"},children:n(o||"maintain")})}),u.jsx("div",{className:"text-sm space-y-1",children:u.jsxs("p",{style:{color:"#102A43",opacity:.7},children:["Target: ",a?.toLocaleString()," kcal/day"]})})]}):u.jsx(u.Fragment,{children:u.jsx("h4",{className:"mb-2",style:{color:"#102A43"},children:"Set Your Fitness Goal"})}),!i&&u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43",opacity:.7},children:"Set your goal to start tracking calories and get personalized recommendations."})]})}function eve({onGoalSetupClick:t,onCoachAIClick:e,onFoodAssistantClick:r,userGoal:n,planSummary:i}){const o=[{icon:tl,title:"Food Assistant",description:"Get meal suggestions based on your macro goals",color:"#1C7C54",onClick:r||(()=>{}),comingSoon:!1},{icon:EU,title:"Coach AI",description:"Get personalized workout advice and form checks from your AI coach",color:"#FFB6B9",onClick:e||(()=>{}),comingSoon:!1}];return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.map((a,s)=>u.jsxs("div",{onClick:a.onClick,className:"bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col hover:-translate-y-1 active:translate-y-0",children:[u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:a.color+"20"},children:u.jsx(a.icon,{className:"w-6 h-6",style:{color:a.color}})})}),u.jsx("h4",{className:"mb-2",style:{color:"#102A43"},children:a.title}),u.jsx("p",{className:"text-sm mb-4 flex-1",style:{color:"#102A43",opacity:.7},children:a.description}),u.jsx("button",{className:"text-sm px-4 py-2 rounded-md transition-all hover:shadow-sm hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"#1C7C54",color:"white"},children:"Start Chat →"})]},s)),u.jsx(J0e,{onClick:t,userGoal:n,planSummary:i})]})}var hA,jM;function $i(){if(jM)return hA;jM=1;var t=Array.isArray;return hA=t,hA}var pA,RM;function DG(){if(RM)return pA;RM=1;var t=typeof pv=="object"&&pv&&pv.Object===Object&&pv;return pA=t,pA}var mA,DM;function xs(){if(DM)return mA;DM=1;var t=DG(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return mA=r,mA}var gA,MM;function Vy(){if(MM)return gA;MM=1;var t=xs(),e=t.Symbol;return gA=e,gA}var yA,FM;function tve(){if(FM)return yA;FM=1;var t=Vy(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(a){var s=r.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var f=n.call(a);return c&&(s?a[i]=l:delete a[i]),f}return yA=o,yA}var vA,LM;function rve(){if(LM)return vA;LM=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return vA=r,vA}var xA,BM;function yl(){if(BM)return xA;BM=1;var t=Vy(),e=tve(),r=rve(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(s){return s==null?s===void 0?i:n:o&&o in Object(s)?e(s):r(s)}return xA=a,xA}var bA,VM;function vl(){if(VM)return bA;VM=1;function t(e){return e!=null&&typeof e=="object"}return bA=t,bA}var wA,$M;function ip(){if($M)return wA;$M=1;var t=yl(),e=vl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return wA=n,wA}var _A,UM;function n3(){if(UM)return _A;UM=1;var t=$i(),e=ip(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){if(t(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||a!=null&&o in Object(a)}return _A=i,_A}var AA,zM;function Lc(){if(zM)return AA;zM=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return AA=t,AA}var CA,WM;function i3(){if(WM)return CA;WM=1;var t=yl(),e=Lc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==o}return CA=a,CA}var EA,HM;function nve(){if(HM)return EA;HM=1;var t=xs(),e=t["__core-js_shared__"];return EA=e,EA}var SA,qM;function ive(){if(qM)return SA;qM=1;var t=nve(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return SA=r,SA}var TA,GM;function MG(){if(GM)return TA;GM=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return TA=r,TA}var IA,KM;function ove(){if(KM)return IA;KM=1;var t=i3(),e=ive(),r=Lc(),n=MG(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,f=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||e(p))return!1;var g=t(p)?f:o;return g.test(n(p))}return IA=h,IA}var NA,YM;function ave(){if(YM)return NA;YM=1;function t(e,r){return e?.[r]}return NA=t,NA}var PA,XM;function bf(){if(XM)return PA;XM=1;var t=ove(),e=ave();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return PA=r,PA}var kA,QM;function Kb(){if(QM)return kA;QM=1;var t=bf(),e=t(Object,"create");return kA=e,kA}var OA,ZM;function sve(){if(ZM)return OA;ZM=1;var t=Kb();function e(){this.__data__=t?t(null):{},this.size=0}return OA=e,OA}var jA,JM;function lve(){if(JM)return jA;JM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return jA=t,jA}var RA,e8;function cve(){if(e8)return RA;e8=1;var t=Kb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var a=this.__data__;if(t){var s=a[o];return s===e?void 0:s}return n.call(a,o)?a[o]:void 0}return RA=i,RA}var DA,t8;function uve(){if(t8)return DA;t8=1;var t=Kb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return DA=n,DA}var MA,r8;function fve(){if(r8)return MA;r8=1;var t=Kb(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return MA=r,MA}var FA,n8;function dve(){if(n8)return FA;n8=1;var t=sve(),e=lve(),r=cve(),n=uve(),i=fve();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,FA=o,FA}var LA,i8;function hve(){if(i8)return LA;i8=1;function t(){this.__data__=[],this.size=0}return LA=t,LA}var BA,o8;function o3(){if(o8)return BA;o8=1;function t(e,r){return e===r||e!==e&&r!==r}return BA=t,BA}var VA,a8;function Yb(){if(a8)return VA;a8=1;var t=o3();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return VA=e,VA}var $A,s8;function pve(){if(s8)return $A;s8=1;var t=Yb(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():r.call(o,a,1),--this.size,!0}return $A=n,$A}var UA,l8;function mve(){if(l8)return UA;l8=1;var t=Yb();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return UA=e,UA}var zA,c8;function gve(){if(c8)return zA;c8=1;var t=Yb();function e(r){return t(this.__data__,r)>-1}return zA=e,zA}var WA,u8;function yve(){if(u8)return WA;u8=1;var t=Yb();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return WA=e,WA}var HA,f8;function Xb(){if(f8)return HA;f8=1;var t=hve(),e=pve(),r=mve(),n=gve(),i=yve();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,HA=o,HA}var qA,d8;function a3(){if(d8)return qA;d8=1;var t=bf(),e=xs(),r=t(e,"Map");return qA=r,qA}var GA,h8;function vve(){if(h8)return GA;h8=1;var t=dve(),e=Xb(),r=a3();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return GA=n,GA}var KA,p8;function xve(){if(p8)return KA;p8=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return KA=t,KA}var YA,m8;function Qb(){if(m8)return YA;m8=1;var t=xve();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return YA=e,YA}var XA,g8;function bve(){if(g8)return XA;g8=1;var t=Qb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return XA=e,XA}var QA,y8;function wve(){if(y8)return QA;y8=1;var t=Qb();function e(r){return t(this,r).get(r)}return QA=e,QA}var ZA,v8;function _ve(){if(v8)return ZA;v8=1;var t=Qb();function e(r){return t(this,r).has(r)}return ZA=e,ZA}var JA,x8;function Ave(){if(x8)return JA;x8=1;var t=Qb();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return JA=e,JA}var eC,b8;function s3(){if(b8)return eC;b8=1;var t=vve(),e=bve(),r=wve(),n=_ve(),i=Ave();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,eC=o,eC}var tC,w8;function FG(){if(w8)return tC;w8=1;var t=s3(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=n.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(r.Cache||t),o}return r.Cache=t,tC=r,tC}var rC,_8;function Cve(){if(_8)return rC;_8=1;var t=FG(),e=500;function r(n){var i=t(n,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return rC=r,rC}var nC,A8;function Eve(){if(A8)return nC;A8=1;var t=Cve(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,s,l,c){o.push(l?c.replace(r,"$1"):s||a)}),o});return nC=n,nC}var iC,C8;function l3(){if(C8)return iC;C8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return iC=t,iC}var oC,E8;function Sve(){if(E8)return oC;E8=1;var t=Vy(),e=l3(),r=$i(),n=ip(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(r(s))return e(s,a)+"";if(n(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return oC=a,oC}var aC,S8;function LG(){if(S8)return aC;S8=1;var t=Sve();function e(r){return r==null?"":t(r)}return aC=e,aC}var sC,T8;function BG(){if(T8)return sC;T8=1;var t=$i(),e=n3(),r=Eve(),n=LG();function i(o,a){return t(o)?o:e(o,a)?[o]:r(n(o))}return sC=i,sC}var lC,I8;function Zb(){if(I8)return lC;I8=1;var t=ip();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return lC=e,lC}var cC,N8;function c3(){if(N8)return cC;N8=1;var t=BG(),e=Zb();function r(n,i){i=t(i,n);for(var o=0,a=i.length;n!=null&&o<a;)n=n[e(i[o++])];return o&&o==a?n:void 0}return cC=r,cC}var uC,P8;function VG(){if(P8)return uC;P8=1;var t=c3();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return uC=e,uC}var Tve=VG();const ho=Xt(Tve);var fC,k8;function Ive(){if(k8)return fC;k8=1;function t(e){return e==null}return fC=t,fC}var Nve=Ive();const _t=Xt(Nve);var dC,O8;function Pve(){if(O8)return dC;O8=1;var t=yl(),e=$i(),r=vl(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return dC=i,dC}var kve=Pve();const sf=Xt(kve);var Ove=i3();const yt=Xt(Ove);var jve=Lc();const op=Xt(jve);var hC={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8;function Rve(){if(j8)return tr;j8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var _=b.$$typeof;switch(_){case t:switch(b=b.type,b){case r:case i:case n:case c:case f:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case l:case p:case h:case o:return b;default:return _}}case e:return _}}}return tr.ContextConsumer=a,tr.ContextProvider=o,tr.Element=t,tr.ForwardRef=l,tr.Fragment=r,tr.Lazy=p,tr.Memo=h,tr.Portal=e,tr.Profiler=i,tr.StrictMode=n,tr.Suspense=c,tr.SuspenseList=f,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(b){return v(b)===a},tr.isContextProvider=function(b){return v(b)===o},tr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},tr.isForwardRef=function(b){return v(b)===l},tr.isFragment=function(b){return v(b)===r},tr.isLazy=function(b){return v(b)===p},tr.isMemo=function(b){return v(b)===h},tr.isPortal=function(b){return v(b)===e},tr.isProfiler=function(b){return v(b)===i},tr.isStrictMode=function(b){return v(b)===n},tr.isSuspense=function(b){return v(b)===c},tr.isSuspenseList=function(b){return v(b)===f},tr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===c||b===f||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===o||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},tr.typeOf=v,tr}var R8;function Dve(){return R8||(R8=1,hC.exports=Rve()),hC.exports}var Mve=Dve(),pC,D8;function $G(){if(D8)return pC;D8=1;var t=yl(),e=vl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return pC=n,pC}var mC,M8;function Fve(){if(M8)return mC;M8=1;var t=$G();function e(r){return t(r)&&r!=+r}return mC=e,mC}var Lve=Fve();const $y=Xt(Lve);var Bve=$G();const Vve=Xt(Bve);var bi=function(e){return e===0?0:e>0?1:-1},Mu=function(e){return sf(e)&&e.indexOf("%")===e.length-1},je=function(e){return Vve(e)&&!$y(e)},$ve=function(e){return _t(e)},bn=function(e){return je(e)||sf(e)},Uve=0,ap=function(e){var r=++Uve;return"".concat(e||"").concat(r)},wi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!sf(e))return n;var o;if(Mu(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return $y(o)&&(o=n),i&&o>r&&(o=r),o},ac=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},zve=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},io=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function ax(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ho(n,e))===r})}var Wve=function(e,r){return je(e)&&je(r)?e-r:sf(e)&&sf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Gd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function YI(t){"@babel/helpers - typeof";return YI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YI(t)}var Hve=["viewBox","children"],qve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F8=["points","pathLength"],gC={svg:Hve,polygon:F8,polyline:F8},u3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),!op(n))return null;var i={};return Object.keys(n).forEach(function(o){u3.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},Gve=function(e,r,n){return function(i){return e(r,n,i),null}},lf=function(e,r,n){if(!op(e)||YI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];u3.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Gve(a,r,n))}),i},Kve=["children"],Yve=["children"];function L8(t,e){if(t==null)return{};var r=Xve(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XI(t){"@babel/helpers - typeof";return XI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XI(t)}var B8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},V8=null,yC=null,f3=function t(e){if(e===V8&&Array.isArray(yC))return yC;var r=[];return k.Children.forEach(e,function(n){_t(n)||(Mve.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),yC=r,V8=e,r};function po(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Zs(i)}):n=[Zs(e)],f3(t).forEach(function(i){var o=ho(i,"type.displayName")||ho(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function no(t,e){var r=po(t,e);return r&&r[0]}var $8=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!je(n)||n<=0||!je(i)||i<=0)},Qve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zve=function(e){return e&&e.type&&sf(e.type)&&Qve.indexOf(e.type)>=0},Jve=function(e){return e&&XI(e)==="object"&&"clipDot"in e},e1e=function(e,r,n,i){var o,a=(o=gC?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!yt(e)&&(i&&a.includes(r)||qve.includes(r))||n&&u3.includes(r)},lt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!op(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;e1e((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},QI=function t(e,r){if(e===r)return!0;var n=k.Children.count(e);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return U8(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!U8(o,a))return!1}return!0},U8=function(e,r){if(_t(e)&&_t(r))return!0;if(!_t(e)&&!_t(r)){var n=e.props||{},i=n.children,o=L8(n,Kve),a=r.props||{},s=a.children,l=L8(a,Yve);return i&&s?Gd(o,l)&&QI(i,s):!i&&!s?Gd(o,l):!1}return!1},z8=function(e,r){var n=[],i={};return f3(e).forEach(function(o,a){if(Zve(o))n.push(o);else if(o){var s=Zs(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!i[s])){var h=c(o,s,a);n.push(h),i[s]=!0}}}),n},t1e=function(e){var r=e&&e.type;return r&&B8[r]?B8[r]:null},r1e=function(e,r){return f3(r).indexOf(e)},n1e=["children","width","height","viewBox","className","style","title","desc"];function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZI.apply(this,arguments)}function i1e(t,e){if(t==null)return{};var r=o1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JI(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=i1e(t,n1e),f=i||{width:r,height:n,x:0,y:0},h=Ct("recharts-surface",o);return te.createElement("svg",ZI({},lt(c,!0,"svg"),{className:h,width:r,height:n,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),te.createElement("title",null,s),te.createElement("desc",null,l),e)}var a1e=["children","className"];function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eN.apply(this,arguments)}function s1e(t,e){if(t==null)return{};var r=l1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Kt=te.forwardRef(function(t,e){var r=t.children,n=t.className,i=s1e(t,a1e),o=Ct("recharts-layer",n);return te.createElement("g",eN({className:o},lt(i,!0),{ref:e}),r)}),ga=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},vC,W8;function c1e(){if(W8)return vC;W8=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+r];return a}return vC=t,vC}var xC,H8;function u1e(){if(H8)return xC;H8=1;var t=c1e();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return xC=e,xC}var bC,q8;function UG(){if(q8)return bC;q8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+t+i+o+"]");function l(c){return s.test(c)}return bC=l,bC}var wC,G8;function f1e(){if(G8)return wC;G8=1;function t(e){return e.split("")}return wC=t,wC}var _C,K8;function d1e(){if(K8)return _C;K8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=c+"?",v="["+o+"]?",b="(?:"+g+"(?:"+[f,h,p].join("|")+")"+v+x+")*",_=v+x+b,C="(?:"+[f+s+"?",s,h,p,a].join("|")+")",E=RegExp(l+"(?="+l+")|"+C+_,"g");function P(I){return I.match(E)||[]}return _C=P,_C}var AC,Y8;function h1e(){if(Y8)return AC;Y8=1;var t=f1e(),e=UG(),r=d1e();function n(i){return e(i)?r(i):t(i)}return AC=n,AC}var CC,X8;function p1e(){if(X8)return CC;X8=1;var t=u1e(),e=UG(),r=h1e(),n=LG();function i(o){return function(a){a=n(a);var s=e(a)?r(a):void 0,l=s?s[0]:a.charAt(0),c=s?t(s,1).join(""):a.slice(1);return l[o]()+c}}return CC=i,CC}var EC,Q8;function m1e(){if(Q8)return EC;Q8=1;var t=p1e(),e=t("toUpperCase");return EC=e,EC}var g1e=m1e();const Jb=Xt(g1e);function gr(t){return function(){return t}}const zG=Math.cos,lx=Math.sin,Aa=Math.sqrt,cx=Math.PI,ew=2*cx,tN=Math.PI,rN=2*tN,Tu=1e-6,y1e=rN-Tu;function WG(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function v1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WG;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class x1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WG:v1e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,c=i-r,f=a-e,h=s-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Tu)if(!(Math.abs(h*l-c*f)>Tu)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,x=i-s,v=l*l+c*c,b=g*g+x*x,_=Math.sqrt(v),C=Math.sqrt(p),E=o*Math.tan((tN-Math.acos((v+p-b)/(2*_*C)))/2),P=E/C,I=E/_;Math.abs(P-1)>Tu&&this._append`L${e+P*f},${r+P*h}`,this._append`A${o},${o},0,0,${+(h*g>f*x)},${this._x1=e+I*l},${this._y1=r+I*c}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,f=r+l,h=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Tu||Math.abs(this._y1-f)>Tu)&&this._append`L${c},${f}`,n&&(p<0&&(p=p%rN+rN),p>y1e?this._append`A${n},${n},0,1,${h},${e-s},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=f}`:p>Tu&&this._append`A${n},${n},0,${+(p>=tN)},${h},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function d3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new x1e(e)}function h3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HG(t){this._context=t}HG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function tw(t){return new HG(t)}function qG(t){return t[0]}function GG(t){return t[1]}function KG(t,e){var r=gr(!0),n=null,i=tw,o=null,a=d3(s);t=typeof t=="function"?t:t===void 0?qG:gr(t),e=typeof e=="function"?e:e===void 0?GG:gr(e);function s(l){var c,f=(l=h3(l)).length,h,p=!1,g;for(n==null&&(o=i(g=a())),c=0;c<=f;++c)!(c<f&&r(h=l[c],c,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(h,c,l),+e(h,c,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:gr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:gr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:gr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function Rv(t,e,r){var n=null,i=gr(!0),o=null,a=tw,s=null,l=d3(c);t=typeof t=="function"?t:t===void 0?qG:gr(+t),e=typeof e=="function"?e:gr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?GG:gr(+r);function c(h){var p,g,x,v=(h=h3(h)).length,b,_=!1,C,E=new Array(v),P=new Array(v);for(o==null&&(s=a(C=l())),p=0;p<=v;++p){if(!(p<v&&i(b=h[p],p,h))===_)if(_=!_)g=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=p-1;x>=g;--x)s.point(E[x],P[x]);s.lineEnd(),s.areaEnd()}_&&(E[p]=+t(b,p,h),P[p]=+e(b,p,h),s.point(n?+n(b,p,h):E[p],r?+r(b,p,h):P[p]))}if(C)return s=null,C+""||null}function f(){return KG().defined(i).curve(a).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:gr(+h),n=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:gr(+h),c):t},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:gr(+h),c):n},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:gr(+h),r=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:gr(+h),c):e},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:gr(+h),c):r},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(r)},c.lineX1=function(){return f().x(n).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:gr(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),c):a},c.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),c):o},c}class YG{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function b1e(t){return new YG(t,!0)}function w1e(t){return new YG(t,!1)}const p3={draw(t,e){const r=Aa(e/cx);t.moveTo(r,0),t.arc(0,0,r,0,ew)}},_1e={draw(t,e){const r=Aa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},XG=Aa(1/3),A1e=XG*2,C1e={draw(t,e){const r=Aa(e/A1e),n=r*XG;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},E1e={draw(t,e){const r=Aa(e),n=-r/2;t.rect(n,n,r,r)}},S1e=.8908130915292852,QG=lx(cx/10)/lx(7*cx/10),T1e=lx(ew/10)*QG,I1e=-zG(ew/10)*QG,N1e={draw(t,e){const r=Aa(e*S1e),n=T1e*r,i=I1e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=ew*o/5,s=zG(a),l=lx(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},SC=Aa(3),P1e={draw(t,e){const r=-Aa(e/(SC*3));t.moveTo(0,r*2),t.lineTo(-SC*r,-r),t.lineTo(SC*r,-r),t.closePath()}},To=-.5,Io=Aa(3)/2,nN=1/Aa(12),k1e=(nN/2+1)*3,O1e={draw(t,e){const r=Aa(e/k1e),n=r/2,i=r*nN,o=n,a=r*nN+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(To*n-Io*i,Io*n+To*i),t.lineTo(To*o-Io*a,Io*o+To*a),t.lineTo(To*s-Io*l,Io*s+To*l),t.lineTo(To*n+Io*i,To*i-Io*n),t.lineTo(To*o+Io*a,To*a-Io*o),t.lineTo(To*s+Io*l,To*l-Io*s),t.closePath()}};function j1e(t,e){let r=null,n=d3(i);t=typeof t=="function"?t:gr(t||p3),e=typeof e=="function"?e:gr(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:gr(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:gr(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function ux(){}function fx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ZG(t){this._context=t}ZG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R1e(t){return new ZG(t)}function JG(t){this._context=t}JG.prototype={areaStart:ux,areaEnd:ux,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D1e(t){return new JG(t)}function eK(t){this._context=t}eK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M1e(t){return new eK(t)}function tK(t){this._context=t}tK.prototype={areaStart:ux,areaEnd:ux,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function F1e(t){return new tK(t)}function Z8(t){return t<0?-1:1}function J8(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(Z8(o)+Z8(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function eF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function TC(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function dx(t){this._context=t}dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TC(this,this._t0,eF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,TC(this,eF(this,r=J8(this,t,e)),r);break;default:TC(this,this._t0,r=J8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function rK(t){this._context=new nK(t)}(rK.prototype=Object.create(dx.prototype)).point=function(t,e){dx.prototype.point.call(this,e,t)};function nK(t){this._context=t}nK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function L1e(t){return new dx(t)}function B1e(t){return new rK(t)}function iK(t){this._context=t}iK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=tF(t),i=tF(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tF(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function V1e(t){return new iK(t)}function rw(t,e){this._context=t,this._t=e}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function $1e(t){return new rw(t,.5)}function U1e(t){return new rw(t,0)}function z1e(t){return new rw(t,1)}function ph(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function iN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function W1e(t,e){return t[e]}function H1e(t){const e=[];return e.key=t,e}function q1e(){var t=gr([]),e=iN,r=ph,n=W1e;function i(o){var a=Array.from(t.apply(this,arguments),H1e),s,l=a.length,c=-1,f;for(const h of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(h,a[s].key,c,o)]).data=h;for(s=0,f=h3(e(a));s<l;++s)a[f[s]].index=s;return r(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:gr(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:gr(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?iN:typeof o=="function"?o:gr(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??ph,i):r},i}function G1e(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}ph(t,e)}}function K1e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}ph(t,e)}}function Y1e(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var f=t[e[s]],h=f[n][1]||0,p=f[n-1][1]||0,g=(h-p)/2,x=0;x<s;++x){var v=t[e[x]],b=v[n][1]||0,_=v[n-1][1]||0;g+=b-_}l+=h,c+=g*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ph(t,e)}}function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}var X1e=["type","size","sizeType"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oN.apply(this,arguments)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){Q1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q1e(t,e,r){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z1e(t){var e=J1e(t,"string");return Sg(e)=="symbol"?e:e+""}function J1e(t,e){if(Sg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function exe(t,e){if(t==null)return{};var r=txe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function txe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var oK={symbolCircle:p3,symbolCross:_1e,symbolDiamond:C1e,symbolSquare:E1e,symbolStar:N1e,symbolTriangle:P1e,symbolWye:O1e},rxe=Math.PI/180,nxe=function(e){var r="symbol".concat(Jb(e));return oK[r]||p3},ixe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*rxe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oxe=function(e,r){oK["symbol".concat(Jb(e))]=r},m3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=exe(e,X1e),c=nF(nF({},l),{},{type:n,size:o,sizeType:s}),f=function(){var b=nxe(n),_=j1e().type(b).size(ixe(o,s,n));return _()},h=c.className,p=c.cx,g=c.cy,x=lt(c,!0);return p===+p&&g===+g&&o===+o?te.createElement("path",oN({},x,{className:Ct("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};m3.registerSymbol=oxe;function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aN.apply(this,arguments)}function iF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function axe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(r),!0).forEach(function(n){Tg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sK(n.key),n)}}function cxe(t,e,r){return e&&lxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uxe(t,e,r){return e=hx(e),fxe(t,aK()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function fxe(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(t)}function dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sN(t,e)}function Tg(t,e,r){return e=sK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sK(t){var e=pxe(t,"string");return mh(e)=="symbol"?e:e+""}function pxe(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=32,g3=(function(t){function e(){return sxe(this,e),uxe(this,e,arguments)}return hxe(e,t),cxe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=No/2,a=No/6,s=No/3,l=n.inactive?i:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:No,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(No,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(No/8,"h").concat(No,"v").concat(No*3/4,"h").concat(-No,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var c=axe({},n);return delete c.legendIcon,te.cloneElement(n.legendIcon,c)}return te.createElement(m3,{fill:l,cx:o,cy:o,size:No,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,f={x:0,y:0,width:No,height:No},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,x){var v=g.formatter||l,b=Ct(Tg(Tg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var _=yt(g.value)?null:g.value;ga(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=g.inactive?c:g.color;return te.createElement("li",aN({className:b,style:h,key:"legend-item-".concat(x)},lf(n.props,g,x)),te.createElement(JI,{width:a,height:a,viewBox:f,style:p},n.renderIcon(g)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},v?v(_,g,x):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(k.PureComponent);Tg(g3,"displayName","Legend");Tg(g3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var IC,oF;function mxe(){if(oF)return IC;oF=1;var t=Xb();function e(){this.__data__=new t,this.size=0}return IC=e,IC}var NC,aF;function gxe(){if(aF)return NC;aF=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return NC=t,NC}var PC,sF;function yxe(){if(sF)return PC;sF=1;function t(e){return this.__data__.get(e)}return PC=t,PC}var kC,lF;function vxe(){if(lF)return kC;lF=1;function t(e){return this.__data__.has(e)}return kC=t,kC}var OC,cF;function xxe(){if(cF)return OC;cF=1;var t=Xb(),e=a3(),r=s3(),n=200;function i(o,a){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(o,a),this.size=s.size,this}return OC=i,OC}var jC,uF;function lK(){if(uF)return jC;uF=1;var t=Xb(),e=mxe(),r=gxe(),n=yxe(),i=vxe(),o=xxe();function a(s){var l=this.__data__=new t(s);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=o,jC=a,jC}var RC,fF;function bxe(){if(fF)return RC;fF=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return RC=e,RC}var DC,dF;function wxe(){if(dF)return DC;dF=1;function t(e){return this.__data__.has(e)}return DC=t,DC}var MC,hF;function cK(){if(hF)return MC;hF=1;var t=s3(),e=bxe(),r=wxe();function n(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,MC=n,MC}var FC,pF;function uK(){if(pF)return FC;pF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return FC=t,FC}var LC,mF;function fK(){if(mF)return LC;mF=1;function t(e,r){return e.has(r)}return LC=t,LC}var BC,gF;function dK(){if(gF)return BC;gF=1;var t=cK(),e=uK(),r=fK(),n=1,i=2;function o(a,s,l,c,f,h){var p=l&n,g=a.length,x=s.length;if(g!=x&&!(p&&x>g))return!1;var v=h.get(a),b=h.get(s);if(v&&b)return v==s&&b==a;var _=-1,C=!0,E=l&i?new t:void 0;for(h.set(a,s),h.set(s,a);++_<g;){var P=a[_],I=s[_];if(c)var S=p?c(I,P,_,s,a,h):c(P,I,_,a,s,h);if(S!==void 0){if(S)continue;C=!1;break}if(E){if(!e(s,function(T,N){if(!r(E,N)&&(P===T||f(P,T,l,c,h)))return E.push(N)})){C=!1;break}}else if(!(P===I||f(P,I,l,c,h))){C=!1;break}}return h.delete(a),h.delete(s),C}return BC=o,BC}var VC,yF;function _xe(){if(yF)return VC;yF=1;var t=xs(),e=t.Uint8Array;return VC=e,VC}var $C,vF;function Axe(){if(vF)return $C;vF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return $C=t,$C}var UC,xF;function y3(){if(xF)return UC;xF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return UC=t,UC}var zC,bF;function Cxe(){if(bF)return zC;bF=1;var t=Vy(),e=_xe(),r=o3(),n=dK(),i=Axe(),o=y3(),a=1,s=2,l="[object Boolean]",c="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",g="[object RegExp]",x="[object Set]",v="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",C="[object DataView]",E=t?t.prototype:void 0,P=E?E.valueOf:void 0;function I(S,T,N,j,B,M,L){switch(N){case C:if(S.byteLength!=T.byteLength||S.byteOffset!=T.byteOffset)return!1;S=S.buffer,T=T.buffer;case _:return!(S.byteLength!=T.byteLength||!M(new e(S),new e(T)));case l:case c:case p:return r(+S,+T);case f:return S.name==T.name&&S.message==T.message;case g:case v:return S==T+"";case h:var F=i;case x:var $=j&a;if(F||(F=o),S.size!=T.size&&!$)return!1;var H=L.get(S);if(H)return H==T;j|=s,L.set(S,T);var K=n(F(S),F(T),j,B,M,L);return L.delete(S),K;case b:if(P)return P.call(S)==P.call(T)}return!1}return zC=I,zC}var WC,wF;function hK(){if(wF)return WC;wF=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return WC=t,WC}var HC,_F;function Exe(){if(_F)return HC;_F=1;var t=hK(),e=$i();function r(n,i,o){var a=i(n);return e(n)?a:t(a,o(n))}return HC=r,HC}var qC,AF;function Sxe(){if(AF)return qC;AF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,a=[];++n<i;){var s=e[n];r(s,n,e)&&(a[o++]=s)}return a}return qC=t,qC}var GC,CF;function Txe(){if(CF)return GC;CF=1;function t(){return[]}return GC=t,GC}var KC,EF;function Ixe(){if(EF)return KC;EF=1;var t=Sxe(),e=Txe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(s){return n.call(a,s)}))}:e;return KC=o,KC}var YC,SF;function Nxe(){if(SF)return YC;SF=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return YC=t,YC}var XC,TF;function Pxe(){if(TF)return XC;TF=1;var t=yl(),e=vl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return XC=n,XC}var QC,IF;function v3(){if(IF)return QC;IF=1;var t=Pxe(),e=vl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return QC=o,QC}var Dm={exports:{}},ZC,NF;function kxe(){if(NF)return ZC;NF=1;function t(){return!1}return ZC=t,ZC}Dm.exports;var PF;function pK(){return PF||(PF=1,(function(t,e){var r=xs(),n=kxe(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Dm,Dm.exports)),Dm.exports}var JC,kF;function x3(){if(kF)return JC;kF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return JC=r,JC}var eE,OF;function b3(){if(OF)return eE;OF=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return eE=e,eE}var tE,jF;function Oxe(){if(jF)return tE;jF=1;var t=yl(),e=b3(),r=vl(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",x="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",N="[object Uint8ClampedArray]",j="[object Uint16Array]",B="[object Uint32Array]",M={};M[C]=M[E]=M[P]=M[I]=M[S]=M[T]=M[N]=M[j]=M[B]=!0,M[n]=M[i]=M[b]=M[o]=M[_]=M[a]=M[s]=M[l]=M[c]=M[f]=M[h]=M[p]=M[g]=M[x]=M[v]=!1;function L(F){return r(F)&&e(F.length)&&!!M[t(F)]}return tE=L,tE}var rE,RF;function mK(){if(RF)return rE;RF=1;function t(e){return function(r){return e(r)}}return rE=t,rE}var Mm={exports:{}};Mm.exports;var DF;function jxe(){return DF||(DF=1,(function(t,e){var r=DG(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=s})(Mm,Mm.exports)),Mm.exports}var nE,MF;function gK(){if(MF)return nE;MF=1;var t=Oxe(),e=mK(),r=jxe(),n=r&&r.isTypedArray,i=n?e(n):t;return nE=i,nE}var iE,FF;function Rxe(){if(FF)return iE;FF=1;var t=Nxe(),e=v3(),r=$i(),n=pK(),i=x3(),o=gK(),a=Object.prototype,s=a.hasOwnProperty;function l(c,f){var h=r(c),p=!h&&e(c),g=!h&&!p&&n(c),x=!h&&!p&&!g&&o(c),v=h||p||g||x,b=v?t(c.length,String):[],_=b.length;for(var C in c)(f||s.call(c,C))&&!(v&&(C=="length"||g&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,_)))&&b.push(C);return b}return iE=l,iE}var oE,LF;function Dxe(){if(LF)return oE;LF=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return oE=e,oE}var aE,BF;function yK(){if(BF)return aE;BF=1;function t(e,r){return function(n){return e(r(n))}}return aE=t,aE}var sE,VF;function Mxe(){if(VF)return sE;VF=1;var t=yK(),e=t(Object.keys,Object);return sE=e,sE}var lE,$F;function Fxe(){if($F)return lE;$F=1;var t=Dxe(),e=Mxe(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var s in Object(o))n.call(o,s)&&s!="constructor"&&a.push(s);return a}return lE=i,lE}var cE,UF;function Uy(){if(UF)return cE;UF=1;var t=i3(),e=b3();function r(n){return n!=null&&e(n.length)&&!t(n)}return cE=r,cE}var uE,zF;function nw(){if(zF)return uE;zF=1;var t=Rxe(),e=Fxe(),r=Uy();function n(i){return r(i)?t(i):e(i)}return uE=n,uE}var fE,WF;function Lxe(){if(WF)return fE;WF=1;var t=Exe(),e=Ixe(),r=nw();function n(i){return t(i,r,e)}return fE=n,fE}var dE,HF;function Bxe(){if(HF)return dE;HF=1;var t=Lxe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,a,s,l,c,f){var h=s&e,p=t(o),g=p.length,x=t(a),v=x.length;if(g!=v&&!h)return!1;for(var b=g;b--;){var _=p[b];if(!(h?_ in a:n.call(a,_)))return!1}var C=f.get(o),E=f.get(a);if(C&&E)return C==a&&E==o;var P=!0;f.set(o,a),f.set(a,o);for(var I=h;++b<g;){_=p[b];var S=o[_],T=a[_];if(l)var N=h?l(T,S,_,a,o,f):l(S,T,_,o,a,f);if(!(N===void 0?S===T||c(S,T,s,l,f):N)){P=!1;break}I||(I=_=="constructor")}if(P&&!I){var j=o.constructor,B=a.constructor;j!=B&&"constructor"in o&&"constructor"in a&&!(typeof j=="function"&&j instanceof j&&typeof B=="function"&&B instanceof B)&&(P=!1)}return f.delete(o),f.delete(a),P}return dE=i,dE}var hE,qF;function Vxe(){if(qF)return hE;qF=1;var t=bf(),e=xs(),r=t(e,"DataView");return hE=r,hE}var pE,GF;function $xe(){if(GF)return pE;GF=1;var t=bf(),e=xs(),r=t(e,"Promise");return pE=r,pE}var mE,KF;function vK(){if(KF)return mE;KF=1;var t=bf(),e=xs(),r=t(e,"Set");return mE=r,mE}var gE,YF;function Uxe(){if(YF)return gE;YF=1;var t=bf(),e=xs(),r=t(e,"WeakMap");return gE=r,gE}var yE,XF;function zxe(){if(XF)return yE;XF=1;var t=Vxe(),e=a3(),r=$xe(),n=vK(),i=Uxe(),o=yl(),a=MG(),s="[object Map]",l="[object Object]",c="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=a(t),x=a(e),v=a(r),b=a(n),_=a(i),C=o;return(t&&C(new t(new ArrayBuffer(1)))!=p||e&&C(new e)!=s||r&&C(r.resolve())!=c||n&&C(new n)!=f||i&&C(new i)!=h)&&(C=function(E){var P=o(E),I=P==l?E.constructor:void 0,S=I?a(I):"";if(S)switch(S){case g:return p;case x:return s;case v:return c;case b:return f;case _:return h}return P}),yE=C,yE}var vE,QF;function Wxe(){if(QF)return vE;QF=1;var t=lK(),e=dK(),r=Cxe(),n=Bxe(),i=zxe(),o=$i(),a=pK(),s=gK(),l=1,c="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function x(v,b,_,C,E,P){var I=o(v),S=o(b),T=I?f:i(v),N=S?f:i(b);T=T==c?h:T,N=N==c?h:N;var j=T==h,B=N==h,M=T==N;if(M&&a(v)){if(!a(b))return!1;I=!0,j=!1}if(M&&!j)return P||(P=new t),I||s(v)?e(v,b,_,C,E,P):r(v,b,T,_,C,E,P);if(!(_&l)){var L=j&&g.call(v,"__wrapped__"),F=B&&g.call(b,"__wrapped__");if(L||F){var $=L?v.value():v,H=F?b.value():b;return P||(P=new t),E($,H,_,C,P)}}return M?(P||(P=new t),n(v,b,_,C,E,P)):!1}return vE=x,vE}var xE,ZF;function w3(){if(ZF)return xE;ZF=1;var t=Wxe(),e=vl();function r(n,i,o,a,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,a,r,s)}return xE=r,xE}var bE,JF;function Hxe(){if(JF)return bE;JF=1;var t=lK(),e=w3(),r=1,n=2;function i(o,a,s,l){var c=s.length,f=c,h=!l;if(o==null)return!f;for(o=Object(o);c--;){var p=s[c];if(h&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++c<f;){p=s[c];var g=p[0],x=o[g],v=p[1];if(h&&p[2]){if(x===void 0&&!(g in o))return!1}else{var b=new t;if(l)var _=l(x,v,g,o,a,b);if(!(_===void 0?e(v,x,r|n,l,b):_))return!1}}return!0}return bE=i,bE}var wE,eL;function xK(){if(eL)return wE;eL=1;var t=Lc();function e(r){return r===r&&!t(r)}return wE=e,wE}var _E,tL;function qxe(){if(tL)return _E;tL=1;var t=xK(),e=nw();function r(n){for(var i=e(n),o=i.length;o--;){var a=i[o],s=n[a];i[o]=[a,s,t(s)]}return i}return _E=r,_E}var AE,rL;function bK(){if(rL)return AE;rL=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return AE=t,AE}var CE,nL;function Gxe(){if(nL)return CE;nL=1;var t=Hxe(),e=qxe(),r=bK();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return CE=n,CE}var EE,iL;function Kxe(){if(iL)return EE;iL=1;function t(e,r){return e!=null&&r in Object(e)}return EE=t,EE}var SE,oL;function Yxe(){if(oL)return SE;oL=1;var t=BG(),e=v3(),r=$i(),n=x3(),i=b3(),o=Zb();function a(s,l,c){l=t(l,s);for(var f=-1,h=l.length,p=!1;++f<h;){var g=o(l[f]);if(!(p=s!=null&&c(s,g)))break;s=s[g]}return p||++f!=h?p:(h=s==null?0:s.length,!!h&&i(h)&&n(g,h)&&(r(s)||e(s)))}return SE=a,SE}var TE,aL;function Xxe(){if(aL)return TE;aL=1;var t=Kxe(),e=Yxe();function r(n,i){return n!=null&&e(n,i,t)}return TE=r,TE}var IE,sL;function Qxe(){if(sL)return IE;sL=1;var t=w3(),e=VG(),r=Xxe(),n=n3(),i=xK(),o=bK(),a=Zb(),s=1,l=2;function c(f,h){return n(f)&&i(h)?o(a(f),h):function(p){var g=e(p,f);return g===void 0&&g===h?r(p,f):t(h,g,s|l)}}return IE=c,IE}var NE,lL;function sp(){if(lL)return NE;lL=1;function t(e){return e}return NE=t,NE}var PE,cL;function Zxe(){if(cL)return PE;cL=1;function t(e){return function(r){return r?.[e]}}return PE=t,PE}var kE,uL;function Jxe(){if(uL)return kE;uL=1;var t=c3();function e(r){return function(n){return t(n,r)}}return kE=e,kE}var OE,fL;function ebe(){if(fL)return OE;fL=1;var t=Zxe(),e=Jxe(),r=n3(),n=Zb();function i(o){return r(o)?t(n(o)):e(o)}return OE=i,OE}var jE,dL;function bs(){if(dL)return jE;dL=1;var t=Gxe(),e=Qxe(),r=sp(),n=$i(),i=ebe();function o(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return jE=o,jE}var RE,hL;function wK(){if(hL)return RE;hL=1;function t(e,r,n,i){for(var o=e.length,a=n+(i?1:-1);i?a--:++a<o;)if(r(e[a],a,e))return a;return-1}return RE=t,RE}var DE,pL;function tbe(){if(pL)return DE;pL=1;function t(e){return e!==e}return DE=t,DE}var ME,mL;function rbe(){if(mL)return ME;mL=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return ME=t,ME}var FE,gL;function nbe(){if(gL)return FE;gL=1;var t=wK(),e=tbe(),r=rbe();function n(i,o,a){return o===o?r(i,o,a):t(i,e,a)}return FE=n,FE}var LE,yL;function ibe(){if(yL)return LE;yL=1;var t=nbe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return LE=e,LE}var BE,vL;function obe(){if(vL)return BE;vL=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return BE=t,BE}var VE,xL;function abe(){if(xL)return VE;xL=1;function t(){}return VE=t,VE}var $E,bL;function sbe(){if(bL)return $E;bL=1;var t=vK(),e=abe(),r=y3(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return $E=i,$E}var UE,wL;function lbe(){if(wL)return UE;wL=1;var t=cK(),e=ibe(),r=obe(),n=fK(),i=sbe(),o=y3(),a=200;function s(l,c,f){var h=-1,p=e,g=l.length,x=!0,v=[],b=v;if(f)x=!1,p=r;else if(g>=a){var _=c?null:i(l);if(_)return o(_);x=!1,p=n,b=new t}else b=c?[]:v;e:for(;++h<g;){var C=l[h],E=c?c(C):C;if(C=f||C!==0?C:0,x&&E===E){for(var P=b.length;P--;)if(b[P]===E)continue e;c&&b.push(E),v.push(C)}else p(b,E,f)||(b!==v&&b.push(E),v.push(C))}return v}return UE=s,UE}var zE,_L;function cbe(){if(_L)return zE;_L=1;var t=bs(),e=lbe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return zE=r,zE}var ube=cbe();const AL=Xt(ube);function _K(t,e,r){return e===!0?AL(t,r):yt(e)?AL(t,e):t}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}var fbe=["ref"];function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CK(n.key),n)}}function hbe(t,e,r){return e&&EL(t.prototype,e),r&&EL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pbe(t,e,r){return e=px(e),mbe(t,AK()?Reflect.construct(e,r||[],px(t).constructor):e.apply(t,r))}function mbe(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(t)}function gbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(t)}function ybe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lN(t,e)}function lN(t,e){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lN(t,e)}function iw(t,e,r){return e=CK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CK(t){var e=vbe(t,"string");return gh(e)=="symbol"?e:e+""}function vbe(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xbe(t,e){if(t==null)return{};var r=bbe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wbe(t){return t.value}function _be(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var r=xbe(e,fbe);return te.createElement(g3,r)}var SL=1,hc=(function(t){function e(){var r;dbe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=pbe(this,e,[].concat(i)),iw(r,"lastBoundingBox",{width:-1,height:-1}),r}return ybe(e,t),hbe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>SL||Math.abs(i.height-this.lastBoundingBox.height)>SL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,f=i.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();h={left:((c||0)-g.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();p={top:((f||0)-x.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $s($s({},h),p)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,f=i.payload,h=$s($s({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return te.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},_be(o,$s($s({},this.props),{},{payload:_K(f,c,wbe)})))}}],[{key:"getWithHeight",value:function(n,i){var o=$s($s({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&je(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(k.PureComponent);iw(hc,"displayName","Legend");iw(hc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WE,TL;function Abe(){if(TL)return WE;TL=1;var t=Vy(),e=v3(),r=$i(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return WE=i,WE}var HE,IL;function EK(){if(IL)return HE;IL=1;var t=hK(),e=Abe();function r(n,i,o,a,s){var l=-1,c=n.length;for(o||(o=e),s||(s=[]);++l<c;){var f=n[l];i>0&&o(f)?i>1?r(f,i-1,o,a,s):t(s,f):a||(s[s.length]=f)}return s}return HE=r,HE}var qE,NL;function Cbe(){if(NL)return qE;NL=1;function t(e){return function(r,n,i){for(var o=-1,a=Object(r),s=i(r),l=s.length;l--;){var c=s[e?l:++o];if(n(a[c],c,a)===!1)break}return r}}return qE=t,qE}var GE,PL;function Ebe(){if(PL)return GE;PL=1;var t=Cbe(),e=t();return GE=e,GE}var KE,kL;function SK(){if(kL)return KE;kL=1;var t=Ebe(),e=nw();function r(n,i){return n&&t(n,i,e)}return KE=r,KE}var YE,OL;function Sbe(){if(OL)return YE;OL=1;var t=Uy();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var a=i.length,s=n?a:-1,l=Object(i);(n?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return YE=e,YE}var XE,jL;function _3(){if(jL)return XE;jL=1;var t=SK(),e=Sbe(),r=e(t);return XE=r,XE}var QE,RL;function TK(){if(RL)return QE;RL=1;var t=_3(),e=Uy();function r(n,i){var o=-1,a=e(n)?Array(n.length):[];return t(n,function(s,l,c){a[++o]=i(s,l,c)}),a}return QE=r,QE}var ZE,DL;function Tbe(){if(DL)return ZE;DL=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return ZE=t,ZE}var JE,ML;function Ibe(){if(ML)return JE;ML=1;var t=ip();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,a=r===r,s=t(r),l=n!==void 0,c=n===null,f=n===n,h=t(n);if(!c&&!h&&!s&&r>n||s&&l&&f&&!c&&!h||o&&l&&f||!i&&f||!a)return 1;if(!o&&!s&&!h&&r<n||h&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!f)return-1}return 0}return JE=e,JE}var eS,FL;function Nbe(){if(FL)return eS;FL=1;var t=Ibe();function e(r,n,i){for(var o=-1,a=r.criteria,s=n.criteria,l=a.length,c=i.length;++o<l;){var f=t(a[o],s[o]);if(f){if(o>=c)return f;var h=i[o];return f*(h=="desc"?-1:1)}}return r.index-n.index}return eS=e,eS}var tS,LL;function Pbe(){if(LL)return tS;LL=1;var t=l3(),e=c3(),r=bs(),n=TK(),i=Tbe(),o=mK(),a=Nbe(),s=sp(),l=$i();function c(f,h,p){h.length?h=t(h,function(v){return l(v)?function(b){return e(b,v.length===1?v[0]:v)}:v}):h=[s];var g=-1;h=t(h,o(r));var x=n(f,function(v,b,_){var C=t(h,function(E){return E(v)});return{criteria:C,index:++g,value:v}});return i(x,function(v,b){return a(v,b,p)})}return tS=c,tS}var rS,BL;function kbe(){if(BL)return rS;BL=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return rS=t,rS}var nS,VL;function Obe(){if(VL)return nS;VL=1;var t=kbe(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,s=-1,l=e(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=a[s];return f[i]=o(c),t(n,this,f)}}return nS=r,nS}var iS,$L;function jbe(){if($L)return iS;$L=1;function t(e){return function(){return e}}return iS=t,iS}var oS,UL;function IK(){if(UL)return oS;UL=1;var t=bf(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return oS=e,oS}var aS,zL;function Rbe(){if(zL)return aS;zL=1;var t=jbe(),e=IK(),r=sp(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return aS=n,aS}var sS,WL;function Dbe(){if(WL)return sS;WL=1;var t=800,e=16,r=Date.now;function n(i){var o=0,a=0;return function(){var s=r(),l=e-(s-a);if(a=s,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return sS=n,sS}var lS,HL;function Mbe(){if(HL)return lS;HL=1;var t=Rbe(),e=Dbe(),r=e(t);return lS=r,lS}var cS,qL;function Fbe(){if(qL)return cS;qL=1;var t=sp(),e=Obe(),r=Mbe();function n(i,o){return r(e(i,o,t),i+"")}return cS=n,cS}var uS,GL;function ow(){if(GL)return uS;GL=1;var t=o3(),e=Uy(),r=x3(),n=Lc();function i(o,a,s){if(!n(s))return!1;var l=typeof a;return(l=="number"?e(s)&&r(a,s.length):l=="string"&&a in s)?t(s[a],o):!1}return uS=i,uS}var fS,KL;function Lbe(){if(KL)return fS;KL=1;var t=EK(),e=Pbe(),r=Fbe(),n=ow(),i=r(function(o,a){if(o==null)return[];var s=a.length;return s>1&&n(o,a[0],a[1])?a=[]:s>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return fS=i,fS}var Bbe=Lbe();const A3=Xt(Bbe);function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cN.apply(this,arguments)}function Vbe(t,e){return Wbe(t)||zbe(t,e)||Ube(t,e)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(t,e){if(t){if(typeof t=="string")return YL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YL(t,e)}}function YL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Wbe(t){if(Array.isArray(t))return t}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){Hbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hbe(t,e,r){return e=qbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qbe(t){var e=Gbe(t,"string");return Ig(e)=="symbol"?e:e+""}function Gbe(t,e){if(Ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kbe(t){return Array.isArray(t)&&bn(t[0])&&bn(t[1])?t.join(" ~ "):t}var Ybe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,h=e.formatter,p=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,v=e.label,b=e.labelFormatter,_=e.accessibilityLayer,C=_===void 0?!1:_,E=function(){if(f&&f.length){var L={padding:0,margin:0},F=(p?A3(f,p):f).map(function($,H){if($.type==="none")return null;var K=dS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),Z=$.formatter||h||Kbe,q=$.value,re=$.name,U=q,X=re;if(Z&&U!=null&&X!=null){var ee=Z(q,re,$,H,f);if(Array.isArray(ee)){var W=Vbe(ee,2);U=W[0],X=W[1]}else U=ee}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:K},bn(X)?te.createElement("span",{className:"recharts-tooltip-item-name"},X):null,bn(X)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},U),te.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:L},F)}return null},P=dS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=dS({margin:0},c),S=!_t(v),T=S?v:"",N=Ct("recharts-default-tooltip",g),j=Ct("recharts-tooltip-label",x);S&&b&&f!==void 0&&f!==null&&(T=b(v,f));var B=C?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",cN({className:N,style:P},B),te.createElement("p",{className:j,style:I},te.isValidElement(T)?T:"".concat(T)),E())};function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function Dv(t,e,r){return e=Xbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xbe(t){var e=Qbe(t,"string");return Ng(e)=="symbol"?e:e+""}function Qbe(t,e){if(Ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm="recharts-tooltip-wrapper",Zbe={visibility:"hidden"};function Jbe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ct(fm,Dv(Dv(Dv(Dv({},"".concat(fm,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(fm,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(fm,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(fm,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function QL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&je(o[n]))return o[n];var f=r[n]-s-i,h=r[n]+i;if(e[n])return a[n]?f:h;if(a[n]){var p=f,g=l[n];return p<g?Math.max(h,l[n]):Math.max(f,l[n])}var x=h+s,v=l[n]+c;return x>v?Math.max(f,l[n]):Math.max(h,l[n])}function ewe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function twe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,f,h;return a.height>0&&a.width>0&&r?(f=QL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=QL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=ewe({translateX:f,translateY:h,useTranslate3d:s})):c=Zbe,{cssProperties:c,cssClasses:Jbe({translateX:f,translateY:h,coordinate:r})}}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){fN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PK(n.key),n)}}function iwe(t,e,r){return e&&nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function owe(t,e,r){return e=mx(e),awe(t,NK()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function awe(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(t)}function swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uN(t,e)}function uN(t,e){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uN(t,e)}function fN(t,e,r){return e=PK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PK(t){var e=cwe(t,"string");return yh(e)=="symbol"?e:e+""}function cwe(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e7=1,uwe=(function(t){function e(){var r;rwe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=owe(this,e,[].concat(i)),fN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fN(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return lwe(e,t),iwe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>e7||Math.abs(n.height-this.state.lastBoundingBox.height)>e7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,E=twe({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),P=E.cssClasses,I=E.cssProperties,S=JL(JL({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return te.createElement("div",{tabIndex:-1,className:P,style:S,ref:function(N){n.wrapperNode=N}},c)}}])})(k.PureComponent),fwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wf={isSsr:fwe()};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(n){C3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OK(n.key),n)}}function pwe(t,e,r){return e&&hwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mwe(t,e,r){return e=gx(e),gwe(t,kK()?Reflect.construct(e,r||[],gx(t).constructor):e.apply(t,r))}function gwe(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ywe(t)}function ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(t)}function vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dN(t,e)}function dN(t,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dN(t,e)}function C3(t,e,r){return e=OK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t){var e=xwe(t,"string");return vh(e)=="symbol"?e:e+""}function xwe(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bwe(t){return t.dataKey}function wwe(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement(Ybe,e)}var vi=(function(t){function e(){return dwe(this,e),mwe(this,e,arguments)}return vwe(e,t),pwe(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,b=i.position,_=i.reverseDirection,C=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,I=x??[];h&&I.length&&(I=_K(x.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),v,bwe));var S=I.length>0;return te.createElement(uwe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:f,hasPayload:S,offset:g,position:b,reverseDirection:_,useTranslate3d:C,viewBox:E,wrapperStyle:P},wwe(c,r7(r7({},this.props),{},{payload:I})))}}])})(k.PureComponent);C3(vi,"displayName","Tooltip");C3(vi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hS,n7;function _we(){if(n7)return hS;n7=1;var t=xs(),e=function(){return t.Date.now()};return hS=e,hS}var pS,i7;function Awe(){if(i7)return pS;i7=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return pS=e,pS}var mS,o7;function Cwe(){if(o7)return mS;o7=1;var t=Awe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return mS=r,mS}var gS,a7;function jK(){if(a7)return gS;a7=1;var t=Cwe(),e=Lc(),r=ip(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=e(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=o.test(c);return h||a.test(c)?s(c.slice(2),h?2:8):i.test(c)?n:+c}return gS=l,gS}var yS,s7;function Ewe(){if(s7)return yS;s7=1;var t=Lc(),e=_we(),r=jK(),n="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var f,h,p,g,x,v,b=0,_=!1,C=!1,E=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(c)&&(_=!!c.leading,C="maxWait"in c,p=C?i(r(c.maxWait)||0,l):p,E="trailing"in c?!!c.trailing:E);function P(F){var $=f,H=h;return f=h=void 0,b=F,g=s.apply(H,$),g}function I(F){return b=F,x=setTimeout(N,l),_?P(F):g}function S(F){var $=F-v,H=F-b,K=l-$;return C?o(K,p-H):K}function T(F){var $=F-v,H=F-b;return v===void 0||$>=l||$<0||C&&H>=p}function N(){var F=e();if(T(F))return j(F);x=setTimeout(N,S(F))}function j(F){return x=void 0,E&&f?P(F):(f=h=void 0,g)}function B(){x!==void 0&&clearTimeout(x),b=0,f=v=h=x=void 0}function M(){return x===void 0?g:j(e())}function L(){var F=e(),$=T(F);if(f=arguments,h=this,v=F,$){if(x===void 0)return I(v);if(C)return clearTimeout(x),x=setTimeout(N,l),P(v)}return x===void 0&&(x=setTimeout(N,l)),g}return L.cancel=B,L.flush=M,L}return yS=a,yS}var vS,l7;function Swe(){if(l7)return vS;l7=1;var t=Ewe(),e=Lc(),r="Expected a function";function n(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),t(i,o,{leading:s,maxWait:o,trailing:l})}return vS=n,vS}var Twe=Swe();const RK=Xt(Twe);function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function c7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(r),!0).forEach(function(n){Iwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iwe(t,e,r){return e=Nwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nwe(t){var e=Pwe(t,"string");return Pg(e)=="symbol"?e:e+""}function Pwe(t,e){if(Pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kwe(t,e){return Dwe(t)||Rwe(t,e)||jwe(t,e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(t,e){if(t){if(typeof t=="string")return u7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u7(t,e)}}function u7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Dwe(t){if(Array.isArray(t))return t}var xh=k.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,f=c===void 0?0:c,h=t.minHeight,p=t.maxHeight,g=t.children,x=t.debounce,v=x===void 0?0:x,b=t.id,_=t.className,C=t.onResize,E=t.style,P=E===void 0?{}:E,I=k.useRef(null),S=k.useRef();S.current=C,k.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var T=k.useState({containerWidth:i.width,containerHeight:i.height}),N=kwe(T,2),j=N[0],B=N[1],M=k.useCallback(function(F,$){B(function(H){var K=Math.round(F),Z=Math.round($);return H.containerWidth===K&&H.containerHeight===Z?H:{containerWidth:K,containerHeight:Z}})},[]);k.useEffect(function(){var F=function(re){var U,X=re[0].contentRect,ee=X.width,W=X.height;M(ee,W),(U=S.current)===null||U===void 0||U.call(S,ee,W)};v>0&&(F=RK(F,v,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),H=I.current.getBoundingClientRect(),K=H.width,Z=H.height;return M(K,Z),$.observe(I.current),function(){$.disconnect()}},[M,v]);var L=k.useMemo(function(){var F=j.containerWidth,$=j.containerHeight;if(F<0||$<0)return null;ga(Mu(a)||Mu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Mu(a)?F:a,K=Mu(l)?$:l;r&&r>0&&(H?K=H/r:K&&(H=K*r),p&&K>p&&(K=p)),ga(H>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,K,a,l,f,h,r);var Z=!Array.isArray(g)&&Zs(g.type).endsWith("Chart");return te.Children.map(g,function(q){return te.isValidElement(q)?k.cloneElement(q,Mv({width:H,height:K},Z?{style:Mv({height:"100%",width:"100%",maxHeight:K,maxWidth:H},q.props.style)}:{})):q})},[r,g,l,p,h,f,j,a]);return te.createElement("div",{id:b?"".concat(b):void 0,className:Ct("recharts-responsive-container",_),style:Mv(Mv({},P),{},{width:a,height:l,minWidth:f,minHeight:h,maxHeight:p}),ref:I},L)}),aw=function(e){return null};aw.displayName="Cell";function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function f7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(r),!0).forEach(function(n){Mwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mwe(t,e,r){return e=Fwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fwe(t){var e=Lwe(t,"string");return kg(e)=="symbol"?e:e+""}function Lwe(t,e){if(kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dd={widthCache:{},cacheCount:0},Bwe=2e3,Vwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d7="recharts_measurement_span";function $we(t){var e=hN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var eg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wf.isSsr)return{width:0,height:0};var n=$we(r),i=JSON.stringify({text:e,copyStyle:n});if(dd.widthCache[i])return dd.widthCache[i];try{var o=document.getElementById(d7);o||(o=document.createElement("span"),o.setAttribute("id",d7),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=hN(hN({},Vwe),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return dd.widthCache[i]=l,++dd.cacheCount>Bwe&&(dd.cacheCount=0,dd.widthCache={}),l}catch{return{width:0,height:0}}},Uwe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function yx(t,e){return qwe(t)||Hwe(t,e)||Wwe(t,e)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(t,e){if(t){if(typeof t=="string")return h7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h7(t,e)}}function h7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function qwe(t){if(Array.isArray(t))return t}function Gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ywe(n.key),n)}}function Kwe(t,e,r){return e&&p7(t.prototype,e),r&&p7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t){var e=Xwe(t,"string");return Og(e)=="symbol"?e:e+""}function Xwe(t,e){if(Og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jwe=Object.keys(DK),Od="NaN";function e2e(t,e){return t*DK[e]}var Fv=(function(){function t(e,r){Gwe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Qwe.test(r)&&(this.num=NaN,this.unit=""),Jwe.includes(r)&&(this.num=e2e(e,r),this.unit="px")}return Kwe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Zwe.exec(r))!==null&&n!==void 0?n:[],o=yx(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])})();function MK(t){if(t.includes(Od))return Od;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=m7.exec(e))!==null&&r!==void 0?r:[],i=yx(n,4),o=i[1],a=i[2],s=i[3],l=Fv.parse(o??""),c=Fv.parse(s??""),f=a==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Od;e=e.replace(m7,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=g7.exec(e))!==null&&h!==void 0?h:[],g=yx(p,4),x=g[1],v=g[2],b=g[3],_=Fv.parse(x??""),C=Fv.parse(b??""),E=v==="+"?_.add(C):_.subtract(C);if(E.isNaN())return Od;e=e.replace(g7,E.toString())}return e}var y7=/\(([^()]*)\)/;function t2e(t){for(var e=t;e.includes("(");){var r=y7.exec(e),n=yx(r,2),i=n[1];e=e.replace(y7,MK(i))}return e}function r2e(t){var e=t.replace(/\s+/g,"");return e=t2e(e),e=MK(e),e}function n2e(t){try{return r2e(t)}catch{return Od}}function xS(t){var e=n2e(t.slice(5,-1));return e===Od?"":e}var i2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o2e=["dx","dy","angle","className","breakAll"];function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pN.apply(this,arguments)}function v7(t,e){if(t==null)return{};var r=a2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x7(t,e){return u2e(t)||c2e(t,e)||l2e(t,e)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2e(t,e){if(t){if(typeof t=="string")return b7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b7(t,e)}}function b7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function u2e(t){if(Array.isArray(t))return t}var FK=/[ \f\n\r\t\v\u2028\u2029]+/,LK=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];_t(r)||(n?o=r.toString().split(""):o=r.toString().split(FK));var a=o.map(function(l){return{word:l,width:eg(l,i).width}}),s=n?0:eg(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},f2e=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,f=je(a),h=s,p=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(K,Z){var q=Z.word,re=Z.width,U=K[K.length-1];if(U&&(i==null||o||U.width+re+n<Number(i)))U.words.push(q),U.width+=re+n;else{var X={words:[q],width:re};K.push(X)}return K},[])},g=p(r),x=function(H){return H.reduce(function(K,Z){return K.width>Z.width?K:Z})};if(!f)return g;for(var v="…",b=function(H){var K=h.slice(0,H),Z=LK({breakAll:c,style:l,children:K+v}).wordsWithComputedWidth,q=p(Z),re=q.length>a||x(q).width>Number(i);return[re,q]},_=0,C=h.length-1,E=0,P;_<=C&&E<=h.length-1;){var I=Math.floor((_+C)/2),S=I-1,T=b(S),N=x7(T,2),j=N[0],B=N[1],M=b(I),L=x7(M,1),F=L[0];if(!j&&!F&&(_=I+1),j&&F&&(C=I-1),!j&&F){P=B;break}E++}return P||g},w7=function(e){var r=_t(e)?[]:e.toString().split(FK);return[{words:r}]},d2e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!wf.isSsr){var l,c,f=LK({breakAll:a,children:i,style:o});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;l=h,c=p}else return w7(i);return f2e({breakAll:a,children:i,maxLines:s,style:o},l,c,r,n)}return w7(i)},_7="#808080",cf=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,g=p===void 0?"start":p,x=e.verticalAnchor,v=x===void 0?"end":x,b=e.fill,_=b===void 0?_7:b,C=v7(e,i2e),E=k.useMemo(function(){return d2e({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),P=C.dx,I=C.dy,S=C.angle,T=C.className,N=C.breakAll,j=v7(C,o2e);if(!bn(n)||!bn(o))return null;var B=n+(je(P)?P:0),M=o+(je(I)?I:0),L;switch(v){case"start":L=xS("calc(".concat(c,")"));break;case"middle":L=xS("calc(".concat((E.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:L=xS("calc(".concat(E.length-1," * -").concat(s,")"));break}var F=[];if(h){var $=E[0].width,H=C.width;F.push("scale(".concat((je(H)?H/$:1)/$,")"))}return S&&F.push("rotate(".concat(S,", ").concat(B,", ").concat(M,")")),F.length&&(j.transform=F.join(" ")),te.createElement("text",pN({},lt(j,!0),{x:B,y:M,className:Ct("recharts-text",T),textAnchor:g,fill:_.includes("url")?_7:_}),E.map(function(K,Z){var q=K.words.join(N?"":" ");return te.createElement("tspan",{x:B,dy:Z===0?L:s,key:"".concat(q,"-").concat(Z)},q)}))};function pc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E3(t){let e,r,n;t.length!==2?(e=pc,r=(s,l)=>pc(t(s),l),n=(s,l)=>t(s)-l):(e=t===pc||t===h2e?t:p2e,r=t,n=t);function i(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;r(s[h],l)<0?c=h+1:f=h}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;r(s[h],l)<=0?c=h+1:f=h}while(c<f)}return c}function a(s,l,c=0,f=s.length){const h=i(s,l,c,f-1);return h>c&&n(s[h-1],l)>-n(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function p2e(){return 0}function BK(t){return t===null?NaN:+t}function*m2e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const g2e=E3(pc),zy=g2e.right;E3(BK).center;class A7 extends Map{constructor(e,r=x2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(C7(this,e))}has(e){return super.has(C7(this,e))}set(e,r){return super.set(y2e(this,e),r)}delete(e){return super.delete(v2e(this,e))}}function C7({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function y2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function v2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function x2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function b2e(t=pc){if(t===pc)return VK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function VK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const w2e=Math.sqrt(50),_2e=Math.sqrt(10),A2e=Math.sqrt(2);function vx(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=w2e?10:o>=_2e?5:o>=A2e?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?vx(t,e,r*2):[s,l,c]}function mN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?vx(e,t,r):vx(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function gN(t,e,r){return e=+e,t=+t,r=+r,vx(t,e,r)[2]}function yN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?gN(e,t,r):gN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function E7(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function S7(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $K(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?VK:b2e(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,f=Math.log(l),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(l-h)/l)*(c-l/2<0?-1:1),g=Math.max(r,Math.floor(e-c*h/l+p)),x=Math.min(n,Math.floor(e+(l-c)*h/l+p));$K(t,e,g,x,i)}const o=t[e];let a=r,s=n;for(dm(t,r,e),i(t[n],o)>0&&dm(t,r,n);a<s;){for(dm(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?dm(t,r,s):(++s,dm(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function dm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function C2e(t,e,r){if(t=Float64Array.from(m2e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return S7(t);if(e>=1)return E7(t);var n,i=(n-1)*e,o=Math.floor(i),a=E7($K(t,o).subarray(0,o+1)),s=S7(t.subarray(o+1));return a+(s-a)*(i-o)}}function E2e(t,e,r=BK){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function S2e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Go(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vN=Symbol("implicit");function S3(){var t=new A7,e=[],r=[],n=vN;function i(o){let a=t.get(o);if(a===void 0){if(n!==vN)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new A7;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return S3(e,r).unknown(n)},Go.apply(i,arguments),i}function jg(){var t=S3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,c=0,f=.5;delete t.unknown;function h(){var p=e().length,g=i<n,x=g?i:n,v=g?n:i;o=(v-x)/Math.max(1,p-l+c*2),s&&(o=Math.floor(o)),x+=(v-x-o*(p-l))*f,a=o*(1-l),s&&(x=Math.round(x),a=Math.round(a));var b=S2e(p).map(function(_){return x+o*_});return r(g?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,h()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,h()):c},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return jg(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(f)},Go.apply(h(),arguments)}function UK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return UK(e())},t}function tg(){return UK(jg.apply(null,arguments).paddingInner(1))}function T3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function zK(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Wy(){}var Rg=.7,xx=1/Rg,Kd="\\s*([+-]?\\d+)\\s*",Dg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T2e=/^#([0-9a-f]{3,8})$/,I2e=new RegExp(`^rgb\\(${Kd},${Kd},${Kd}\\)$`),N2e=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),P2e=new RegExp(`^rgba\\(${Kd},${Kd},${Kd},${Dg}\\)$`),k2e=new RegExp(`^rgba\\(${ss},${ss},${ss},${Dg}\\)$`),O2e=new RegExp(`^hsl\\(${Dg},${ss},${ss}\\)$`),j2e=new RegExp(`^hsla\\(${Dg},${ss},${ss},${Dg}\\)$`),T7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T3(Wy,Mg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:I7,formatHex:I7,formatHex8:R2e,formatHsl:D2e,formatRgb:N7,toString:N7});function I7(){return this.rgb().formatHex()}function R2e(){return this.rgb().formatHex8()}function D2e(){return WK(this).formatHsl()}function N7(){return this.rgb().formatRgb()}function Mg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=T2e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?P7(e):r===3?new Bi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Lv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Lv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=I2e.exec(t))?new Bi(e[1],e[2],e[3],1):(e=N2e.exec(t))?new Bi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=P2e.exec(t))?Lv(e[1],e[2],e[3],e[4]):(e=k2e.exec(t))?Lv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=O2e.exec(t))?j7(e[1],e[2]/100,e[3]/100,1):(e=j2e.exec(t))?j7(e[1],e[2]/100,e[3]/100,e[4]):T7.hasOwnProperty(t)?P7(T7[t]):t==="transparent"?new Bi(NaN,NaN,NaN,0):null}function P7(t){return new Bi(t>>16&255,t>>8&255,t&255,1)}function Lv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Bi(t,e,r,n)}function M2e(t){return t instanceof Wy||(t=Mg(t)),t?(t=t.rgb(),new Bi(t.r,t.g,t.b,t.opacity)):new Bi}function xN(t,e,r,n){return arguments.length===1?M2e(t):new Bi(t,e,r,n??1)}function Bi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T3(Bi,xN,zK(Wy,{brighter(t){return t=t==null?xx:Math.pow(xx,t),new Bi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rg:Math.pow(Rg,t),new Bi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bi(Gu(this.r),Gu(this.g),Gu(this.b),bx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k7,formatHex:k7,formatHex8:F2e,formatRgb:O7,toString:O7}));function k7(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function F2e(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function O7(){const t=bx(this.opacity);return`${t===1?"rgb(":"rgba("}${Gu(this.r)}, ${Gu(this.g)}, ${Gu(this.b)}${t===1?")":`, ${t})`}`}function bx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=Gu(t),(t<16?"0":"")+t.toString(16)}function j7(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ua(t,e,r,n)}function WK(t){if(t instanceof ua)return new ua(t.h,t.s,t.l,t.opacity);if(t instanceof Wy||(t=Mg(t)),!t)return new ua;if(t instanceof ua)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ua(a,s,l,t.opacity)}function L2e(t,e,r,n){return arguments.length===1?WK(t):new ua(t,e,r,n??1)}function ua(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T3(ua,L2e,zK(Wy,{brighter(t){return t=t==null?xx:Math.pow(xx,t),new ua(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rg:Math.pow(Rg,t),new ua(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Bi(bS(t>=240?t-240:t+120,i,n),bS(t,i,n),bS(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ua(R7(this.h),Bv(this.s),Bv(this.l),bx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bx(this.opacity);return`${t===1?"hsl(":"hsla("}${R7(this.h)}, ${Bv(this.s)*100}%, ${Bv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function R7(t){return t=(t||0)%360,t<0?t+360:t}function Bv(t){return Math.max(0,Math.min(1,t||0))}function bS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const I3=t=>()=>t;function B2e(t,e){return function(r){return t+r*e}}function V2e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $2e(t){return(t=+t)==1?HK:function(e,r){return r-e?V2e(e,r,t):I3(isNaN(e)?r:e)}}function HK(t,e){var r=e-t;return r?B2e(t,r):I3(isNaN(t)?e:t)}const D7=(function t(e){var r=$2e(e);function n(i,o){var a=r((i=xN(i)).r,(o=xN(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=HK(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=c(f),i+""}}return n.gamma=t,n})(1);function U2e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function z2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function W2e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=lp(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function H2e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function wx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function q2e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=lp(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var bN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wS=new RegExp(bN.source,"g");function G2e(t){return function(){return t}}function K2e(t){return function(e){return t(e)+""}}function Y2e(t,e){var r=bN.lastIndex=wS.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=bN.exec(t))&&(i=wS.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:wx(n,i)})),r=wS.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?K2e(l[0].x):G2e(e):(e=l.length,function(c){for(var f=0,h;f<e;++f)s[(h=l[f]).i]=h.x(c);return s.join("")})}function lp(t,e){var r=typeof e,n;return e==null||r==="boolean"?I3(e):(r==="number"?wx:r==="string"?(n=Mg(e))?(e=n,D7):Y2e:e instanceof Mg?D7:e instanceof Date?H2e:z2e(e)?U2e:Array.isArray(e)?W2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?q2e:wx)(t,e)}function N3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function X2e(t,e){e===void 0&&(e=t,t=lp);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function Q2e(t){return function(){return t}}function _x(t){return+t}var M7=[0,1];function _i(t){return t}function wN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Q2e(isNaN(e)?NaN:.5)}function Z2e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function J2e(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=wN(i,n),o=r(a,o)):(n=wN(n,i),o=r(o,a)),function(s){return o(n(s))}}function e_e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=wN(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=zy(t,s,1,n)-1;return o[l](i[l](s))}}function Hy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sw(){var t=M7,e=M7,r=lp,n,i,o,a=_i,s,l,c;function f(){var p=Math.min(t.length,e.length);return a!==_i&&(a=Z2e(t[0],t[p-1])),s=p>2?e_e:J2e,l=c=null,h}function h(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(n),e,r)))(n(a(p)))}return h.invert=function(p){return a(i((c||(c=s(e,t.map(n),wx)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,_x),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=N3,f()},h.clamp=function(p){return arguments.length?(a=p?!0:_i,f()):a!==_i},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,g){return n=p,i=g,f()}}function P3(){return sw()(_i,_i)}function t_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ax(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bh(t){return t=Ax(Math.abs(t)),t?t[1]:NaN}function r_e(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function n_e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var i_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fg(t){if(!(e=i_e.exec(t)))throw new Error("invalid format: "+t);var e;return new k3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fg.prototype=k3.prototype;function k3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}k3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o_e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var qK;function a_e(t,e){var r=Ax(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(qK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ax(t,Math.max(0,e+o-1))[0]}function F7(t,e){var r=Ax(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const L7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:t_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>F7(t*100,e),r:F7,s:a_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function B7(t){return t}var V7=Array.prototype.map,$7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function s_e(t){var e=t.grouping===void 0||t.thousands===void 0?B7:r_e(V7.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?B7:n_e(V7.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Fg(h);var p=h.fill,g=h.align,x=h.sign,v=h.symbol,b=h.zero,_=h.width,C=h.comma,E=h.precision,P=h.trim,I=h.type;I==="n"?(C=!0,I="g"):L7[I]||(E===void 0&&(E=12),P=!0,I="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",T=v==="$"?n:/[%p]/.test(I)?a:"",N=L7[I],j=/[defgprs%]/.test(I);E=E===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(M){var L=S,F=T,$,H,K;if(I==="c")F=N(M)+F,M="";else{M=+M;var Z=M<0||1/M<0;if(M=isNaN(M)?l:N(Math.abs(M),E),P&&(M=o_e(M)),Z&&+M==0&&x!=="+"&&(Z=!1),L=(Z?x==="("?x:s:x==="-"||x==="("?"":x)+L,F=(I==="s"?$7[8+qK/3]:"")+F+(Z&&x==="("?")":""),j){for($=-1,H=M.length;++$<H;)if(K=M.charCodeAt($),48>K||K>57){F=(K===46?i+M.slice($+1):M.slice($))+F,M=M.slice(0,$);break}}}C&&!b&&(M=e(M,1/0));var q=L.length+M.length+F.length,re=q<_?new Array(_-q+1).join(p):"";switch(C&&b&&(M=e(re+M,re.length?_-F.length:1/0),re=""),g){case"<":M=L+M+F+re;break;case"=":M=L+re+M+F;break;case"^":M=re.slice(0,q=re.length>>1)+L+M+F+re.slice(q);break;default:M=re+L+M+F;break}return o(M)}return B.toString=function(){return h+""},B}function f(h,p){var g=c((h=Fg(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(bh(p)/3)))*3,v=Math.pow(10,-x),b=$7[8+x/3];return function(_){return g(v*_)+b}}return{format:c,formatPrefix:f}}var Vv,O3,GK;l_e({thousands:",",grouping:[3],currency:["$",""]});function l_e(t){return Vv=s_e(t),O3=Vv.format,GK=Vv.formatPrefix,Vv}function c_e(t){return Math.max(0,-bh(Math.abs(t)))}function u_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bh(e)/3)))*3-bh(Math.abs(t)))}function f_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bh(e)-bh(t))+1}function KK(t,e,r,n){var i=yN(t,e,r),o;switch(n=Fg(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=u_e(i,a))&&(n.precision=o),GK(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=f_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=c_e(i))&&(n.precision=o-(n.type==="%")*2);break}}return O3(n)}function Bc(t){var e=t.domain;return t.ticks=function(r){var n=e();return mN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return KK(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,f=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);f-- >0;){if(c=gN(a,s,r),c===l)return n[i]=a,n[o]=s,e(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Cx(){var t=P3();return t.copy=function(){return Hy(t,Cx())},Go.apply(t,arguments),Bc(t)}function YK(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,_x),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return YK(t).unknown(e)},t=arguments.length?Array.from(t,_x):[0,1],Bc(r)}function XK(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function U7(t){return Math.log(t)}function z7(t){return Math.exp(t)}function d_e(t){return-Math.log(-t)}function h_e(t){return-Math.exp(-t)}function p_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function m_e(t){return t===10?p_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function g_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function W7(t){return(e,r)=>-t(-e,r)}function j3(t){const e=t(U7,z7),r=e.domain;let n=10,i,o;function a(){return i=g_e(n),o=m_e(n),r()[0]<0?(i=W7(i),o=W7(o),t(d_e,h_e)):t(U7,z7),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const h=f<c;h&&([c,f]=[f,c]);let p=i(c),g=i(f),x,v;const b=s==null?10:+s;let _=[];if(!(n%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(x=1;x<n;++x)if(v=p<0?x/o(-p):x*o(p),!(v<c)){if(v>f)break;_.push(v)}}else for(;p<=g;++p)for(x=n-1;x>=1;--x)if(v=p>0?x/o(-p):x*o(p),!(v<c)){if(v>f)break;_.push(v)}_.length*2<b&&(_=mN(c,f,b))}else _=mN(p,g,Math.min(g-p,b)).map(o);return h?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Fg(l)).precision==null&&(l.trim=!0),l=O3(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=c?l(f):""}},e.nice=()=>r(XK(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function QK(){const t=j3(sw()).domain([1,10]);return t.copy=()=>Hy(t,QK()).base(t.base()),Go.apply(t,arguments),t}function H7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function q7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R3(t){var e=1,r=t(H7(e),q7(e));return r.constant=function(n){return arguments.length?t(H7(e=+n),q7(e)):e},Bc(r)}function ZK(){var t=R3(sw());return t.copy=function(){return Hy(t,ZK()).constant(t.constant())},Go.apply(t,arguments)}function G7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function y_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function v_e(t){return t<0?-t*t:t*t}function D3(t){var e=t(_i,_i),r=1;function n(){return r===1?t(_i,_i):r===.5?t(y_e,v_e):t(G7(r),G7(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Bc(e)}function M3(){var t=D3(sw());return t.copy=function(){return Hy(t,M3()).exponent(t.exponent())},Go.apply(t,arguments),t}function x_e(){return M3.apply(null,arguments).exponent(.5)}function K7(t){return Math.sign(t)*t*t}function b_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function JK(){var t=P3(),e=[0,1],r=!1,n;function i(o){var a=b_e(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(K7(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,_x)).map(K7)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return JK(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Go.apply(i,arguments),Bc(i)}function eY(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=E2e(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[zy(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(pc),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return eY().domain(t).range(e).unknown(n)},Go.apply(o,arguments)}function tY(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[zy(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return tY().domain([t,e]).range(i).unknown(o)},Go.apply(Bc(a),arguments)}function rY(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[zy(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rY().domain(t).range(e).unknown(r)},Go.apply(i,arguments)}const _S=new Date,AS=new Date;function An(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>An(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(_S.setTime(+o),AS.setTime(+a),t(_S),t(AS),Math.floor(r(_S,AS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ex=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ex.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ex);Ex.range;const qs=1e3,Bo=qs*60,Gs=Bo*60,ul=Gs*24,F3=ul*7,Y7=ul*30,CS=ul*365,Lu=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qs)},(t,e)=>(e-t)/qs,t=>t.getUTCSeconds());Lu.range;const L3=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qs)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getMinutes());L3.range;const B3=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCMinutes());B3.range;const V3=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qs-t.getMinutes()*Bo)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getHours());V3.range;const $3=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getUTCHours());$3.range;const qy=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bo)/ul,t=>t.getDate()-1);qy.range;const lw=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ul,t=>t.getUTCDate()-1);lw.range;const nY=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ul,t=>Math.floor(t/ul));nY.range;function _f(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Bo)/F3)}const cw=_f(0),Sx=_f(1),w_e=_f(2),__e=_f(3),wh=_f(4),A_e=_f(5),C_e=_f(6);cw.range;Sx.range;w_e.range;__e.range;wh.range;A_e.range;C_e.range;function Af(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/F3)}const uw=Af(0),Tx=Af(1),E_e=Af(2),S_e=Af(3),_h=Af(4),T_e=Af(5),I_e=Af(6);uw.range;Tx.range;E_e.range;S_e.range;_h.range;T_e.range;I_e.range;const U3=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());U3.range;const z3=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());z3.range;const fl=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});fl.range;const dl=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});dl.range;function iY(t,e,r,n,i,o){const a=[[Lu,1,qs],[Lu,5,5*qs],[Lu,15,15*qs],[Lu,30,30*qs],[o,1,Bo],[o,5,5*Bo],[o,15,15*Bo],[o,30,30*Bo],[i,1,Gs],[i,3,3*Gs],[i,6,6*Gs],[i,12,12*Gs],[n,1,ul],[n,2,2*ul],[r,1,F3],[e,1,Y7],[e,3,3*Y7],[t,1,CS]];function s(c,f,h){const p=f<c;p&&([c,f]=[f,c]);const g=h&&typeof h.range=="function"?h:l(c,f,h),x=g?g.range(c,+f+1):[];return p?x.reverse():x}function l(c,f,h){const p=Math.abs(f-c)/h,g=E3(([,,b])=>b).right(a,p);if(g===a.length)return t.every(yN(c/CS,f/CS,h));if(g===0)return Ex.every(Math.max(yN(c,f,h),1));const[x,v]=a[p/a[g-1][2]<a[g][2]/p?g-1:g];return x.every(v)}return[s,l]}const[N_e,P_e]=iY(dl,z3,uw,nY,$3,B3),[k_e,O_e]=iY(fl,U3,cw,qy,V3,L3);function ES(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function SS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function j_e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=pm(i),f=mm(i),h=pm(o),p=mm(o),g=pm(a),x=mm(a),v=pm(s),b=mm(s),_=pm(l),C=mm(l),E={a:Z,A:q,b:re,B:U,c:null,d:t9,e:t9,f:rAe,g:dAe,G:pAe,H:J_e,I:eAe,j:tAe,L:oY,m:nAe,M:iAe,p:X,q:ee,Q:i9,s:o9,S:oAe,u:aAe,U:sAe,V:lAe,w:cAe,W:uAe,x:null,X:null,y:fAe,Y:hAe,Z:mAe,"%":n9},P={a:W,A:Q,b:se,B:oe,c:null,d:r9,e:r9,f:xAe,g:NAe,G:kAe,H:gAe,I:yAe,j:vAe,L:sY,m:bAe,M:wAe,p:ae,q:ve,Q:i9,s:o9,S:_Ae,u:AAe,U:CAe,V:EAe,w:SAe,W:TAe,x:null,X:null,y:IAe,Y:PAe,Z:OAe,"%":n9},I={a:B,A:M,b:L,B:F,c:$,d:J7,e:J7,f:Y_e,g:Z7,G:Q7,H:e9,I:e9,j:H_e,L:K_e,m:W_e,M:q_e,p:j,q:z_e,Q:Q_e,s:Z_e,S:G_e,u:L_e,U:B_e,V:V_e,w:F_e,W:$_e,x:H,X:K,y:Z7,Y:Q7,Z:U_e,"%":X_e};E.x=S(r,E),E.X=S(n,E),E.c=S(e,E),P.x=S(r,P),P.X=S(n,P),P.c=S(e,P);function S(he,_e){return function(Pe){var pe=[],et=-1,$e=0,nt=he.length,Ce,Re,Be;for(Pe instanceof Date||(Pe=new Date(+Pe));++et<nt;)he.charCodeAt(et)===37&&(pe.push(he.slice($e,et)),(Re=X7[Ce=he.charAt(++et)])!=null?Ce=he.charAt(++et):Re=Ce==="e"?" ":"0",(Be=_e[Ce])&&(Ce=Be(Pe,Re)),pe.push(Ce),$e=et+1);return pe.push(he.slice($e,et)),pe.join("")}}function T(he,_e){return function(Pe){var pe=hm(1900,void 0,1),et=N(pe,he,Pe+="",0),$e,nt;if(et!=Pe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(_e&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=SS(hm(pe.y,0,1)),nt=$e.getUTCDay(),$e=nt>4||nt===0?Tx.ceil($e):Tx($e),$e=lw.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=ES(hm(pe.y,0,1)),nt=$e.getDay(),$e=nt>4||nt===0?Sx.ceil($e):Sx($e),$e=qy.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),nt="Z"in pe?SS(hm(pe.y,0,1)).getUTCDay():ES(hm(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(nt+5)%7:pe.w+pe.U*7-(nt+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,SS(pe)):ES(pe)}}function N(he,_e,Pe,pe){for(var et=0,$e=_e.length,nt=Pe.length,Ce,Re;et<$e;){if(pe>=nt)return-1;if(Ce=_e.charCodeAt(et++),Ce===37){if(Ce=_e.charAt(et++),Re=I[Ce in X7?_e.charAt(et++):Ce],!Re||(pe=Re(he,Pe,pe))<0)return-1}else if(Ce!=Pe.charCodeAt(pe++))return-1}return pe}function j(he,_e,Pe){var pe=c.exec(_e.slice(Pe));return pe?(he.p=f.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function B(he,_e,Pe){var pe=g.exec(_e.slice(Pe));return pe?(he.w=x.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function M(he,_e,Pe){var pe=h.exec(_e.slice(Pe));return pe?(he.w=p.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function L(he,_e,Pe){var pe=_.exec(_e.slice(Pe));return pe?(he.m=C.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function F(he,_e,Pe){var pe=v.exec(_e.slice(Pe));return pe?(he.m=b.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function $(he,_e,Pe){return N(he,e,_e,Pe)}function H(he,_e,Pe){return N(he,r,_e,Pe)}function K(he,_e,Pe){return N(he,n,_e,Pe)}function Z(he){return a[he.getDay()]}function q(he){return o[he.getDay()]}function re(he){return l[he.getMonth()]}function U(he){return s[he.getMonth()]}function X(he){return i[+(he.getHours()>=12)]}function ee(he){return 1+~~(he.getMonth()/3)}function W(he){return a[he.getUTCDay()]}function Q(he){return o[he.getUTCDay()]}function se(he){return l[he.getUTCMonth()]}function oe(he){return s[he.getUTCMonth()]}function ae(he){return i[+(he.getUTCHours()>=12)]}function ve(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var _e=S(he+="",E);return _e.toString=function(){return he},_e},parse:function(he){var _e=T(he+="",!1);return _e.toString=function(){return he},_e},utcFormat:function(he){var _e=S(he+="",P);return _e.toString=function(){return he},_e},utcParse:function(he){var _e=T(he+="",!0);return _e.toString=function(){return he},_e}}}var X7={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,R_e=/^%/,D_e=/[\\^$*+?|[\]().{}]/g;function Yt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function M_e(t){return t.replace(D_e,"\\$&")}function pm(t){return new RegExp("^(?:"+t.map(M_e).join("|")+")","i")}function mm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function F_e(t,e,r){var n=Mn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function L_e(t,e,r){var n=Mn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function B_e(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function V_e(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function $_e(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Q7(t,e,r){var n=Mn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Z7(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function U_e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function z_e(t,e,r){var n=Mn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function W_e(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function J7(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function H_e(t,e,r){var n=Mn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function e9(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function q_e(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function G_e(t,e,r){var n=Mn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function K_e(t,e,r){var n=Mn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Y_e(t,e,r){var n=Mn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function X_e(t,e,r){var n=R_e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Q_e(t,e,r){var n=Mn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Z_e(t,e,r){var n=Mn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function t9(t,e){return Yt(t.getDate(),e,2)}function J_e(t,e){return Yt(t.getHours(),e,2)}function eAe(t,e){return Yt(t.getHours()%12||12,e,2)}function tAe(t,e){return Yt(1+qy.count(fl(t),t),e,3)}function oY(t,e){return Yt(t.getMilliseconds(),e,3)}function rAe(t,e){return oY(t,e)+"000"}function nAe(t,e){return Yt(t.getMonth()+1,e,2)}function iAe(t,e){return Yt(t.getMinutes(),e,2)}function oAe(t,e){return Yt(t.getSeconds(),e,2)}function aAe(t){var e=t.getDay();return e===0?7:e}function sAe(t,e){return Yt(cw.count(fl(t)-1,t),e,2)}function aY(t){var e=t.getDay();return e>=4||e===0?wh(t):wh.ceil(t)}function lAe(t,e){return t=aY(t),Yt(wh.count(fl(t),t)+(fl(t).getDay()===4),e,2)}function cAe(t){return t.getDay()}function uAe(t,e){return Yt(Sx.count(fl(t)-1,t),e,2)}function fAe(t,e){return Yt(t.getFullYear()%100,e,2)}function dAe(t,e){return t=aY(t),Yt(t.getFullYear()%100,e,2)}function hAe(t,e){return Yt(t.getFullYear()%1e4,e,4)}function pAe(t,e){var r=t.getDay();return t=r>=4||r===0?wh(t):wh.ceil(t),Yt(t.getFullYear()%1e4,e,4)}function mAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yt(e/60|0,"0",2)+Yt(e%60,"0",2)}function r9(t,e){return Yt(t.getUTCDate(),e,2)}function gAe(t,e){return Yt(t.getUTCHours(),e,2)}function yAe(t,e){return Yt(t.getUTCHours()%12||12,e,2)}function vAe(t,e){return Yt(1+lw.count(dl(t),t),e,3)}function sY(t,e){return Yt(t.getUTCMilliseconds(),e,3)}function xAe(t,e){return sY(t,e)+"000"}function bAe(t,e){return Yt(t.getUTCMonth()+1,e,2)}function wAe(t,e){return Yt(t.getUTCMinutes(),e,2)}function _Ae(t,e){return Yt(t.getUTCSeconds(),e,2)}function AAe(t){var e=t.getUTCDay();return e===0?7:e}function CAe(t,e){return Yt(uw.count(dl(t)-1,t),e,2)}function lY(t){var e=t.getUTCDay();return e>=4||e===0?_h(t):_h.ceil(t)}function EAe(t,e){return t=lY(t),Yt(_h.count(dl(t),t)+(dl(t).getUTCDay()===4),e,2)}function SAe(t){return t.getUTCDay()}function TAe(t,e){return Yt(Tx.count(dl(t)-1,t),e,2)}function IAe(t,e){return Yt(t.getUTCFullYear()%100,e,2)}function NAe(t,e){return t=lY(t),Yt(t.getUTCFullYear()%100,e,2)}function PAe(t,e){return Yt(t.getUTCFullYear()%1e4,e,4)}function kAe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?_h(t):_h.ceil(t),Yt(t.getUTCFullYear()%1e4,e,4)}function OAe(){return"+0000"}function n9(){return"%"}function i9(t){return+t}function o9(t){return Math.floor(+t/1e3)}var hd,cY,uY;jAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jAe(t){return hd=j_e(t),cY=hd.format,hd.parse,uY=hd.utcFormat,hd.utcParse,hd}function RAe(t){return new Date(t)}function DAe(t){return t instanceof Date?+t:+new Date(+t)}function W3(t,e,r,n,i,o,a,s,l,c){var f=P3(),h=f.invert,p=f.domain,g=c(".%L"),x=c(":%S"),v=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),C=c("%b %d"),E=c("%B"),P=c("%Y");function I(S){return(l(S)<S?g:s(S)<S?x:a(S)<S?v:o(S)<S?b:n(S)<S?i(S)<S?_:C:r(S)<S?E:P)(S)}return f.invert=function(S){return new Date(h(S))},f.domain=function(S){return arguments.length?p(Array.from(S,DAe)):p().map(RAe)},f.ticks=function(S){var T=p();return t(T[0],T[T.length-1],S??10)},f.tickFormat=function(S,T){return T==null?I:c(T)},f.nice=function(S){var T=p();return(!S||typeof S.range!="function")&&(S=e(T[0],T[T.length-1],S??10)),S?p(XK(T,S)):f},f.copy=function(){return Hy(f,W3(t,e,r,n,i,o,a,s,l,c))},f}function MAe(){return Go.apply(W3(k_e,O_e,fl,U3,cw,qy,V3,L3,Lu,cY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FAe(){return Go.apply(W3(N_e,P_e,dl,z3,uw,lw,$3,B3,Lu,uY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fw(){var t=0,e=1,r,n,i,o,a=_i,s=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-r)*i,s?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(h){return arguments.length?(s=!!h,c):s},c.interpolator=function(h){return arguments.length?(a=h,c):a};function f(h){return function(p){var g,x;return arguments.length?([g,x]=p,a=h(g,x),c):[a(0),a(1)]}}return c.range=f(lp),c.rangeRound=f(N3),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return o=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),c}}function Vc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fY(){var t=Bc(fw()(_i));return t.copy=function(){return Vc(t,fY())},xl.apply(t,arguments)}function dY(){var t=j3(fw()).domain([1,10]);return t.copy=function(){return Vc(t,dY()).base(t.base())},xl.apply(t,arguments)}function hY(){var t=R3(fw());return t.copy=function(){return Vc(t,hY()).constant(t.constant())},xl.apply(t,arguments)}function H3(){var t=D3(fw());return t.copy=function(){return Vc(t,H3()).exponent(t.exponent())},xl.apply(t,arguments)}function LAe(){return H3.apply(null,arguments).exponent(.5)}function pY(){var t=[],e=_i;function r(n){if(n!=null&&!isNaN(n=+n))return e((zy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>C2e(t,o/n))},r.copy=function(){return pY(e).domain(t)},xl.apply(r,arguments)}function dw(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,c=_i,f,h=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(h?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,r]=v,i=f(t=+t),o=f(e=+e),a=f(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,g):[t,e,r]},g.clamp=function(v){return arguments.length?(h=!!v,g):h},g.interpolator=function(v){return arguments.length?(c=v,g):c};function x(v){return function(b){var _,C,E;return arguments.length?([_,C,E]=b,c=X2e(v,[_,C,E]),g):[c(0),c(.5),c(1)]}}return g.range=x(lp),g.rangeRound=x(N3),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return f=v,i=v(t),o=v(e),a=v(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,g}}function mY(){var t=Bc(dw()(_i));return t.copy=function(){return Vc(t,mY())},xl.apply(t,arguments)}function gY(){var t=j3(dw()).domain([.1,1,10]);return t.copy=function(){return Vc(t,gY()).base(t.base())},xl.apply(t,arguments)}function yY(){var t=R3(dw());return t.copy=function(){return Vc(t,yY()).constant(t.constant())},xl.apply(t,arguments)}function q3(){var t=D3(dw());return t.copy=function(){return Vc(t,q3()).exponent(t.exponent())},xl.apply(t,arguments)}function BAe(){return q3.apply(null,arguments).exponent(.5)}const a9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jg,scaleDiverging:mY,scaleDivergingLog:gY,scaleDivergingPow:q3,scaleDivergingSqrt:BAe,scaleDivergingSymlog:yY,scaleIdentity:YK,scaleImplicit:vN,scaleLinear:Cx,scaleLog:QK,scaleOrdinal:S3,scalePoint:tg,scalePow:M3,scaleQuantile:eY,scaleQuantize:tY,scaleRadial:JK,scaleSequential:fY,scaleSequentialLog:dY,scaleSequentialPow:H3,scaleSequentialQuantile:pY,scaleSequentialSqrt:LAe,scaleSequentialSymlog:hY,scaleSqrt:x_e,scaleSymlog:ZK,scaleThreshold:rY,scaleTime:MAe,scaleUtc:FAe,tickFormat:KK},Symbol.toStringTag,{value:"Module"}));var TS,s9;function hw(){if(s9)return TS;s9=1;var t=ip();function e(r,n,i){for(var o=-1,a=r.length;++o<a;){var s=r[o],l=n(s);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,f=s}return f}return TS=e,TS}var IS,l9;function vY(){if(l9)return IS;l9=1;function t(e,r){return e>r}return IS=t,IS}var NS,c9;function VAe(){if(c9)return NS;c9=1;var t=hw(),e=vY(),r=sp();function n(i){return i&&i.length?t(i,r,e):void 0}return NS=n,NS}var $Ae=VAe();const pw=Xt($Ae);var PS,u9;function xY(){if(u9)return PS;u9=1;function t(e,r){return e<r}return PS=t,PS}var kS,f9;function UAe(){if(f9)return kS;f9=1;var t=hw(),e=xY(),r=sp();function n(i){return i&&i.length?t(i,r,e):void 0}return kS=n,kS}var zAe=UAe();const mw=Xt(zAe);var OS,d9;function WAe(){if(d9)return OS;d9=1;var t=l3(),e=bs(),r=TK(),n=$i();function i(o,a){var s=n(o)?t:r;return s(o,e(a,3))}return OS=i,OS}var jS,h9;function HAe(){if(h9)return jS;h9=1;var t=EK(),e=WAe();function r(n,i){return t(e(n,i),1)}return jS=r,jS}var qAe=HAe();const GAe=Xt(qAe);var RS,p9;function KAe(){if(p9)return RS;p9=1;var t=w3();function e(r,n){return t(r,n)}return RS=e,RS}var YAe=KAe();const Gy=Xt(YAe);var cp=1e9,XAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K3,Or=!0,Ho="[DecimalError] ",Ku=Ho+"Invalid argument: ",G3=Ho+"Exponent out of range: ",up=Math.floor,Iu=Math.pow,QAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ao,On=1e7,Nr=7,bY=9007199254740991,Ix=up(bY/Nr),qe={};qe.absoluteValue=qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};qe.comparedTo=qe.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};qe.dividedBy=qe.div=function(t){return Js(this,new this.constructor(t))};qe.dividedToIntegerBy=qe.idiv=function(t){var e=this,r=e.constructor;return fr(Js(e,new r(t),0,1),r.precision)};qe.equals=qe.eq=function(t){return!this.cmp(t)};qe.exponent=function(){return an(this)};qe.greaterThan=qe.gt=function(t){return this.cmp(t)>0};qe.greaterThanOrEqualTo=qe.gte=function(t){return this.cmp(t)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(t){return this.cmp(t)<0};qe.lessThanOrEqualTo=qe.lte=function(t){return this.cmp(t)<1};qe.logarithm=qe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ao))throw Error(Ho+"NaN");if(r.s<1)throw Error(Ho+(r.s?"NaN":"-Infinity"));return r.eq(ao)?new n(0):(Or=!1,e=Js(Lg(r,o),Lg(t,o),o),Or=!0,fr(e,i))};qe.minus=qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AY(e,t):wY(e,(t.s=-t.s,t))};qe.modulo=qe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ho+"NaN");return r.s?(Or=!1,e=Js(r,t,0,1).times(t),Or=!0,r.minus(e)):fr(new n(r),i)};qe.naturalExponential=qe.exp=function(){return _Y(this)};qe.naturalLogarithm=qe.ln=function(){return Lg(this)};qe.negated=qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};qe.plus=qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wY(e,t):AY(e,(t.s=-t.s,t))};qe.precision=qe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ku+t);if(e=an(i)+1,n=i.d.length-1,r=n*Nr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};qe.squareRoot=qe.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ho+"NaN")}for(t=an(s),Or=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ya(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=up((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(Js(s,o,a+2)).times(.5),Ya(o.d).slice(0,a)===(e=Ya(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(fr(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return Or=!0,fr(n,r)};qe.times=qe.mul=function(t){var e,r,n,i,o,a,s,l,c,f=this,h=f.constructor,p=f.d,g=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,l=p.length,c=g.length,l<c&&(o=p,p=g,g=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+g[n]*p[i-n-1]+e,o[i--]=s%On|0,e=s/On|0;o[i]=(o[i]+e)%On|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Or?fr(t,h.precision):t};qe.toDecimalPlaces=qe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ds(t,0,cp),e===void 0?e=n.rounding:ds(e,0,8),fr(r,t+an(r)+1,e))};qe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=uf(n,!0):(ds(t,0,cp),e===void 0?e=i.rounding:ds(e,0,8),n=fr(new i(n),t+1,e),r=uf(n,!0,t+1)),r};qe.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?uf(i):(ds(t,0,cp),e===void 0?e=o.rounding:ds(e,0,8),n=fr(new o(i),t+an(i)+1,e),r=uf(n.abs(),!1,t+an(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};qe.toInteger=qe.toint=function(){var t=this,e=t.constructor;return fr(new e(t),an(t)+1,e.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,c=12,f=+(t=new l(t));if(!t.s)return new l(ao);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ho+"Infinity");return s}if(s.eq(ao))return s;if(n=l.precision,t.eq(ao))return fr(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=f<0?-f:f)<=bY){for(i=new l(ao),e=Math.ceil(n/Nr+4),Or=!1;r%2&&(i=i.times(s),g9(i.d,e)),r=up(r/2),r!==0;)s=s.times(s),g9(s.d,e);return Or=!0,t.s<0?new l(ao).div(i):fr(i,n)}}else if(o<0)throw Error(Ho+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Or=!1,i=t.times(Lg(s,n+c)),Or=!0,i=_Y(i),i.s=o,i};qe.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=an(i),n=uf(i,r<=o.toExpNeg||r>=o.toExpPos)):(ds(t,1,cp),e===void 0?e=o.rounding:ds(e,0,8),i=fr(new o(i),t,e),r=an(i),n=uf(i,t<=r||r<=o.toExpNeg,t)),n};qe.toSignificantDigits=qe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ds(t,1,cp),e===void 0?e=n.rounding:ds(e,0,8)),fr(new n(r),t,e)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),r=t.constructor;return uf(t,e<=r.toExpNeg||e>=r.toExpPos)};function wY(t,e){var r,n,i,o,a,s,l,c,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Or?fr(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(h/Nr),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/On|0,l[o]%=On;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Or?fr(e,h):e}function ds(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ku+t)}function Ya(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=Nr-n.length,r&&(o+=tc(r)),o+=n;a=t[e],n=a+"",r=Nr-n.length,r&&(o+=tc(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Js=(function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%On|0,a=o/On|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*On+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,f,h,p,g,x,v,b,_,C,E,P,I,S,T,N,j=n.constructor,B=n.s==i.s?1:-1,M=n.d,L=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(Ho+"Division by zero");for(l=n.e-i.e,T=L.length,I=M.length,g=new j(B),x=g.d=[],c=0;L[c]==(M[c]||0);)++c;if(L[c]>(M[c]||0)&&--l,o==null?C=o=j.precision:a?C=o+(an(n)-an(i))+1:C=o,C<0)return new j(0);if(C=C/Nr+2|0,c=0,T==1)for(f=0,L=L[0],C++;(c<I||f)&&C--;c++)E=f*On+(M[c]||0),x[c]=E/L|0,f=E%L|0;else{for(f=On/(L[0]+1)|0,f>1&&(L=t(L,f),M=t(M,f),T=L.length,I=M.length),P=T,v=M.slice(0,T),b=v.length;b<T;)v[b++]=0;N=L.slice(),N.unshift(0),S=L[0],L[1]>=On/2&&++S;do f=0,s=e(L,v,T,b),s<0?(_=v[0],T!=b&&(_=_*On+(v[1]||0)),f=_/S|0,f>1?(f>=On&&(f=On-1),h=t(L,f),p=h.length,b=v.length,s=e(h,v,p,b),s==1&&(f--,r(h,T<p?N:L,p))):(f==0&&(s=f=1),h=L.slice()),p=h.length,p<b&&h.unshift(0),r(v,h,b),s==-1&&(b=v.length,s=e(L,v,T,b),s<1&&(f++,r(v,T<b?N:L,b))),b=v.length):s===0&&(f++,v=[0]),x[c++]=f,s&&v[0]?v[b++]=M[P]||0:(v=[M[P]],b=1);while((P++<I||v[0]!==void 0)&&C--)}return x[0]||x.shift(),g.e=l,fr(g,a?o+an(g)+1:o)}})();function _Y(t,e){var r,n,i,o,a,s,l=0,c=0,f=t.constructor,h=f.precision;if(an(t)>16)throw Error(G3+an(t));if(!t.s)return new f(ao);for(Or=!1,s=h,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(Iu(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new f(ao),f.precision=s;;){if(i=fr(i.times(t),s),r=r.times(++l),a=o.plus(Js(i,r,s)),Ya(a.d).slice(0,s)===Ya(o.d).slice(0,s)){for(;c--;)o=fr(o.times(o),s);return f.precision=h,e==null?(Or=!0,fr(o,h)):o}o=a}}function an(t){for(var e=t.e*Nr,r=t.d[0];r>=10;r/=10)e++;return e}function DS(t,e,r){if(e>t.LN10.sd())throw Or=!0,r&&(t.precision=r),Error(Ho+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function tc(t){for(var e="";t--;)e+="0";return e}function Lg(t,e){var r,n,i,o,a,s,l,c,f,h=1,p=10,g=t,x=g.d,v=g.constructor,b=v.precision;if(g.s<1)throw Error(Ho+(g.s?"NaN":"-Infinity"));if(g.eq(ao))return new v(0);if(e==null?(Or=!1,c=b):c=e,g.eq(10))return e==null&&(Or=!0),DS(v,c);if(c+=p,v.precision=c,r=Ya(x),n=r.charAt(0),o=an(g),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Ya(g.d),n=r.charAt(0),h++;o=an(g),n>1?(g=new v("0."+r),o++):g=new v(n+"."+r.slice(1))}else return l=DS(v,c+2,b).times(o+""),g=Lg(new v(n+"."+r.slice(1)),c-p).plus(l),v.precision=b,e==null?(Or=!0,fr(g,b)):g;for(s=a=g=Js(g.minus(ao),g.plus(ao),c),f=fr(g.times(g),c),i=3;;){if(a=fr(a.times(f),c),l=s.plus(Js(a,new v(i),c)),Ya(l.d).slice(0,c)===Ya(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(DS(v,c+2,b).times(o+""))),s=Js(s,new v(h),c),v.precision=b,e==null?(Or=!0,fr(s,b)):s;s=l,i+=2}}function m9(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=up(r/Nr),t.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Nr;n<i;)t.d.push(+e.slice(n,n+=Nr));e=e.slice(n),n=Nr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Or&&(t.e>Ix||t.e<-Ix))throw Error(G3+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,i,o,a,s,l,c,f,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=Nr,i=e,c=h[f=0];else{if(f=Math.ceil((n+1)/Nr),o=h.length,f>=o)return t;for(c=o=h[f],a=1;o>=10;o/=10)a++;n%=Nr,i=n-Nr+a}if(r!==void 0&&(o=Iu(10,a-i-1),s=c/o%10|0,l=e<0||h[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Iu(10,a-i):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(o=an(t),h.length=1,e=e-o-1,h[0]=Iu(10,(Nr-e%Nr)%Nr),t.e=up(-e/Nr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,o=1,f--):(h.length=f+1,o=Iu(10,Nr-n),h[f]=i>0?(c/Iu(10,a-i)%Iu(10,i)|0)*o:0),l)for(;;)if(f==0){(h[0]+=o)==On&&(h[0]=1,++t.e);break}else{if(h[f]+=o,h[f]!=On)break;h[f--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(Or&&(t.e>Ix||t.e<-Ix))throw Error(G3+an(t));return t}function AY(t,e){var r,n,i,o,a,s,l,c,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Or?fr(e,g):e;if(l=t.d,h=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(f=a<0,f?(r=l,a=-a,s=h.length):(r=h,n=c,s=l.length),i=Math.max(Math.ceil(g/Nr),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}a=0}for(f&&(r=l,l=h,h=r,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=On-1;--l[o],l[i]+=On}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Or?fr(e,g):e):new p(0)}function uf(t,e,r){var n,i=an(t),o=Ya(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+tc(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+tc(-i-1)+o,r&&(n=r-a)>0&&(o+=tc(n))):i>=a?(o+=tc(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+tc(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=tc(n))),t.s<0?"-"+o:o}function g9(t,e){if(t.length>e)return t.length=e,!0}function CY(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ku+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return m9(a,o.toString())}else if(typeof o!="string")throw Error(Ku+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,QAe.test(o))m9(a,o);else throw Error(Ku+o)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CY,i.config=i.set=ZAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ZAe(t){if(!t||typeof t!="object")throw Error(Ho+"Object expected");var e,r,n,i=["precision",1,cp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(up(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ku+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ku+r+": "+n);return this}var K3=CY(XAe);ao=new K3(1);const cr=K3;function JAe(t){return nCe(t)||rCe(t)||tCe(t)||eCe()}function eCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tCe(t,e){if(t){if(typeof t=="string")return _N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _N(t,e)}}function rCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nCe(t){if(Array.isArray(t))return _N(t)}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iCe=function(e){return e},EY={},SY=function(e){return e===EY},y9=function(e){return function r(){return arguments.length===0||arguments.length===1&&SY(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},oCe=function t(e,r){return e===1?r:y9(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==EY}).length;return a>=e?r.apply(void 0,i):t(e-a,y9(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=i.map(function(h){return SY(h)?l.shift():h});return r.apply(void 0,JAe(f).concat(l))}))})},gw=function(e){return oCe(e.length,e)},AN=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},aCe=gw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),sCe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return iCe;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},CN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},TY=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function lCe(t){var e;return t===0?e=1:e=Math.floor(new cr(t).abs().log(10).toNumber())+1,e}function cCe(t,e,r){for(var n=new cr(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var uCe=gw(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),fCe=gw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),dCe=gw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const yw={rangeStep:cCe,getDigitCount:lCe,interpolateNumber:uCe,uninterpolateNumber:fCe,uninterpolateTruncation:dCe};function EN(t){return mCe(t)||pCe(t)||IY(t)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mCe(t){if(Array.isArray(t))return SN(t)}function Bg(t,e){return vCe(t)||yCe(t,e)||IY(t,e)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t,e){if(t){if(typeof t=="string")return SN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SN(t,e)}}function SN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yCe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function vCe(t){if(Array.isArray(t))return t}function NY(t){var e=Bg(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function PY(t,e,r){if(t.lte(0))return new cr(0);var n=yw.getDigitCount(t.toNumber()),i=new cr(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new cr(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new cr(Math.ceil(l))}function xCe(t,e,r){var n=1,i=new cr(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new cr(10).pow(yw.getDigitCount(t)-1),i=new cr(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new cr(Math.floor(t)))}else t===0?i=new cr(Math.floor((e-1)/2)):r||(i=new cr(Math.floor(t)));var a=Math.floor((e-1)/2),s=sCe(aCe(function(l){return i.add(new cr(l-a).mul(n)).toNumber()}),AN);return s(0,e)}function kY(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new cr(0),tickMin:new cr(0),tickMax:new cr(0)};var o=PY(new cr(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new cr(0):(a=new cr(t).add(e).div(2),a=a.sub(new cr(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new cr(e).sub(a).div(o).toNumber()),c=s+l+1;return c>r?kY(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:o,tickMin:a.sub(new cr(s).mul(o)),tickMax:a.add(new cr(l).mul(o))})}function bCe(t){var e=Bg(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=NY([r,n]),l=Bg(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var h=f===1/0?[c].concat(EN(AN(0,i-1).map(function(){return 1/0}))):[].concat(EN(AN(0,i-1).map(function(){return-1/0})),[f]);return r>n?CN(h):h}if(c===f)return xCe(c,i,o);var p=kY(c,f,a,o),g=p.step,x=p.tickMin,v=p.tickMax,b=yw.rangeStep(x,v.add(new cr(.1).mul(g)),g);return r>n?CN(b):b}function wCe(t,e){var r=Bg(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=NY([n,i]),s=Bg(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var f=Math.max(e,2),h=PY(new cr(c).sub(l).div(f-1),o,0),p=[].concat(EN(yw.rangeStep(new cr(l),new cr(c).sub(new cr(.99).mul(h)),h)),[c]);return n>i?CN(p):p}var _Ce=TY(bCe),ACe=TY(wCe),CCe="Invariant failed";function ff(t,e){throw new Error(CCe)}var ECe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function SCe(t,e){return PCe(t)||NCe(t,e)||ICe(t,e)||TCe()}function TCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(t,e){if(t){if(typeof t=="string")return v9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v9(t,e)}}function v9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function PCe(t){if(Array.isArray(t))return t}function kCe(t,e){if(t==null)return{};var r=OCe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RY(n.key),n)}}function DCe(t,e,r){return e&&RCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MCe(t,e,r){return e=Px(e),FCe(t,OY()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function FCe(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LCe(t)}function LCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OY=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function BCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TN(t,e)}function TN(t,e){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TN(t,e)}function jY(t,e,r){return e=RY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RY(t){var e=VCe(t,"string");return Ah(e)=="symbol"?e:e+""}function VCe(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ky=(function(t){function e(){return jCe(this,e),MCe(this,e,arguments)}return BCe(e,t),DCe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,p=kCe(n,ECe),g=lt(p,!1);this.props.direction==="x"&&f.type!=="number"&&ff();var x=l.map(function(v){var b=c(v,s),_=b.x,C=b.y,E=b.value,P=b.errorVal;if(!P)return null;var I=[],S,T;if(Array.isArray(P)){var N=SCe(P,2);S=N[0],T=N[1]}else S=T=P;if(o==="vertical"){var j=f.scale,B=C+i,M=B+a,L=B-a,F=j(E-S),$=j(E+T);I.push({x1:$,y1:M,x2:$,y2:L}),I.push({x1:F,y1:B,x2:$,y2:B}),I.push({x1:F,y1:M,x2:F,y2:L})}else if(o==="horizontal"){var H=h.scale,K=_+i,Z=K-a,q=K+a,re=H(E-S),U=H(E+T);I.push({x1:Z,y1:U,x2:q,y2:U}),I.push({x1:K,y1:re,x2:K,y2:U}),I.push({x1:Z,y1:re,x2:q,y2:re})}return te.createElement(Kt,Nx({className:"recharts-errorBar",key:"bar-".concat(I.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},g),I.map(function(X){return te.createElement("line",Nx({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return te.createElement(Kt,{className:"recharts-errorBars"},x)}}])})(te.Component);jY(Ky,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jY(Ky,"displayName","ErrorBar");function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){$Ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ce(t,e,r){return e=UCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UCe(t){var e=zCe(t,"string");return Vg(e)=="symbol"?e:e+""}function zCe(t,e){if(Vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DY=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=no(r,hc);if(!a)return null;var s=hc.defaultProps,l=s!==void 0?bu(bu({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(n||[]).reduce(function(f,h){var p=h.item,g=h.props,x=g.sectors||g.data||[];return f.concat(x.map(function(v){return{type:a.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var h=f.item,p=h.type.defaultProps,g=p!==void 0?bu(bu({},p),h.props):{},x=g.dataKey,v=g.name,b=g.legendType,_=g.hide;return{inactive:_,dataKey:x,type:l.iconType||b||"square",color:Y3(h),value:v||x,payload:g}}),bu(bu(bu({},l),hc.getWithHeight(a,i)),{},{payload:c,item:a})};function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function b9(t){return GCe(t)||qCe(t)||HCe(t)||WCe()}function WCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(t,e){if(t){if(typeof t=="string")return IN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IN(t,e)}}function qCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GCe(t){if(Array.isArray(t))return IN(t)}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yd(t,e,r){return e=KCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KCe(t){var e=YCe(t,"string");return $g(e)=="symbol"?e:e+""}function YCe(t,e){if($g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,r){return _t(t)||_t(e)?r:bn(e)?ho(t,e,r):yt(e)?e(t):r}function rg(t,e,r,n){var i=GAe(t,function(s){return yn(s,e)});if(r==="number"){var o=i.filter(function(s){return je(s)||parseFloat(s)});return o.length?[mw(o),pw(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!_t(s)}):i;return a.map(function(s){return bn(s)||s instanceof Date?s:""})}var XCe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?i[c-1].coordinate:i[s-1].coordinate,h=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(bi(h-f)!==bi(p-h)){var x=[];if(bi(p-h)===bi(l[1]-l[0])){g=p;var v=h+l[1]-l[0];x[0]=Math.min(v,(v+f)/2),x[1]=Math.max(v,(v+f)/2)}else{g=f;var b=p+l[1]-l[0];x[0]=Math.min(h,(b+h)/2),x[1]=Math.max(h,(b+h)/2)}var _=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var C=Math.min(f,p),E=Math.max(f,p);if(e>(C+h)/2&&e<=(E+h)/2){a=i[c].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<s-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===s-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){a=n[P].index;break}return a},Y3=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},QCe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,h=Object.keys(f),p=0,g=h.length;p<g;p++){var x=f[h[p]],v=x.items,b=x.cateAxisId,_=v.filter(function(T){return Zs(T.type).indexOf("Bar")>=0});if(_&&_.length){var C=_[0].type.defaultProps,E=C!==void 0?Wr(Wr({},C),_[0].props):_[0].props,P=E.barSize,I=E[b];a[I]||(a[I]=[]);var S=_t(P)?r:P;a[I].push({item:_[0],stackList:_.slice(1),barSize:_t(S)?void 0:wi(S,n,0)})}}return a},ZCe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=wi(r,i,0,!0),f,h=[];if(a[0].barSize===+a[0].barSize){var p=!1,g=i/l,x=a.reduce(function(P,I){return P+I.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&g>0&&(p=!0,g*=.9,x=l*g);var v=(i-x)/2>>0,b={offset:v-c,size:0};f=a.reduce(function(P,I){var S={item:I.item,position:{offset:b.offset+b.size+c,size:p?g:I.barSize}},T=[].concat(b9(P),[S]);return b=T[T.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(N){T.push({item:N,position:b})}),T},h)}else{var _=wi(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var C=(i-2*_-(l-1)*c)/l;C>1&&(C>>=0);var E=s===+s?Math.min(C,s):C;f=a.reduce(function(P,I,S){var T=[].concat(b9(P),[{item:I.item,position:{offset:_+(C+c)*S+(C-E)/2,size:E}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(N){T.push({item:N,position:T[T.length-1].position})}),T},h)}return f},JCe=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),c=DY({children:o,legendWidth:l});if(c){var f=i||{},h=f.width,p=f.height,g=c.align,x=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&je(e[g]))return Wr(Wr({},e),{},Yd({},g,e[g]+(h||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&je(e[x]))return Wr(Wr({},e),{},Yd({},x,e[x]+(p||0)))}return e},eEe=function(e,r,n){return _t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},MY=function(e,r,n,i,o){var a=r.props.children,s=po(a,Ky).filter(function(c){return eEe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var h=yn(f,n);if(_t(h))return c;var p=Array.isArray(h)?[mw(h),pw(h)]:[h,h],g=l.reduce(function(x,v){var b=yn(f,v,0),_=p[0]-Math.abs(Array.isArray(b)?b[0]:b),C=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},tEe=function(e,r,n,i,o){var a=r.map(function(s){return MY(e,s,n,o,i)}).filter(function(s){return!_t(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},FY=function(e,r,n,i,o){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&MY(e,l,c,i)||rg(e,c,n,o)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var f=0,h=c.length;f<h;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},LY=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},BY=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},Ks=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&s?.length>=2?bi(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=o?o.indexOf(h):h;return{coordinate:i(p)+c,value:h,offset:c}});return f.filter(function(h){return!$y(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+c,value:h,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,p){return{coordinate:i(h)+c,value:o?o[h]:h,index:p,offset:c}})},MS=new WeakMap,$v=function(e,r){if(typeof r!="function")return e;MS.has(e)||MS.set(e,new WeakMap);var n=MS.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},VY=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:jg(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Cx(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:tg(),realScaleType:"point"}:o==="category"?{scale:jg(),realScaleType:"band"}:{scale:Cx(),realScaleType:"linear"};if(sf(i)){var l="scale".concat(Jb(i));return{scale:(a9[l]||tg)(),realScaleType:a9[l]?l:"point"}}return yt(i)?{scale:i}:{scale:tg(),realScaleType:"point"}},_9=1e-4,$Y=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-_9,a=Math.max(i[0],i[1])+_9,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},rEe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},nEe=function(e,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(o[0]=n),(!je(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},iEe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=$y(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},oEe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=$y(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},aEe={sign:iEe,expand:G1e,none:ph,silhouette:K1e,wiggle:Y1e,positive:oEe},sEe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=aEe[n],a=q1e().keys(i).value(function(s,l){return+yn(s,l,0)}).order(iN).offset(o);return a(e)},lEe=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},c=s.reduce(function(h,p){var g,x=(g=p.type)!==null&&g!==void 0&&g.defaultProps?Wr(Wr({},p.type.defaultProps),p.props):p.props,v=x.stackId,b=x.hide;if(b)return h;var _=x[n],C=h[_]||{hasStack:!1,stackGroups:{}};if(bn(v)){var E=C.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(p),C.hasStack=!0,C.stackGroups[v]=E}else C.stackGroups[ap("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Wr(Wr({},h),{},Yd({},_,C))},l),f={};return Object.keys(c).reduce(function(h,p){var g=c[p];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,b){var _=g.stackGroups[b];return Wr(Wr({},v),{},Yd({},b,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:sEe(e,_.items,o)}))},x)}return Wr(Wr({},h),{},Yd({},p,g))},f)},UY=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=_Ce(c,o,s);return e.domain([mw(f),pw(f)]),{niceTicks:f}}if(o&&i==="number"){var h=e.domain(),p=ACe(h,o,s);return{niceTicks:p}}return null};function A9(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var s=ax(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=yn(i,_t(a)?e.dataKey:a);return _t(l)?null:e.scale(l)}var C9=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=yn(a,r.dataKey,r.domain[s]);return _t(l)?null:r.scale(l)-o/2+i},cEe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},uEe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(bn(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},fEe=function(e){return e.reduce(function(r,n){return[mw(n.concat([r[0]]).filter(je)),pw(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},zY=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,f){var h=fEe(f.slice(r,n+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},E9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NN=function(e,r,n){if(yt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(je(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(E9.test(e[0])){var o=+E9.exec(e[0])[1];i[0]=r[0]-o}else yt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(je(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(S9.test(e[1])){var a=+S9.exec(e[1])[1];i[1]=r[1]+a}else yt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},kx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=A3(r,function(h){return h.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},T9=function(e,r,n){return!e||!e.length||Gy(e,ho(n,"type.defaultProps.domain"))?r:e},WY=function(e,r){var n=e.type.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return Wr(Wr({},lt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Y3(e),value:yn(r,i),type:l,payload:r,chartType:c,hide:f})};function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function I9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(r),!0).forEach(function(n){HY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HY(t,e,r){return e=dEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dEe(t){var e=hEe(t,"string");return Ug(e)=="symbol"?e:e+""}function hEe(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pEe(t,e){return vEe(t)||yEe(t,e)||gEe(t,e)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gEe(t,e){if(t){if(typeof t=="string")return N9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N9(t,e)}}function N9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function vEe(t){if(Array.isArray(t))return t}var Ox=Math.PI/180,xEe=function(e){return e*180/Math.PI},xr=function(e,r,n,i){return{x:e+Math.cos(-Ox*i)*n,y:r+Math.sin(-Ox*i)*n}},qY=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bEe=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,f=wi(e.cx,a,a/2),h=wi(e.cy,s,s/2),p=qY(a,s,n),g=wi(e.innerRadius,p,0),x=wi(e.outerRadius,p,p*.8),v=Object.keys(r);return v.reduce(function(b,_){var C=r[_],E=C.domain,P=C.reversed,I;if(_t(C.range))i==="angleAxis"?I=[l,c]:i==="radiusAxis"&&(I=[g,x]),P&&(I=[I[1],I[0]]);else{I=C.range;var S=I,T=pEe(S,2);l=T[0],c=T[1]}var N=VY(C,o),j=N.realScaleType,B=N.scale;B.domain(E).range(I),$Y(B);var M=UY(B,Us(Us({},C),{},{realScaleType:j})),L=Us(Us(Us({},C),M),{},{range:I,radius:x,realScaleType:j,scale:B,cx:f,cy:h,innerRadius:g,outerRadius:x,startAngle:l,endAngle:c});return Us(Us({},b),{},HY({},_,L))},{})},wEe=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},_Ee=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=wEe({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:xEe(c),angleInRadian:c}},AEe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},CEe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},P9=function(e,r){var n=e.x,i=e.y,o=_Ee({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var f=AEe(r),h=f.startAngle,p=f.endAngle,g=s,x;if(h<=p){for(;g>p;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=p}else{for(;g>h;)g-=360;for(;g<p;)g+=360;x=g>=p&&g<=h}return x?Us(Us({},r),{},{radius:a,angle:CEe(g,r)}):null},GY=function(e){return!k.isValidElement(e)&&!yt(e)&&typeof e!="boolean"?e.className:""};function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}var EEe=["offset"];function SEe(t){return PEe(t)||NEe(t)||IEe(t)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IEe(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function NEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PEe(t){if(Array.isArray(t))return PN(t)}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kEe(t,e){if(t==null)return{};var r=OEe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k9(Object(r),!0).forEach(function(n){jEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jEe(t,e,r){return e=REe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function REe(t){var e=DEe(t,"string");return zg(e)=="symbol"?e:e+""}function DEe(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wg.apply(this,arguments)}var MEe=function(e){var r=e.value,n=e.formatter,i=_t(e.children)?r:e.children;return yt(n)?n(i):i},FEe=function(e,r){var n=bi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},LEe=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,f=l.cy,h=l.innerRadius,p=l.outerRadius,g=l.startAngle,x=l.endAngle,v=l.clockWise,b=(h+p)/2,_=FEe(g,x),C=_>=0?1:-1,E,P;i==="insideStart"?(E=g+C*a,P=v):i==="insideEnd"?(E=x-C*a,P=!v):i==="end"&&(E=x+C*a,P=v),P=_<=0?P:!P;var I=xr(c,f,b,E),S=xr(c,f,b,E+(P?1:-1)*359),T="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(S.x,",").concat(S.y),N=_t(e.id)?ap("recharts-radial-line-"):e.id;return te.createElement("text",Wg({},n,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",s)}),te.createElement("defs",null,te.createElement("path",{id:N,d:T})),te.createElement("textPath",{xlinkHref:"#".concat(N)},r))},BEe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,h=o.endAngle,p=(f+h)/2;if(i==="outside"){var g=xr(a,s,c+n,p),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,_=xr(a,s,b,p),C=_.x,E=_.y;return{x:C,y:E,textAnchor:"middle",verticalAnchor:"middle"}},VEe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,c=a.width,f=a.height,h=f>=0?1:-1,p=h*i,g=h>0?"end":"start",x=h>0?"start":"end",v=c>=0?1:-1,b=v*i,_=v>0?"end":"start",C=v>0?"start":"end";if(o==="top"){var E={x:s+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:g};return dn(dn({},E),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var P={x:s+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:x};return dn(dn({},P),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var I={x:s-b,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return dn(dn({},I),n?{width:Math.max(I.x-n.x,0),height:f}:{})}if(o==="right"){var S={x:s+c+b,y:l+f/2,textAnchor:C,verticalAnchor:"middle"};return dn(dn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:f}:{})}var T=n?{width:c,height:f}:{};return o==="insideLeft"?dn({x:s+b,y:l+f/2,textAnchor:C,verticalAnchor:"middle"},T):o==="insideRight"?dn({x:s+c-b,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideTop"?dn({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:x},T):o==="insideBottom"?dn({x:s+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:g},T):o==="insideTopLeft"?dn({x:s+b,y:l+p,textAnchor:C,verticalAnchor:x},T):o==="insideTopRight"?dn({x:s+c-b,y:l+p,textAnchor:_,verticalAnchor:x},T):o==="insideBottomLeft"?dn({x:s+b,y:l+f-p,textAnchor:C,verticalAnchor:g},T):o==="insideBottomRight"?dn({x:s+c-b,y:l+f-p,textAnchor:_,verticalAnchor:g},T):op(o)&&(je(o.x)||Mu(o.x))&&(je(o.y)||Mu(o.y))?dn({x:s+wi(o.x,c),y:l+wi(o.y,f),textAnchor:"end",verticalAnchor:"end"},T):dn({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},$Ee=function(e){return"cx"in e&&je(e.cx)};function jn(t){var e=t.offset,r=e===void 0?5:e,n=kEe(t,EEe),i=dn({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!o||_t(s)&&_t(l)&&!k.isValidElement(c)&&!yt(c))return null;if(k.isValidElement(c))return k.cloneElement(c,i);var g;if(yt(c)){if(g=k.createElement(c,i),k.isValidElement(g))return g}else g=MEe(i);var x=$Ee(o),v=lt(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return LEe(i,g,v);var b=x?BEe(i):VEe(i);return te.createElement(cf,Wg({className:Ct("recharts-label",h)},v,b,{breakAll:p}),g)}jn.displayName="Label";var KY=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,g=e.top,x=e.left,v=e.width,b=e.height,_=e.clockWise,C=e.labelViewBox;if(C)return C;if(je(v)&&je(b)){if(je(h)&&je(p))return{x:h,y:p,width:v,height:b};if(je(g)&&je(x))return{x:g,y:x,width:v,height:b}}return je(h)&&je(p)?{x:h,y:p,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},UEe=function(e,r){return e?e===!0?te.createElement(jn,{key:"label-implicit",viewBox:r}):bn(e)?te.createElement(jn,{key:"label-implicit",viewBox:r,value:e}):k.isValidElement(e)?e.type===jn?k.cloneElement(e,{key:"label-implicit",viewBox:r}):te.createElement(jn,{key:"label-implicit",content:e,viewBox:r}):yt(e)?te.createElement(jn,{key:"label-implicit",content:e,viewBox:r}):op(e)?te.createElement(jn,Wg({viewBox:r},e,{key:"label-implicit"})):null:null},zEe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=KY(e),a=po(i,jn).map(function(l,c){return k.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return a;var s=UEe(e.label,r||o);return[s].concat(SEe(a))};jn.parseViewBox=KY;jn.renderCallByParent=zEe;var FS,O9;function WEe(){if(O9)return FS;O9=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return FS=t,FS}var HEe=WEe();const qEe=Xt(HEe);function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}var GEe=["valueAccessor"],KEe=["data","dataKey","clockWise","id","textBreakAll"];function YEe(t){return JEe(t)||ZEe(t)||QEe(t)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QEe(t,e){if(t){if(typeof t=="string")return kN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kN(t,e)}}function ZEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JEe(t){if(Array.isArray(t))return kN(t)}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jx.apply(this,arguments)}function j9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(r),!0).forEach(function(n){eSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eSe(t,e,r){return e=tSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tSe(t){var e=rSe(t,"string");return Hg(e)=="symbol"?e:e+""}function rSe(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D9(t,e){if(t==null)return{};var r=nSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iSe=function(e){return Array.isArray(e.value)?qEe(e.value):e.value};function el(t){var e=t.valueAccessor,r=e===void 0?iSe:e,n=D9(t,GEe),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,c=D9(n,KEe);return!i||!i.length?null:te.createElement(Kt,{className:"recharts-label-list"},i.map(function(f,h){var p=_t(o)?r(f,h):yn(f&&f.payload,o),g=_t(s)?{}:{id:"".concat(s,"-").concat(h)};return te.createElement(jn,jx({},lt(f,!0),c,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:jn.parseViewBox(_t(a)?f:R9(R9({},f),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}el.displayName="LabelList";function oSe(t,e){return t?t===!0?te.createElement(el,{key:"labelList-implicit",data:e}):te.isValidElement(t)||yt(t)?te.createElement(el,{key:"labelList-implicit",data:e,content:t}):op(t)?te.createElement(el,jx({data:e},t,{key:"labelList-implicit"})):null:null}function aSe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=po(n,el).map(function(a,s){return k.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=oSe(t.label,e);return[o].concat(YEe(i))}el.renderCallByParent=aSe;function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ON.apply(this,arguments)}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(n){sSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sSe(t,e,r){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lSe(t){var e=cSe(t,"string");return qg(e)=="symbol"?e:e+""}function cSe(t,e){if(qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uSe=function(e,r){var n=bi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Uv=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(s?1:-1)+i,h=Math.asin(l/f)/Ox,p=c?o:o+a*h,g=xr(r,n,f,p),x=xr(r,n,i,p),v=c?o-a*h:o,b=xr(r,n,f*Math.cos(h*Ox),v);return{center:g,circleTangency:x,lineTangency:b,theta:h}},YY=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=uSe(a,s),c=a+l,f=xr(r,n,o,a),h=xr(r,n,o,c),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=xr(r,n,i,a),x=xr(r,n,i,c);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},fSe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,h=bi(f-c),p=Uv({cx:r,cy:n,radius:o,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),g=p.circleTangency,x=p.lineTangency,v=p.theta,b=Uv({cx:r,cy:n,radius:o,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,C=b.lineTangency,E=b.theta,P=l?Math.abs(c-f):Math.abs(c-f)-v-E;if(P<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):YY({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:f});var I="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var S=Uv({cx:r,cy:n,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=S.circleTangency,N=S.lineTangency,j=S.theta,B=Uv({cx:r,cy:n,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=B.circleTangency,L=B.lineTangency,F=B.theta,$=l?Math.abs(c-f):Math.abs(c-f)-j-F;if($<0&&a===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},dSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XY=function(e){var r=F9(F9({},dSe),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,p=r.className;if(a<o||f===h)return null;var g=Ct("recharts-sector",p),x=a-o,v=wi(s,x,0,!0),b;return v>0&&Math.abs(f-h)<360?b=fSe({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}):b=YY({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:f,endAngle:h}),te.createElement("path",ON({},lt(r,!0),{className:g,d:b,role:"img"}))};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jN.apply(this,arguments)}function L9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(r),!0).forEach(function(n){hSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hSe(t,e,r){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pSe(t){var e=mSe(t,"string");return Gg(e)=="symbol"?e:e+""}function mSe(t,e){if(Gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V9={curveBasisClosed:D1e,curveBasisOpen:M1e,curveBasis:R1e,curveBumpX:b1e,curveBumpY:w1e,curveLinearClosed:F1e,curveLinear:tw,curveMonotoneX:L1e,curveMonotoneY:B1e,curveNatural:V1e,curveStep:$1e,curveStepAfter:z1e,curveStepBefore:U1e},zv=function(e){return e.x===+e.x&&e.y===+e.y},gm=function(e){return e.x},ym=function(e){return e.y},gSe=function(e,r){if(yt(e))return e;var n="curve".concat(Jb(e));return(n==="curveMonotone"||n==="curveBump")&&r?V9["".concat(n).concat(r==="vertical"?"Y":"X")]:V9[n]||tw},ySe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=gSe(n,s),h=c?o.filter(function(v){return zv(v)}):o,p;if(Array.isArray(a)){var g=c?a.filter(function(v){return zv(v)}):a,x=h.map(function(v,b){return B9(B9({},v),{},{base:g[b]})});return s==="vertical"?p=Rv().y(ym).x1(gm).x0(function(v){return v.base.x}):p=Rv().x(gm).y1(ym).y0(function(v){return v.base.y}),p.defined(zv).curve(f),p(x)}return s==="vertical"&&je(a)?p=Rv().y(ym).x1(gm).x0(a):je(a)?p=Rv().x(gm).y1(ym).y0(a):p=KG().x(gm).y(ym),p.defined(zv).curve(f),p(h)},Rx=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?ySe(e):i;return k.createElement("path",jN({},lt(e,!1),sx(e),{className:Ct("recharts-curve",r),d:a,ref:o}))},LS={exports:{}},BS,$9;function vSe(){if($9)return BS;$9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BS=t,BS}var VS,U9;function xSe(){if(U9)return VS;U9=1;var t=vSe();function e(){}function r(){}return r.resetWarningCache=e,VS=function(){function n(a,s,l,c,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},VS}var z9;function bSe(){return z9||(z9=1,LS.exports=xSe()()),LS.exports}var wSe=bSe();const rr=Xt(wSe);var _Se=Object.getOwnPropertyNames,ASe=Object.getOwnPropertySymbols,CSe=Object.prototype.hasOwnProperty;function W9(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Wv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function ESe(t){return t?.[Symbol.toStringTag]}function H9(t){return _Se(t).concat(ASe(t))}var SSe=Object.hasOwn||(function(t,e){return CSe.call(t,e)});function Cf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var TSe="__v",ISe="__o",NSe="_owner",q9=Object.getOwnPropertyDescriptor,G9=Object.keys;function PSe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function kSe(t,e){return Cf(t.getTime(),e.getTime())}function OSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jSe(t,e){return t===e}function K9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=e.entries(),f=!1,h=0;(s=c.next())&&!s.done;){if(i[h]){h++;continue}var p=a.value,g=s.value;if(r.equals(p[0],g[0],l,h,t,e,r)&&r.equals(p[1],g[1],p[0],g[0],t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}var RSe=Cf;function DSe(t,e,r){var n=G9(t),i=n.length;if(G9(e).length!==i)return!1;for(;i-- >0;)if(!QY(t,e,r,n[i]))return!1;return!0}function vm(t,e,r){var n=H9(t),i=n.length;if(H9(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=n[i],!QY(t,e,r,o)||(a=q9(t,o),s=q9(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function MSe(t,e){return Cf(t.valueOf(),e.valueOf())}function FSe(t,e){return t.source===e.source&&t.flags===e.flags}function Y9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),c=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){c=i[f]=!0;break}f++}if(!c)return!1}return!0}function LSe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function BSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function QY(t,e,r,n){return(n===NSe||n===ISe||n===TSe)&&(t.$$typeof||e.$$typeof)?!0:SSe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var VSe="[object Arguments]",$Se="[object Boolean]",USe="[object Date]",zSe="[object Error]",WSe="[object Map]",HSe="[object Number]",qSe="[object Object]",GSe="[object RegExp]",KSe="[object Set]",YSe="[object String]",XSe="[object URL]",QSe=Array.isArray,X9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q9=Object.assign,ZSe=Object.prototype.toString.call.bind(Object.prototype.toString);function JSe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,b,_){if(v===b)return!0;if(v==null||b==null)return!1;var C=typeof v;if(C!==typeof b)return!1;if(C!=="object")return C==="number"?a(v,b,_):C==="function"?i(v,b,_):!1;var E=v.constructor;if(E!==b.constructor)return!1;if(E===Object)return s(v,b,_);if(QSe(v))return e(v,b,_);if(X9!=null&&X9(v))return h(v,b,_);if(E===Date)return r(v,b,_);if(E===RegExp)return c(v,b,_);if(E===Map)return o(v,b,_);if(E===Set)return f(v,b,_);var P=ZSe(v);if(P===USe)return r(v,b,_);if(P===GSe)return c(v,b,_);if(P===WSe)return o(v,b,_);if(P===KSe)return f(v,b,_);if(P===qSe)return typeof v.then!="function"&&typeof b.then!="function"&&s(v,b,_);if(P===XSe)return p(v,b,_);if(P===zSe)return n(v,b,_);if(P===VSe)return s(v,b,_);if(P===$Se||P===HSe||P===YSe)return l(v,b,_);if(g){var I=g[P];if(!I){var S=ESe(v);S&&(I=g[S])}if(I)return I(v,b,_)}return!1}}function eTe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?vm:PSe,areDatesEqual:kSe,areErrorsEqual:OSe,areFunctionsEqual:jSe,areMapsEqual:n?W9(K9,vm):K9,areNumbersEqual:RSe,areObjectsEqual:n?vm:DSe,arePrimitiveWrappersEqual:MSe,areRegExpsEqual:FSe,areSetsEqual:n?W9(Y9,vm):Y9,areTypedArraysEqual:n?vm:LSe,areUrlsEqual:BSe,unknownTagComparators:void 0};if(r&&(i=Q9({},i,r(i))),e){var o=Wv(i.areArraysEqual),a=Wv(i.areMapsEqual),s=Wv(i.areObjectsEqual),l=Wv(i.areSetsEqual);i=Q9({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function tTe(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function rTe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,c){var f=n(),h=f.cache,p=h===void 0?e?new WeakMap:void 0:h,g=f.meta;return r(l,c,{cache:p,equals:i,meta:g,strict:o})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,a)}}var nTe=$c();$c({strict:!0});$c({circular:!0});$c({circular:!0,strict:!0});$c({createInternalComparator:function(){return Cf}});$c({strict:!0,createInternalComparator:function(){return Cf}});$c({circular:!0,createInternalComparator:function(){return Cf}});$c({circular:!0,createInternalComparator:function(){return Cf},strict:!0});function $c(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=eTe(t),l=JSe(s),c=n?n(l):tTe(l);return rTe({circular:r,comparator:l,createState:i,equals:c,strict:a})}function iTe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Z9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):iTe(i)};requestAnimationFrame(n)}function RN(t){"@babel/helpers - typeof";return RN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RN(t)}function oTe(t){return cTe(t)||lTe(t)||sTe(t)||aTe()}function aTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(t,e){if(t){if(typeof t=="string")return J9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J9(t,e)}}function J9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cTe(t){if(Array.isArray(t))return t}function uTe(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=oTe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){Z9(i.bind(null,c),l);return}i(l),Z9(i.bind(null,c));return}RN(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(n){ZY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e,r){return e=fTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fTe(t){var e=dTe(t,"string");return Kg(e)==="symbol"?e:String(e)}function dTe(t,e){if(Kg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hTe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},pTe=function(e){return e},mTe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ng=function(e,r){return Object.keys(r).reduce(function(n,i){return tB(tB({},n),{},ZY({},i,e(i,r[i])))},{})},rB=function(e,r,n){return e.map(function(i){return"".concat(mTe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function gTe(t,e){return xTe(t)||vTe(t,e)||JY(t,e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function xTe(t){if(Array.isArray(t))return t}function bTe(t){return ATe(t)||_Te(t)||JY(t)||wTe()}function wTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(t,e){if(t){if(typeof t=="string")return DN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(t,e)}}function _Te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ATe(t){if(Array.isArray(t))return DN(t)}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dx=1e-4,eX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},tX=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},nB=function(e,r){return function(n){var i=eX(e,r);return tX(i,n)}},CTe=function(e,r){return function(n){var i=eX(e,r),o=[].concat(bTe(i.map(function(a,s){return a*s}).slice(1)),[0]);return tX(o,n)}},iB=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=gTe(c,4);i=f[0],o=f[1],a=f[2],s=f[3]}}}var h=nB(i,a),p=nB(o,s),g=CTe(i,a),x=function(_){return _>1?1:_<0?0:_},v=function(_){for(var C=_>1?1:_,E=C,P=0;P<8;++P){var I=h(E)-C,S=g(E);if(Math.abs(I-C)<Dx||S<Dx)return p(E);E=x(E-I/S)}return p(E)};return v.isStepper=!1,v},ETe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(f,h,p){var g=-(f-h)*n,x=p*o,v=p+(g-x)*s/1e3,b=p*s/1e3+f;return Math.abs(b-h)<Dx&&Math.abs(v)<Dx?[h,0]:[b,v]};return l.isStepper=!0,l.dt=s,l},STe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iB(i);case"spring":return ETe();default:if(i.split("(")[0]==="cubic-bezier")return iB(i)}return typeof i=="function"?i:null};function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function oB(t){return NTe(t)||ITe(t)||rX(t)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NTe(t){if(Array.isArray(t))return FN(t)}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){MN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MN(t,e,r){return e=PTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PTe(t){var e=kTe(t,"string");return Yg(e)==="symbol"?e:String(e)}function kTe(t,e){if(Yg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OTe(t,e){return DTe(t)||RTe(t,e)||rX(t,e)||jTe()}function jTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(t,e){if(t){if(typeof t=="string")return FN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(t,e)}}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function DTe(t){if(Array.isArray(t))return t}var Mx=function(e,r,n){return e+(r-e)*n},LN=function(e){var r=e.from,n=e.to;return r!==n},MTe=function t(e,r,n){var i=ng(function(o,a){if(LN(a)){var s=e(a.from,a.to,a.velocity),l=OTe(s,2),c=l[0],f=l[1];return zn(zn({},a),{},{from:c,velocity:f})}return a},r);return n<1?ng(function(o,a){return LN(a)?zn(zn({},a),{},{velocity:Mx(a.velocity,i[o].velocity,n),from:Mx(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const FTe=(function(t,e,r,n,i){var o=hTe(t,e),a=o.reduce(function(b,_){return zn(zn({},b),{},MN({},_,[t[_],e[_]]))},{}),s=o.reduce(function(b,_){return zn(zn({},b),{},MN({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,f,h=function(){return null},p=function(){return ng(function(_,C){return C.from},s)},g=function(){return!Object.values(s).filter(LN).length},x=function(_){c||(c=_);var C=_-c,E=C/r.dt;s=MTe(r,s,E),i(zn(zn(zn({},t),e),p())),c=_,g()||(l=requestAnimationFrame(h))},v=function(_){f||(f=_);var C=(_-f)/n,E=ng(function(I,S){return Mx.apply(void 0,oB(S).concat([r(C)]))},a);if(i(zn(zn(zn({},t),e),E)),C<1)l=requestAnimationFrame(h);else{var P=ng(function(I,S){return Mx.apply(void 0,oB(S).concat([r(1)]))},a);i(zn(zn(zn({},t),e),P))}};return h=r.isStepper?x:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}});function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}var LTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function BTe(t,e){if(t==null)return{};var r=VTe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VTe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $S(t){return WTe(t)||zTe(t)||UTe(t)||$Te()}function $Te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UTe(t,e){if(t){if(typeof t=="string")return BN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(t,e)}}function zTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WTe(t){if(Array.isArray(t))return BN(t)}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){Fm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fm(t,e,r){return e=nX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nX(n.key),n)}}function GTe(t,e,r){return e&&qTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nX(t){var e=KTe(t,"string");return Ch(e)==="symbol"?e:String(e)}function KTe(t,e){if(Ch(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VN(t,e)}function XTe(t){var e=QTe();return function(){var n=Fx(t),i;if(e){var o=Fx(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return $N(this,i)}}function $N(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UN(t)}function UN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(t)}var hs=(function(t){YTe(r,t);var e=XTe(r);function r(n,i){var o;HTe(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,f=a.to,h=a.steps,p=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(UN(o)),o.changeStyle=o.changeStyle.bind(UN(o)),!s||g<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:f}),$N(o);if(h&&h.length)o.state={style:h[0].style};else if(c){if(typeof p=="function")return o.state={style:c},$N(o);o.state={style:l?Fm({},l,c):c}}else o.state={style:{}};return o}return GTe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,h=o.from,p=this.state.style;if(s){if(!a){var g={style:l?Fm({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(g);return}if(!(nTe(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||c?h:i.to;if(this.state&&p){var b={style:l?Fm({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(b)}this.runAnimation(na(na({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,g=FTe(a,s,STe(c),l,this.changeStyle),x=function(){o.stopJSAnimation=g()};this.manager.start([p,f,x,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],f=c.style,h=c.duration,p=h===void 0?0:h,g=function(v,b,_){if(_===0)return v;var C=b.duration,E=b.easing,P=E===void 0?"ease":E,I=b.style,S=b.properties,T=b.onAnimationEnd,N=_>0?a[_-1]:b,j=S||Object.keys(I);if(typeof P=="function"||P==="spring")return[].concat($S(v),[o.runJSAnimation.bind(o,{from:N.style,to:I,duration:C,easing:P}),C]);var B=rB(j,C,P),M=na(na(na({},N.style),I),{},{transition:B});return[].concat($S(v),[M,C,T]).filter(pTe)};return this.manager.start([l].concat($S(a.reduce(g,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uTe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=s?Fm({},s,l):l,b=rB(Object.keys(v),a,c);x.start([f,o,na(na({},v),{},{transition:b}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=BTe(i,LTe),c=k.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||a<=0)return o;var h=function(g){var x=g.props,v=x.style,b=v===void 0?{}:v,_=x.className,C=k.cloneElement(g,na(na({},l),{},{style:na(na({},b),f),className:_}));return C};return c===1?h(k.Children.only(o)):te.createElement("div",null,k.Children.map(o,function(p){return h(p)}))}}]),r})(k.PureComponent);hs.displayName="Animate";hs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hs.propTypes={from:rr.oneOfType([rr.object,rr.string]),to:rr.oneOfType([rr.object,rr.string]),attributeName:rr.string,duration:rr.number,begin:rr.number,easing:rr.oneOfType([rr.string,rr.func]),steps:rr.arrayOf(rr.shape({duration:rr.number.isRequired,style:rr.object.isRequired,easing:rr.oneOfType([rr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rr.func]),properties:rr.arrayOf("string"),onAnimationEnd:rr.func})),children:rr.oneOfType([rr.node,rr.func]),isActive:rr.bool,canBegin:rr.bool,onAnimationEnd:rr.func,shouldReAnimate:rr.bool,onAnimationStart:rr.func,onAnimationReStart:rr.func};function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lx.apply(this,arguments)}function ZTe(t,e){return rIe(t)||tIe(t,e)||eIe(t,e)||JTe()}function JTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eIe(t,e){if(t){if(typeof t=="string")return lB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lB(t,e)}}function lB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function rIe(t){if(Array.isArray(t))return t}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){nIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nIe(t,e,r){return e=iIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iIe(t){var e=oIe(t,"string");return Xg(e)=="symbol"?e:e+""}function oIe(t,e){if(Xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fB=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,f;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=o[p]>a?a:o[p];f="M".concat(e,",").concat(r+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(r)),f+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*h[1])),f+="L ".concat(e+n,",").concat(r+i-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-l*h[2],",").concat(r+i)),f+="L ".concat(e+l*h[3],",").concat(r+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*h[3])),f+="Z"}else if(a>0&&o===+o&&o>0){var x=Math.min(a,o);f="M ".concat(e,",").concat(r+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(r,`
            L `).concat(e+n-l*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*x,`
            L `).concat(e+n,",").concat(r+i-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n-l*x,",").concat(r+i,`
            L `).concat(e+l*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*x," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},aIe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),h=Math.min(a,a+l),p=Math.max(a,a+l);return n>=c&&n<=f&&i>=h&&i<=p}return!1},sIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X3=function(e){var r=uB(uB({},sIe),e),n=k.useRef(),i=k.useState(-1),o=ZTe(i,2),a=o[0],s=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&s(P)}catch{}},[]);var l=r.x,c=r.y,f=r.width,h=r.height,p=r.radius,g=r.className,x=r.animationEasing,v=r.animationDuration,b=r.animationBegin,_=r.isAnimationActive,C=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||h!==+h||f===0||h===0)return null;var E=Ct("recharts-rectangle",g);return C?te.createElement(hs,{canBegin:a>0,from:{width:f,height:h,x:l,y:c},to:{width:f,height:h,x:l,y:c},duration:v,animationEasing:x,isActive:C},function(P){var I=P.width,S=P.height,T=P.x,N=P.y;return te.createElement(hs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:_,easing:x},te.createElement("path",Lx({},lt(r,!0),{className:E,d:fB(T,N,I,S,p),ref:n})))}):te.createElement("path",Lx({},lt(r,!0),{className:E,d:fB(l,c,f,h,p)}))},lIe=["points","className","baseLinePoints","connectNulls"];function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jd.apply(this,arguments)}function cIe(t,e){if(t==null)return{};var r=uIe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dB(t){return pIe(t)||hIe(t)||dIe(t)||fIe()}function fIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dIe(t,e){if(t){if(typeof t=="string")return zN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(t,e)}}function hIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pIe(t){if(Array.isArray(t))return zN(t)}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hB=function(e){return e&&e.x===+e.x&&e.y===+e.y},mIe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){hB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ig=function(e,r){var n=mIe(e);r&&(n=[n.reduce(function(o,a){return[].concat(dB(o),dB(a))},[])]);var i=n.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},gIe=function(e,r,n){var i=ig(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ig(r.reverse(),n).slice(1))},yIe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,a=cIe(e,lIe);if(!r||!r.length)return null;var s=Ct("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=gIe(r,i,o);return te.createElement("g",{className:s},te.createElement("path",jd({},lt(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?te.createElement("path",jd({},lt(a,!0),{fill:"none",d:ig(r,o)})):null,l?te.createElement("path",jd({},lt(a,!0),{fill:"none",d:ig(i,o)})):null)}var f=ig(r,o);return te.createElement("path",jd({},lt(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",className:s,d:f}))};function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WN.apply(this,arguments)}var vw=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=Ct("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",WN({},lt(e,!1),sx(e),{className:a,cx:r,cy:n,r:i})):null};function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}var vIe=["x","y","top","left","width","height","className"];function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(this,arguments)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){bIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bIe(t,e,r){return e=wIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wIe(t){var e=_Ie(t,"string");return Qg(e)=="symbol"?e:e+""}function _Ie(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AIe(t,e){if(t==null)return{};var r=CIe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EIe=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},SIe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,f=e.width,h=f===void 0?0:f,p=e.height,g=p===void 0?0:p,x=e.className,v=AIe(e,vIe),b=xIe({x:n,y:o,top:s,left:c,width:h,height:g},v);return!je(n)||!je(o)||!je(h)||!je(g)||!je(s)||!je(c)?null:te.createElement("path",HN({},lt(b,!0),{className:Ct("recharts-cross",x),d:EIe(n,o,h,g,s,c)}))},US,mB;function TIe(){if(mB)return US;mB=1;var t=hw(),e=vY(),r=bs();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return US=n,US}var IIe=TIe();const NIe=Xt(IIe);var zS,gB;function PIe(){if(gB)return zS;gB=1;var t=hw(),e=bs(),r=xY();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return zS=n,zS}var kIe=PIe();const OIe=Xt(kIe);var jIe=["cx","cy","angle","ticks","axisLine"],RIe=["ticks","tick","angle","tickFormatter","stroke"];function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},og.apply(this,arguments)}function yB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(r),!0).forEach(function(n){xw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vB(t,e){if(t==null)return{};var r=DIe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oX(n.key),n)}}function FIe(t,e,r){return e&&xB(t.prototype,e),r&&xB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LIe(t,e,r){return e=Bx(e),BIe(t,iX()?Reflect.construct(e,r||[],Bx(t).constructor):e.apply(t,r))}function BIe(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VIe(t)}function VIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(t)}function $Ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qN(t,e)}function qN(t,e){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qN(t,e)}function xw(t,e,r){return e=oX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oX(t){var e=UIe(t,"string");return Eh(e)=="symbol"?e:e+""}function UIe(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bw=(function(t){function e(){return MIe(this,e),LIe(this,e,arguments)}return $Ie(e,t),FIe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return xr(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=NIe(s,function(f){return f.coordinate||0}),c=OIe(s,function(f){return f.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=n.axisLine,c=vB(n,jIe),f=s.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),h=xr(i,o,f[0],a),p=xr(i,o,f[1],a),g=wu(wu(wu({},lt(c,!1)),{},{fill:"none"},lt(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return te.createElement("line",og({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,f=vB(i,RIe),h=this.getTickTextAnchor(),p=lt(f,!1),g=lt(a,!1),x=o.map(function(v,b){var _=n.getTickValueCoord(v),C=wu(wu(wu(wu({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:c},g),{},{index:b},_),{},{payload:v});return te.createElement(Kt,og({className:Ct("recharts-polar-radius-axis-tick",GY(a)),key:"tick-".concat(v.coordinate)},lf(n.props,v,b)),e.renderTickItem(a,C,l?l(v.value,b):v.value))});return te.createElement(Kt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,a=n.tick;return!i||!i.length?null:te.createElement(Kt,{className:Ct("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),jn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return te.isValidElement(n)?a=te.cloneElement(n,i):yt(n)?a=n(i):a=te.createElement(cf,og({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])})(k.PureComponent);xw(bw,"displayName","PolarRadiusAxis");xw(bw,"axisType","radiusAxis");xw(bw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(this,arguments)}function bB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(r),!0).forEach(function(n){ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sX(n.key),n)}}function WIe(t,e,r){return e&&wB(t.prototype,e),r&&wB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HIe(t,e,r){return e=Vx(e),qIe(t,aX()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function qIe(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(t)}function GIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aX=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function KIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GN(t,e)}function ww(t,e,r){return e=sX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sX(t){var e=YIe(t,"string");return Sh(e)=="symbol"?e:e+""}function YIe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XIe=Math.PI/180,_B=1e-5,_w=(function(t){function e(){return zIe(this,e),HIe(this,e,arguments)}return KIe(e,t),WIe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,f=c||8,h=xr(o,a,s,n.coordinate),p=xr(o,a,s+(l==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*XIe),a;return o>_B?a=i==="outer"?"start":"end":o<-_B?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.radius,s=n.axisLine,l=n.axisLineType,c=_u(_u({},lt(this.props,!1)),{},{fill:"none"},lt(s,!1));if(l==="circle")return te.createElement(vw,ku({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var f=this.props.ticks,h=f.map(function(p){return xr(i,o,a,p.coordinate)});return te.createElement(yIe,ku({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,f=lt(this.props,!1),h=lt(a,!1),p=_u(_u({},f),{},{fill:"none"},lt(s,!1)),g=o.map(function(x,v){var b=n.getTickLineCoord(x),_=n.getTickTextAnchor(x),C=_u(_u(_u({textAnchor:_},f),{},{stroke:"none",fill:c},h),{},{index:v,payload:x,x:b.x2,y:b.y2});return te.createElement(Kt,ku({className:Ct("recharts-polar-angle-axis-tick",GY(a)),key:"tick-".concat(x.coordinate)},lf(n.props,x,v)),s&&te.createElement("line",ku({className:"recharts-polar-angle-axis-tick-line"},p,b)),a&&e.renderTickItem(a,C,l?l(x.value,v):x.value))});return te.createElement(Kt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,a=n.axisLine;return o<=0||!i||!i.length?null:te.createElement(Kt,{className:Ct("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var a;return te.isValidElement(n)?a=te.cloneElement(n,i):yt(n)?a=n(i):a=te.createElement(cf,ku({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])})(k.PureComponent);ww(_w,"displayName","PolarAngleAxis");ww(_w,"axisType","angleAxis");ww(_w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WS,AB;function QIe(){if(AB)return WS;AB=1;var t=yK(),e=t(Object.getPrototypeOf,Object);return WS=e,WS}var HS,CB;function ZIe(){if(CB)return HS;CB=1;var t=yl(),e=QIe(),r=vl(),n="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(f){if(!r(f)||t(f)!=n)return!1;var h=e(f);if(h===null)return!0;var p=s.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return HS=c,HS}var JIe=ZIe();const eNe=Xt(JIe);var qS,EB;function tNe(){if(EB)return qS;EB=1;var t=yl(),e=vl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return qS=n,qS}var rNe=tNe();const nNe=Xt(rNe);function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$x.apply(this,arguments)}function iNe(t,e){return lNe(t)||sNe(t,e)||aNe(t,e)||oNe()}function oNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aNe(t,e){if(t){if(typeof t=="string")return SB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SB(t,e)}}function SB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lNe(t){if(Array.isArray(t))return t}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){cNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cNe(t,e,r){return e=uNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uNe(t){var e=fNe(t,"string");return Zg(e)=="symbol"?e:e+""}function fNe(t,e){if(Zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NB=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},dNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hNe=function(e){var r=IB(IB({},dNe),e),n=k.useRef(),i=k.useState(-1),o=iNe(i,2),a=o[0],s=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,h=r.lowerWidth,p=r.height,g=r.className,x=r.animationEasing,v=r.animationDuration,b=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var C=Ct("recharts-trapezoid",g);return _?te.createElement(hs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:f,lowerWidth:h,height:p,x:l,y:c},duration:v,animationEasing:x,isActive:_},function(E){var P=E.upperWidth,I=E.lowerWidth,S=E.height,T=E.x,N=E.y;return te.createElement(hs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:x},te.createElement("path",$x({},lt(r,!0),{className:C,d:NB(T,N,P,I,S),ref:n})))}):te.createElement("g",null,te.createElement("path",$x({},lt(r,!0),{className:C,d:NB(l,c,f,h,p)})))},pNe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function mNe(t,e){if(t==null)return{};var r=gNe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ux(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(r),!0).forEach(function(n){yNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yNe(t,e,r){return e=vNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vNe(t){var e=xNe(t,"string");return Jg(e)=="symbol"?e:e+""}function xNe(t,e){if(Jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bNe(t,e){return Ux(Ux({},e),t)}function wNe(t,e){return t==="symbols"}function kB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return te.createElement(X3,r);case"trapezoid":return te.createElement(hNe,r);case"sector":return te.createElement(XY,r);case"symbols":if(wNe(e))return te.createElement(m3,r);break;default:return null}}function _Ne(t){return k.isValidElement(t)?t.props:t}function lX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?bNe:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=mNe(t,pNe),c;if(k.isValidElement(e))c=k.cloneElement(e,Ux(Ux({},l),_Ne(e)));else if(yt(e))c=e(l);else if(eNe(e)&&!nNe(e)){var f=i(e,l);c=te.createElement(kB,{shapeType:r,elementProps:f})}else{var h=l;c=te.createElement(kB,{shapeType:r,elementProps:h})}return s?te.createElement(Kt,{className:a},c):c}function Aw(t,e){return e!=null&&"trapezoids"in t.props}function Cw(t,e){return e!=null&&"sectors"in t.props}function ey(t,e){return e!=null&&"points"in t.props}function ANe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function CNe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ENe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function SNe(t,e){var r;return Aw(t,e)?r=ANe:Cw(t,e)?r=CNe:ey(t,e)&&(r=ENe),r}function TNe(t,e){var r;return Aw(t,e)?r="trapezoids":Cw(t,e)?r="sectors":ey(t,e)&&(r="points"),r}function INe(t,e){if(Aw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Cw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ey(t,e)?e.payload:{}}function NNe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=TNe(r,e),o=INe(r,e),a=n.filter(function(l,c){var f=Gy(o,l),h=r.props[i].filter(function(x){var v=SNe(r,e);return v(x,e)}),p=r.props[i].indexOf(h[h.length-1]),g=c===p;return f&&g}),s=n.indexOf(a[a.length-1]);return s}var _1;function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rd.apply(this,arguments)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){Do(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uX(n.key),n)}}function kNe(t,e,r){return e&&jB(t.prototype,e),r&&jB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ONe(t,e,r){return e=zx(e),jNe(t,cX()?Reflect.construct(e,r||[],zx(t).constructor):e.apply(t,r))}function jNe(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RNe(t)}function RNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(t)}function DNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KN(t,e)}function KN(t,e){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KN(t,e)}function Do(t,e,r){return e=uX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uX(t){var e=MNe(t,"string");return Th(e)=="symbol"?e:e+""}function MNe(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bl=(function(t){function e(r){var n;return PNe(this,e),n=ONe(this,e,[r]),Do(n,"pieRef",null),Do(n,"sectorRefs",[]),Do(n,"id",ap("recharts-pie-")),Do(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(i)&&i()}),Do(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return DNe(e,t),kNe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,f=lt(this.props,!1),h=lt(a,!1),p=lt(s,!1),g=a&&a.offsetRadius||20,x=n.map(function(v,b){var _=(v.startAngle+v.endAngle)/2,C=xr(v.cx,v.cy,v.outerRadius+g,_),E=mr(mr(mr(mr({},f),v),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(C.x,v.cx)},C),P=mr(mr(mr(mr({},f),v),{},{fill:"none",stroke:v.fill},p),{},{index:b,points:[xr(v.cx,v.cy,v.outerRadius,_),C]}),I=l;return _t(l)&&_t(c)?I="value":_t(l)&&(I=c),te.createElement(Kt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,P,"line"),e.renderLabelItem(a,E,yn(v,I)))});return te.createElement(Kt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return n.map(function(c,f){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(f),p=l&&i.hasActiveIndex()?l:null,g=h?a:p,x=mr(mr({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return te.createElement(Kt,Rd({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},lf(i.props,c,f),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(f)}),te.createElement(lX,Rd({option:g,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,g=h.prevIsAnimationActive;return te.createElement(hs,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,b=[],_=o&&o[0],C=_.startAngle;return o.forEach(function(E,P){var I=p&&p[P],S=P>0?ho(E,"paddingAngle",0):0;if(I){var T=io(I.endAngle-I.startAngle,E.endAngle-E.startAngle),N=mr(mr({},E),{},{startAngle:C+S,endAngle:C+T(v)+S});b.push(N),C=N.endAngle}else{var j=E.endAngle,B=E.startAngle,M=io(0,j-B),L=M(v),F=mr(mr({},E),{},{startAngle:C+S,endAngle:C+L+S});b.push(F),C=F.endAngle}}),te.createElement(Kt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Gy(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(o||!a||!a.length||!je(c)||!je(f)||!je(h)||!je(p))return null;var v=Ct("recharts-pie",s);return te.createElement(Kt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(_){n.pieRef=_}},this.renderSectors(),l&&this.renderLabels(a),jn.renderCallByParent(this.props,null,!1),(!g||x)&&el.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(te.isValidElement(n))return te.cloneElement(n,i);if(yt(n))return n(i);var a=Ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(Rx,Rd({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,o){if(te.isValidElement(n))return te.cloneElement(n,i);var a=o;if(yt(n)&&(a=n(i),te.isValidElement(a)))return a;var s=Ct("recharts-pie-label-text",typeof n!="boolean"&&!yt(n)?n.className:"");return te.createElement(cf,Rd({},i,{alignmentBaseline:"middle",className:s}),a)}}])})(k.PureComponent);_1=bl;Do(bl,"displayName","Pie");Do(bl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Do(bl,"parseDeltaAngle",function(t,e){var r=bi(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Do(bl,"getRealPieData",function(t){var e=t.data,r=t.children,n=lt(t,!1),i=po(r,aw);return e&&e.length?e.map(function(o,a){return mr(mr(mr({payload:o},n),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return mr(mr({},n),o.props)}):[]});Do(bl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,a=qY(i,o),s=n+wi(t.cx,i,i/2),l=r+wi(t.cy,o,o/2),c=wi(t.innerRadius,a,0),f=wi(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:f,maxRadius:h}});Do(bl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?mr(mr({},e.type.defaultProps),e.props):e.props,i=_1.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,a=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,f=n.nameKey,h=n.valueKey,p=n.tooltipType,g=Math.abs(n.minAngle),x=_1.parseCoordinateOfPie(n,r),v=_1.parseDeltaAngle(a,s),b=Math.abs(v),_=c;_t(c)&&_t(h)?(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):_t(c)&&(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=h);var C=i.filter(function(N){return yn(N,_,0)!==0}).length,E=(b>=360?C:C-1)*l,P=b-C*g-E,I=i.reduce(function(N,j){var B=yn(j,_,0);return N+(je(B)?B:0)},0),S;if(I>0){var T;S=i.map(function(N,j){var B=yn(N,_,0),M=yn(N,f,j),L=(je(B)?B:0)/I,F;j?F=T.endAngle+bi(v)*l*(B!==0?1:0):F=a;var $=F+bi(v)*((B!==0?g:0)+L*P),H=(F+$)/2,K=(x.innerRadius+x.outerRadius)/2,Z=[{name:M,value:B,payload:N,dataKey:_,type:p}],q=xr(x.cx,x.cy,K,H);return T=mr(mr(mr({percent:L,cornerRadius:o,name:M,tooltipPayload:Z,midAngle:H,middleRadius:K,tooltipPosition:q},N),x),{},{value:yn(N,_),startAngle:F,endAngle:$,payload:N,paddingAngle:bi(v)*l}),T})}return mr(mr({},x),{},{sectors:S,data:i})});var GS,RB;function FNe(){if(RB)return GS;RB=1;var t=Math.ceil,e=Math.max;function r(n,i,o,a){for(var s=-1,l=e(t((i-n)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=n,n+=o;return c}return GS=r,GS}var KS,DB;function fX(){if(DB)return KS;DB=1;var t=jK(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return KS=n,KS}var YS,MB;function LNe(){if(MB)return YS;MB=1;var t=FNe(),e=ow(),r=fX();function n(i){return function(o,a,s){return s&&typeof s!="number"&&e(o,a,s)&&(a=s=void 0),o=r(o),a===void 0?(a=o,o=0):a=r(a),s=s===void 0?o<a?1:-1:r(s),t(o,a,s,i)}}return YS=n,YS}var XS,FB;function BNe(){if(FB)return XS;FB=1;var t=LNe(),e=t();return XS=e,XS}var VNe=BNe();const Wx=Xt(VNe);function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function LB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(r),!0).forEach(function(n){dX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dX(t,e,r){return e=$Ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ne(t){var e=UNe(t,"string");return ty(e)=="symbol"?e:e+""}function UNe(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zNe=["Webkit","Moz","O","ms"],WNe=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=zNe.reduce(function(o,a){return BB(BB({},o),{},dX({},a+n,r))},{});return i[e]=r,i};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hx.apply(this,arguments)}function VB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(r),!0).forEach(function(n){ro(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pX(n.key),n)}}function qNe(t,e,r){return e&&$B(t.prototype,e),r&&$B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GNe(t,e,r){return e=qx(e),KNe(t,hX()?Reflect.construct(e,r||[],qx(t).constructor):e.apply(t,r))}function KNe(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YNe(t)}function YNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(t)}function XNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YN(t,e)}function YN(t,e){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YN(t,e)}function ro(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=QNe(t,"string");return Ih(e)=="symbol"?e:e+""}function QNe(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZNe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=tg().domain(Wx(0,l)).range([o,o+a-s]),f=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:f}},UB=function(e){return e.changedTouches&&!!e.changedTouches.length},Nh=(function(t){function e(r){var n;return HNe(this,e),n=GNe(this,e,[r]),ro(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ro(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ro(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),ro(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ro(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ro(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ro(n,"handleSlideDragStart",function(i){var o=UB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return XNe(e,t),qNe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,h=Math.min(i,o),p=Math.max(i,o),g=e.getIndexInRange(a,h),x=e.getIndexInRange(a,p);return{startIndex:g-g%l,endIndex:x===f?f:x-x%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=yn(o[n],s,n);return yt(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,f=l.width,h=l.travellerWidth,p=l.startIndex,g=l.endIndex,x=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-h-s,c+f-h-a):v<0&&(v=Math.max(v,c-a,c-s));var b=this.getIndex({startX:a+v,endX:s+v});(b.startIndex!==p||b.endIndex!==g)&&x&&x(b),this.setState({startX:a+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=UB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],f=this.props,h=f.x,p=f.width,g=f.travellerWidth,x=f.onChange,v=f.gap,b=f.data,_={startX:this.state.startX,endX:this.state.endX},C=n.pageX-o;C>0?C=Math.min(C,h+p-g-c):C<0&&(C=Math.max(C,h-c)),_[a]=c+C;var E=this.getIndex(_),P=E.startIndex,I=E.endIndex,S=function(){var N=b.length-1;return a==="startX"&&(s>l?P%v===0:I%v===0)||s<l&&I===N||a==="endX"&&(s>l?I%v===0:P%v===0)||s>l&&I===N};this.setState(ro(ro({},a,c+C),"brushMoveStartX",n.pageX),function(){x&&S()&&x(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,f=this.state[i],h=s.indexOf(f);if(h!==-1){var p=h+n;if(!(p===-1||p>=s.length)){var g=s[p];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(ro({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,c=n.stroke;return te.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,h=k.Children.only(c);return h?te.cloneElement(h,{x:i,y:o,width:a,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,c=l.y,f=l.travellerWidth,h=l.height,p=l.traveller,g=l.ariaLabel,x=l.data,v=l.startIndex,b=l.endIndex,_=Math.max(n,this.props.x),C=QS(QS({},lt(this.props,!1)),{},{x:_,y:c,width:f,height:h}),E=g||"Min value: ".concat((o=x[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return te.createElement(Kt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),s.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,C))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,i)+c,h=Math.max(Math.abs(i-n)-c,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:h,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,h=f.startX,p=f.endX,g=5,x={pointerEvents:"none",fill:c};return te.createElement(Kt,{className:"recharts-brush-texts"},te.createElement(cf,Hx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-g,y:a+s/2},x),this.getTextOfTick(i)),te.createElement(cf,Hx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+g,y:a+s/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,c=n.width,f=n.height,h=n.alwaysShowText,p=this.state,g=p.startX,x=p.endX,v=p.isTextActive,b=p.isSlideMoving,_=p.isTravellerMoving,C=p.isTravellerFocused;if(!i||!i.length||!je(s)||!je(l)||!je(c)||!je(f)||c<=0||f<=0)return null;var E=Ct("recharts-brush",o),P=te.Children.count(a)===1,I=WNe("userSelect","none");return te.createElement(Kt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||b||_||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),te.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return te.isValidElement(n)?o=te.cloneElement(n,i):yt(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,h=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return QS({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?ZNe({data:o,width:a,x:s,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])})(k.PureComponent);ro(Nh,"displayName","Brush");ro(Nh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ZS,zB;function JNe(){if(zB)return ZS;zB=1;var t=_3();function e(r,n){var i;return t(r,function(o,a,s){return i=n(o,a,s),!i}),!!i}return ZS=e,ZS}var JS,WB;function ePe(){if(WB)return JS;WB=1;var t=uK(),e=bs(),r=JNe(),n=$i(),i=ow();function o(a,s,l){var c=n(a)?t:r;return l&&i(a,s,l)&&(s=void 0),c(a,e(s,3))}return JS=o,JS}var tPe=ePe();const rPe=Xt(tPe);var ls=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},eT,HB;function nPe(){if(HB)return eT;HB=1;var t=IK();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return eT=e,eT}var tT,qB;function iPe(){if(qB)return tT;qB=1;var t=nPe(),e=SK(),r=bs();function n(i,o){var a={};return o=r(o,3),e(i,function(s,l,c){t(a,l,o(s,l,c))}),a}return tT=n,tT}var oPe=iPe();const aPe=Xt(oPe);var rT,GB;function sPe(){if(GB)return rT;GB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return rT=t,rT}var nT,KB;function lPe(){if(KB)return nT;KB=1;var t=_3();function e(r,n){var i=!0;return t(r,function(o,a,s){return i=!!n(o,a,s),i}),i}return nT=e,nT}var iT,YB;function cPe(){if(YB)return iT;YB=1;var t=sPe(),e=lPe(),r=bs(),n=$i(),i=ow();function o(a,s,l){var c=n(a)?t:e;return l&&i(a,s,l)&&(s=void 0),c(a,r(s,3))}return iT=o,iT}var uPe=cPe();const mX=Xt(uPe);var fPe=["x","y"];function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XN.apply(this,arguments)}function XB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(r),!0).forEach(function(n){dPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dPe(t,e,r){return e=hPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hPe(t){var e=pPe(t,"string");return ry(e)=="symbol"?e:e+""}function pPe(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mPe(t,e){if(t==null)return{};var r=gPe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yPe(t,e){var r=t.x,n=t.y,i=mPe(t,fPe),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),f=parseInt(c,10),h="".concat(e.width||i.width),p=parseInt(h,10);return xm(xm(xm(xm(xm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function QB(t){return te.createElement(lX,XN({shapeType:"rectangle",propTransformer:yPe,activeClassName:"recharts-active-bar"},t))}var vPe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=je(n)||$ve(n);return o?e(n,i):(o||ff(),r)}},xPe=["value","background"],gX;function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function bPe(t,e){if(t==null)return{};var r=wPe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gx.apply(this,arguments)}function ZB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(r),!0).forEach(function(n){lc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vX(n.key),n)}}function APe(t,e,r){return e&&JB(t.prototype,e),r&&JB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CPe(t,e,r){return e=Kx(e),EPe(t,yX()?Reflect.construct(e,r||[],Kx(t).constructor):e.apply(t,r))}function EPe(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(t)}function SPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yX=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(t)}function TPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QN(t,e)}function lc(t,e,r){return e=vX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vX(t){var e=IPe(t,"string");return Ph(e)=="symbol"?e:e+""}function IPe(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yy=(function(t){function e(){var r;_Pe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=CPe(this,e,[].concat(i)),lc(r,"state",{isAnimationFinished:!1}),lc(r,"id",ap("recharts-bar-")),lc(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),lc(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return TPe(e,t),APe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=lt(this.props,!1);return n&&n.map(function(h,p){var g=p===l,x=g?c:a,v=en(en(en({},f),h),{},{isActive:g,option:x,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(Kt,Gx({className:"recharts-bar-rectangle"},lf(i.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),te.createElement(QB,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return te.createElement(hs,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=o.map(function(b,_){var C=p&&p[_];if(C){var E=io(C.x,b.x),P=io(C.y,b.y),I=io(C.width,b.width),S=io(C.height,b.height);return en(en({},b),{},{x:E(x),y:P(x),width:I(x),height:S(x)})}if(a==="horizontal"){var T=io(0,b.height),N=T(x);return en(en({},b),{},{y:b.y+b.height-N,height:N})}var j=io(0,b.width),B=j(x);return en(en({},b),{},{width:B})});return te.createElement(Kt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Gy(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=lt(this.props.background,!1);return o.map(function(c,f){c.value;var h=c.background,p=bPe(c,xPe);if(!h)return null;var g=en(en(en(en(en({},p),{},{fill:"#eee"},h),l),lf(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return te.createElement(QB,Gx({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,h=po(f,Ky);if(!h)return null;var p=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,_){var C=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:C,errorVal:yn(b,_)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return te.createElement(Kt,x,h.map(function(v){return te.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,h=n.width,p=n.height,g=n.isAnimationActive,x=n.background,v=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=Ct("recharts-bar",a),C=s&&s.allowDataOverflow,E=l&&l.allowDataOverflow,P=C||E,I=_t(v)?this.id:v;return te.createElement(Kt,{className:_},C||E?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(I)},te.createElement("rect",{x:C?c:c-h/2,y:E?f:f-p/2,width:C?h:h*2,height:E?p:p*2}))):null,te.createElement(Kt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(I,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,I),(!g||b)&&el.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(k.PureComponent);gX=Yy;lc(Yy,"displayName","Bar");lc(Yy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lc(Yy,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,g=rEe(n,r);if(!g)return null;var x=e.layout,v=r.type.defaultProps,b=v!==void 0?en(en({},v),r.props):r.props,_=b.dataKey,C=b.children,E=b.minPointSize,P=x==="horizontal"?a:o,I=c?P.scale.domain():null,S=cEe({numericAxis:P}),T=po(C,aw),N=h.map(function(j,B){var M,L,F,$,H,K;c?M=nEe(c[f+B],I):(M=yn(j,_),Array.isArray(M)||(M=[S,M]));var Z=vPe(E,gX.defaultProps.minPointSize)(M[1],B);if(x==="horizontal"){var q,re=[a.scale(M[0]),a.scale(M[1])],U=re[0],X=re[1];L=C9({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:j,index:B}),F=(q=X??U)!==null&&q!==void 0?q:void 0,$=g.size;var ee=U-X;if(H=Number.isNaN(ee)?0:ee,K={x:L,y:a.y,width:$,height:a.height},Math.abs(Z)>0&&Math.abs(H)<Math.abs(Z)){var W=bi(H||Z)*(Math.abs(Z)-Math.abs(H));F-=W,H+=W}}else{var Q=[o.scale(M[0]),o.scale(M[1])],se=Q[0],oe=Q[1];if(L=se,F=C9({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:j,index:B}),$=oe-se,H=g.size,K={x:o.x,y:F,width:o.width,height:H},Math.abs(Z)>0&&Math.abs($)<Math.abs(Z)){var ae=bi($||Z)*(Math.abs(Z)-Math.abs($));$+=ae}}return en(en(en({},j),{},{x:L,y:F,width:$,height:H,value:c?M:M[1],payload:j,background:K},T&&T[B]&&T[B].props),{},{tooltipPayload:[WY(r,j)],tooltipPosition:{x:L+$/2,y:F+H/2}})});return en({data:N,layout:x},p)});function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function NPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xX(n.key),n)}}function PPe(t,e,r){return e&&eV(t.prototype,e),r&&eV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(n){Ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ew(t,e,r){return e=xX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=kPe(t,"string");return ny(e)=="symbol"?e:e+""}function kPe(t,e){if(ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OPe=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!no(c,Yy);return f.reduce(function(g,x){var v=r[x],b=v.orientation,_=v.domain,C=v.padding,E=C===void 0?{}:C,P=v.mirror,I=v.reversed,S="".concat(b).concat(P?"Mirror":""),T,N,j,B,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var L=_[1]-_[0],F=1/0,$=v.categoricalDomain.sort(Wve);if($.forEach(function(Q,se){se>0&&(F=Math.min((Q||0)-($[se-1]||0),F))}),Number.isFinite(F)){var H=F/L,K=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(T=H*K/2),v.padding==="no-gap"){var Z=wi(e.barCategoryGap,H*K),q=H*K/2;T=q-Z-(q-Z)/K*Z}}}i==="xAxis"?N=[n.left+(E.left||0)+(T||0),n.left+n.width-(E.right||0)-(T||0)]:i==="yAxis"?N=l==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(T||0),n.top+n.height-(E.bottom||0)-(T||0)]:N=v.range,I&&(N=[N[1],N[0]]);var re=VY(v,o,p),U=re.scale,X=re.realScaleType;U.domain(_).range(N),$Y(U);var ee=UY(U,la(la({},v),{},{realScaleType:X}));i==="xAxis"?(M=b==="top"&&!P||b==="bottom"&&P,j=n.left,B=h[S]-M*v.height):i==="yAxis"&&(M=b==="left"&&!P||b==="right"&&P,j=h[S]-M*v.width,B=n.top);var W=la(la(la({},v),ee),{},{realScaleType:X,x:j,y:B,scale:U,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return W.bandSize=kx(W,ee),!v.hide&&i==="xAxis"?h[S]+=(M?-1:1)*W.height:v.hide||(h[S]+=(M?-1:1)*W.width),la(la({},g),{},Ew({},x,W))},{})},bX=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},jPe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return bX({x:r,y:n},{x:i,y:o})},wX=(function(){function t(e){NPe(this,t),this.scale=e}return PPe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Ew(wX,"EPS",1e-4);var Q3=function(e){var r=Object.keys(e).reduce(function(n,i){return la(la({},n),{},Ew({},i,wX.create(e[i])))},{});return la(la({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return aPe(i,function(l,c){return r[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return mX(i,function(o,a){return r[a].isInRange(o)})}})};function RPe(t){return(t%180+180)%180}var DPe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=RPe(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},oT,rV;function MPe(){if(rV)return oT;rV=1;var t=bs(),e=Uy(),r=nw();function n(i){return function(o,a,s){var l=Object(o);if(!e(o)){var c=t(a,3);o=r(o),a=function(h){return c(l[h],h,l)}}var f=i(o,a,s);return f>-1?l[c?o[f]:f]:void 0}}return oT=n,oT}var aT,nV;function FPe(){if(nV)return aT;nV=1;var t=fX();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return aT=e,aT}var sT,iV;function LPe(){if(iV)return sT;iV=1;var t=wK(),e=bs(),r=FPe(),n=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),t(o,e(a,3),c)}return sT=i,sT}var lT,oV;function BPe(){if(oV)return lT;oV=1;var t=MPe(),e=LPe(),r=t(e);return lT=r,lT}var VPe=BPe();const $Pe=Xt(VPe);var UPe=FG();const zPe=Xt(UPe);var WPe=zPe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Z3=k.createContext(void 0),J3=k.createContext(void 0),_X=k.createContext(void 0),AX=k.createContext({}),CX=k.createContext(void 0),EX=k.createContext(0),SX=k.createContext(0),aV=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,f=WPe(o);return te.createElement(Z3.Provider,{value:n},te.createElement(J3.Provider,{value:i},te.createElement(AX.Provider,{value:o},te.createElement(_X.Provider,{value:f},te.createElement(CX.Provider,{value:a},te.createElement(EX.Provider,{value:c},te.createElement(SX.Provider,{value:l},s)))))))},HPe=function(){return k.useContext(CX)},TX=function(e){var r=k.useContext(Z3);r==null&&ff();var n=r[e];return n==null&&ff(),n},qPe=function(){var e=k.useContext(Z3);return ac(e)},GPe=function(){var e=k.useContext(J3),r=$Pe(e,function(n){return mX(n.domain,Number.isFinite)});return r||ac(e)},IX=function(e){var r=k.useContext(J3);r==null&&ff();var n=r[e];return n==null&&ff(),n},KPe=function(){var e=k.useContext(_X);return e},YPe=function(){return k.useContext(AX)},eO=function(){return k.useContext(SX)},tO=function(){return k.useContext(EX)};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function XPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PX(n.key),n)}}function ZPe(t,e,r){return e&&QPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JPe(t,e,r){return e=Yx(e),eke(t,NX()?Reflect.construct(e,r||[],Yx(t).constructor):e.apply(t,r))}function eke(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tke(t)}function tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NX=function(){return!!t})()}function Yx(t){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(t)}function rke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZN(t,e)}function sV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(r),!0).forEach(function(n){rO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rO(t,e,r){return e=PX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PX(t){var e=nke(t,"string");return kh(e)=="symbol"?e:e+""}function nke(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ike(t,e){return lke(t)||ske(t,e)||ake(t,e)||oke()}function oke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ake(t,e){if(t){if(typeof t=="string")return cV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cV(t,e)}}function cV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ske(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lke(t){if(Array.isArray(t))return t}function JN(){return JN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JN.apply(this,arguments)}var cke=function(e,r){var n;return te.isValidElement(e)?n=te.cloneElement(e,r):yt(e)?n=e(r):n=te.createElement("line",JN({},r,{className:"recharts-reference-line-line"})),n},uke=function(e,r,n,i,o,a,s,l,c){var f=o.x,h=o.y,p=o.width,g=o.height;if(n){var x=c.y,v=e.y.apply(x,{position:a});if(ls(c,"discard")&&!e.y.isInRange(v))return null;var b=[{x:f+p,y:v},{x:f,y:v}];return l==="left"?b.reverse():b}if(r){var _=c.x,C=e.x.apply(_,{position:a});if(ls(c,"discard")&&!e.x.isInRange(C))return null;var E=[{x:C,y:h+g},{x:C,y:h}];return s==="top"?E.reverse():E}if(i){var P=c.segment,I=P.map(function(S){return e.apply(S,{position:a})});return ls(c,"discard")&&rPe(I,function(S){return!e.isInRange(S)})?null:I}return null};function fke(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=HPe(),f=TX(i),h=IX(o),p=KPe();if(!c||!p)return null;ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Q3({x:f.scale,y:h.scale}),x=bn(e),v=bn(r),b=n&&n.length===2,_=uke(g,x,v,b,p,t.position,f.orientation,h.orientation,t);if(!_)return null;var C=ike(_,2),E=C[0],P=E.x,I=E.y,S=C[1],T=S.x,N=S.y,j=ls(t,"hidden")?"url(#".concat(c,")"):void 0,B=lV(lV({clipPath:j},lt(t,!0)),{},{x1:P,y1:I,x2:T,y2:N});return te.createElement(Kt,{className:Ct("recharts-reference-line",s)},cke(a,B),jn.renderCallByParent(t,jPe({x1:P,y1:I,x2:T,y2:N})))}var nO=(function(t){function e(){return XPe(this,e),JPe(this,e,arguments)}return rke(e,t),ZPe(e,[{key:"render",value:function(){return te.createElement(fke,this.props)}}])})(te.Component);rO(nO,"displayName","ReferenceLine");rO(nO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eP.apply(this,arguments)}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function uV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(r),!0).forEach(function(n){Sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OX(n.key),n)}}function pke(t,e,r){return e&&hke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mke(t,e,r){return e=Xx(e),gke(t,kX()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function gke(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yke(t)}function yke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function vke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tP(t,e)}function tP(t,e){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tP(t,e)}function Sw(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=xke(t,"string");return Oh(e)=="symbol"?e:e+""}function xke(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bke=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=Q3({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return ls(e,"discard")&&!a.isInRange(s)?null:s},Tw=(function(t){function e(){return dke(this,e),mke(this,e,arguments)}return vke(e,t),pke(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,c=bn(i),f=bn(o);if(ga(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var h=bke(this.props);if(!h)return null;var p=h.x,g=h.y,x=this.props,v=x.shape,b=x.className,_=ls(this.props,"hidden")?"url(#".concat(l,")"):void 0,C=fV(fV({clipPath:_},lt(this.props,!0)),{},{cx:p,cy:g});return te.createElement(Kt,{className:Ct("recharts-reference-dot",b)},e.renderDot(v,C),jn.renderCallByParent(this.props,{x:p-a,y:g-a,width:2*a,height:2*a}))}}])})(te.Component);Sw(Tw,"displayName","ReferenceDot");Sw(Tw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Sw(Tw,"renderDot",function(t,e){var r;return te.isValidElement(t)?r=te.cloneElement(t,e):yt(t)?r=t(e):r=te.createElement(vw,eP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rP.apply(this,arguments)}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function dV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(r),!0).forEach(function(n){Iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function Ake(t,e,r){return e&&_ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cke(t,e,r){return e=Qx(e),Eke(t,jX()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function Eke(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ske(t)}function Ske(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jX=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nP(t,e)}function nP(t,e){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nP(t,e)}function Iw(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=Ike(t,"string");return jh(e)=="symbol"?e:e+""}function Ike(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nke=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,h=o.yAxis;if(!f||!h)return null;var p=Q3({x:f.scale,y:h.scale}),g={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},x={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ls(o,"discard")&&(!p.isInRange(g)||!p.isInRange(x))?null:bX(g,x)},Nw=(function(t){function e(){return wke(this,e),Cke(this,e,arguments)}return Tke(e,t),Ake(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bn(i),p=bn(o),g=bn(a),x=bn(s),v=this.props.shape;if(!h&&!p&&!g&&!x&&!v)return null;var b=Nke(h,p,g,x,this.props);if(!b&&!v)return null;var _=ls(this.props,"hidden")?"url(#".concat(f,")"):void 0;return te.createElement(Kt,{className:Ct("recharts-reference-area",l)},e.renderRect(v,hV(hV({clipPath:_},lt(this.props,!0)),b)),jn.renderCallByParent(this.props,b))}}])})(te.Component);Iw(Nw,"displayName","ReferenceArea");Iw(Nw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Iw(Nw,"renderRect",function(t,e){var r;return te.isValidElement(t)?r=te.cloneElement(t,e):yt(t)?r=t(e):r=te.createElement(X3,rP({},e,{className:"recharts-reference-area-rect"})),r});function DX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Pke(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return DPe(n,r)}function kke(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function Zx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function Oke(t,e){return DX(t,e+1)}function jke(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,c=1,f=a,h=function(){var x=n?.[l];if(x===void 0)return{v:DX(n,c)};var v=l,b,_=function(){return b===void 0&&(b=r(x,v)),b},C=x.coordinate,E=l===0||Zx(t,C,_,f,s);E||(l=0,f=a,c+=1),E&&(f=C+t*(_()/2+i),l+=c)},p;c<=o.length;)if(p=h(),p)return p.v;return[]}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){Rke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rke(t,e,r){return e=Dke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dke(t){var e=Mke(t,"string");return iy(e)=="symbol"?e:e+""}function Mke(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fke(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(p){var g=o[p],x,v=function(){return x===void 0&&(x=r(g,p)),x};if(p===a-1){var b=t*(g.coordinate+t*v()/2-l);o[p]=g=ni(ni({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[p]=g=ni(ni({},g),{},{tickCoord:g.coordinate});var _=Zx(t,g.tickCoord,v,s,l);_&&(l=g.tickCoord-t*(v()/2+i),o[p]=ni(ni({},g),{},{isShow:!0}))},f=a-1;f>=0;f--)c(f);return o}function Lke(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var f=n[s-1],h=r(f,s-1),p=t*(f.coordinate+t*h/2-c);a[s-1]=f=ni(ni({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var g=Zx(t,f.tickCoord,function(){return h},l,c);g&&(c=f.tickCoord-t*(h/2+i),a[s-1]=ni(ni({},f),{},{isShow:!0}))}for(var x=o?s-1:s,v=function(C){var E=a[C],P,I=function(){return P===void 0&&(P=r(E,C)),P};if(C===0){var S=t*(E.coordinate-t*I()/2-l);a[C]=E=ni(ni({},E),{},{tickCoord:S<0?E.coordinate-S*t:E.coordinate})}else a[C]=E=ni(ni({},E),{},{tickCoord:E.coordinate});var T=Zx(t,E.tickCoord,I,l,c);T&&(l=E.tickCoord+t*(I()/2+i),a[C]=ni(ni({},E),{},{isShow:!0}))},b=0;b<x;b++)v(b);return a}function iO(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(je(l)||wf.isSsr)return Oke(i,typeof l=="number"&&je(l)?l:0);var p=[],g=s==="top"||s==="bottom"?"width":"height",x=f&&g==="width"?eg(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(E,P){var I=yt(c)?c(E.value,P):E.value;return g==="width"?Pke(eg(I,{fontSize:e,letterSpacing:r}),x,h):eg(I,{fontSize:e,letterSpacing:r})[g]},b=i.length>=2?bi(i[1].coordinate-i[0].coordinate):1,_=kke(o,b,g);return l==="equidistantPreserveStart"?jke(b,_,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Lke(b,_,v,i,a,l==="preserveStartEnd"):p=Fke(b,_,v,i,a),p.filter(function(C){return C.isShow}))}var Bke=["viewBox"],Vke=["viewBox"],$ke=["ticks"];function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dd.apply(this,arguments)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){oO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cT(t,e){if(t==null)return{};var r=Uke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function Wke(t,e,r){return e&&gV(t.prototype,e),r&&gV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hke(t,e,r){return e=Jx(e),qke(t,MX()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function qke(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gke(t)}function Gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function Kke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iP(t,e)}function iP(t,e){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iP(t,e)}function oO(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=Yke(t,"string");return Rh(e)=="symbol"?e:e+""}function Yke(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fp=(function(t){function e(r){var n;return zke(this,e),n=Hke(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Kke(e,t),Wke(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=cT(n,Bke),s=this.props,l=s.viewBox,c=cT(s,Vke);return!Gd(o,l)||!Gd(a,c)||!Gd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,g,x,v,b,_,C,E=h?-1:1,P=n.tickSize||f,I=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":g=x=n.coordinate,b=a+ +!h*l,v=b-E*P,C=v-E*p,_=I;break;case"left":v=b=n.coordinate,x=o+ +!h*s,g=x-E*P,_=g-E*p,C=I;break;case"right":v=b=n.coordinate,x=o+ +h*s,g=x+E*P,_=g+E*p,C=I;break;default:g=x=n.coordinate,b=a+ +h*l,v=b+E*P,C=v+E*p,_=I;break}return{line:{x1:g,y1:v,x2:x,y2:b},tick:{x:_,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,h=fn(fn(fn({},lt(this.props,!1)),lt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);h=fn(fn({},h),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);h=fn(fn({},h),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return te.createElement("line",Dd({},h,{className:Ct("recharts-cartesian-axis-line",ho(f,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,h=s.tickFormatter,p=s.unit,g=iO(fn(fn({},this.props),{},{ticks:n}),i,o),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=lt(this.props,!1),_=lt(f,!1),C=fn(fn({},b),{},{fill:"none"},lt(l,!1)),E=g.map(function(P,I){var S=a.getTickLineCoord(P),T=S.line,N=S.tick,j=fn(fn(fn(fn({textAnchor:x,verticalAnchor:v},b),{},{stroke:"none",fill:c},_),N),{},{index:I,payload:P,visibleTicksCount:g.length,tickFormatter:h});return te.createElement(Kt,Dd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},lf(a.props,P,I)),l&&te.createElement("line",Dd({},C,T,{className:Ct("recharts-cartesian-axis-tick-line",ho(l,"className"))})),f&&e.renderTickItem(f,j,"".concat(yt(h)?h(P.value,I):P.value).concat(p||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,g=cT(h,$ke),x=p;return yt(l)&&(x=p&&p.length>0?l(this.props):l(g)),a<=0||s<=0||!x||!x.length?null:te.createElement(Kt,{className:Ct("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a,s=Ct(i.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?a=te.cloneElement(n,fn(fn({},i),{},{className:s})):yt(n)?a=n(fn(fn({},i),{},{className:s})):a=te.createElement(cf,Dd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(k.Component);oO(fp,"displayName","CartesianAxis");oO(fp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xke=["x1","y1","x2","y2","key"],Qke=["offset"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function yV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(r),!0).forEach(function(n){Zke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zke(t,e,r){return e=Jke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jke(t){var e=e4e(t,"string");return df(e)=="symbol"?e:e+""}function e4e(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function vV(t,e){if(t==null)return{};var r=t4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var r4e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return te.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LX(t,e){var r;if(te.isValidElement(t))r=te.cloneElement(t,e);else if(yt(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=vV(e,Xke),c=lt(l,!1);c.offset;var f=vV(c,Qke);r=te.createElement("line",Bu({},f,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function n4e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ai(ai({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return LX(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function i4e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ai(ai({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return LX(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function o4e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var f=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var x=!f[g+1],v=x?i+a-p:f[g+1]-p;if(v<=0)return null;var b=g%e.length;return te.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:v,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function a4e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(p){return Math.round(p+o-o)}).sort(function(p,g){return p-g});o!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var x=!f[g+1],v=x?o+s-p:f[g+1]-p;if(v<=0)return null;var b=g%n.length;return te.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:v,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var s4e=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return BY(iO(ai(ai(ai({},fp.defaultProps),n),{},{ticks:Ks(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},l4e=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return BY(iO(ai(ai(ai({},fp.defaultProps),n),{},{ticks:Ks(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},pd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dp(t){var e,r,n,i,o,a,s=eO(),l=tO(),c=YPe(),f=ai(ai({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:pd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:pd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pd.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:pd.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:pd.verticalFill,x:je(t.x)?t.x:c.left,y:je(t.y)?t.y:c.top,width:je(t.width)?t.width:c.width,height:je(t.height)?t.height:c.height}),h=f.x,p=f.y,g=f.width,x=f.height,v=f.syncWithTicks,b=f.horizontalValues,_=f.verticalValues,C=qPe(),E=GPe();if(!je(g)||g<=0||!je(x)||x<=0||!je(h)||h!==+h||!je(p)||p!==+p)return null;var P=f.verticalCoordinatesGenerator||s4e,I=f.horizontalCoordinatesGenerator||l4e,S=f.horizontalPoints,T=f.verticalPoints;if((!S||!S.length)&&yt(I)){var N=b&&b.length,j=I({yAxis:E?ai(ai({},E),{},{ticks:N?b:E.ticks}):void 0,width:s,height:l,offset:c},N?!0:v);ga(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(df(j),"]")),Array.isArray(j)&&(S=j)}if((!T||!T.length)&&yt(P)){var B=_&&_.length,M=P({xAxis:C?ai(ai({},C),{},{ticks:B?_:C.ticks}):void 0,width:s,height:l,offset:c},B?!0:v);ga(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(df(M),"]")),Array.isArray(M)&&(T=M)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(r4e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),te.createElement(n4e,Bu({},f,{offset:c,horizontalPoints:S,xAxis:C,yAxis:E})),te.createElement(i4e,Bu({},f,{offset:c,verticalPoints:T,xAxis:C,yAxis:E})),te.createElement(o4e,Bu({},f,{horizontalPoints:S})),te.createElement(a4e,Bu({},f,{verticalPoints:T})))}dp.displayName="CartesianGrid";var c4e=["type","layout","connectNulls","ref"],u4e=["key"];function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function xV(t,e){if(t==null)return{};var r=f4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ag.apply(this,arguments)}function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){ca(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function md(t){return m4e(t)||p4e(t)||h4e(t)||d4e()}function d4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4e(t,e){if(t){if(typeof t=="string")return oP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oP(t,e)}}function p4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m4e(t){if(Array.isArray(t))return oP(t)}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VX(n.key),n)}}function y4e(t,e,r){return e&&wV(t.prototype,e),r&&wV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v4e(t,e,r){return e=eb(e),x4e(t,BX()?Reflect.construct(e,r||[],eb(t).constructor):e.apply(t,r))}function x4e(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b4e(t)}function b4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!t})()}function eb(t){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(t)}function w4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aP(t,e)}function ca(t,e,r){return e=VX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VX(t){var e=_4e(t,"string");return Dh(e)=="symbol"?e:e+""}function _4e(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mo=(function(t){function e(){var r;g4e(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=v4e(this,e,[].concat(i)),ca(r,"state",{isAnimationFinished:!0,totalLength:0}),ca(r,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),ca(r,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(_,C){return _+C});if(!c)return r.generateSimpleStrokeDasharray(s,a);for(var f=Math.floor(a/c),h=a%c,p=s-a,g=[],x=0,v=0;x<l.length;v+=l[x],++x)if(v+l[x]>h){g=[].concat(md(l.slice(0,x)),[h-v]);break}var b=g.length%2===0?[0,p]:[p];return[].concat(md(e.repeat(l,f)),md(g),b).map(function(_){return"".concat(_,"px")}).join(", ")}),ca(r,"id",ap("recharts-line-")),ca(r,"pathRef",function(a){r.mainCurve=a}),ca(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ca(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return w4e(e,t),y4e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,h=po(f,Ky);if(!h)return null;var p=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:yn(v.payload,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return te.createElement(Kt,g,h.map(function(x){return te.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,h=lt(this.props,!1),p=lt(l,!0),g=c.map(function(v,b){var _=eo(eo(eo({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return e.renderDotItem(l,_)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return te.createElement(Kt,ag({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(n,i,o,a){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var h=xV(s,c4e),p=eo(eo(eo({},lt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},a),{},{type:l,layout:c,connectNulls:f});return te.createElement(Rx,ag({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,f=a.animationBegin,h=a.animationDuration,p=a.animationEasing,g=a.animationId,x=a.animateNewValues,v=a.width,b=a.height,_=this.state,C=_.prevPoints,E=_.totalLength;return te.createElement(hs,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var I=P.t;if(C){var S=C.length/s.length,T=s.map(function(L,F){var $=Math.floor(F*S);if(C[$]){var H=C[$],K=io(H.x,L.x),Z=io(H.y,L.y);return eo(eo({},L),{},{x:K(I),y:Z(I)})}if(x){var q=io(v*2,L.x),re=io(b/2,L.y);return eo(eo({},L),{},{x:q(I),y:re(I)})}return eo(eo({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(T,n,i)}var N=io(0,E),j=N(I),B;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});B=o.getStrokeDasharray(j,E,M)}else B=o.generateSimpleStrokeDasharray(E,j);return o.renderCurveStatically(s,n,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&a&&a.length&&(!c&&f>0||!Gy(c,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,f=i.yAxis,h=i.top,p=i.left,g=i.width,x=i.height,v=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,C=s.length===1,E=Ct("recharts-line",l),P=c&&c.allowDataOverflow,I=f&&f.allowDataOverflow,S=P||I,T=_t(b)?this.id:b,N=(n=lt(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=N.r,B=j===void 0?3:j,M=N.strokeWidth,L=M===void 0?2:M,F=Jve(a)?a:{},$=F.clipDot,H=$===void 0?!0:$,K=B*2+L;return te.createElement(Kt,{className:E},P||I?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(T)},te.createElement("rect",{x:P?p:p-g/2,y:I?h:h-x/2,width:P?g:g*2,height:I?x:x*2})),!H&&te.createElement("clipPath",{id:"clipPath-dots-".concat(T)},te.createElement("rect",{x:p-K/2,y:h-K/2,width:g+K,height:x+K}))):null,!C&&this.renderCurve(S,T),this.renderErrorBar(S,T),(C||a)&&this.renderDots(S,H,T),(!v||_)&&el.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(md(n),[0]):n,a=[],s=0;s<i;++s)a=[].concat(md(a),md(o));return a}},{key:"renderDotItem",value:function(n,i){var o;if(te.isValidElement(n))o=te.cloneElement(n,i);else if(yt(n))o=n(i);else{var a=i.key,s=xV(i,u4e),l=Ct("recharts-line-dot",typeof n!="boolean"?n.className:"");o=te.createElement(vw,ag({key:a},s,{className:l}))}return o}}])})(k.PureComponent);ca(mo,"displayName","Line");ca(mo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ca(mo,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,f=e.layout,h=l.map(function(p,g){var x=yn(p,a);return f==="horizontal"?{x:A9({axis:r,ticks:i,bandSize:s,entry:p,index:g}),y:_t(x)?null:n.scale(x),value:x,payload:p}:{x:_t(x)?null:r.scale(x),y:A9({axis:n,ticks:o,bandSize:s,entry:p,index:g}),value:x,payload:p}});return eo({points:h,layout:f},c)});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function A4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zX(n.key),n)}}function E4e(t,e,r){return e&&C4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S4e(t,e,r){return e=tb(e),T4e(t,$X()?Reflect.construct(e,r||[],tb(t).constructor):e.apply(t,r))}function T4e(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I4e(t)}function I4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($X=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(t)}function N4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sP(t,e)}function sP(t,e){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sP(t,e)}function UX(t,e,r){return e=zX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zX(t){var e=P4e(t,"string");return Mh(e)=="symbol"?e:e+""}function P4e(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lP(){return lP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lP.apply(this,arguments)}function k4e(t){var e=t.xAxisId,r=eO(),n=tO(),i=TX(e);return i==null?null:k.createElement(fp,lP({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Ks(a,!0)}}))}var Uc=(function(t){function e(){return A4e(this,e),S4e(this,e,arguments)}return N4e(e,t),E4e(e,[{key:"render",value:function(){return k.createElement(k4e,this.props)}}])})(k.Component);UX(Uc,"displayName","XAxis");UX(Uc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function O4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qX(n.key),n)}}function R4e(t,e,r){return e&&j4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D4e(t,e,r){return e=rb(e),M4e(t,WX()?Reflect.construct(e,r||[],rb(t).constructor):e.apply(t,r))}function M4e(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4e(t)}function F4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WX=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(t)}function L4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}function cP(t,e){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cP(t,e)}function HX(t,e,r){return e=qX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qX(t){var e=B4e(t,"string");return Fh(e)=="symbol"?e:e+""}function B4e(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uP.apply(this,arguments)}var V4e=function(e){var r=e.yAxisId,n=eO(),i=tO(),o=IX(r);return o==null?null:k.createElement(fp,uP({},o,{className:Ct("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Ks(s,!0)}}))},zc=(function(t){function e(){return O4e(this,e),D4e(this,e,arguments)}return L4e(e,t),R4e(e,[{key:"render",value:function(){return k.createElement(V4e,this.props)}}])})(k.Component);HX(zc,"displayName","YAxis");HX(zc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _V(t){return W4e(t)||z4e(t)||U4e(t)||$4e()}function $4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4e(t,e){if(t){if(typeof t=="string")return fP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(t,e)}}function z4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W4e(t){if(Array.isArray(t))return fP(t)}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dP=function(e,r,n,i,o){var a=po(e,nO),s=po(e,Tw),l=[].concat(_V(a),_V(s)),c=po(e,Nw),f="".concat(i,"Id"),h=i[0],p=r;if(l.length&&(p=l.reduce(function(v,b){if(b.props[f]===n&&ls(b.props,"extendDomain")&&je(b.props[h])){var _=b.props[h];return[Math.min(v[0],_),Math.max(v[1],_)]}return v},p)),c.length){var g="".concat(h,"1"),x="".concat(h,"2");p=c.reduce(function(v,b){if(b.props[f]===n&&ls(b.props,"extendDomain")&&je(b.props[g])&&je(b.props[x])){var _=b.props[g],C=b.props[x];return[Math.min(v[0],_,C),Math.max(v[1],_,C)]}return v},p)}return o&&o.length&&(p=o.reduce(function(v,b){return je(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},p)),p},uT={exports:{}},AV;function H4e(){return AV||(AV=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||l,p),x=r?r+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,x=new Array(g);p<g;p++)x[p]=h[p].fn;return x},s.prototype.listenerCount=function(c){var f=r?r+c:c,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(c,f,h,p,g,x){var v=r?r+c:c;if(!this._events[v])return!1;var b=this._events[v],_=arguments.length,C,E;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,g),!0;case 6:return b.fn.call(b.context,f,h,p,g,x),!0}for(E=1,C=new Array(_-1);E<_;E++)C[E-1]=arguments[E];b.fn.apply(b.context,C)}else{var P=b.length,I;for(E=0;E<P;E++)switch(b[E].once&&this.removeListener(c,b[E].fn,void 0,!0),_){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,h);break;case 4:b[E].fn.call(b[E].context,f,h,p);break;default:if(!C)for(I=1,C=new Array(_-1);I<_;I++)C[I-1]=arguments[I];b[E].fn.apply(b[E].context,C)}}return!0},s.prototype.on=function(c,f,h){return o(this,c,f,h,!1)},s.prototype.once=function(c,f,h){return o(this,c,f,h,!0)},s.prototype.removeListener=function(c,f,h,p){var g=r?r+c:c;if(!this._events[g])return this;if(!f)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!p||x.once)&&(!h||x.context===h)&&a(this,g);else{for(var v=0,b=[],_=x.length;v<_;v++)(x[v].fn!==f||p&&!x[v].once||h&&x[v].context!==h)&&b.push(x[v]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(uT)),uT.exports}var q4e=H4e();const G4e=Xt(q4e);var fT=new G4e,dT="recharts.syncMouseEvents";function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function K4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GX(n.key),n)}}function X4e(t,e,r){return e&&Y4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hT(t,e,r){return e=GX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){var e=Q4e(t,"string");return oy(e)=="symbol"?e:e+""}function Q4e(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z4e=(function(){function t(){K4e(this,t),hT(this,"activeIndex",0),hT(this,"coordinateList",[]),hT(this,"layout","horizontal")}return X4e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,f=r.offset,h=f===void 0?null:f,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+l+c,p=a+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])})();function J4e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&je(n)&&je(i))return!0}return!1}function e3e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function KX(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=xr(e,r,n,i),s=xr(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function t3e(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,h=e.angle,p=xr(s,l,c,h),g=xr(s,l,f,h);n=p.x,i=p.y,o=g.x,a=g.y}else return KX(e);return[{x:n,y:i},{x:o,y:a}]}function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function CV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(r),!0).forEach(function(n){r3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r3e(t,e,r){return e=n3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n3e(t){var e=i3e(t,"string");return ay(e)=="symbol"?e:e+""}function i3e(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o3e(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var x,v=Rx;if(p==="ScatterChart")x=a,v=SIe;else if(p==="BarChart")x=e3e(h,a,l,f),v=X3;else if(h==="radial"){var b=KX(a),_=b.cx,C=b.cy,E=b.radius,P=b.startAngle,I=b.endAngle;x={cx:_,cy:C,startAngle:P,endAngle:I,innerRadius:E,outerRadius:E},v=XY}else x={points:t3e(h,a,l)},v=Rx;var S=Hv(Hv(Hv(Hv({stroke:"#ccc",pointerEvents:"none"},l),x),lt(g,!1)),{},{payload:s,payloadIndex:c,className:Ct("recharts-tooltip-cursor",g.className)});return k.isValidElement(g)?k.cloneElement(g,S):k.createElement(v,S)}var a3e=["item"],s3e=["children","className","width","height","style","compact","title","desc"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function EV(t,e){return u3e(t)||c3e(t,e)||XX(t,e)||l3e()}function l3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function u3e(t){if(Array.isArray(t))return t}function SV(t,e){if(t==null)return{};var r=f3e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QX(n.key),n)}}function p3e(t,e,r){return e&&h3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m3e(t,e,r){return e=nb(e),g3e(t,YX()?Reflect.construct(e,r||[],nb(t).constructor):e.apply(t,r))}function g3e(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y3e(t)}function y3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!t})()}function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(t)}function v3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hP(t,e)}function Bh(t){return w3e(t)||b3e(t)||XX(t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t,e){if(t){if(typeof t=="string")return pP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pP(t,e)}}function b3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w3e(t){if(Array.isArray(t))return pP(t)}function pP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function we(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(r),!0).forEach(function(n){ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ct(t,e,r){return e=QX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=_3e(t,"string");return Lh(e)=="symbol"?e:e+""}function _3e(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A3e={xAxis:["bottom","top"],yAxis:["left","right"]},C3e={width:"100%",height:"100%"},ZX={x:0,y:0};function qv(t){return t}var E3e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},S3e=function(e,r,n,i){var o=r.find(function(f){return f&&f.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return we(we(we({},i),xr(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return we(we(we({},i),xr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return ZX},Pw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Bh(s),Bh(c)):s},[]);return a.length>0?a:e&&e.length&&je(i)&&je(o)?e.slice(i,o+1):[]};function JX(t){return t==="number"?[0,"auto"]:void 0}var mP=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Pw(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,h=(f=c.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var g=h===void 0?s:h;p=ax(g,a.dataKey,i)}else p=h&&h[n]||s[n];return p?[].concat(Bh(l),[WY(c,p)]):l},[])},IV=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=E3e(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=XCe(a,s,c,l);if(f>=0&&c){var h=c[f]&&c[f].value,p=mP(e,r,f,h),g=S3e(n,s,f,o);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:g}}return null},T3e=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,g=LY(f,o);return n.reduce(function(x,v){var b,_=v.type.defaultProps!==void 0?we(we({},v.type.defaultProps),v.props):v.props,C=_.type,E=_.dataKey,P=_.allowDataOverflow,I=_.allowDuplicatedCategory,S=_.scale,T=_.ticks,N=_.includeHidden,j=_[a];if(x[j])return x;var B=Pw(e.data,{graphicalItems:i.filter(function(ee){var W,Q=a in ee.props?ee.props[a]:(W=ee.type.defaultProps)===null||W===void 0?void 0:W[a];return Q===j}),dataStartIndex:l,dataEndIndex:c}),M=B.length,L,F,$;J4e(_.domain,P,C)&&(L=NN(_.domain,null,P),g&&(C==="number"||S!=="auto")&&($=rg(B,E,"category")));var H=JX(C);if(!L||L.length===0){var K,Z=(K=_.domain)!==null&&K!==void 0?K:H;if(E){if(L=rg(B,E,C),C==="category"&&g){var q=zve(L);I&&q?(F=L,L=Wx(0,M)):I||(L=T9(Z,L,v).reduce(function(ee,W){return ee.indexOf(W)>=0?ee:[].concat(Bh(ee),[W])},[]))}else if(C==="category")I?L=L.filter(function(ee){return ee!==""&&!_t(ee)}):L=T9(Z,L,v).reduce(function(ee,W){return ee.indexOf(W)>=0||W===""||_t(W)?ee:[].concat(Bh(ee),[W])},[]);else if(C==="number"){var re=tEe(B,i.filter(function(ee){var W,Q,se=a in ee.props?ee.props[a]:(W=ee.type.defaultProps)===null||W===void 0?void 0:W[a],oe="hide"in ee.props?ee.props.hide:(Q=ee.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return se===j&&(N||!oe)}),E,o,f);re&&(L=re)}g&&(C==="number"||S!=="auto")&&($=rg(B,E,"category"))}else g?L=Wx(0,M):s&&s[j]&&s[j].hasStack&&C==="number"?L=p==="expand"?[0,1]:zY(s[j].stackGroups,l,c):L=FY(B,i.filter(function(ee){var W=a in ee.props?ee.props[a]:ee.type.defaultProps[a],Q="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return W===j&&(N||!Q)}),C,f,!0);if(C==="number")L=dP(h,L,j,o,T),Z&&(L=NN(Z,L,P));else if(C==="category"&&Z){var U=Z,X=L.every(function(ee){return U.indexOf(ee)>=0});X&&(L=U)}}return we(we({},x),{},ct({},j,we(we({},_),{},{axisType:o,domain:L,categoricalDomain:$,duplicateDomain:F,originalDomain:(b=_.domain)!==null&&b!==void 0?b:H,isCategorical:g,layout:f})))},{})},I3e=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=e.layout,h=e.children,p=Pw(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),g=p.length,x=LY(f,o),v=-1;return n.reduce(function(b,_){var C=_.type.defaultProps!==void 0?we(we({},_.type.defaultProps),_.props):_.props,E=C[a],P=JX("number");if(!b[E]){v++;var I;return x?I=Wx(0,g):s&&s[E]&&s[E].hasStack?(I=zY(s[E].stackGroups,l,c),I=dP(h,I,E,o)):(I=NN(P,FY(p,n.filter(function(S){var T,N,j=a in S.props?S.props[a]:(T=S.type.defaultProps)===null||T===void 0?void 0:T[a],B="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return j===E&&!B}),"number",f),i.defaultProps.allowDataOverflow),I=dP(h,I,E,o)),we(we({},b),{},ct({},E,we(we({axisType:o},i.defaultProps),{},{hide:!0,orientation:ho(A3e,"".concat(o,".").concat(v%2),null),domain:I,originalDomain:P,isCategorical:x,layout:f})))}return b},{})},N3e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=po(f,o),g={};return p&&p.length?g=T3e(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=I3e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},P3e=function(e){var r=ac(e),n=Ks(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:A3(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:kx(r,n)}},NV=function(e){var r=e.children,n=e.defaultShowTooltip,i=no(r,Nh),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},k3e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Zs(r&&r.type);return n&&n.indexOf("Bar")>=0})},PV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},O3e=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,h=n.children,p=n.margin||{},g=no(h,Nh),x=no(h,hc),v=Object.keys(l).reduce(function(I,S){var T=l[S],N=T.orientation;return!T.mirror&&!T.hide?we(we({},I),{},ct({},N,I[N]+T.width)):I},{left:p.left||0,right:p.right||0}),b=Object.keys(a).reduce(function(I,S){var T=a[S],N=T.orientation;return!T.mirror&&!T.hide?we(we({},I),{},ct({},N,ho(I,"".concat(N))+T.height)):I},{top:p.top||0,bottom:p.bottom||0}),_=we(we({},b),v),C=_.bottom;g&&(_.bottom+=g.props.height||Nh.defaultProps.height),x&&r&&(_=JCe(_,i,n,r));var E=c-_.left-_.right,P=f-_.top-_.bottom;return we(we({brushBottom:C},_),{},{width:Math.max(E,0),height:Math.max(P,0)})},j3e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},eQ=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(_,C){var E=C.graphicalItems,P=C.stackGroups,I=C.offset,S=C.updateId,T=C.dataStartIndex,N=C.dataEndIndex,j=_.barSize,B=_.layout,M=_.barGap,L=_.barCategoryGap,F=_.maxBarSize,$=PV(B),H=$.numericAxisName,K=$.cateAxisName,Z=k3e(E),q=[];return E.forEach(function(re,U){var X=Pw(_.data,{graphicalItems:[re],dataStartIndex:T,dataEndIndex:N}),ee=re.type.defaultProps!==void 0?we(we({},re.type.defaultProps),re.props):re.props,W=ee.dataKey,Q=ee.maxBarSize,se=ee["".concat(H,"Id")],oe=ee["".concat(K,"Id")],ae={},ve=l.reduce(function(tt,Et){var dr=C["".concat(Et.axisType,"Map")],jr=ee["".concat(Et.axisType,"Id")];dr&&dr[jr]||Et.axisType==="zAxis"||ff();var qr=dr[jr];return we(we({},tt),{},ct(ct({},Et.axisType,qr),"".concat(Et.axisType,"Ticks"),Ks(qr)))},ae),he=ve[K],_e=ve["".concat(K,"Ticks")],Pe=P&&P[se]&&P[se].hasStack&&uEe(re,P[se].stackGroups),pe=Zs(re.type).indexOf("Bar")>=0,et=kx(he,_e),$e=[],nt=Z&&QCe({barSize:j,stackGroups:P,totalSize:j3e(ve,K)});if(pe){var Ce,Re,Be=_t(Q)?F:Q,ze=(Ce=(Re=kx(he,_e,!0))!==null&&Re!==void 0?Re:Be)!==null&&Ce!==void 0?Ce:0;$e=ZCe({barGap:M,barCategoryGap:L,bandSize:ze!==et?ze:et,sizeList:nt[oe],maxBarSize:Be}),ze!==et&&($e=$e.map(function(tt){return we(we({},tt),{},{position:we(we({},tt.position),{},{offset:tt.position.offset-ze/2})})}))}var be=re&&re.type&&re.type.getComposedData;be&&q.push({props:we(we({},be(we(we({},ve),{},{displayedData:X,props:_,dataKey:W,item:re,bandSize:et,barPosition:$e,offset:I,stackedData:Pe,layout:B,dataStartIndex:T,dataEndIndex:N}))),{},ct(ct(ct({key:re.key||"item-".concat(U)},H,ve[H]),K,ve[K]),"animationId",S)),childIndex:r1e(re,_.children),item:re})}),q},g=function(_,C){var E=_.props,P=_.dataStartIndex,I=_.dataEndIndex,S=_.updateId;if(!$8({props:E}))return null;var T=E.children,N=E.layout,j=E.stackOffset,B=E.data,M=E.reverseStackOrder,L=PV(N),F=L.numericAxisName,$=L.cateAxisName,H=po(T,n),K=lEe(B,H,"".concat(F,"Id"),"".concat($,"Id"),j,M),Z=l.reduce(function(ee,W){var Q="".concat(W.axisType,"Map");return we(we({},ee),{},ct({},Q,N3e(E,we(we({},W),{},{graphicalItems:H,stackGroups:W.axisType===F&&K,dataStartIndex:P,dataEndIndex:I}))))},{}),q=O3e(we(we({},Z),{},{props:E,graphicalItems:H}),C?.legendBBox);Object.keys(Z).forEach(function(ee){Z[ee]=f(E,Z[ee],q,ee.replace("Map",""),r)});var re=Z["".concat($,"Map")],U=P3e(re),X=p(E,we(we({},Z),{},{dataStartIndex:P,dataEndIndex:I,updateId:S,graphicalItems:H,stackGroups:K,offset:q}));return we(we({formattedGraphicalItems:X,graphicalItems:H,offset:q,stackGroups:K},U),Z)},x=(function(b){function _(C){var E,P,I;return d3e(this,_),I=m3e(this,_,[C]),ct(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ct(I,"accessibilityManager",new Z4e),ct(I,"handleLegendBBoxUpdate",function(S){if(S){var T=I.state,N=T.dataStartIndex,j=T.dataEndIndex,B=T.updateId;I.setState(we({legendBBox:S},g({props:I.props,dataStartIndex:N,dataEndIndex:j,updateId:B},we(we({},I.state),{},{legendBBox:S}))))}}),ct(I,"handleReceiveSyncEvent",function(S,T,N){if(I.props.syncId===S){if(N===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(T)}}),ct(I,"handleBrushChange",function(S){var T=S.startIndex,N=S.endIndex;if(T!==I.state.dataStartIndex||N!==I.state.dataEndIndex){var j=I.state.updateId;I.setState(function(){return we({dataStartIndex:T,dataEndIndex:N},g({props:I.props,dataStartIndex:T,dataEndIndex:N,updateId:j},I.state))}),I.triggerSyncEvent({dataStartIndex:T,dataEndIndex:N})}}),ct(I,"handleMouseEnter",function(S){var T=I.getMouseInfo(S);if(T){var N=we(we({},T),{},{isTooltipActive:!0});I.setState(N),I.triggerSyncEvent(N);var j=I.props.onMouseEnter;yt(j)&&j(N,S)}}),ct(I,"triggeredAfterMouseMove",function(S){var T=I.getMouseInfo(S),N=T?we(we({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(N),I.triggerSyncEvent(N);var j=I.props.onMouseMove;yt(j)&&j(N,S)}),ct(I,"handleItemMouseEnter",function(S){I.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ct(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),ct(I,"handleMouseMove",function(S){S.persist(),I.throttleTriggeredAfterMouseMove(S)}),ct(I,"handleMouseLeave",function(S){I.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};I.setState(T),I.triggerSyncEvent(T);var N=I.props.onMouseLeave;yt(N)&&N(T,S)}),ct(I,"handleOuterEvent",function(S){var T=t1e(S),N=ho(I.props,"".concat(T));if(T&&yt(N)){var j,B;/.*touch.*/i.test(T)?B=I.getMouseInfo(S.changedTouches[0]):B=I.getMouseInfo(S),N((j=B)!==null&&j!==void 0?j:{},S)}}),ct(I,"handleClick",function(S){var T=I.getMouseInfo(S);if(T){var N=we(we({},T),{},{isTooltipActive:!0});I.setState(N),I.triggerSyncEvent(N);var j=I.props.onClick;yt(j)&&j(N,S)}}),ct(I,"handleMouseDown",function(S){var T=I.props.onMouseDown;if(yt(T)){var N=I.getMouseInfo(S);T(N,S)}}),ct(I,"handleMouseUp",function(S){var T=I.props.onMouseUp;if(yt(T)){var N=I.getMouseInfo(S);T(N,S)}}),ct(I,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ct(I,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&I.handleMouseDown(S.changedTouches[0])}),ct(I,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&I.handleMouseUp(S.changedTouches[0])}),ct(I,"handleDoubleClick",function(S){var T=I.props.onDoubleClick;if(yt(T)){var N=I.getMouseInfo(S);T(N,S)}}),ct(I,"handleContextMenu",function(S){var T=I.props.onContextMenu;if(yt(T)){var N=I.getMouseInfo(S);T(N,S)}}),ct(I,"triggerSyncEvent",function(S){I.props.syncId!==void 0&&fT.emit(dT,I.props.syncId,S,I.eventEmitterSymbol)}),ct(I,"applySyncEvent",function(S){var T=I.props,N=T.layout,j=T.syncMethod,B=I.state.updateId,M=S.dataStartIndex,L=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)I.setState(we({dataStartIndex:M,dataEndIndex:L},g({props:I.props,dataStartIndex:M,dataEndIndex:L,updateId:B},I.state)));else if(S.activeTooltipIndex!==void 0){var F=S.chartX,$=S.chartY,H=S.activeTooltipIndex,K=I.state,Z=K.offset,q=K.tooltipTicks;if(!Z)return;if(typeof j=="function")H=j(q,S);else if(j==="value"){H=-1;for(var re=0;re<q.length;re++)if(q[re].value===S.activeLabel){H=re;break}}var U=we(we({},Z),{},{x:Z.left,y:Z.top}),X=Math.min(F,U.x+U.width),ee=Math.min($,U.y+U.height),W=q[H]&&q[H].value,Q=mP(I.state,I.props.data,H),se=q[H]?{x:N==="horizontal"?q[H].coordinate:X,y:N==="horizontal"?ee:q[H].coordinate}:ZX;I.setState(we(we({},S),{},{activeLabel:W,activeCoordinate:se,activePayload:Q,activeTooltipIndex:H}))}else I.setState(S)}),ct(I,"renderCursor",function(S){var T,N=I.state,j=N.isTooltipActive,B=N.activeCoordinate,M=N.activePayload,L=N.offset,F=N.activeTooltipIndex,$=N.tooltipAxisBandSize,H=I.getTooltipEventType(),K=(T=S.props.active)!==null&&T!==void 0?T:j,Z=I.props.layout,q=S.key||"_recharts-cursor";return te.createElement(o3e,{key:q,activeCoordinate:B,activePayload:M,activeTooltipIndex:F,chartName:r,element:S,isActive:K,layout:Z,offset:L,tooltipAxisBandSize:$,tooltipEventType:H})}),ct(I,"renderPolarAxis",function(S,T,N){var j=ho(S,"type.axisType"),B=ho(I.state,"".concat(j,"Map")),M=S.type.defaultProps,L=M!==void 0?we(we({},M),S.props):S.props,F=B&&B[L["".concat(j,"Id")]];return k.cloneElement(S,we(we({},F),{},{className:Ct(j,F.className),key:S.key||"".concat(T,"-").concat(N),ticks:Ks(F,!0)}))}),ct(I,"renderPolarGrid",function(S){var T=S.props,N=T.radialLines,j=T.polarAngles,B=T.polarRadius,M=I.state,L=M.radiusAxisMap,F=M.angleAxisMap,$=ac(L),H=ac(F),K=H.cx,Z=H.cy,q=H.innerRadius,re=H.outerRadius;return k.cloneElement(S,{polarAngles:Array.isArray(j)?j:Ks(H,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(B)?B:Ks($,!0).map(function(U){return U.coordinate}),cx:K,cy:Z,innerRadius:q,outerRadius:re,key:S.key||"polar-grid",radialLines:N})}),ct(I,"renderLegend",function(){var S=I.state.formattedGraphicalItems,T=I.props,N=T.children,j=T.width,B=T.height,M=I.props.margin||{},L=j-(M.left||0)-(M.right||0),F=DY({children:N,formattedGraphicalItems:S,legendWidth:L,legendContent:c});if(!F)return null;var $=F.item,H=SV(F,a3e);return k.cloneElement($,we(we({},H),{},{chartWidth:j,chartHeight:B,margin:M,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),ct(I,"renderTooltip",function(){var S,T=I.props,N=T.children,j=T.accessibilityLayer,B=no(N,vi);if(!B)return null;var M=I.state,L=M.isTooltipActive,F=M.activeCoordinate,$=M.activePayload,H=M.activeLabel,K=M.offset,Z=(S=B.props.active)!==null&&S!==void 0?S:L;return k.cloneElement(B,{viewBox:we(we({},K),{},{x:K.left,y:K.top}),active:Z,label:H,payload:Z?$:[],coordinate:F,accessibilityLayer:j})}),ct(I,"renderBrush",function(S){var T=I.props,N=T.margin,j=T.data,B=I.state,M=B.offset,L=B.dataStartIndex,F=B.dataEndIndex,$=B.updateId;return k.cloneElement(S,{key:S.key||"_recharts-brush",onChange:$v(I.handleBrushChange,S.props.onChange),data:j,x:je(S.props.x)?S.props.x:M.left,y:je(S.props.y)?S.props.y:M.top+M.height+M.brushBottom-(N.bottom||0),width:je(S.props.width)?S.props.width:M.width,startIndex:L,endIndex:F,updateId:"brush-".concat($)})}),ct(I,"renderReferenceElement",function(S,T,N){if(!S)return null;var j=I,B=j.clipPathId,M=I.state,L=M.xAxisMap,F=M.yAxisMap,$=M.offset,H=S.type.defaultProps||{},K=S.props,Z=K.xAxisId,q=Z===void 0?H.xAxisId:Z,re=K.yAxisId,U=re===void 0?H.yAxisId:re;return k.cloneElement(S,{key:S.key||"".concat(T,"-").concat(N),xAxis:L[q],yAxis:F[U],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:B})}),ct(I,"renderActivePoints",function(S){var T=S.item,N=S.activePoint,j=S.basePoint,B=S.childIndex,M=S.isRange,L=[],F=T.props.key,$=T.item.type.defaultProps!==void 0?we(we({},T.item.type.defaultProps),T.item.props):T.item.props,H=$.activeDot,K=$.dataKey,Z=we(we({index:B,dataKey:K,cx:N.x,cy:N.y,r:4,fill:Y3(T.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},lt(H,!1)),sx(H));return L.push(_.renderActiveDot(H,Z,"".concat(F,"-activePoint-").concat(B))),j?L.push(_.renderActiveDot(H,we(we({},Z),{},{cx:j.x,cy:j.y}),"".concat(F,"-basePoint-").concat(B))):M&&L.push(null),L}),ct(I,"renderGraphicChild",function(S,T,N){var j=I.filterFormatItem(S,T,N);if(!j)return null;var B=I.getTooltipEventType(),M=I.state,L=M.isTooltipActive,F=M.tooltipAxis,$=M.activeTooltipIndex,H=M.activeLabel,K=I.props.children,Z=no(K,vi),q=j.props,re=q.points,U=q.isRange,X=q.baseLine,ee=j.item.type.defaultProps!==void 0?we(we({},j.item.type.defaultProps),j.item.props):j.item.props,W=ee.activeDot,Q=ee.hide,se=ee.activeBar,oe=ee.activeShape,ae=!!(!Q&&L&&Z&&(W||se||oe)),ve={};B!=="axis"&&Z&&Z.props.trigger==="click"?ve={onClick:$v(I.handleItemMouseEnter,S.props.onClick)}:B!=="axis"&&(ve={onMouseLeave:$v(I.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:$v(I.handleItemMouseEnter,S.props.onMouseEnter)});var he=k.cloneElement(S,we(we({},j.props),ve));function _e(Et){return typeof F.dataKey=="function"?F.dataKey(Et.payload):null}if(ae)if($>=0){var Pe,pe;if(F.dataKey&&!F.allowDuplicatedCategory){var et=typeof F.dataKey=="function"?_e:"payload.".concat(F.dataKey.toString());Pe=ax(re,et,H),pe=U&&X&&ax(X,et,H)}else Pe=re?.[$],pe=U&&X&&X[$];if(oe||se){var $e=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[k.cloneElement(S,we(we(we({},j.props),ve),{},{activeIndex:$e})),null,null]}if(!_t(Pe))return[he].concat(Bh(I.renderActivePoints({item:j,activePoint:Pe,basePoint:pe,childIndex:$,isRange:U})))}else{var nt,Ce=(nt=I.getItemByXY(I.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:he},Re=Ce.graphicalItem,Be=Re.item,ze=Be===void 0?S:Be,be=Re.childIndex,tt=we(we(we({},j.props),ve),{},{activeIndex:be});return[k.cloneElement(ze,tt),null,null]}return U?[he,null,null]:[he,null]}),ct(I,"renderCustomized",function(S,T,N){return k.cloneElement(S,we(we({key:"recharts-customized-".concat(N)},I.props),I.state))}),ct(I,"renderMap",{CartesianGrid:{handler:qv,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:qv},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:qv},YAxis:{handler:qv},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((E=C.id)!==null&&E!==void 0?E:ap("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=RK(I.triggeredAfterMouseMove,(P=C.throttleDelay)!==null&&P!==void 0?P:1e3/60),I.state={},I}return v3e(_,b),p3e(_,[{key:"componentDidMount",value:function(){var E,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,P=E.children,I=E.data,S=E.height,T=E.layout,N=no(P,vi);if(N){var j=N.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,M=mP(this.state,I,j,B),L=this.state.tooltipTicks[j].coordinate,F=(this.state.offset.top+S)/2,$=T==="horizontal",H=$?{x:L,y:F}:{y:L,x:F},K=this.state.formattedGraphicalItems.find(function(q){var re=q.item;return re.type.name==="Scatter"});K&&(H=we(we({},H),K.props.points[j].tooltipPosition),M=K.props.points[j].tooltipPayload);var Z={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:B,activePayload:M,activeCoordinate:H};this.setState(Z),this.renderCursor(N),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var I,S;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(E){QI([no(E.children,vi)],[no(this.props.children,vi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=no(this.props.children,vi);if(E&&typeof E.props.shared=="boolean"){var P=E.props.shared?"axis":"item";return s.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var P=this.container,I=P.getBoundingClientRect(),S=Uwe(I),T={chartX:Math.round(E.pageX-S.left),chartY:Math.round(E.pageY-S.top)},N=I.width/P.offsetWidth||1,j=this.inRange(T.chartX,T.chartY,N);if(!j)return null;var B=this.state,M=B.xAxisMap,L=B.yAxisMap,F=this.getTooltipEventType(),$=IV(this.state,this.props.data,this.props.layout,j);if(F!=="axis"&&M&&L){var H=ac(M).scale,K=ac(L).scale,Z=H&&H.invert?H.invert(T.chartX):null,q=K&&K.invert?K.invert(T.chartY):null;return we(we({},T),{},{xValue:Z,yValue:q},$)}return $?we(we({},T),$):null}},{key:"inRange",value:function(E,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,T=E/I,N=P/I;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,B=T>=j.left&&T<=j.left+j.width&&N>=j.top&&N<=j.top+j.height;return B?{x:T,y:N}:null}var M=this.state,L=M.angleAxisMap,F=M.radiusAxisMap;if(L&&F){var $=ac(L);return P9({x:T,y:N},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,P=this.getTooltipEventType(),I=no(E,vi),S={};I&&P==="axis"&&(I.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=sx(this.props,this.handleOuterEvent);return we(we({},T),S)}},{key:"addListener",value:function(){fT.on(dT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fT.removeListener(dT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,P,I){for(var S=this.state.formattedGraphicalItems,T=0,N=S.length;T<N;T++){var j=S[T];if(j.item===E||j.props.key===E.key||P===Zs(j.item.type)&&I===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,P=this.state.offset,I=P.left,S=P.top,T=P.height,N=P.width;return te.createElement("defs",null,te.createElement("clipPath",{id:E},te.createElement("rect",{x:I,y:S,height:T,width:N})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(P,I){var S=EV(I,2),T=S[0],N=S[1];return we(we({},P),{},ct({},T,N.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(P,I){var S=EV(I,2),T=S[0],N=S[1];return we(we({},P),{},ct({},T,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(E){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(E){var P=this.state,I=P.formattedGraphicalItems,S=P.activeItem;if(I&&I.length)for(var T=0,N=I.length;T<N;T++){var j=I[T],B=j.props,M=j.item,L=M.type.defaultProps!==void 0?we(we({},M.type.defaultProps),M.props):M.props,F=Zs(M.type);if(F==="Bar"){var $=(B.data||[]).find(function(q){return aIe(E,q)});if($)return{graphicalItem:j,payload:$}}else if(F==="RadialBar"){var H=(B.data||[]).find(function(q){return P9(E,q)});if(H)return{graphicalItem:j,payload:H}}else if(Aw(j,S)||Cw(j,S)||ey(j,S)){var K=NNe({graphicalItem:j,activeTooltipItem:S,itemData:L.data}),Z=L.activeIndex===void 0?K:L.activeIndex;return{graphicalItem:we(we({},j),{},{childIndex:Z}),payload:ey(j,S)?L.data[K]:j.props.data[K]}}}return null}},{key:"render",value:function(){var E=this;if(!$8(this))return null;var P=this.props,I=P.children,S=P.className,T=P.width,N=P.height,j=P.style,B=P.compact,M=P.title,L=P.desc,F=SV(P,s3e),$=lt(F,!1);if(B)return te.createElement(aV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(JI,Md({},$,{width:T,height:N,title:M,desc:L}),this.renderClipPath(),z8(I,this.renderMap)));if(this.props.accessibilityLayer){var H,K;$.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,$.role=(K=this.props.role)!==null&&K!==void 0?K:"application",$.onKeyDown=function(q){E.accessibilityManager.keyboardEvent(q)},$.onFocus=function(){E.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return te.createElement(aV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",Md({className:Ct("recharts-wrapper",S),style:we({position:"relative",cursor:"default",width:T,height:N},j)},Z,{ref:function(re){E.container=re}}),te.createElement(JI,Md({},$,{width:T,height:N,title:M,desc:L,style:C3e}),this.renderClipPath(),z8(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);ct(x,"displayName",r),ct(x,"defaultProps",we({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ct(x,"getDerivedStateFromProps",function(b,_){var C=b.dataKey,E=b.data,P=b.children,I=b.width,S=b.height,T=b.layout,N=b.stackOffset,j=b.margin,B=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var L=NV(b);return we(we(we({},L),{},{updateId:0},g(we(we({props:b},L),{},{updateId:0}),_)),{},{prevDataKey:C,prevData:E,prevWidth:I,prevHeight:S,prevLayout:T,prevStackOffset:N,prevMargin:j,prevChildren:P})}if(C!==_.prevDataKey||E!==_.prevData||I!==_.prevWidth||S!==_.prevHeight||T!==_.prevLayout||N!==_.prevStackOffset||!Gd(j,_.prevMargin)){var F=NV(b),$={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},H=we(we({},IV(_,E,T)),{},{updateId:_.updateId+1}),K=we(we(we({},F),$),H);return we(we(we({},K),g(we({props:b},K),_)),{},{prevDataKey:C,prevData:E,prevWidth:I,prevHeight:S,prevLayout:T,prevStackOffset:N,prevMargin:j,prevChildren:P})}if(!QI(P,_.prevChildren)){var Z,q,re,U,X=no(P,Nh),ee=X&&(Z=(q=X.props)===null||q===void 0?void 0:q.startIndex)!==null&&Z!==void 0?Z:B,W=X&&(re=(U=X.props)===null||U===void 0?void 0:U.endIndex)!==null&&re!==void 0?re:M,Q=ee!==B||W!==M,se=!_t(E),oe=se&&!Q?_.updateId:_.updateId+1;return we(we({updateId:oe},g(we(we({props:b},_),{},{updateId:oe,dataStartIndex:ee,dataEndIndex:W}),_)),{},{prevChildren:P,dataStartIndex:ee,dataEndIndex:W})}return null}),ct(x,"renderActiveDot",function(b,_,C){var E;return k.isValidElement(b)?E=k.cloneElement(b,_):yt(b)?E=b(_):E=te.createElement(vw,_),te.createElement(Kt,{className:"recharts-active-dot",key:C},E)});var v=k.forwardRef(function(_,C){return te.createElement(x,Md({},_,{ref:C}))});return v.displayName=x.displayName,v},Xy=eQ({chartName:"LineChart",GraphicalChild:mo,axisComponents:[{axisType:"xAxis",AxisComp:Uc},{axisType:"yAxis",AxisComp:zc}],formatAxisMap:OPe}),R3e=eQ({chartName:"PieChart",GraphicalChild:bl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_w},{axisType:"radiusAxis",AxisComp:bw}],formatAxisMap:bEe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const D3e=t=>"page"in t,M3e=t=>"action"in t,pT=t=>"href"in t;function wl({onNavigate:t,onFeedbackClick:e}){const r=[{label:"Help",page:"help"},{label:"Feedback",action:"feedback"},{label:"Privacy",page:"privacy"},{label:"Terms",page:"terms"},{label:"GitHub",href:"https://github.com/itsjustgiio/FareFit",external:!0},{label:"LinkedIn",href:"https://www.linkedin.com/in/giovannicarrion/",external:!0}],n=(i,o)=>{D3e(i)&&t?(o.preventDefault(),t(i.page)):M3e(i)&&e&&(o.preventDefault(),e())};return u.jsx("footer",{className:"mt-auto pt-16",children:u.jsx("div",{className:"py-6 bg-gradient-to-t",style:{backgroundImage:"linear-gradient(to top, #2f7a59, #31835f)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 sm:gap-6",children:r.map((i,o)=>u.jsx("a",{href:pT(i)?i.href:"#",target:pT(i)?"_blank":void 0,rel:pT(i)?"noopener noreferrer":void 0,onClick:a=>n(i,a),className:"text-xs hover:text-white hover:underline underline-offset-4 transition-all cursor-pointer",style:{color:"white",opacity:.8},children:i.label},o))}),u.jsx("p",{className:"text-xs text-center",style:{color:"white",opacity:.6},children:"© 2025 FareFit — Helping you live healthier with AI."})]})})})})}var kw="Collapsible",[F3e]=qo(kw),[L3e,aO]=F3e(kw),tQ=k.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:o,onOpenChange:a,...s}=t,[l,c]=ll({prop:n,defaultProp:i??!1,onChange:a,caller:kw});return u.jsx(L3e,{scope:r,disabled:o,contentId:as(),open:l,onOpenToggle:k.useCallback(()=>c(f=>!f),[c]),children:u.jsx(xt.div,{"data-state":lO(l),"data-disabled":o?"":void 0,...s,ref:e})})});tQ.displayName=kw;var rQ="CollapsibleTrigger",nQ=k.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=aO(rQ,r);return u.jsx(xt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":lO(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:dt(t.onClick,i.onOpenToggle)})});nQ.displayName=rQ;var sO="CollapsibleContent",iQ=k.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=aO(sO,t.__scopeCollapsible);return u.jsx(Fc,{present:r||i.open,children:({present:o})=>u.jsx(B3e,{...n,ref:e,present:o})})});iQ.displayName=sO;var B3e=k.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...o}=t,a=aO(sO,r),[s,l]=k.useState(n),c=k.useRef(null),f=Lt(e,c),h=k.useRef(0),p=h.current,g=k.useRef(0),x=g.current,v=a.open||s,b=k.useRef(v),_=k.useRef(void 0);return k.useEffect(()=>{const C=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(C)},[]),sn(()=>{const C=c.current;if(C){_.current=_.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const E=C.getBoundingClientRect();h.current=E.height,g.current=E.width,b.current||(C.style.transitionDuration=_.current.transitionDuration,C.style.animationName=_.current.animationName),l(n)}},[a.open,n]),u.jsx(xt.div,{"data-state":lO(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...o,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:v&&i})});function lO(t){return t?"open":"closed"}var V3e=tQ;function $3e({...t}){return u.jsx(V3e,{"data-slot":"collapsible",...t})}function U3e({...t}){return u.jsx(nQ,{"data-slot":"collapsible-trigger",...t})}function z3e({...t}){return u.jsx(iQ,{"data-slot":"collapsible-content",...t})}function W3e({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState("all"),[o,a]=k.useState(new Set(["Nutrition"])),s=[{day:"Mon",consumed:2100,burned:450,net:1650,workout:!0},{day:"Tue",consumed:1950,burned:320,net:1630,workout:!1},{day:"Wed",consumed:2200,burned:520,net:1680,workout:!0},{day:"Thu",consumed:1850,burned:480,net:1370,workout:!0},{day:"Fri",consumed:2050,burned:290,net:1760,workout:!1},{day:"Sat",consumed:2300,burned:550,net:1750,workout:!0},{day:"Sun",consumed:1900,burned:380,net:1520,workout:!1}],l=s.reduce((H,K)=>H+K.consumed,0),c=s.reduce((H,K)=>H+K.burned,0),f=l-c,h=s.filter(H=>H.workout).length,p=[{name:"Nutrition",color:"#1C7C54",icon:"🥗",achievements:[{id:1,title:"Macro Master",description:"Hit protein goal 5 days in a row",earned:!0,mystery:!1},{id:2,title:"Protein Champion",description:"Hit protein goal for 30 days straight",earned:!1,mystery:!1},{id:3,title:"Carb Control",description:"Stayed within carb range for 7 consecutive days",earned:!0,mystery:!1},{id:4,title:"Fat Balance",description:"Hit fat target for 10 days straight",earned:!1,mystery:!1},{id:5,title:"Micronutrient Minded",description:"Logged 5 meals with fruits/veggies in a week",earned:!0,mystery:!1},{id:6,title:"Clean Plate Club",description:"Logged 3 full meals + snacks for 7 days straight",earned:!0,mystery:!1},{id:7,title:"Hydration Hero",description:"Drank 8+ glasses of water daily for a week",earned:!1,mystery:!1},{id:8,title:"Fiber Fiend",description:"Hit fiber goal 10 days total",earned:!1,mystery:!1},{id:9,title:"Sugar Smart",description:"Stayed under sugar target for 7 consecutive days",earned:!0,mystery:!1},{id:10,title:"The Overachiever",description:"Exceed any macro goal by 20%",hint:"Go beyond your goal.",earned:!1,mystery:!0,discovered:!1}]},{name:"Workout & Fitness",color:"#4A90E2",icon:"💪",achievements:[{id:11,title:"Workout Warrior",description:"Complete 4 workouts in a week",earned:!0,mystery:!1},{id:12,title:"Iron Will",description:"Complete 20 workouts in a month",earned:!1,mystery:!1},{id:13,title:"Beast Mode",description:"Complete 100 total workouts",earned:!1,mystery:!1},{id:14,title:"No Days Off",description:"Work out 7 days in a row",earned:!1,mystery:!1},{id:15,title:"Consistency King",description:"Work out for 30 consecutive days",earned:!1,mystery:!1},{id:16,title:"Push Day Pro",description:"Log 10 push workouts",earned:!0,mystery:!1},{id:17,title:"Pull Day Performer",description:"Log 10 pull workouts",earned:!0,mystery:!1},{id:18,title:"Leg Day Legend",description:"Log 10 leg workouts",earned:!1,mystery:!1},{id:19,title:"Sweat Session",description:"Burn 500+ calories in one workout",earned:!0,mystery:!1},{id:20,title:"Summer Shred",description:"Maintain calorie deficit 10 days in June–Aug",hint:"Feel the heat.",earned:!1,mystery:!0,discovered:!1}]},{name:"Streak & Consistency",color:"#FF6B35",icon:"🔥",achievements:[{id:21,title:"7-Day Streak",description:"Log meals for 7 consecutive days",earned:!0,mystery:!1},{id:22,title:"Early Bird",description:"Log breakfast before 9 AM for 7 days",earned:!0,mystery:!1},{id:23,title:"Night Owl",description:"Log your last meal after 8 PM for 5 nights",earned:!1,mystery:!1},{id:24,title:"Routine Rookie",description:"Log activity or meals for 3 consecutive days",earned:!0,mystery:!1},{id:25,title:"The Streak Breaker",description:"Lose a streak but rebuild it again",hint:"Nobody's perfect.",earned:!1,mystery:!0,discovered:!0},{id:26,title:"Habit Hero",description:"Maintain any streak for 21 days",earned:!1,mystery:!1},{id:27,title:"Consistency Champion",description:"Log meals for 30 consecutive days",earned:!1,mystery:!1},{id:28,title:"Daily Devotee",description:"Use FitPanel 14 days in a row",earned:!0,mystery:!1},{id:29,title:"Dedication Destroyer",description:"Use FitPanel for 60 days straight",earned:!1,mystery:!1},{id:30,title:"The Comeback Kid",description:"Log in after 14 days away",hint:"They always come back…",earned:!0,mystery:!0,discovered:!0}]},{name:"Food Logging & Tracking",color:"#F4A460",icon:"📝",achievements:[{id:31,title:"Foodie Beginner",description:"Log your first meal",earned:!0,mystery:!1},{id:32,title:"Meal Machine",description:"Log 50 total meals",earned:!0,mystery:!1},{id:33,title:"Calorie Tracker",description:"Log 1,000 total calories in a day",earned:!0,mystery:!1},{id:34,title:"Balanced Bites",description:"Log a meal with all three macros",earned:!0,mystery:!1},{id:35,title:"Snack Strategist",description:"Log 20 snacks",earned:!1,mystery:!1},{id:36,title:"Prep Pro",description:"Log 5 custom recipes",earned:!1,mystery:!1},{id:37,title:"The Midnight Logger",description:"Log a meal between 12 AM–3 AM",hint:"For the night owls out there.",earned:!1,mystery:!0,discovered:!0},{id:38,title:"Weekend Logger",description:"Log every day Friday–Sunday",earned:!0,mystery:!1},{id:39,title:"Breakfast Bandit",description:"Log dessert in the morning",hint:"Who said cookies aren't breakfast?",earned:!1,mystery:!0,discovered:!1},{id:40,title:"Streak Chef",description:"Log breakfast, lunch, and dinner 7 days in a row",earned:!0,mystery:!1}]},{name:"Weight & Progress",color:"#9B59B6",icon:"⚖️",achievements:[{id:41,title:"First Step",description:"Set your first fitness goal",earned:!0,mystery:!1},{id:42,title:"Scale Shifter",description:"Lose or gain your first pound",earned:!0,mystery:!1},{id:43,title:"Milestone Marker",description:"Reach 5 pounds toward your goal",earned:!1,mystery:!1},{id:44,title:"Goal Crusher",description:"Hit your weight goal",earned:!1,mystery:!1},{id:45,title:"New Year, New Me",description:"Log 3 workouts in the first week of January",hint:"January holds surprises.",earned:!1,mystery:!0,discovered:!1}]},{name:"Community / AI Interaction",color:"#17A2B8",icon:"🤖",achievements:[{id:46,title:"Ask Barry",description:"Talk to Barry in the Help section for the first time",earned:!0,mystery:!1},{id:47,title:"AI Whisperer",description:"Chat with Barry 10+ times",hint:"Barry seems to like you.",earned:!1,mystery:!0,discovered:!1},{id:48,title:"Food Feedback",description:"Use Food AI to log a meal automatically",earned:!1,mystery:!1},{id:49,title:"Knowledge Seeker",description:"View a tip in the info section",earned:!0,mystery:!1},{id:50,title:"Feedback Friend",description:"Submit your first feedback form",earned:!0,mystery:!1}]},{name:"Mystery & Easter Eggs",color:"#6C5CE7",icon:"🎁",achievements:[{id:56,title:"Tap Tap Boom",description:"Click same button 10x fast",hint:"You're a little… curious.",earned:!1,mystery:!0,discovered:!1},{id:57,title:"Developer's Pet",description:"Find the hidden route",hint:"How did you even find this?",earned:!1,mystery:!0,discovered:!1}]}],g=p.flatMap(H=>H.achievements.map(K=>({...K,category:H.name,color:H.color,categoryIcon:H.icon}))),x=g.filter(H=>!H.mystery),v=g.filter(H=>H.mystery),b=x.length,_=v.length,C=b+_,E=x.filter(H=>H.earned).length,P=v.filter(H=>H.earned).length,I=v.filter(H=>H.discovered||H.earned).length,S=E+P,T=E/b*100,N=P/_*100,B=(H=>H>=50?{name:"Platinum",color:"#E5E4E2",icon:"💎"}:H>=40?{name:"Gold",color:"#FFD700",icon:"🏆"}:H>=25?{name:"Silver",color:"#C0C0C0",icon:"🥈"}:H>=10?{name:"Bronze",color:"#CD7F32",icon:"🥉"}:{name:"Beginner",color:"#A8E6CF",icon:"🌱"})(S),M=H=>{const K=new Set(o);K.has(H)?K.delete(H):K.add(H),a(K)},L=()=>{a(new Set)},F=()=>{const H=new Set(p.map(K=>K.name));a(H)},$=H=>{if(i(H),H!=="all"){const K=p.filter(Z=>Z.achievements.some(re=>H==="unlocked"?re.earned:H==="locked"?!re.earned:!0)).map(Z=>Z.name);a(new Set(K))}};return u.jsxs("div",{className:"min-h-screen transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:u.jsxs("button",{onClick:t,className:"text-white hover:opacity-80 transition-opacity flex items-center gap-2",children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{style:{color:"var(--farefit-text)"},children:"Your Progress"}),u.jsx("p",{style:{color:"var(--farefit-subtext)"},children:"Track your weekly stats and achievements"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Consumed"}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-text)"},children:l.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"kcal this week"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Burned"}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-accent)"},children:c.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"kcal this week"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Net Calories"}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-primary)"},children:f.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"total this week"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(AU,{className:"w-4 h-4",style:{color:"var(--farefit-primary)"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Workouts"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-text)"},children:h}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"sessions"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Wh,{className:"w-4 h-4",style:{color:"var(--farefit-accent)"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Streak"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-text)"},children:"7"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"days in a row"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--farefit-text)"},children:"Daily Breakdown"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{style:{borderBottom:"2px solid var(--farefit-secondary)"},children:[u.jsx("th",{className:"text-left py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Day"}),u.jsx("th",{className:"text-right py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Consumed"}),u.jsx("th",{className:"text-right py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Burned"}),u.jsx("th",{className:"text-right py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Net"}),u.jsx("th",{className:"text-center py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Workout"})]})}),u.jsx("tbody",{children:s.map((H,K)=>u.jsxs("tr",{style:{borderBottom:"1px solid var(--farefit-border)"},children:[u.jsx("td",{className:"py-3 px-2",style:{color:"var(--farefit-text)"},children:H.day}),u.jsx("td",{className:"text-right py-3 px-2",style:{color:"var(--farefit-text)"},children:H.consumed}),u.jsxs("td",{className:"text-right py-3 px-2",style:{color:"var(--farefit-accent)"},children:["-",H.burned]}),u.jsx("td",{className:"text-right py-3 px-2",style:{color:"var(--farefit-primary)"},children:H.net}),u.jsx("td",{className:"text-center py-3 px-2",children:H.workout?u.jsx("span",{className:"inline-block w-6 h-6 rounded-full text-center",style:{backgroundColor:"var(--farefit-secondary)"},children:"✓"}):u.jsx("span",{style:{color:"var(--farefit-text)",opacity:.3},children:"-"})})]},K))})]})})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--farefit-text)"},children:"Weekly Trend"}),u.jsx(xh,{width:"100%",height:300,children:u.jsxs(Xy,{data:s,children:[u.jsx(dp,{strokeDasharray:"3 3",stroke:"var(--farefit-border)"}),u.jsx(Uc,{dataKey:"day",stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(zc,{stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)",borderRadius:"8px",color:"var(--farefit-text)"}}),u.jsx(hc,{}),u.jsx(mo,{type:"monotone",dataKey:"consumed",stroke:"var(--farefit-primary)",strokeWidth:2,dot:{fill:"var(--farefit-primary)",r:4},name:"Consumed"}),u.jsx(mo,{type:"monotone",dataKey:"burned",stroke:"var(--farefit-accent)",strokeWidth:2,dot:{fill:"var(--farefit-accent)",r:4},name:"Burned"}),u.jsx(mo,{type:"monotone",dataKey:"net",stroke:"var(--farefit-secondary)",strokeWidth:2,dot:{fill:"var(--farefit-secondary)",r:4},name:"Net"})]})})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm mb-6 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-1",style:{color:"var(--farefit-text)"},children:"🏆 Achievements"}),u.jsxs("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:[S," / ",C," unlocked (",I," mysteries discovered)"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-2xl",children:B.icon}),u.jsx("span",{style:{color:B.color},children:B.name})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"FareFit Rank"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",style:{color:"var(--farefit-subtext)"},children:[u.jsx("span",{children:"Standard"}),u.jsxs("span",{children:[E,"/",b," (",Math.round(T),"%)"]})]}),u.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${T}%`,background:"linear-gradient(90deg, var(--farefit-primary) 0%, var(--farefit-secondary) 100%)"}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",style:{color:"var(--farefit-subtext)"},children:[u.jsx("span",{children:"Mystery"}),u.jsxs("span",{children:[P,"/",_," (",Math.round(N),"%)"]})]}),u.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${N}%`,background:"linear-gradient(90deg, #6C5CE7 0%, #A29BFE 100%)"}})})]})]}),u.jsx("p",{className:"text-sm text-center mt-4",style:{color:"var(--farefit-subtext)"},children:"Track your streaks, goals, and milestones to earn new badges!"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[u.jsxs("div",{className:"flex gap-3 flex-1 flex-wrap",children:[u.jsxs("button",{onClick:()=>$("all"),className:"px-4 py-2 rounded-md text-sm transition-all",style:{backgroundColor:n==="all"?"var(--farefit-primary)":"var(--farefit-card)",borderWidth:"1px",borderStyle:"solid",borderColor:n==="all"?"var(--farefit-primary)":"var(--farefit-secondary)",color:n==="all"?"white":"var(--farefit-text)"},children:["All (",C,")"]}),u.jsxs("button",{onClick:()=>$("unlocked"),className:"px-4 py-2 rounded-md text-sm transition-all",style:{backgroundColor:n==="unlocked"?"var(--farefit-primary)":"var(--farefit-card)",borderWidth:"1px",borderStyle:"solid",borderColor:n==="unlocked"?"var(--farefit-primary)":"var(--farefit-secondary)",color:n==="unlocked"?"white":"var(--farefit-text)"},children:["Unlocked (",S,")"]}),u.jsxs("button",{onClick:()=>$("locked"),className:"px-4 py-2 rounded-md text-sm transition-all",style:{backgroundColor:n==="locked"?"var(--farefit-primary)":"var(--farefit-card)",borderWidth:"1px",borderStyle:"solid",borderColor:n==="locked"?"var(--farefit-primary)":"var(--farefit-secondary)",color:n==="locked"?"white":"var(--farefit-text)"},children:["Locked (",C-S,")"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:F,className:"px-4 py-2 rounded-md text-sm border transition-all",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:"Expand All"}),u.jsx("button",{onClick:L,className:"px-4 py-2 rounded-md text-sm border transition-all",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:"Collapse All"})]})]}),p.map(H=>{const K=H.achievements.filter(U=>n==="unlocked"?U.earned:n==="locked"?!U.earned:!0);if(K.length===0)return null;const Z=H.achievements.filter(U=>U.earned).length,q=H.achievements.length,re=o.has(H.name);return u.jsx($3e,{open:re,onOpenChange:()=>M(H.name),className:"mb-6",children:u.jsxs("div",{className:"rounded-lg shadow-sm overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx(U3e,{className:"w-full",children:u.jsxs("div",{className:"flex items-center gap-3 p-4 transition-colors cursor-pointer",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xl flex-shrink-0",style:{backgroundColor:`${H.color}20`},children:H.icon}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("h3",{className:"mb-1",style:{color:"var(--farefit-text)"},children:H.name}),u.jsxs("p",{className:"text-xs",style:{color:H.color},children:[n==="all"&&`${Z} / ${q} earned`,n==="unlocked"&&`${K.length} unlocked`,n==="locked"&&`${K.length} locked`]})]}),u.jsx("div",{className:"flex-shrink-0",children:re?u.jsx(rk,{className:"w-5 h-5",style:{color:"var(--farefit-subtext)"}}):u.jsx(yc,{className:"w-5 h-5",style:{color:"var(--farefit-subtext)"}})})]})}),u.jsx(z3e,{className:"transition-all duration-300 ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",children:u.jsx("div",{className:"p-4 pt-0",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:K.map(U=>{const X=U.mystery,ee=U.discovered||U.earned,W=X&&!ee;return u.jsxs("div",{className:`rounded-lg p-4 transition-all relative overflow-hidden ${U.earned?"shadow-sm hover:shadow-md":"border border-dashed"}`,style:{backgroundColor:"var(--farefit-card)",borderWidth:U.earned?"2px":"1px",borderStyle:U.earned?"solid":"dashed",borderColor:U.earned?X?"#6C5CE7":H.color:"var(--farefit-secondary)",opacity:U.earned?1:.6},children:[U.earned&&X&&u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(circle, #6C5CE7 0%, transparent 70%)",animation:"pulse 2s ease-in-out infinite"}})}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-xl flex-shrink-0 relative ${W?"blur-md":U.earned?"":"grayscale"}`,style:{backgroundColor:`${X?"#6C5CE7":H.color}20`},children:W?"❓":X?"🎁":H.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:`text-sm mb-1 ${W?"blur-sm":""}`,style:{color:"var(--farefit-text)"},children:W?"???":U.title}),u.jsx("p",{className:`text-xs ${W?"blur-sm":""}`,style:{color:"var(--farefit-subtext)"},children:W?"Keep tracking to uncover this secret.":U.description}),W&&U.hint&&u.jsxs("p",{className:"text-xs mt-2 italic",style:{color:"#6C5CE7",opacity:.8},children:["💡 Hint: ",U.hint]}),X&&ee&&!U.earned&&U.hint&&u.jsxs("p",{className:"text-xs mt-2 italic",style:{color:"#6C5CE7",opacity:.8},children:["💡 Hint: ",U.hint]}),U.earned&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:`${X?"#6C5CE7":H.color}20`,color:X?"#6C5CE7":H.color},children:[u.jsx("span",{children:X?"🎉":"✓"})," ",X?"Mystery Unlocked!":"Earned"]})}),!U.earned&&!W&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:X?"#6C5CE720":"var(--farefit-bg)",color:X?"#6C5CE7":"var(--farefit-text)",opacity:.6},children:["🔒 ",X?"Mystery Locked":"Locked"]})}),W&&u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:"#6C5CE720",color:"#6C5CE7",opacity:.8},children:"❓ Mystery"})})]})]})]},U.id)})})})})]})},H.name)})]})]}),u.jsx(wl,{onNavigate:e,onFeedbackClick:r})]})}function H3e({...t}){return u.jsx(Q4,{"data-slot":"sheet",...t})}function q3e({...t}){return u.jsx(Z4,{"data-slot":"sheet-portal",...t})}const oQ=k.forwardRef(({className:t,...e},r)=>u.jsx(By,{ref:r,"data-slot":"sheet-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));oQ.displayName=By.displayName;function G3e({className:t,children:e,side:r="right",...n}){return u.jsxs(q3e,{children:[u.jsx(oQ,{}),u.jsxs(J4,{"data-slot":"sheet-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,u.jsxs(qb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[u.jsx(Hh,{className:"size-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function K3e({className:t,...e}){return u.jsx("div",{"data-slot":"sheet-header",className:St("flex flex-col gap-1.5 p-4",t),...e})}function Y3e({className:t,...e}){return u.jsx(e3,{"data-slot":"sheet-title",className:St("text-foreground font-semibold",t),...e})}function X3e({className:t,...e}){return u.jsx(t3,{"data-slot":"sheet-description",className:St("text-muted-foreground text-sm",t),...e})}function Q3e({isOpen:t,onClose:e}){const[r,n]=k.useState([{id:"1",text:"Hey there 👋 I'm Barry, your AI help assistant! I've got your back with anything FareFit-related. What can I help you with today?",sender:"barry",timestamp:new Date}]),[i,o]=k.useState(""),[a,s]=k.useState(!1),l=k.useRef(null),c=()=>{l.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{c()},[r]);const f=["How do I log a meal?","What's my Fitness Credit Score?","How to reset my password?","Can I scan barcodes?"],h=x=>{const v=x.toLowerCase();return v.includes("password")||v.includes("reset")?"No worries, it's easy! Just go to Settings > Account Security > Change Password. Enter your current password, then create a new one. You'll get a confirmation email once it's updated. 🔒":v.includes("log")&&(v.includes("meal")||v.includes("food"))?"Great question! Head to the Food Assistant card on your dashboard, then click 'Log Meal'. You can search for foods, scan barcodes, or even snap a photo and I'll identify it for you! 📸🍎":v.includes("barcode")||v.includes("scan")?"Yes! You can totally scan barcodes 📱 Just use the Food Assistant card on your dashboard and hit 'Scan Barcode'. Point your camera at any packaged food and boom — instant nutrition data logged. Pretty cool, right? 😎":v.includes("fitness")&&(v.includes("score")||v.includes("credit"))?"Your Fitness Credit Score is like your health report card! 📊 It tracks consistency (logging meals/workouts), hitting macro goals, workout frequency, and calorie balance over the past 30 days. The more consistent you are, the higher it goes! Keep crushing it 💪":v.includes("score")&&(v.includes("down")||v.includes("drop")||v.includes("lower"))?"Ah, I see! Your score might drop from inconsistent logging, missing workout days, or going way over your calorie goals. But don't sweat it — just get back on track! Check your Progress page for detailed insights. Small daily wins add up! 📈":v.includes("food ai")||v.includes("coach ai")||v.includes("ai")?"Ooh, AI talk! 🤖 Food AI helps you identify meals from photos, suggest recipes, and track nutrition. Coach AI analyzes your workouts, estimates calories burned, and gives you personalized tips. We're all here to help you crush your goals! You can also ask Coach AI for a daily workout plan if you'd like.":v.includes("workout")||v.includes("exercise")?"Let's get moving! 🏋️ Click the 'Log Workout' button in your Workout Overview card. You can describe your exercise in the notes-style editor, and Coach AI will estimate calories burned. Or manually enter your data if you have it from a fitness tracker. That's progress! Keep logging consistently 💪":v.includes("edit")&&v.includes("meal")?"Easy peasy! In the 'Meals Today' card, just click on any meal entry. You can adjust portion sizes, swap ingredients, or delete it entirely. Your calorie total updates automatically — pretty slick! 🍽️":v.includes("goal")||v.includes("change")?"Changing goals? No problem! Navigate to Dashboard > 'Set Your Fitness Goal' card at the bottom. Update your target weight, activity level, or calorie goals and changes take effect immediately. You got this! 🎯":v.includes("privacy")||v.includes("data")||v.includes("secure")?"Your data is totally safe with us! 🔐 Everything is encrypted and stored securely. We never sell your info to third parties. Only you can access your nutrition and fitness logs. Want to export your data? Just head to Settings > Privacy > Export Data.":"Hmm, I'm not 100% sure about that one, but I'm always learning! 🧠 Try rephrasing your question, or check out the FAQ categories above. You can also reach out to our support team at support@farefit.ai — they're awesome! Is there anything else I can help with?"},p=async()=>{if(!i.trim())return;const x={id:Date.now().toString(),text:i,sender:"user",timestamp:new Date};n(v=>[...v,x]),o(""),s(!0),setTimeout(()=>{const v={id:(Date.now()+1).toString(),text:h(i),sender:"barry",timestamp:new Date};n(b=>[...b,v]),s(!1)},800)},g=x=>{o(x)};return u.jsx(H3e,{open:t,onOpenChange:e,children:u.jsxs(G3e,{side:"right",className:"w-full sm:max-w-md p-0 flex flex-col",children:[u.jsx(K3e,{className:"px-6 py-4 border-b flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"#1C7C54"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:u.jsx(zo,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx(Y3e,{className:"text-white",children:"Barry"}),u.jsx(X3e,{className:"text-xs text-white",style:{opacity:.8},children:"Your AI Help Assistant"})]})]}),u.jsx("button",{onClick:e,className:"text-white hover:opacity-70 transition-opacity",children:u.jsx(Hh,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",style:{backgroundColor:"var(--bg-secondary)"},children:[r.map(x=>u.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${x.sender==="user"?"text-gray-800":"text-white"}`,style:{backgroundColor:x.sender==="barry"?"var(--accent-primary)":"var(--bg-primary)"},children:[u.jsx("p",{className:"text-sm leading-relaxed",children:x.text}),u.jsx("p",{className:"text-xs mt-1",style:{opacity:.6,color:x.sender==="barry"?"white":"var(--text-primary)"},children:x.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},x.id)),a&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"max-w-[80%] rounded-lg px-4 py-3 text-white",style:{backgroundColor:"var(--accent-primary)"},children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:l})]}),r.length===1&&u.jsxs("div",{className:"px-6 py-3 border-t flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#102A43",opacity:.7},children:"Quick questions:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((x,v)=>u.jsx("button",{onClick:()=>g(x),className:"text-xs px-3 py-1.5 rounded-full border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:x},v))})]}),u.jsxs("div",{className:"px-6 py-4 border-t flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Ask Barry anything...",className:"flex-1 px-4 py-2 border rounded-md text-sm",style:{borderColor:"#A8E6CF"}}),u.jsx("button",{onClick:p,disabled:!i.trim(),className:"px-4 py-2 rounded-md text-white transition-opacity disabled:opacity-50",style:{backgroundColor:"#1C7C54"},children:u.jsx(ik,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"#102A43",opacity:.5},children:"Psst! Barry's learning from your progress — soon he'll share insights right on your dashboard."})]})]})})}function Z3e({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState(null),[o,a]=k.useState(!1),s=[{icon:kU,title:"Account & Settings",description:"Manage your profile, goals, and preferences",questions:[{question:"How do I reset my password?",answer:"Go to Settings > Account Security > Change Password. Enter your current password, then create a new one. You'll receive a confirmation email once it's updated."},{question:"How can I change my goals?",answer:"Navigate to Dashboard > Set Your Fitness Goal card at the bottom. Update your target weight, activity level, or calorie goals. Changes take effect immediately."},{question:"Update notification settings",answer:"Head to Settings > Notifications to customize when and how you receive reminders for meals, workouts, and AI tips. Toggle specific alerts on or off."}]},{icon:tl,title:"Food Logging",description:"Track meals and manage your nutrition",questions:[{question:"Can I scan barcodes?",answer:'Yes! Use the Food Assistant card on your dashboard. Click "Scan Barcode" and point your camera at any packaged food to instantly log nutrition data.'},{question:"How do I edit a logged meal?",answer:'In the "Meals Today" card, click on any meal entry. You can adjust portion sizes, swap ingredients, or delete the meal entirely. Changes update your calorie total automatically.'},{question:"Track custom recipes",answer:"Use Food AI to create custom recipes. Enter all ingredients and serving sizes, and the AI will calculate total macros and save it to your recipe library for quick logging."}]},{icon:EU,title:"AI Assistants",description:"Learn about Food AI and Coach AI features",questions:[{question:"What's Food AI?",answer:"Food AI is your smart nutrition assistant. It can identify foods from photos, suggest meal ideas based on your macros, and help you build custom recipes with accurate calorie tracking."},{question:"What can Coach AI do?",answer:"Coach AI analyzes your workout logs, estimates calories burned, suggests improvements to your fitness routine, and provides personalized tips based on your progress and goals."},{question:"How to get personalized tips",answer:"The AI Tip Banner shows smart suggestions based on your daily activity. For deeper insights, chat with Coach AI or Food AI directly—they learn from your habits over time."}]},{icon:vc,title:"Workouts & Recovery",description:"Log exercises and track your fitness",questions:[{question:"How do I track rest days?",answer:'In the Workout Overview card, click "Log Workout" and select "Rest Day" from the activity type. This helps maintain your fitness score by showing consistent recovery patterns.'},{question:"Can I add custom workouts?",answer:'Absolutely! Click "Log Workout" and use the notes-style editor to describe your exercise. Coach AI will estimate calories burned, or you can manually enter the data.'},{question:"Log workout calories",answer:"After logging a workout, Coach AI automatically estimates calories burned. You can also manually adjust this number if you have data from a fitness tracker or heart rate monitor."}]},{icon:ya,title:"Fitness Credit Score",description:"Understand your progress metrics",questions:[{question:"What affects my score?",answer:"Your Fitness Credit Score is based on consistency (logging meals/workouts), hitting macro goals, workout frequency, calorie balance, and overall trend over the past 30 days."},{question:"Why did it go down?",answer:"Scores drop from inconsistent logging, missing workout days, exceeding calorie goals significantly, or not meeting protein/macro targets. Check your Progress page for detailed insights."},{question:"How to improve my score",answer:"Log meals and workouts daily, hit your protein target, maintain a calorie deficit (if losing weight), exercise 3-5 times per week, and stay consistent. Small daily wins add up!"}]},{icon:Sd,title:"Privacy & Data",description:"Your data security and privacy options",questions:[{question:"Is my nutrition data private?",answer:"Yes. All your data is encrypted and stored securely. We never sell your information to third parties. Only you can access your nutrition and fitness logs."},{question:"Can I delete my account?",answer:"Go to Settings > Account > Delete Account. This permanently removes all your data from our servers. You'll receive a confirmation email before final deletion."},{question:"Export my data",answer:"Visit Settings > Privacy > Export Data to download a complete copy of your nutrition logs, workouts, and progress history in CSV or JSON format."}]}];return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--bg-secondary)"},children:[u.jsx("div",{className:"shadow-sm",style:{backgroundColor:"var(--bg-primary)",borderBottom:"1px solid var(--accent-light)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--text-primary)"},children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"mb-3",style:{color:"var(--text-primary)"},children:"Help Center"}),u.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"Hi there 👋 Let's get you the help you need."})]}),u.jsx("div",{className:"rounded-lg p-6 sm:p-8 shadow-sm mb-8",style:{backgroundColor:"var(--bg-primary)"},children:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(yne,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:"var(--text-primary)",opacity:.4}}),u.jsx("input",{type:"text",placeholder:"Search for help...",className:"w-full pl-12 pr-4 py-3 border rounded-md",style:{borderColor:"var(--accent-light)"}})]}),u.jsx("div",{className:"text-center",children:u.jsx("span",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"or"})}),u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--accent-primary)"},children:[u.jsx(zo,{className:"w-5 h-5"}),u.jsx("span",{children:"Ask Barry"})]}),u.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-tertiary)"},children:"Barry's your friendly AI assistant — he's got your back! 💪"})]})}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"var(--text-primary)"},children:"Common Topics"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,c)=>u.jsxs("div",{className:"rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",style:{backgroundColor:"var(--bg-primary)"},children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#1C7C5420"},children:u.jsx(l.icon,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"var(--text-primary)"},children:l.title}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:l.description}),u.jsx("div",{className:"space-y-2",children:l.questions.map((f,h)=>{const p=`${c}-${h}`,g=n===p;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>i(g?null:p),className:"w-full text-left flex items-start justify-between gap-2 p-2 rounded hover:bg-gray-50 transition-colors group",children:[u.jsx("span",{className:"text-sm flex-1",style:{color:"#1C7C54"},children:f.question}),u.jsx(yc,{className:"w-4 h-4 flex-shrink-0 transition-transform mt-0.5",style:{color:"#1C7C54",transform:g?"rotate(180deg)":"rotate(0deg)"}})]}),u.jsx(Yh,{children:g&&u.jsx(mt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:u.jsx("div",{className:"pl-4 pr-2 py-2 text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:f.answer})})})]},h)})})]},c))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--text-primary)"},children:"Troubleshooting"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border-color)"},children:[u.jsx("span",{style:{color:"var(--text-primary)"},children:"App not syncing?"}),u.jsx("button",{className:"px-4 py-2 rounded-md text-sm transition-opacity hover:opacity-90",style:{backgroundColor:"#A8E6CF",color:"var(--text-primary)"},children:"Refresh Data"})]}),u.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border-color)"},children:[u.jsx("span",{style:{color:"var(--text-primary)"},children:"Missing meals or workouts?"}),u.jsx("button",{className:"px-4 py-2 rounded-md text-sm transition-opacity hover:opacity-90",style:{backgroundColor:"#A8E6CF",color:"var(--text-primary)"},children:"Recalculate"})]}),u.jsxs("div",{className:"flex justify-between items-center py-3",children:[u.jsx("span",{style:{color:"var(--text-primary)"},children:"Found a bug?"}),u.jsxs("button",{className:"px-4 py-2 rounded-md text-sm flex items-center gap-2 transition-opacity hover:opacity-90",style:{backgroundColor:"#FFB6B9",color:"var(--text-primary)"},children:[u.jsx(lre,{className:"w-4 h-4"}),"Report Issue"]})]})]})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#FFB6B920"},children:u.jsx(ug,{className:"w-6 h-6",style:{color:"#FFB6B9"}})}),u.jsx("h3",{className:"mb-2",style:{color:"var(--text-primary)"},children:"Email Support"}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Reach out to our team for personalized help"}),u.jsx("a",{href:"mailto:support@farefit.ai",className:"inline-block px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"var(--accent-light)",color:"#1C7C54"},children:"support@farefit.ai"})]})]})]}),u.jsx(wl,{onNavigate:e,onFeedbackClick:r}),u.jsx(Q3e,{isOpen:o,onClose:()=>a(!1)})]})}var aQ="AlertDialog",[J3e]=qo(aQ,[sG]),_l=sG(),sQ=t=>{const{__scopeAlertDialog:e,...r}=t,n=_l(e);return u.jsx(Q4,{...n,...r,modal:!0})};sQ.displayName=aQ;var eOe="AlertDialogTrigger",tOe=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return u.jsx(l0e,{...i,...n,ref:e})});tOe.displayName=eOe;var rOe="AlertDialogPortal",lQ=t=>{const{__scopeAlertDialog:e,...r}=t,n=_l(e);return u.jsx(Z4,{...n,...r})};lQ.displayName=rOe;var nOe="AlertDialogOverlay",cQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return u.jsx(By,{...i,...n,ref:e})});cQ.displayName=nOe;var Xd="AlertDialogContent",[iOe,oOe]=J3e(Xd),aOe=qq("AlertDialogContent"),uQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,o=_l(r),a=k.useRef(null),s=Lt(e,a),l=k.useRef(null);return u.jsx(i0e,{contentName:Xd,titleName:fQ,docsSlug:"alert-dialog",children:u.jsx(iOe,{scope:r,cancelRef:l,children:u.jsxs(J4,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:dt(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(aOe,{children:n}),u.jsx(lOe,{contentRef:a})]})})})});uQ.displayName=Xd;var fQ="AlertDialogTitle",dQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return u.jsx(e3,{...i,...n,ref:e})});dQ.displayName=fQ;var hQ="AlertDialogDescription",pQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return u.jsx(t3,{...i,...n,ref:e})});pQ.displayName=hQ;var sOe="AlertDialogAction",mQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=_l(r);return u.jsx(qb,{...i,...n,ref:e})});mQ.displayName=sOe;var gQ="AlertDialogCancel",yQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=oOe(gQ,r),o=_l(r),a=Lt(e,i);return u.jsx(qb,{...o,...n,ref:a})});yQ.displayName=gQ;var lOe=({contentRef:t})=>{const e=`\`${Xd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xd}\` by passing a \`${hQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},cOe=sQ,uOe=lQ,vQ=cQ,fOe=uQ,dOe=mQ,hOe=yQ,pOe=dQ,mOe=pQ;const kV=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,OV=Ct,xQ=(t,e)=>r=>{var n;if(e?.variants==null)return OV(t,r?.class,r?.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const f=r?.[c],h=o?.[c];if(f===null)return null;const p=kV(f)||kV(h);return i[c][p]}),s=r&&Object.entries(r).reduce((c,f)=>{let[h,p]=f;return p===void 0||(c[h]=p),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,f)=>{let{class:h,className:p,...g}=f;return Object.entries(g).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...o,...s}[v]):{...o,...s}[v]===b})?[...c,h,p]:c},[]);return OV(t,a,l,r?.class,r?.className)},cO=xQ("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Hn({className:t,variant:e,size:r,asChild:n=!1,...i}){const o=n?Wq:"button";return u.jsx(o,{"data-slot":"button",className:St(cO({variant:e,size:r,className:t})),...i})}function bQ({...t}){return u.jsx(cOe,{"data-slot":"alert-dialog",...t})}function gOe({...t}){return u.jsx(uOe,{"data-slot":"alert-dialog-portal",...t})}const wQ=k.forwardRef(({className:t,...e},r)=>u.jsx(vQ,{"data-slot":"alert-dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),ref:r,...e}));wQ.displayName=vQ.displayName;function _Q({className:t,...e}){return u.jsxs(gOe,{children:[u.jsx(wQ,{}),u.jsx(fOe,{"data-slot":"alert-dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function AQ({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",t),...e})}function CQ({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-footer",className:St("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function EQ({className:t,...e}){return u.jsx(pOe,{"data-slot":"alert-dialog-title",className:St("text-lg font-semibold",t),...e})}function SQ({className:t,...e}){return u.jsx(mOe,{"data-slot":"alert-dialog-description",className:St("text-muted-foreground text-sm",t),...e})}function TQ({className:t,...e}){return u.jsx(dOe,{className:St(cO(),t),...e})}function IQ({className:t,...e}){return u.jsx(hOe,{className:St(cO({variant:"outline"}),t),...e})}function uO(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function fO(t){const[e,r]=k.useState(void 0);return sn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;r({width:a,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ow="Switch",[yOe]=qo(Ow),[vOe,xOe]=yOe(Ow),NQ=k.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:f,...h}=t,[p,g]=k.useState(null),x=Lt(e,E=>g(E)),v=k.useRef(!1),b=p?f||!!p.closest("form"):!0,[_,C]=ll({prop:i,defaultProp:o??!1,onChange:c,caller:Ow});return u.jsxs(vOe,{scope:r,checked:_,disabled:s,children:[u.jsx(xt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":jQ(_),"data-disabled":s?"":void 0,disabled:s,value:l,...h,ref:x,onClick:dt(t.onClick,E=>{C(P=>!P),b&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),b&&u.jsx(OQ,{control:p,bubbles:!v.current,name:n,value:l,checked:_,required:a,disabled:s,form:f,style:{transform:"translateX(-100%)"}})]})});NQ.displayName=Ow;var PQ="SwitchThumb",kQ=k.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=xOe(PQ,r);return u.jsx(xt.span,{"data-state":jQ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});kQ.displayName=PQ;var bOe="SwitchBubbleInput",OQ=k.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},o)=>{const a=k.useRef(null),s=Lt(a,o),l=uO(r),c=fO(e);return k.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&g){const x=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(x)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OQ.displayName=bOe;function jQ(t){return t?"checked":"unchecked"}var wOe=NQ,_Oe=kQ;function Ha({className:t,...e}){return u.jsx(wOe,{"data-slot":"switch",className:St("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(_Oe,{"data-slot":"switch-thumb",className:St("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var AOe="Label",RQ=k.forwardRef((t,e)=>u.jsx(xt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));RQ.displayName=AOe;var COe=RQ;function Gt({className:t,...e}){return u.jsx(COe,{"data-slot":"label",className:St("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function EOe({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState(!1),[o,a]=k.useState(!1),[s,l]=k.useState(!1),[c,f]=k.useState(!1),[h,p]=k.useState(!0),[g,x]=k.useState(!0),[v,b]=k.useState(!1),[_,C]=k.useState(!0),[E,P]=k.useState(!1),[I,S]=k.useState(!0),[T,N]=k.useState(!1),j=()=>{console.log("Account deletion requested"),i(!1)},B=()=>{const $=`Date,Meal,Calories,Protein,Carbs,Fat
2025-10-16,Breakfast Oats,450,15,65,12
2025-10-16,Grilled Chicken Salad,520,45,35,18
2025-10-16,Protein Shake,280,30,25,5`,H=new Blob([$],{type:"text/csv"}),K=window.URL.createObjectURL(H),Z=document.createElement("a");Z.href=K,Z.download="fitpanel-data-export.csv",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),window.URL.revokeObjectURL(K),f(!1)},M=[{icon:Vd,title:"Account Info",description:"Name, email, and login credentials"},{icon:tl,title:"Nutrition Data",description:"Meals, macros, and preferences you log"},{icon:vc,title:"Fitness Activity",description:"Workouts, progress scores, consistency stats"},{icon:N1,title:"Feedback & App Usage",description:"For improving features"}],L=[{type:"Meals & workouts",reason:"To personalize your AI recommendations"},{type:"Fitness Score",reason:"To track your consistency and progress"},{type:"Feedback",reason:"To improve FareFit features"},{type:"Account info",reason:"To secure your account and sync data"}],F=["All data encrypted in transit & storage","Secure JWT authentication","Passwords hashed with bcrypt","API calls protected via HTTPS"];return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"bg-white shadow-sm",style:{borderBottom:"1px solid #A8E6CF"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"#102A43"},children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(th,{className:"w-8 h-8",style:{color:"#1C7C54"}}),u.jsx("h1",{style:{color:"#102A43"},children:"Your Privacy, Our Priority"})]}),u.jsx("p",{className:"text-lg mb-4",style:{color:"#102A43",opacity:.8},children:"We take your data seriously. FitPanel only collects what's needed to give you accurate insights — and you control it all."}),u.jsx("div",{className:"inline-block px-6 py-3 rounded-lg text-sm",style:{backgroundColor:"#1C7C5420",color:"#1C7C54"},children:"💚 We built FareFit with transparency first — no hidden tracking, no data selling."})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"What We Collect"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:M.map(($,H)=>u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#1C7C5420"},children:u.jsx($.icon,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:$.title}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:$.description})]},H))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"Why We Collect It"}),u.jsx("div",{className:"space-y-4",children:L.map(($,H)=>u.jsxs("div",{className:"flex justify-between items-center py-3 border-b last:border-b-0",style:{borderColor:"#E8F4F2"},children:[u.jsx("span",{style:{color:"#102A43"},children:$.type}),u.jsx("span",{className:"text-sm text-right max-w-xs",style:{color:"#1C7C54"},children:$.reason})]},H))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"Who Sees Your Data"}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Vd,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("span",{className:"text-sm",style:{color:"#102A43"},children:"You"})]}),u.jsx("div",{className:"flex-1 h-0.5",style:{backgroundColor:"#A8E6CF"}}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#1C7C5420"},children:u.jsx(th,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("span",{className:"text-sm",style:{color:"#102A43"},children:"FareFit"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Secure Storage"})]}),u.jsx("div",{className:"flex-1 h-0.5",style:{backgroundColor:"#A8E6CF"}}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Sd,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("span",{className:"text-sm",style:{color:"#102A43"},children:"AI Insights"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Aggregated Only"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"✅"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:[u.jsx("strong",{children:"Only you"})," — and the AI models working locally or via secure APIs"]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"❌"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:u.jsx("strong",{children:"We never sell your data"})})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"❌"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:u.jsx("strong",{children:"We don't share it with advertisers"})})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"📊"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:["Any analytics are ",u.jsx("strong",{children:"aggregated and anonymous"})," (used to understand app performance, not your habits)"]})]})]})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"Your Controls"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(rh,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Delete account or clear history anytime"}),u.jsx("button",{onClick:()=>i(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Delete Account"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(HT,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Disable analytics tracking"}),u.jsx("button",{onClick:()=>a(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Manage Privacy"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(mD,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Export your data as a .csv"}),u.jsx("button",{onClick:()=>f(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Download My Info"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Sd,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Manage permissions (camera, microphone, etc.)"}),u.jsx("button",{onClick:()=>l(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Manage Permissions"})]})]})]}),u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 shadow-sm mb-10",style:{backgroundColor:"#102A4308",border:"1px solid #1C7C5430"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(Sd,{className:"w-6 h-6",style:{color:"#1C7C54"}}),u.jsx("h2",{className:"m-0",style:{color:"#102A43"},children:"How We Protect Your Data"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(($,H)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"🔐"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:$})]},H))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx("span",{className:"text-xl",children:"🤖"})}),u.jsx("h2",{className:"m-0",style:{color:"#102A43"},children:"About AI in FareFit"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg flex-shrink-0",children:"💬"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:["AI suggestions (Food AI, Coach AI) use your data to generate insights but ",u.jsx("strong",{children:"never store your conversations permanently"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg flex-shrink-0",children:"🔒"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:[u.jsx("strong",{children:"No data is shared with external models"})," without your consent"]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg flex-shrink-0",children:"🧹"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:["You can ",u.jsx("strong",{children:"clear AI history at any time"})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm text-center",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Have questions about your privacy?"}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs("a",{href:"mailto:privacy@fitpanel.ai",className:"inline-flex items-center gap-2 px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:[u.jsx(ug,{className:"w-5 h-5"}),u.jsx("span",{children:"privacy@fitpanel.ai"})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["🔄 We update this page if anything changes — last updated: ",u.jsx("strong",{children:"October 2025"})]})]})]})]}),u.jsx(bQ,{open:n,onOpenChange:i,children:u.jsxs(_Q,{children:[u.jsxs(AQ,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#FFB6B920"},children:u.jsx(jU,{className:"w-6 h-6",style:{color:"#FFB6B9"}})}),u.jsx(EQ,{style:{color:"#102A43"},children:"Delete Account"})]}),u.jsx(SQ,{asChild:!0,children:u.jsxs("div",{style:{color:"#102A43",opacity:.8},children:[u.jsx("div",{className:"mb-3",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers, including:"}),u.jsxs("ul",{className:"space-y-1 list-disc list-inside mb-3",children:[u.jsx("li",{children:"All logged meals and nutrition data"}),u.jsx("li",{children:"Workout history and progress"}),u.jsx("li",{children:"Fitness Credit Score history"}),u.jsx("li",{children:"AI conversation history"})]}),u.jsx("div",{children:"Are you absolutely sure you want to delete your account?"})]})})]}),u.jsxs(CQ,{children:[u.jsx(IQ,{style:{borderColor:"#A8E6CF"},children:"Cancel"}),u.jsx(TQ,{onClick:j,style:{backgroundColor:"#FFB6B9",color:"#102A43"},children:"Yes, Delete My Account"})]})]})}),u.jsx(li,{open:o,onOpenChange:a,children:u.jsxs(ci,{children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Privacy Settings"}),u.jsx(lo,{style:{color:"#102A43",opacity:.7},children:"Control what data we collect to improve FareFit"})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"analytics",style:{color:"#102A43"},children:"Analytics Tracking"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Help us improve by sharing anonymous usage data"})]}),u.jsx(Ha,{id:"analytics",checked:h,onCheckedChange:p,style:{backgroundColor:h?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"crashes",style:{color:"#102A43"},children:"Crash Reports"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Automatically send crash reports to fix bugs"})]}),u.jsx(Ha,{id:"crashes",checked:g,onCheckedChange:x,style:{backgroundColor:g?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"marketing",style:{color:"#102A43"},children:"Marketing Emails"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Receive tips, updates, and feature announcements"})]}),u.jsx(Ha,{id:"marketing",checked:v,onCheckedChange:b,style:{backgroundColor:v?"#1C7C54":void 0}})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx("button",{onClick:()=>{console.log("Privacy settings saved:",{analyticsEnabled:h,crashReportsEnabled:g,marketingEnabled:v}),a(!1)},className:"px-6 py-2 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Save Changes"})]})]})}),u.jsx(li,{open:c,onOpenChange:f,children:u.jsxs(ci,{children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Download Your Data"}),u.jsx(lo,{style:{color:"#102A43",opacity:.7},children:"Export a complete copy of your FitPanel data"})]}),u.jsxs("div",{className:"py-4",children:[u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Your export will include:"}),u.jsxs("ul",{className:"space-y-2 mb-6",children:[u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(tl,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"All logged meals and nutrition data"]}),u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(vc,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"Workout history and calories burned"]}),u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(Sd,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"Fitness Credit Score timeline"]}),u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(Vd,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"Account information"]})]}),u.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"#1C7C5410",border:"1px solid #1C7C5430"},children:u.jsxs("p",{className:"text-xs",style:{color:"#1C7C54"},children:["📄 Format: CSV (Comma-Separated Values)",u.jsx("br",{}),"💾 Size: ~2-5 KB",u.jsx("br",{}),"⚡ Ready in seconds"]})})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsxs("button",{onClick:B,className:"px-6 py-2 rounded-md text-white transition-opacity hover:opacity-90 flex items-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(mD,{className:"w-4 h-4"}),"Download Now"]})]})]})}),u.jsx(li,{open:s,onOpenChange:l,children:u.jsxs(ci,{children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"App Permissions"}),u.jsx(lo,{style:{color:"#102A43",opacity:.7},children:"Control what FareFit can access on your device"})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx(my,{className:"w-5 h-5 mt-0.5",style:{color:"#1C7C54"}}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"camera",style:{color:"#102A43"},children:"Camera"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"For scanning barcodes and food photos"})]})]}),u.jsx(Ha,{id:"camera",checked:_,onCheckedChange:C,style:{backgroundColor:_?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx(ene,{className:"w-5 h-5 mt-0.5",style:{color:"#1C7C54"}}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"microphone",style:{color:"#102A43"},children:"Microphone"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"For voice commands (future feature)"})]})]}),u.jsx(Ha,{id:"microphone",checked:E,onCheckedChange:P,style:{backgroundColor:E?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx(N1,{className:"w-5 h-5 mt-0.5",style:{color:"#1C7C54"}}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"notifications",style:{color:"#102A43"},children:"Notifications"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Reminders for meals and workouts"})]})]}),u.jsx(Ha,{id:"notifications",checked:I,onCheckedChange:S,style:{backgroundColor:I?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("div",{className:"w-5 h-5 mt-0.5 text-center",children:"📍"}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Gt,{htmlFor:"location",style:{color:"#102A43"},children:"Location"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Find nearby gyms and restaurants"})]})]}),u.jsx(Ha,{id:"location",checked:T,onCheckedChange:N,style:{backgroundColor:T?"#1C7C54":void 0}})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx("button",{onClick:()=>{console.log("Permissions saved:",{cameraEnabled:_,microphoneEnabled:E,notificationsEnabled:I,locationEnabled:T}),l(!1)},className:"px-6 py-2 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Save Changes"})]})]})}),u.jsx(wl,{onNavigate:e,onFeedbackClick:r})]})}function SOe({onBack:t,onNavigate:e,onFeedbackClick:r}){const n=[{number:1,icon:nk,title:"Acceptance of Terms",content:["By accessing or using FareFit, you agree to these Terms of Use and our Privacy Policy.","If you don't agree, please stop using the app.","FareFit may update these terms occasionally — we'll notify you if major changes occur."]},{number:2,icon:Vd,title:"Eligibility & Accounts",content:["To use FitPanel, you must be at least 13 years old and capable of forming a legal agreement.","You're responsible for maintaining the confidentiality of your account credentials.","You agree not to share your account or use another user's credentials."]},{number:3,icon:jU,title:"App Purpose (Fitness Disclaimer)",highlight:!0,content:["FareFit provides nutrition and fitness tracking tools, AI-powered insights, and educational content.","It is not a substitute for professional medical advice, diagnosis, or treatment.","Always consult a qualified health provider before making major changes to your diet or exercise routine."]},{number:4,icon:qre,title:"User Responsibilities",content:["You agree to:","• Provide accurate and truthful information.","• Use the app for personal, non-commercial purposes.","• Respect other users and our community guidelines (if applicable).","• Not attempt to hack, reverse-engineer, or misuse the app's services."]},{number:5,icon:yD,title:"Intellectual Property",content:["All app content, including logos, graphics, text, AI systems, and design elements, are owned by FareFit.","You may not copy, redistribute, or resell them without permission.","However, the data you log (meals, workouts, notes) belongs to you."]},{number:6,icon:th,title:"Data & Privacy",content:["Your data is handled according to our Privacy Policy.","We process your information only to provide the app's core features (nutrition tracking, progress scoring, and AI recommendations).","We do not sell or share personal information with third parties."]},{number:7,icon:Nre,title:"Subscription & Payment",content:["If FareFit introduces paid features, you'll be informed before purchase.","All payments will be processed securely and are non-refundable once the service period begins, unless required by law."]},{number:8,icon:Sd,title:"Limitation of Liability",content:["FitPanel and its creators are not liable for any damages or losses arising from app usage, data inaccuracies, or downtime.","By using the app, you understand that results are estimates and depend on your personal habits and input accuracy."]},{number:9,icon:fne,title:"Modifications & Updates",content:["We may update or change FareFit's features, AI models, or Terms over time.","When we make major updates, we'll let you know through the app or by email.","Continued use after changes means you accept the new Terms."]},{number:10,icon:IU,title:"Termination of Use",content:["You may delete your account at any time.","FitPanel may suspend or terminate accounts that violate these terms or misuse the platform."]},{number:11,icon:mne,title:"Governing Law",content:["These Terms are governed by the laws of the United States and the State of New York.","Any disputes will be handled in accordance with applicable laws."]},{number:12,icon:ug,title:"Contact Us",content:["Have questions about these Terms?","📧 Contact us at legal@farefit.ai"]}];return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-background)"},children:[u.jsx("div",{style:{backgroundColor:"var(--color-card-bg)",borderBottom:"1px solid var(--color-border)",boxShadow:"var(--shadow-sm)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--color-text)"},children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(yD,{className:"w-8 h-8",style:{color:"var(--color-primary)"}}),u.jsx("h1",{style:{color:"var(--color-text)"},children:"FitPanel Terms of Use"})]}),u.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--color-text)",opacity:.6},children:["Last updated: ",u.jsx("strong",{children:"October 2025"})]}),u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsx("p",{className:"text-lg mb-2",style:{color:"var(--color-text)",opacity:.9},children:"Welcome to FareFit!"}),u.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:"By using our app, you agree to these terms. Please read them carefully."})]})]}),u.jsx("div",{className:"space-y-6",children:n.map(i=>u.jsxs("div",{className:`rounded-lg p-6 sm:p-8 shadow-sm ${i.highlight?"border-2":""}`,style:{backgroundColor:i.highlight?"#FFB6B910":"var(--color-card-bg)",borderColor:i.highlight?"#FFB6B9":"transparent"},children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:i.highlight?"#FFB6B920":"var(--color-primary-light)"},children:u.jsx(i.icon,{className:"w-6 h-6",style:{color:i.highlight?"#FFB6B9":"var(--color-primary)"}})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-baseline gap-3 mb-3",children:[u.jsx("span",{className:"text-sm px-2 py-1 rounded",style:{backgroundColor:i.highlight?"#FFB6B920":"var(--color-primary-light)",color:i.highlight?"#FFB6B9":"var(--color-primary)"},children:i.number}),u.jsx("h2",{className:"m-0",style:{color:"var(--color-text)"},children:i.title})]}),u.jsx("div",{className:"space-y-3",children:i.content.map((o,a)=>u.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.85,whiteSpace:"pre-line"},children:o},a))})]})]}),i.highlight&&u.jsx("div",{className:"mt-4 p-4 rounded-md",style:{backgroundColor:"#FFB6B920"},children:u.jsxs("p",{className:"text-xs",style:{color:"var(--color-text)",opacity:.7},children:["⚠️ ",u.jsx("strong",{children:"Important:"})," This section is crucial for your safety and our legal protection. Please read carefully."]})})]},i.number))}),u.jsxs("div",{className:"mt-10 rounded-lg p-6 sm:p-8 shadow-sm text-center",style:{backgroundColor:"var(--color-card-bg)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--color-text)"},children:"Questions about our Terms?"}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs("a",{href:"mailto:legal@fitpanel.ai",className:"inline-flex items-center gap-2 px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--color-primary)"},children:[u.jsx(ug,{className:"w-5 h-5"}),u.jsx("span",{children:"legal@fitpanel.ai"})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--color-text)",opacity:.6},children:"We're here to help clarify anything you need."})]})]}),u.jsx("div",{className:"mt-6 p-6 rounded-lg text-center",style:{backgroundColor:"var(--color-primary-light)",border:"1px solid var(--color-primary)"},children:u.jsx("p",{className:"text-sm",style:{color:"var(--color-primary)"},children:"✅ By continuing to use FareFit, you acknowledge that you have read, understood, and agree to these Terms of Use."})})]}),u.jsx(wl,{onNavigate:e,onFeedbackClick:r})]})}function ib(t,[e,r]){return Math.min(r,Math.max(e,t))}function dO(t){const e=t+"CollectionProvider",[r,n]=qo(e),[i,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:b,children:_}=v,C=te.useRef(null),E=te.useRef(new Map).current;return u.jsx(i,{scope:b,itemMap:E,collectionRef:C,children:_})};a.displayName=e;const s=t+"CollectionSlot",l=hh(s),c=te.forwardRef((v,b)=>{const{scope:_,children:C}=v,E=o(s,_),P=Lt(b,E.collectionRef);return u.jsx(l,{ref:P,children:C})});c.displayName=s;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=hh(f),g=te.forwardRef((v,b)=>{const{scope:_,children:C,...E}=v,P=te.useRef(null),I=Lt(b,P),S=o(f,_);return te.useEffect(()=>(S.itemMap.set(P,{ref:P,...E}),()=>void S.itemMap.delete(P))),u.jsx(p,{[h]:"",ref:I,children:C})});g.displayName=f;function x(v){const b=o(t+"CollectionConsumer",v);return te.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((S,T)=>E.indexOf(S.ref.current)-E.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},x,n]}var TOe=k.createContext(void 0);function jw(t){const e=k.useContext(TOe);return t||e||"ltr"}const IOe=["top","right","bottom","left"],Nc=Math.min,oo=Math.max,ob=Math.round,Gv=Math.floor,cs=t=>({x:t,y:t}),NOe={left:"right",right:"left",bottom:"top",top:"bottom"},POe={start:"end",end:"start"};function gP(t,e,r){return oo(t,Nc(e,r))}function hl(t,e){return typeof t=="function"?t(e):t}function pl(t){return t.split("-")[0]}function hp(t){return t.split("-")[1]}function hO(t){return t==="x"?"y":"x"}function pO(t){return t==="y"?"height":"width"}const kOe=new Set(["top","bottom"]);function Xa(t){return kOe.has(pl(t))?"y":"x"}function mO(t){return hO(Xa(t))}function OOe(t,e,r){r===void 0&&(r=!1);const n=hp(t),i=mO(t),o=pO(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=ab(a)),[a,ab(a)]}function jOe(t){const e=ab(t);return[yP(t),e,yP(e)]}function yP(t){return t.replace(/start|end/g,e=>POe[e])}const jV=["left","right"],RV=["right","left"],ROe=["top","bottom"],DOe=["bottom","top"];function MOe(t,e,r){switch(t){case"top":case"bottom":return r?e?RV:jV:e?jV:RV;case"left":case"right":return e?ROe:DOe;default:return[]}}function FOe(t,e,r,n){const i=hp(t);let o=MOe(pl(t),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(yP)))),o}function ab(t){return t.replace(/left|right|bottom|top/g,e=>NOe[e])}function LOe(t){return{top:0,right:0,bottom:0,left:0,...t}}function DQ(t){return typeof t!="number"?LOe(t):{top:t,right:t,bottom:t,left:t}}function sb(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function DV(t,e,r){let{reference:n,floating:i}=t;const o=Xa(e),a=mO(e),s=pO(a),l=pl(e),c=o==="y",f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let g;switch(l){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-i.width,y:h};break;default:g={x:n.x,y:n.y}}switch(hp(e)){case"start":g[a]-=p*(r&&c?-1:1);break;case"end":g[a]+=p*(r&&c?-1:1);break}return g}const BOe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=DV(c,n,l),p=n,g={},x=0;for(let v=0;v<s.length;v++){const{name:b,fn:_}=s[v],{x:C,y:E,data:P,reset:I}=await _({x:f,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:g,rects:c,platform:a,elements:{reference:t,floating:e}});f=C??f,h=E??h,g={...g,[b]:{...g[b],...P}},I&&x<=50&&(x++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(c=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:f,y:h}=DV(c,p,l)),v=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:g}};async function sy(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=hl(e,t),x=DQ(g),b=s[p?h==="floating"?"reference":"floating":h],_=sb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:l})),C=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),P=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},I=sb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:C,offsetParent:E,strategy:l}):C);return{top:(_.top-I.top+x.top)/P.y,bottom:(I.bottom-_.bottom+x.bottom)/P.y,left:(_.left-I.left+x.left)/P.x,right:(I.right-_.right+x.right)/P.x}}const VOe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:f=0}=hl(t,e)||{};if(c==null)return{};const h=DQ(f),p={x:r,y:n},g=mO(i),x=pO(g),v=await a.getDimensions(c),b=g==="y",_=b?"top":"left",C=b?"bottom":"right",E=b?"clientHeight":"clientWidth",P=o.reference[x]+o.reference[g]-p[g]-o.floating[x],I=p[g]-o.reference[g],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=S?S[E]:0;(!T||!await(a.isElement==null?void 0:a.isElement(S)))&&(T=s.floating[E]||o.floating[x]);const N=P/2-I/2,j=T/2-v[x]/2-1,B=Nc(h[_],j),M=Nc(h[C],j),L=B,F=T-v[x]-M,$=T/2-v[x]/2+N,H=gP(L,$,F),K=!l.arrow&&hp(i)!=null&&$!==H&&o.reference[x]/2-($<L?B:M)-v[x]/2<0,Z=K?$<L?$-L:$-F:0;return{[g]:p[g]+Z,data:{[g]:H,centerOffset:$-H-Z,...K&&{alignmentOffset:Z}},reset:K}}}),$Oe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=hl(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const _=pl(i),C=Xa(s),E=pl(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=p||(E||!v?[ab(s)]:jOe(s)),S=x!=="none";!p&&S&&I.push(...FOe(s,v,x,P));const T=[s,...I],N=await sy(e,b),j=[];let B=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&j.push(N[_]),h){const $=OOe(i,a,P);j.push(N[$[0]],N[$[1]])}if(B=[...B,{placement:i,overflows:j}],!j.every($=>$<=0)){var M,L;const $=(((M=o.flip)==null?void 0:M.index)||0)+1,H=T[$];if(H&&(!(h==="alignment"?C!==Xa(H):!1)||B.every(q=>Xa(q.placement)===C?q.overflows[0]>0:!0)))return{data:{index:$,overflows:B},reset:{placement:H}};let K=(L=B.filter(Z=>Z.overflows[0]<=0).sort((Z,q)=>Z.overflows[1]-q.overflows[1])[0])==null?void 0:L.placement;if(!K)switch(g){case"bestFit":{var F;const Z=(F=B.filter(q=>{if(S){const re=Xa(q.placement);return re===C||re==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(re=>re>0).reduce((re,U)=>re+U,0)]).sort((q,re)=>q[1]-re[1])[0])==null?void 0:F[0];Z&&(K=Z);break}case"initialPlacement":K=s;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function MV(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FV(t){return IOe.some(e=>t[e]>=0)}const UOe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=hl(t,e);switch(n){case"referenceHidden":{const o=await sy(e,{...i,elementContext:"reference"}),a=MV(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:FV(a)}}}case"escaped":{const o=await sy(e,{...i,altBoundary:!0}),a=MV(o,r.floating);return{data:{escapedOffsets:a,escaped:FV(a)}}}default:return{}}}}},MQ=new Set(["left","top"]);async function zOe(t,e){const{placement:r,platform:n,elements:i}=t,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=pl(r),s=hp(r),l=Xa(r)==="y",c=MQ.has(a)?-1:1,f=o&&l?-1:1,h=hl(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof x=="number"&&(g=s==="end"?x*-1:x),l?{x:g*f,y:p*c}:{x:p*c,y:g*f}}const WOe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await zOe(e,t);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},HOe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x:_,y:C}=b;return{x:_,y:C}}},...l}=hl(t,e),c={x:r,y:n},f=await sy(e,l),h=Xa(pl(i)),p=hO(h);let g=c[p],x=c[h];if(o){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",C=g+f[b],E=g-f[_];g=gP(C,g,E)}if(a){const b=h==="y"?"top":"left",_=h==="y"?"bottom":"right",C=x+f[b],E=x-f[_];x=gP(C,x,E)}const v=s.fn({...e,[p]:g,[h]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:o,[h]:a}}}}}},qOe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=hl(t,e),f={x:r,y:n},h=Xa(i),p=hO(h);let g=f[p],x=f[h];const v=hl(s,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const E=p==="y"?"height":"width",P=o.reference[p]-o.floating[E]+b.mainAxis,I=o.reference[p]+o.reference[E]-b.mainAxis;g<P?g=P:g>I&&(g=I)}if(c){var _,C;const E=p==="y"?"width":"height",P=MQ.has(pl(i)),I=o.reference[h]-o.floating[E]+(P&&((_=a.offset)==null?void 0:_[h])||0)+(P?0:b.crossAxis),S=o.reference[h]+o.reference[E]+(P?0:((C=a.offset)==null?void 0:C[h])||0)-(P?b.crossAxis:0);x<I?x=I:x>S&&(x=S)}return{[p]:g,[h]:x}}}},GOe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=hl(t,e),f=await sy(e,c),h=pl(i),p=hp(i),g=Xa(i)==="y",{width:x,height:v}=o.floating;let b,_;h==="top"||h==="bottom"?(b=h,_=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(_=h,b=p==="end"?"top":"bottom");const C=v-f.top-f.bottom,E=x-f.left-f.right,P=Nc(v-f[b],C),I=Nc(x-f[_],E),S=!e.middlewareData.shift;let T=P,N=I;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=E),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=C),S&&!p){const B=oo(f.left,0),M=oo(f.right,0),L=oo(f.top,0),F=oo(f.bottom,0);g?N=x-2*(B!==0||M!==0?B+M:oo(f.left,f.right)):T=v-2*(L!==0||F!==0?L+F:oo(f.top,f.bottom))}await l({...e,availableWidth:N,availableHeight:T});const j=await a.getDimensions(s.floating);return x!==j.width||v!==j.height?{reset:{rects:!0}}:{}}}};function Rw(){return typeof window<"u"}function pp(t){return FQ(t)?(t.nodeName||"").toLowerCase():"#document"}function go(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ws(t){var e;return(e=(FQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FQ(t){return Rw()?t instanceof Node||t instanceof go(t).Node:!1}function xa(t){return Rw()?t instanceof Element||t instanceof go(t).Element:!1}function ps(t){return Rw()?t instanceof HTMLElement||t instanceof go(t).HTMLElement:!1}function LV(t){return!Rw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof go(t).ShadowRoot}const KOe=new Set(["inline","contents"]);function Qy(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ba(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!KOe.has(i)}const YOe=new Set(["table","td","th"]);function XOe(t){return YOe.has(pp(t))}const QOe=[":popover-open",":modal"];function Dw(t){return QOe.some(e=>{try{return t.matches(e)}catch{return!1}})}const ZOe=["transform","translate","scale","rotate","perspective"],JOe=["transform","translate","scale","rotate","perspective","filter"],eje=["paint","layout","strict","content"];function gO(t){const e=yO(),r=xa(t)?ba(t):t;return ZOe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||JOe.some(n=>(r.willChange||"").includes(n))||eje.some(n=>(r.contain||"").includes(n))}function tje(t){let e=Pc(t);for(;ps(e)&&!Vh(e);){if(gO(e))return e;if(Dw(e))return null;e=Pc(e)}return null}function yO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rje=new Set(["html","body","#document"]);function Vh(t){return rje.has(pp(t))}function ba(t){return go(t).getComputedStyle(t)}function Mw(t){return xa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pc(t){if(pp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LV(t)&&t.host||ws(t);return LV(e)?e.host:e}function LQ(t){const e=Pc(t);return Vh(e)?t.ownerDocument?t.ownerDocument.body:t.body:ps(e)&&Qy(e)?e:LQ(e)}function ly(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=LQ(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),a=go(i);if(o){const s=vP(a);return e.concat(a,a.visualViewport||[],Qy(i)?i:[],s&&r?ly(s):[])}return e.concat(i,ly(i,[],r))}function vP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BQ(t){const e=ba(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ps(t),o=i?t.offsetWidth:r,a=i?t.offsetHeight:n,s=ob(r)!==o||ob(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function vO(t){return xa(t)?t:t.contextElement}function Qd(t){const e=vO(t);if(!ps(e))return cs(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=BQ(e);let a=(o?ob(r.width):r.width)/n,s=(o?ob(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const nje=cs(0);function VQ(t){const e=go(t);return!yO()||!e.visualViewport?nje:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ije(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==go(t)?!1:e}function hf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=vO(t);let a=cs(1);e&&(n?xa(n)&&(a=Qd(n)):a=Qd(t));const s=ije(o,r,n)?VQ(o):cs(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(o){const p=go(o),g=n&&xa(n)?go(n):n;let x=p,v=vP(x);for(;v&&n&&g!==x;){const b=Qd(v),_=v.getBoundingClientRect(),C=ba(v),E=_.left+(v.clientLeft+parseFloat(C.paddingLeft))*b.x,P=_.top+(v.clientTop+parseFloat(C.paddingTop))*b.y;l*=b.x,c*=b.y,f*=b.x,h*=b.y,l+=E,c+=P,x=go(v),v=vP(x)}}return sb({width:f,height:h,x:l,y:c})}function Fw(t,e){const r=Mw(t).scrollLeft;return e?e.left+r:hf(ws(t)).left+r}function $Q(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Fw(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function oje(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",a=ws(n),s=e?Dw(e.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=cs(1);const f=cs(0),h=ps(n);if((h||!h&&!o)&&((pp(n)!=="body"||Qy(a))&&(l=Mw(n)),ps(n))){const g=hf(n);c=Qd(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const p=a&&!h&&!o?$Q(a,l):cs(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+f.x+p.x,y:r.y*c.y-l.scrollTop*c.y+f.y+p.y}}function aje(t){return Array.from(t.getClientRects())}function sje(t){const e=ws(t),r=Mw(t),n=t.ownerDocument.body,i=oo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=oo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Fw(t);const s=-r.scrollTop;return ba(n).direction==="rtl"&&(a+=oo(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}const BV=25;function lje(t,e){const r=go(t),n=ws(t),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const f=yO();(!f||f&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=Fw(n);if(c<=0){const f=n.ownerDocument,h=f.body,p=getComputedStyle(h),g=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(n.clientWidth-h.clientWidth-g);x<=BV&&(o-=x)}else c<=BV&&(o+=c);return{width:o,height:a,x:s,y:l}}const cje=new Set(["absolute","fixed"]);function uje(t,e){const r=hf(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=ps(t)?Qd(t):cs(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function VV(t,e,r){let n;if(e==="viewport")n=lje(t,r);else if(e==="document")n=sje(ws(t));else if(xa(e))n=uje(e,r);else{const i=VQ(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return sb(n)}function UQ(t,e){const r=Pc(t);return r===e||!xa(r)||Vh(r)?!1:ba(r).position==="fixed"||UQ(r,e)}function fje(t,e){const r=e.get(t);if(r)return r;let n=ly(t,[],!1).filter(s=>xa(s)&&pp(s)!=="body"),i=null;const o=ba(t).position==="fixed";let a=o?Pc(t):t;for(;xa(a)&&!Vh(a);){const s=ba(a),l=gO(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&cje.has(i.position)||Qy(a)&&!l&&UQ(t,a))?n=n.filter(f=>f!==a):i=s,a=Pc(a)}return e.set(t,n),n}function dje(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?Dw(e)?[]:fje(e,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,f)=>{const h=VV(e,f,i);return c.top=oo(h.top,c.top),c.right=Nc(h.right,c.right),c.bottom=Nc(h.bottom,c.bottom),c.left=oo(h.left,c.left),c},VV(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hje(t){const{width:e,height:r}=BQ(t);return{width:e,height:r}}function pje(t,e,r){const n=ps(e),i=ws(e),o=r==="fixed",a=hf(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=cs(0);function c(){l.x=Fw(i)}if(n||!n&&!o)if((pp(e)!=="body"||Qy(i))&&(s=Mw(e)),n){const g=hf(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!n&&i&&c();const f=i&&!n&&!o?$Q(i,s):cs(0),h=a.left+s.scrollLeft-l.x-f.x,p=a.top+s.scrollTop-l.y-f.y;return{x:h,y:p,width:a.width,height:a.height}}function mT(t){return ba(t).position==="static"}function $V(t,e){if(!ps(t)||ba(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ws(t)===r&&(r=r.ownerDocument.body),r}function zQ(t,e){const r=go(t);if(Dw(t))return r;if(!ps(t)){let i=Pc(t);for(;i&&!Vh(i);){if(xa(i)&&!mT(i))return i;i=Pc(i)}return r}let n=$V(t,e);for(;n&&XOe(n)&&mT(n);)n=$V(n,e);return n&&Vh(n)&&mT(n)&&!gO(n)?r:n||tje(t)||r}const mje=async function(t){const e=this.getOffsetParent||zQ,r=this.getDimensions,n=await r(t.floating);return{reference:pje(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gje(t){return ba(t).direction==="rtl"}const yje={convertOffsetParentRelativeRectToViewportRelativeRect:oje,getDocumentElement:ws,getClippingRect:dje,getOffsetParent:zQ,getElementRects:mje,getClientRects:aje,getDimensions:hje,getScale:Qd,isElement:xa,isRTL:gje};function WQ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function vje(t,e){let r=null,n;const i=ws(t);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:f,top:h,width:p,height:g}=c;if(s||e(),!p||!g)return;const x=Gv(h),v=Gv(i.clientWidth-(f+p)),b=Gv(i.clientHeight-(h+g)),_=Gv(f),E={rootMargin:-x+"px "+-v+"px "+-b+"px "+-_+"px",threshold:oo(0,Nc(1,l))||1};let P=!0;function I(S){const T=S[0].intersectionRatio;if(T!==l){if(!P)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!WQ(c,t.getBoundingClientRect())&&a(),P=!1}try{r=new IntersectionObserver(I,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(I,E)}r.observe(t)}return a(!0),o}function xje(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=vO(t),f=i||o?[...c?ly(c):[],...ly(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),o&&_.addEventListener("resize",r)});const h=c&&s?vje(c,r):null;let p=-1,g=null;a&&(g=new ResizeObserver(_=>{let[C]=_;C&&C.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),r()}),c&&!l&&g.observe(c),g.observe(e));let x,v=l?hf(t):null;l&&b();function b(){const _=hf(t);v&&!WQ(v,_)&&r(),v=_,x=requestAnimationFrame(b)}return r(),()=>{var _;f.forEach(C=>{i&&C.removeEventListener("scroll",r),o&&C.removeEventListener("resize",r)}),h?.(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const bje=WOe,wje=HOe,_je=$Oe,Aje=GOe,Cje=UOe,UV=VOe,Eje=qOe,Sje=(t,e,r)=>{const n=new Map,i={platform:yje,...r},o={...i.platform,_c:n};return BOe(t,e,{...i,platform:o})};var Tje=typeof document<"u",Ije=function(){},A1=Tje?k.useLayoutEffect:Ije;function lb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!lb(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!lb(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function HQ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zV(t,e){const r=HQ(t);return Math.round(e*r)/r}function gT(t){const e=k.useRef(t);return A1(()=>{e.current=t}),e}function Nje(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[f,h]=k.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=k.useState(n);lb(p,n)||g(n);const[x,v]=k.useState(null),[b,_]=k.useState(null),C=k.useCallback(q=>{q!==S.current&&(S.current=q,v(q))},[]),E=k.useCallback(q=>{q!==T.current&&(T.current=q,_(q))},[]),P=o||x,I=a||b,S=k.useRef(null),T=k.useRef(null),N=k.useRef(f),j=l!=null,B=gT(l),M=gT(i),L=gT(c),F=k.useCallback(()=>{if(!S.current||!T.current)return;const q={placement:e,strategy:r,middleware:p};M.current&&(q.platform=M.current),Sje(S.current,T.current,q).then(re=>{const U={...re,isPositioned:L.current!==!1};$.current&&!lb(N.current,U)&&(N.current=U,Ly.flushSync(()=>{h(U)}))})},[p,e,r,M,L]);A1(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[c]);const $=k.useRef(!1);A1(()=>($.current=!0,()=>{$.current=!1}),[]),A1(()=>{if(P&&(S.current=P),I&&(T.current=I),P&&I){if(B.current)return B.current(P,I,F);F()}},[P,I,F,B,j]);const H=k.useMemo(()=>({reference:S,floating:T,setReference:C,setFloating:E}),[C,E]),K=k.useMemo(()=>({reference:P,floating:I}),[P,I]),Z=k.useMemo(()=>{const q={position:r,left:0,top:0};if(!K.floating)return q;const re=zV(K.floating,f.x),U=zV(K.floating,f.y);return s?{...q,transform:"translate("+re+"px, "+U+"px)",...HQ(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:U}},[r,s,K.floating,f.x,f.y]);return k.useMemo(()=>({...f,update:F,refs:H,elements:K,floatingStyles:Z}),[f,F,H,K,Z])}const Pje=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?UV({element:n.current,padding:i}).fn(r):{}:n?UV({element:n,padding:i}).fn(r):{}}}},kje=(t,e)=>({...bje(t),options:[t,e]}),Oje=(t,e)=>({...wje(t),options:[t,e]}),jje=(t,e)=>({...Eje(t),options:[t,e]}),Rje=(t,e)=>({..._je(t),options:[t,e]}),Dje=(t,e)=>({...Aje(t),options:[t,e]}),Mje=(t,e)=>({...Cje(t),options:[t,e]}),Fje=(t,e)=>({...Pje(t),options:[t,e]});var Lje="Arrow",qQ=k.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...o}=t;return u.jsx(xt.svg,{...o,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});qQ.displayName=Lje;var Bje=qQ,xO="Popper",[GQ,Lw]=qo(xO),[Vje,KQ]=GQ(xO),YQ=t=>{const{__scopePopper:e,children:r}=t,[n,i]=k.useState(null);return u.jsx(Vje,{scope:e,anchor:n,onAnchorChange:i,children:r})};YQ.displayName=xO;var XQ="PopperAnchor",QQ=k.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,o=KQ(XQ,r),a=k.useRef(null),s=Lt(e,a),l=k.useRef(null);return k.useEffect(()=>{const c=l.current;l.current=n?.current||a.current,c!==l.current&&o.onAnchorChange(l.current)}),n?null:u.jsx(xt.div,{...i,ref:s})});QQ.displayName=XQ;var bO="PopperContent",[$je,Uje]=GQ(bO),ZQ=k.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=t,b=KQ(bO,r),[_,C]=k.useState(null),E=Lt(e,ae=>C(ae)),[P,I]=k.useState(null),S=fO(P),T=S?.width??0,N=S?.height??0,j=n+(o!=="center"?"-"+o:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(c)?c:[c],L=M.length>0,F={padding:B,boundary:M.filter(Wje),altBoundary:L},{refs:$,floatingStyles:H,placement:K,isPositioned:Z,middlewareData:q}=Nje({strategy:"fixed",placement:j,whileElementsMounted:(...ae)=>xje(...ae,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[kje({mainAxis:i+N,alignmentAxis:a}),l&&Oje({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?jje():void 0,...F}),l&&Rje({...F}),Dje({...F,apply:({elements:ae,rects:ve,availableWidth:he,availableHeight:_e})=>{const{width:Pe,height:pe}=ve.reference,et=ae.floating.style;et.setProperty("--radix-popper-available-width",`${he}px`),et.setProperty("--radix-popper-available-height",`${_e}px`),et.setProperty("--radix-popper-anchor-width",`${Pe}px`),et.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),P&&Fje({element:P,padding:s}),Hje({arrowWidth:T,arrowHeight:N}),p&&Mje({strategy:"referenceHidden",...F})]}),[re,U]=tZ(K),X=cl(x);sn(()=>{Z&&X?.()},[Z,X]);const ee=q.arrow?.x,W=q.arrow?.y,Q=q.arrow?.centerOffset!==0,[se,oe]=k.useState();return sn(()=>{_&&oe(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx($je,{scope:r,placedSide:re,onArrowChange:I,arrowX:ee,arrowY:W,shouldHideArrow:Q,children:u.jsx(xt.div,{"data-side":re,"data-align":U,...v,ref:E,style:{...v.style,animation:Z?void 0:"none"}})})})});ZQ.displayName=bO;var JQ="PopperArrow",zje={top:"bottom",right:"left",bottom:"top",left:"right"},eZ=k.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,o=Uje(JQ,n),a=zje[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(Bje,{...i,ref:r,style:{...i.style,display:"block"}})})});eZ.displayName=JQ;function Wje(t){return t!==null}var Hje=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,f]=tZ(r),h={start:"0%",center:"50%",end:"100%"}[f],p=(i.arrow?.x??0)+s/2,g=(i.arrow?.y??0)+l/2;let x="",v="";return c==="bottom"?(x=a?h:`${p}px`,v=`${-l}px`):c==="top"?(x=a?h:`${p}px`,v=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=a?h:`${g}px`):c==="left"&&(x=`${n.floating.width+l}px`,v=a?h:`${g}px`),{data:{x,y:v}}}});function tZ(t){const[e,r="center"]=t.split("-");return[e,r]}var rZ=YQ,nZ=QQ,iZ=ZQ,oZ=eZ,aZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qje="VisuallyHidden",sZ=k.forwardRef((t,e)=>u.jsx(xt.span,{...t,ref:e,style:{...aZ,...t.style}}));sZ.displayName=qje;var Gje=sZ,Kje=[" ","Enter","ArrowUp","ArrowDown"],Yje=[" ","Enter"],pf="Select",[Bw,Vw,Xje]=dO(pf),[mp]=qo(pf,[Xje,Lw]),$w=Lw(),[Qje,Wc]=mp(pf),[Zje,Jje]=mp(pf),lZ=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:f,autoComplete:h,disabled:p,required:g,form:x}=t,v=$w(e),[b,_]=k.useState(null),[C,E]=k.useState(null),[P,I]=k.useState(!1),S=jw(c),[T,N]=ll({prop:n,defaultProp:i??!1,onChange:o,caller:pf}),[j,B]=ll({prop:a,defaultProp:s,onChange:l,caller:pf}),M=k.useRef(null),L=b?x||!!b.closest("form"):!0,[F,$]=k.useState(new Set),H=Array.from(F).map(K=>K.props.value).join(";");return u.jsx(rZ,{...v,children:u.jsxs(Qje,{required:g,scope:e,trigger:b,onTriggerChange:_,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:P,onValueNodeHasChildrenChange:I,contentId:as(),value:j,onValueChange:B,open:T,onOpenChange:N,dir:S,triggerPointerDownPosRef:M,disabled:p,children:[u.jsx(Bw.Provider,{scope:e,children:u.jsx(Zje,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(K=>{$(Z=>new Set(Z).add(K))},[]),onNativeOptionRemove:k.useCallback(K=>{$(Z=>{const q=new Set(Z);return q.delete(K),q})},[]),children:r})}),L?u.jsxs(PZ,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:j,onChange:K=>B(K.target.value),disabled:p,form:x,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(F)]},H):null]})})};lZ.displayName=pf;var cZ="SelectTrigger",uZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,o=$w(r),a=Wc(cZ,r),s=a.disabled||n,l=Lt(e,a.onTriggerChange),c=Vw(r),f=k.useRef("touch"),[h,p,g]=OZ(v=>{const b=c().filter(E=>!E.disabled),_=b.find(E=>E.value===a.value),C=jZ(b,v,_);C!==void 0&&a.onValueChange(C.value)}),x=v=>{s||(a.onOpenChange(!0),g()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(nZ,{asChild:!0,...o,children:u.jsx(xt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":kZ(a.value)?"":void 0,...i,ref:l,onClick:dt(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:dt(i.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:dt(i.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(b&&v.key===" ")&&Kje.includes(v.key)&&(x(),v.preventDefault())})})})});uZ.displayName=cZ;var fZ="SelectValue",dZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:a="",...s}=t,l=Wc(fZ,r),{onValueNodeHasChildrenChange:c}=l,f=o!==void 0,h=Lt(e,l.onValueNodeChange);return sn(()=>{c(f)},[c,f]),u.jsx(xt.span,{...s,ref:h,style:{pointerEvents:"none"},children:kZ(l.value)?u.jsx(u.Fragment,{children:a}):o})});dZ.displayName=fZ;var eRe="SelectIcon",hZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(xt.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});hZ.displayName=eRe;var tRe="SelectPortal",pZ=t=>u.jsx(zb,{asChild:!0,...t});pZ.displayName=tRe;var mf="SelectContent",mZ=k.forwardRef((t,e)=>{const r=Wc(mf,t.__scopeSelect),[n,i]=k.useState();if(sn(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?Ly.createPortal(u.jsx(gZ,{scope:t.__scopeSelect,children:u.jsx(Bw.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(yZ,{...t,ref:e})});mZ.displayName=mf;var sa=10,[gZ,Hc]=mp(mf),rRe="SelectContentImpl",nRe=hh("SelectContent.RemoveScroll"),yZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:b,..._}=t,C=Wc(mf,r),[E,P]=k.useState(null),[I,S]=k.useState(null),T=Lt(e,ae=>P(ae)),[N,j]=k.useState(null),[B,M]=k.useState(null),L=Vw(r),[F,$]=k.useState(!1),H=k.useRef(!1);k.useEffect(()=>{if(E)return oG(E)},[E]),Xq();const K=k.useCallback(ae=>{const[ve,...he]=L().map(pe=>pe.ref.current),[_e]=he.slice(-1),Pe=document.activeElement;for(const pe of ae)if(pe===Pe||(pe?.scrollIntoView({block:"nearest"}),pe===ve&&I&&(I.scrollTop=0),pe===_e&&I&&(I.scrollTop=I.scrollHeight),pe?.focus(),document.activeElement!==Pe))return},[L,I]),Z=k.useCallback(()=>K([N,E]),[K,N,E]);k.useEffect(()=>{F&&Z()},[F,Z]);const{onOpenChange:q,triggerPointerDownPosRef:re}=C;k.useEffect(()=>{if(E){let ae={x:0,y:0};const ve=_e=>{ae={x:Math.abs(Math.round(_e.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(_e.pageY)-(re.current?.y??0))}},he=_e=>{ae.x<=10&&ae.y<=10?_e.preventDefault():E.contains(_e.target)||q(!1),document.removeEventListener("pointermove",ve),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",he,{capture:!0})}}},[E,q,re]),k.useEffect(()=>{const ae=()=>q(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[q]);const[U,X]=OZ(ae=>{const ve=L().filter(Pe=>!Pe.disabled),he=ve.find(Pe=>Pe.ref.current===document.activeElement),_e=jZ(ve,ae,he);_e&&setTimeout(()=>_e.ref.current.focus())}),ee=k.useCallback((ae,ve,he)=>{const _e=!H.current&&!he;(C.value!==void 0&&C.value===ve||_e)&&(j(ae),_e&&(H.current=!0))},[C.value]),W=k.useCallback(()=>E?.focus(),[E]),Q=k.useCallback((ae,ve,he)=>{const _e=!H.current&&!he;(C.value!==void 0&&C.value===ve||_e)&&M(ae)},[C.value]),se=n==="popper"?xP:vZ,oe=se===xP?{side:s,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:b}:{};return u.jsx(gZ,{scope:r,content:E,viewport:I,onViewportChange:S,itemRefCallback:ee,selectedItem:N,onItemLeave:W,itemTextRefCallback:Q,focusSelectedItem:Z,selectedItemText:B,position:n,isPositioned:F,searchRef:U,children:u.jsx(G4,{as:nRe,allowPinchZoom:!0,children:u.jsx(q4,{asChild:!0,trapped:C.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:dt(i,ae=>{C.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:u.jsx(Ub,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:u.jsx(se,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ae=>ae.preventDefault(),..._,...oe,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:dt(_.onKeyDown,ae=>{const ve=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ve&&ae.key.length===1&&X(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let _e=L().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Pe=ae.target,pe=_e.indexOf(Pe);_e=_e.slice(pe+1)}setTimeout(()=>K(_e)),ae.preventDefault()}})})})})})})});yZ.displayName=rRe;var iRe="SelectItemAlignedPosition",vZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,o=Wc(mf,r),a=Hc(mf,r),[s,l]=k.useState(null),[c,f]=k.useState(null),h=Lt(e,T=>f(T)),p=Vw(r),g=k.useRef(!1),x=k.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:_,focusSelectedItem:C}=a,E=k.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&v&&b&&_){const T=o.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),B=_.getBoundingClientRect();if(o.dir!=="rtl"){const Pe=B.left-N.left,pe=j.left-Pe,et=T.left-pe,$e=T.width+et,nt=Math.max($e,N.width),Ce=window.innerWidth-sa,Re=ib(pe,[sa,Math.max(sa,Ce-nt)]);s.style.minWidth=$e+"px",s.style.left=Re+"px"}else{const Pe=N.right-B.right,pe=window.innerWidth-j.right-Pe,et=window.innerWidth-T.right-pe,$e=T.width+et,nt=Math.max($e,N.width),Ce=window.innerWidth-sa,Re=ib(pe,[sa,Math.max(sa,Ce-nt)]);s.style.minWidth=$e+"px",s.style.right=Re+"px"}const M=p(),L=window.innerHeight-sa*2,F=v.scrollHeight,$=window.getComputedStyle(c),H=parseInt($.borderTopWidth,10),K=parseInt($.paddingTop,10),Z=parseInt($.borderBottomWidth,10),q=parseInt($.paddingBottom,10),re=H+K+F+q+Z,U=Math.min(b.offsetHeight*5,re),X=window.getComputedStyle(v),ee=parseInt(X.paddingTop,10),W=parseInt(X.paddingBottom,10),Q=T.top+T.height/2-sa,se=L-Q,oe=b.offsetHeight/2,ae=b.offsetTop+oe,ve=H+K+ae,he=re-ve;if(ve<=Q){const Pe=M.length>0&&b===M[M.length-1].ref.current;s.style.bottom="0px";const pe=c.clientHeight-v.offsetTop-v.offsetHeight,et=Math.max(se,oe+(Pe?W:0)+pe+Z),$e=ve+et;s.style.height=$e+"px"}else{const Pe=M.length>0&&b===M[0].ref.current;s.style.top="0px";const et=Math.max(Q,H+v.offsetTop+(Pe?ee:0)+oe)+he;s.style.height=et+"px",v.scrollTop=ve-Q+v.offsetTop}s.style.margin=`${sa}px 0`,s.style.minHeight=U+"px",s.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[p,o.trigger,o.valueNode,s,c,v,b,_,o.dir,n]);sn(()=>E(),[E]);const[P,I]=k.useState();sn(()=>{c&&I(window.getComputedStyle(c).zIndex)},[c]);const S=k.useCallback(T=>{T&&x.current===!0&&(E(),C?.(),x.current=!1)},[E,C]);return u.jsx(aRe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:g,onScrollButtonChange:S,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:u.jsx(xt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});vZ.displayName=iRe;var oRe="SelectPopperPosition",xP=k.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=sa,...o}=t,a=$w(r);return u.jsx(iZ,{...a,...o,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xP.displayName=oRe;var[aRe,wO]=mp(mf,{}),bP="SelectViewport",xZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,o=Hc(bP,r),a=wO(bP,r),s=Lt(e,o.onViewportChange),l=k.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(Bw.Slot,{scope:r,children:u.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p?.current&&h){const g=Math.abs(l.current-f.scrollTop);if(g>0){const x=window.innerHeight-sa*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),_=Math.max(v,b);if(_<x){const C=_+g,E=Math.min(x,C),P=C-E;h.style.height=E+"px",h.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});xZ.displayName=bP;var bZ="SelectGroup",[sRe,lRe]=mp(bZ),cRe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=as();return u.jsx(sRe,{scope:r,id:i,children:u.jsx(xt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});cRe.displayName=bZ;var wZ="SelectLabel",uRe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=lRe(wZ,r);return u.jsx(xt.div,{id:i.id,...n,ref:e})});uRe.displayName=wZ;var cb="SelectItem",[fRe,_Z]=mp(cb),AZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...a}=t,s=Wc(cb,r),l=Hc(cb,r),c=s.value===n,[f,h]=k.useState(o??""),[p,g]=k.useState(!1),x=Lt(e,C=>l.itemRefCallback?.(C,n,i)),v=as(),b=k.useRef("touch"),_=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(fRe,{scope:r,value:n,disabled:i,textId:v,isSelected:c,onItemTextChange:k.useCallback(C=>{h(E=>E||(C?.textContent??"").trim())},[]),children:u.jsx(Bw.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:u.jsx(xt.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:dt(a.onFocus,()=>g(!0)),onBlur:dt(a.onBlur,()=>g(!1)),onClick:dt(a.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:dt(a.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:dt(a.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:dt(a.onPointerMove,C=>{b.current=C.pointerType,i?l.onItemLeave?.():b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(a.onPointerLeave,C=>{C.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:dt(a.onKeyDown,C=>{l.searchRef?.current!==""&&C.key===" "||(Yje.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});AZ.displayName=cb;var Lm="SelectItemText",CZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...o}=t,a=Wc(Lm,r),s=Hc(Lm,r),l=_Z(Lm,r),c=Jje(Lm,r),[f,h]=k.useState(null),p=Lt(e,_=>h(_),l.onItemTextChange,_=>s.itemTextRefCallback?.(_,l.value,l.disabled)),g=f?.textContent,x=k.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=c;return sn(()=>(v(x),()=>b(x)),[v,b,x]),u.jsxs(u.Fragment,{children:[u.jsx(xt.span,{id:l.textId,...o,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ly.createPortal(o.children,a.valueNode):null]})});CZ.displayName=Lm;var EZ="SelectItemIndicator",SZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return _Z(EZ,r).isSelected?u.jsx(xt.span,{"aria-hidden":!0,...n,ref:e}):null});SZ.displayName=EZ;var wP="SelectScrollUpButton",TZ=k.forwardRef((t,e)=>{const r=Hc(wP,t.__scopeSelect),n=wO(wP,t.__scopeSelect),[i,o]=k.useState(!1),a=Lt(e,n.onScrollButtonChange);return sn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(NZ,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});TZ.displayName=wP;var _P="SelectScrollDownButton",IZ=k.forwardRef((t,e)=>{const r=Hc(_P,t.__scopeSelect),n=wO(_P,t.__scopeSelect),[i,o]=k.useState(!1),a=Lt(e,n.onScrollButtonChange);return sn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;o(f)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(NZ,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});IZ.displayName=_P;var NZ=k.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,o=Hc("SelectScrollButton",r),a=k.useRef(null),s=Vw(r),l=k.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),sn(()=>{s().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),u.jsx(xt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:dt(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{l()})})}),dRe="SelectSeparator",hRe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(xt.div,{"aria-hidden":!0,...n,ref:e})});hRe.displayName=dRe;var AP="SelectArrow",pRe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=$w(r),o=Wc(AP,r),a=Hc(AP,r);return o.open&&a.position==="popper"?u.jsx(oZ,{...i,...n,ref:e}):null});pRe.displayName=AP;var mRe="SelectBubbleInput",PZ=k.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=k.useRef(null),o=Lt(n,i),a=uO(e);return k.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&f){const h=new Event("change",{bubbles:!0});f.call(s,e),s.dispatchEvent(h)}},[a,e]),u.jsx(xt.select,{...r,style:{...aZ,...r.style},ref:o,defaultValue:e})});PZ.displayName=mRe;function kZ(t){return t===""||t===void 0}function OZ(t){const e=cl(t),r=k.useRef(""),n=k.useRef(0),i=k.useCallback(a=>{const s=r.current+a;e(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[e]),o=k.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function jZ(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=gRe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function gRe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var yRe=lZ,vRe=uZ,xRe=dZ,bRe=hZ,wRe=pZ,_Re=mZ,ARe=xZ,CRe=AZ,ERe=CZ,SRe=SZ,TRe=TZ,IRe=IZ;function cy({...t}){return u.jsx(yRe,{"data-slot":"select",...t})}function uy({...t}){return u.jsx(xRe,{"data-slot":"select-value",...t})}function fy({className:t,size:e="default",children:r,...n}){return u.jsxs(vRe,{"data-slot":"select-trigger","data-size":e,className:St("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,u.jsx(bRe,{asChild:!0,children:u.jsx(yc,{className:"size-4 opacity-50"})})]})}function dy({className:t,children:e,position:r="popper",...n}){return u.jsx(wRe,{children:u.jsxs(_Re,{"data-slot":"select-content",className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(NRe,{}),u.jsx(ARe,{className:St("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(PRe,{})]})})}function Mo({className:t,children:e,...r}){return u.jsxs(CRe,{"data-slot":"select-item",className:St("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(SRe,{children:u.jsx(gy,{className:"size-4"})})}),u.jsx(ERe,{children:e})]})}function NRe({className:t,...e}){return u.jsx(TRe,{"data-slot":"select-scroll-up-button",className:St("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(rk,{className:"size-4"})})}function PRe({className:t,...e}){return u.jsx(IRe,{"data-slot":"select-scroll-down-button",className:St("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(yc,{className:"size-4"})})}function kRe({isOpen:t,onClose:e,status:r,plan:n,onViewFullPlan:i,onContinueToDashboard:o,error:a}){if(r==="loading")return u.jsx(li,{open:t,onOpenChange:e,children:u.jsx(ci,{className:"sm:max-w-md",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin"}),u.jsx(zo,{className:"w-6 h-6 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-blue-500"})]}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🤖 AI is crafting your plan..."}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{className:"animate-pulse",children:"📊 Analyzing your goals..."}),u.jsx("p",{className:"animate-pulse delay-500",children:"🧮 Calculating nutrition targets..."}),u.jsx("p",{className:"animate-pulse delay-1000",children:"📋 Creating 4-week roadmap..."})]})]})]})})});if(r==="error")return u.jsx(li,{open:t,onOpenChange:e,children:u.jsx(ci,{className:"sm:max-w-md",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:"❌"})}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Plan Generation Failed"}),u.jsx("p",{className:"text-sm text-gray-600",children:a||"Something went wrong. Please try again."})]}),u.jsx(Hn,{onClick:e,className:"mt-4",style:{backgroundColor:"var(--farefit-primary)"},children:"Try Again"})]})})});if(r==="ready"&&n){const s=n.planContent.weeks[0];return u.jsx(li,{open:t,onOpenChange:e,children:u.jsxs(ci,{className:"sm:max-w-lg",children:[u.jsxs(Fi,{className:"text-center pb-6",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(nk,{className:"w-10 h-10 text-green-500"})})}),u.jsx(Li,{className:"text-2xl font-bold text-gray-900",children:"🎯 Your personalized plan is ready!"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx(Fo,{className:"w-5 h-5 text-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Daily Target"})]}),u.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[n.targetCalories.toLocaleString()," ",u.jsx("span",{className:"text-lg font-normal text-gray-600",children:"cal/day"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(vc,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Protein"})]}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.macros.protein,"g"]})]}),u.jsxs("div",{className:"text-center border-x border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Wh,{className:"w-4 h-4 text-orange-500"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Carbs"})]}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.macros.carbs,"g"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Fo,{className:"w-4 h-4 text-yellow-500"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Fat"})]}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[n.macros.fat,"g"]})]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ed,{className:"w-4 h-4 text-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Week 1 Focus"})]}),u.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.focus}),u.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',s.motivation,'"']})]}),u.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Ready to ",u.jsx("span",{className:"font-medium text-gray-900",children:n.planContent.summary.goal_description}),"? Your personalized roadmap starts now!"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t",children:[i&&u.jsx(Hn,{variant:"outline",onClick:i,className:"flex-1",children:"View Full 4-Week Plan"}),u.jsx(Hn,{onClick:o,className:"flex-1",style:{backgroundColor:"var(--farefit-primary)"},children:"Continue to Dashboard"})]}),u.jsxs("div",{className:"text-center text-xs text-gray-400 pt-2",children:["Plan v",n.version," • Generated ",new Date(n.generatedAt).toLocaleDateString()]})]})})}return null}const ORe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyATWSqiGWXIYxPBqK5pcmxSRBYnCNQ_7zs"};class jRe{apiKey;baseUrl="https://generativelanguage.googleapis.com/v1beta/models";constructor(e){this.apiKey=e}async chat(e,r="gemini-2.5-flash"){try{const n=await fetch(`${this.baseUrl}/${r}:generateContent?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:e,generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:2048},tools:[{name:"google_search"}]})});if(!n.ok)throw new Error(`Gemini API error: ${n.statusText}`);return(await n.json()).candidates?.[0]?.content?.parts?.[0]?.text||"Sorry, I could not generate a response."}catch(n){throw console.error("Error calling Gemini API:",n),n}}async*streamChat(e,r="gemini-2.5-flash"){const n=await fetch(`${this.baseUrl}/${r}:streamGenerateContent?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:e,tools:[{name:"google_search"}]})});if(!n.body)return;const i=n.body.getReader(),o=new TextDecoder("utf-8");let a="";for(;;){const{done:s,value:l}=await i.read();if(s)break;a+=o.decode(l,{stream:!0});const c=a.split(`
`);a=c.pop()||"";for(const f of c)if(!(!f.trim()||!f.startsWith("data: ")))try{const p=JSON.parse(f.slice(6)).candidates?.[0]?.content?.parts?.[0]?.text;p&&(yield p)}catch(h){console.warn("Stream parse error:",h)}}}async getFoodSuggestion(e,r){const i=[{role:"user",parts:[{text:`You are Food Assistant, a friendly nutrition coach in the FareFit app.

User's Context:
- Remaining calories: ${r.remainingCalories}
- Remaining protein: ${r.remainingProtein}g
- Remaining carbs: ${r.remainingCarbs}g
- Remaining fat: ${r.remainingFat}g
- Goal: ${r.goalType}
- Worked out today: ${r.hasWorkedOut}

Respond with:
1. A short analysis of how their nutrition looks so far.
2. 2–3 realistic food or meal suggestions to balance their macros.
3. Keep it conversational and motivational. Avoid strict dietary advice.`}]},{role:"user",parts:[{text:e}]}];return this.chat(i)}async getCoachAdvice(e,r){const i=[{role:"user",parts:[{text:`You are Coach AI, a fitness trainer in the FareFit app.

User's Profile:
- Goal: ${r.goalType}
- Experience: ${r.experienceLevel}
- Recent workouts: ${r.recentWorkouts?.join(", ")||"None logged"}

Provide specific, encouraging feedback and practical exercise advice.`}]},{role:"user",parts:[{text:e}]}];return this.chat(i)}async generatePersonalizedPlan(e){const r={cut:"lose fat while preserving muscle",bulk:"build lean muscle mass with minimal fat gain",maintain:"maintain current weight and improve body composition"},n={"1.2":"sedentary lifestyle","1.375":"lightly active (1-3 days/week)","1.55":"moderately active (3-5 days/week)","1.725":"very active (6-7 days/week)","1.9":"extremely active (physical job + daily training)"},o=[{role:"user",parts:[{text:`You are FareFit's Plan Generator AI, an expert fitness and nutrition coach specializing in creating personalized 4-week transformation plans.

CRITICAL: You MUST respond with a valid JSON object in this exact format:

{
  "summary": {
    "daily_calories": ${e.targetCalories},
    "macros": {
      "protein": ${e.macros.protein},
      "carbs": ${e.macros.carbs},
      "fat": ${e.macros.fat},
      "fiber": ${e.macros.fiber}
    },
    "goal_description": "${r[e.goalType]}"
  },
  "weeks": [
    {
      "week": 1,
      "focus": "Foundation Building",
      "nutrition": ["habit 1", "habit 2", "habit 3"],
      "workouts": ["workout suggestion 1", "workout suggestion 2"],
      "motivation": "motivational quote or insight"
    },
    {
      "week": 2,
      "focus": "Building Momentum",
      "nutrition": ["habit 1", "habit 2", "habit 3"],
      "workouts": ["workout suggestion 1", "workout suggestion 2"],
      "motivation": "motivational quote or insight"
    },
    {
      "week": 3,
      "focus": "Pushing Forward",
      "nutrition": ["habit 1", "habit 2", "habit 3"],
      "workouts": ["workout suggestion 1", "workout suggestion 2"],
      "motivation": "motivational quote or insight"
    },
    {
      "week": 4,
      "focus": "Finishing Strong",
      "nutrition": ["habit 1", "habit 2", "habit 3"],
      "workouts": ["workout suggestion 1", "workout suggestion 2"],
      "motivation": "motivational quote or insight"
    }
  ]
}

USER PROFILE:
- Age: ${e.age} years old
- ${e.gender==="male"?"Male":"Female"}, ${e.weight}kg, ${e.height}cm
- Goal: ${r[e.goalType]}
- Activity Level: ${n[e.activityLevel]||"moderate activity"}
- TDEE: ${e.tdee} calories/day
- Target: ${e.targetCalories} calories/day

REQUIREMENTS:
1. Each week should have a clear focus that builds progressively
2. Nutrition habits should be specific, actionable, and realistic
3. Workout suggestions should match their goal and activity level
4. Keep language motivational but practical
5. Consider their goal type for all recommendations
6. Each array item should be a clear, actionable statement
7. Motivation should be inspiring but realistic

RESPOND ONLY WITH THE JSON OBJECT - NO OTHER TEXT.`}]}],a=await this.chat(o,"gemini-2.5-flash");return this.cleanJsonResponse(a)}cleanJsonResponse(e){let r=e.replace(/```json\n?/g,"").replace(/```\n?/g,"");r=r.trim();const n=r.indexOf("{"),i=r.lastIndexOf("}");n!==-1&&i!==-1&&i>n&&(r=r.substring(n,i+1));try{return JSON.parse(r),r}catch(o){throw console.error("❌ Invalid JSON response from Gemini:",o),new Error("Gemini returned invalid JSON format")}}}let yT=null;function RZ(){if(!yT){console.log("🔑 Checking Gemini API key..."),console.log("Environment variables available:",Object.keys(ORe));const t="AIzaSyATWSqiGWXIYxPBqK5pcmxSRBYnCNQ_7zs";t.startsWith("AIza")||console.warn('⚠️ Gemini API key format may be incorrect - should start with "AIza"'),console.log("✅ Gemini API key loaded successfully"),yT=new jRe(t)}return yT}function RRe(t,e,r,n){const i=10*t+6.25*e-5*r;return Math.round(n==="male"?i+5:i-161)}function DRe(t,e){const r=parseFloat(e);if(r<1.2||r>2)throw new Error(`Invalid activity level: ${e}. Expected between 1.2 and 2.0`);return Math.round(t*r)}function MRe(t,e){switch(e){case"cut":return Math.round(t*.85);case"bulk":return Math.round(t*1.15);case"maintain":default:return t}}function FRe(t,e,r){let n,i;switch(e){case"cut":n=Math.round(r*1.4),i=.25;break;case"bulk":n=Math.round(r*1.1),i=.2;break;case"maintain":default:n=Math.round(r*1),i=.3;break}const o=n*4,a=t*i,s=Math.round(a/9),l=t-o-a,c=Math.round(l/4),f=Math.round(t/1e3*14);return{protein:n,carbs:c,fat:s,fiber:f}}function LRe(t){const e=DZ(t);if(!e.isValid)throw new Error(`Invalid user data: ${e.errors.join(", ")}`);const r=RRe(t.weight,t.height,t.age,t.gender),n=DRe(r,t.activityLevel),i=MRe(n,t.goalType),o=FRe(i,t.goalType,t.weight);return{bmr:r,tdee:n,targetCalories:i,macros:o}}function DZ(t){const e=[];(!t.age||t.age<15||t.age>120)&&e.push("Age must be between 15 and 120 years"),(!t.weight||t.weight<30||t.weight>300)&&e.push("Weight must be between 30 and 300 kg"),(!t.height||t.height<120||t.height>250)&&e.push("Height must be between 120 and 250 cm"),(!t.gender||!["male","female"].includes(t.gender))&&e.push('Gender must be either "male" or "female"');const r=parseFloat(t.activityLevel);return(isNaN(r)||r<1.2||r>2)&&e.push("Activity level must be between 1.2 and 2.0"),(!t.goalType||!["cut","maintain","bulk"].includes(t.goalType))&&e.push('Goal type must be "cut", "maintain", or "bulk"'),{isValid:e.length===0,errors:e}}const $h="User_Plans";async function MZ(t,e,r,n,i,o){try{const a=await VRe(t),s=`${t}_v${a}`,l={userId:t,goalType:e,tdee:r,targetCalories:n,macros:i,planContent:o,generatedAt:new Date,isActive:!0,version:a},c=xhe(jt);(await $Re(t)).forEach(p=>{const g=zt(jt,$h,p.id);c.update(g,{isActive:!1})});const h=zt(jt,$h,s);return c.set(h,{...l,generatedAt:Pt.fromDate(l.generatedAt)}),await c.commit(),console.log(`✅ Successfully saved plan ${s} for user ${t}`),{id:s,...l}}catch(a){throw console.error("❌ Error saving user plan:",a),new Error(`Failed to save plan: ${a instanceof Error?a.message:"Unknown error"}`)}}async function _O(t){try{const e=Oy(Iy(jt,$h),ef("userId","==",t),ef("isActive","==",!0),N4("version","desc"),k4(1)),r=await jy(e);if(r.empty)return console.log(`No active plan found for user ${t}`),null;const n=r.docs[0],i=n.data();return{id:n.id,userId:i.userId,goalType:i.goalType,tdee:i.tdee,targetCalories:i.targetCalories,macros:i.macros,planContent:i.planContent,generatedAt:i.generatedAt.toDate(),isActive:i.isActive,version:i.version}}catch(e){throw console.error("❌ Error getting active user plan:",e),new Error(`Failed to get active plan: ${e instanceof Error?e.message:"Unknown error"}`)}}async function BRe(t){try{const e=await _O(t);if(!e)return null;const r=Math.floor((Date.now()-e.generatedAt.getTime())/(1e3*60*60*24)),n=Math.min(Math.floor(r/7)+1,4),o=e.planContent.weeks.find(a=>a.week===n)?.focus||"Getting Started";return{goalType:e.goalType,targetCalories:e.targetCalories,macros:e.macros,currentWeek:n,currentFocus:o,generatedAt:e.generatedAt,version:e.version}}catch(e){return console.error("❌ Error getting user plan summary:",e),null}}async function FZ(t){try{const e=new Date;e.setHours(0,0,0,0);const r=Oy(Iy(jt,$h),ef("userId","==",t),ef("generatedAt",">=",Pt.fromDate(e)));return(await jy(r)).size}catch(e){return console.error("❌ Error getting today's plan count:",e),0}}async function VRe(t){try{const e=Oy(Iy(jt,$h),ef("userId","==",t),N4("version","desc"),k4(1)),r=await jy(e);return r.empty?1:r.docs[0].data().version+1}catch(e){return console.error("❌ Error getting next plan version:",e),1}}async function $Re(t){try{const e=Oy(Iy(jt,$h),ef("userId","==",t),ef("isActive","==",!0));return(await jy(e)).docs.map(n=>{const i=n.data();return{id:n.id,userId:i.userId,goalType:i.goalType,tdee:i.tdee,targetCalories:i.targetCalories,macros:i.macros,planContent:i.planContent,generatedAt:i.generatedAt.toDate(),isActive:i.isActive,version:i.version}})}catch(e){return console.error("❌ Error getting active user plans:",e),[]}}const URe=Object.freeze(Object.defineProperty({__proto__:null,getActiveUserPlan:_O,getTodaysPlanCount:FZ,getUserPlanSummary:BRe,saveUserPlan:MZ},Symbol.toStringTag,{value:"Module"}));var Nu=(t=>(t.GEMINI_API_TIMEOUT="GEMINI_API_TIMEOUT",t.INVALID_USER_DATA="INVALID_USER_DATA",t.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",t.SCHEMA_VALIDATION_FAILED="SCHEMA_VALIDATION_FAILED",t.FIRESTORE_ERROR="FIRESTORE_ERROR",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t))(Nu||{});const WV=3,HV=2;async function zRe(t,e){console.log(`🤖 Starting plan generation for user ${t}`);try{if(console.log("📝 Validating user data..."),!DZ(e).isValid)return{success:!1,error:Nu.INVALID_USER_DATA};console.log("⏱️ Checking rate limits...");const n=await KRe(t);if(!n.allowed)return console.log(`❌ Rate limit exceeded: ${n.reason}`),{success:!1,error:Nu.RATE_LIMIT_EXCEEDED};console.log("🧮 Calculating TDEE and macros...");const i=LRe(e);console.log(`✅ TDEE: ${i.tdee}, Target: ${i.targetCalories} calories`),console.log("🤖 Generating AI plan with Gemini...");const o=await WRe(e,i);console.log("✅ AI plan generation completed"),console.log("💾 Saving plan to Firestore...");const a=await MZ(t,e.goalType,i.tdee,i.targetCalories,i.macros,o);return console.log(`✅ Plan saved with ID: ${a.id}`),qV(t,"success",{goalType:e.goalType,tdee:i.tdee,planVersion:a.version}),{success:!0,plan:a}}catch(r){console.error("❌ Plan generation failed:",r),qV(t,"failed",{error:r instanceof Error?r.message:"Unknown error"});let n=Nu.UNKNOWN_ERROR;return r instanceof Error&&(r.message.includes("Gemini")?n=Nu.GEMINI_API_TIMEOUT:r.message.includes("Firestore")||r.message.includes("Failed to save")?n=Nu.FIRESTORE_ERROR:(r.message.includes("JSON")||r.message.includes("schema"))&&(n=Nu.SCHEMA_VALIDATION_FAILED)),{success:!1,error:n}}}async function WRe(t,e){try{const r=RZ(),n={age:t.age,weight:t.weight,height:t.height,gender:t.gender,goalType:t.goalType,activityLevel:t.activityLevel,targetCalories:e.targetCalories,macros:e.macros,tdee:e.tdee},i=await r.generatePersonalizedPlan(n),o=HRe(i),a=qRe(o);if(!a.isValid)throw new Error(`Invalid plan structure: ${a.errors.join(", ")}`);return o}catch(r){return console.error("❌ AI plan generation failed:",r),console.log("🔄 Falling back to template plan..."),GRe(t,e)}}function HRe(t){try{const e=JSON.parse(t);if(!e.summary||!e.weeks||!Array.isArray(e.weeks))throw new Error("Missing required plan structure");return e}catch(e){throw console.error("❌ Failed to parse Gemini response:",e),new Error("Invalid JSON response from AI")}}function qRe(t){const e=[];return t.summary?((!t.summary.daily_calories||t.summary.daily_calories<=0)&&e.push("Invalid daily calories in summary"),t.summary.macros||e.push("Missing macros in summary")):e.push("Missing plan summary"),!t.weeks||!Array.isArray(t.weeks)?e.push("Missing or invalid weeks array"):(t.weeks.length!==4&&e.push("Plan must have exactly 4 weeks"),t.weeks.forEach((r,n)=>{(!r.week||r.week!==n+1)&&e.push(`Week ${n+1} has invalid week number`),(!r.focus||r.focus.trim().length===0)&&e.push(`Week ${n+1} missing focus`),(!Array.isArray(r.nutrition)||r.nutrition.length===0)&&e.push(`Week ${n+1} missing nutrition array`),(!Array.isArray(r.workouts)||r.workouts.length===0)&&e.push(`Week ${n+1} missing workouts array`),(!r.motivation||r.motivation.trim().length===0)&&e.push(`Week ${n+1} missing motivation`)})),{isValid:e.length===0,errors:e}}function GRe(t,e){const n={cut:{description:"lose fat while preserving muscle",weeks:[{focus:"Foundation Building",nutrition:["Track all meals daily","Aim for your calorie target","Prioritize protein at each meal"],workouts:["3x strength training","2x cardio sessions"],motivation:"Start small, build consistency!"},{focus:"Building Momentum",nutrition:["Meal prep 2-3 days ahead","Stay hydrated (8+ glasses)","Include vegetables in every meal"],workouts:["4x strength training","3x cardio sessions"],motivation:"Consistency beats perfection."},{focus:"Pushing Forward",nutrition:["Focus on whole foods","Time protein around workouts","Plan for social eating situations"],workouts:["4x strength training","4x cardio sessions"],motivation:"You're building lasting habits."},{focus:"Finishing Strong",nutrition:["Trust the process","Adjust portions based on hunger","Celebrate non-scale victories"],workouts:["5x strength training","4x cardio sessions"],motivation:"Strong finishes create strong beginnings."}]},bulk:{description:"build lean muscle mass",weeks:[{focus:"Foundation Building",nutrition:["Eat in a slight surplus","Protein with every meal","Don't fear carbs pre-workout"],workouts:["4x strength training","1x light cardio"],motivation:"Muscle is built with patience."},{focus:"Building Momentum",nutrition:["Track your lifts and food","Add healthy fats daily","Time carbs around training"],workouts:["4x strength training","2x light cardio"],motivation:"Progressive overload is key."},{focus:"Pushing Forward",nutrition:["Focus on food quality","Stay consistent with timing","Listen to your hunger cues"],workouts:["5x strength training","2x light cardio"],motivation:"Growth happens in the recovery."},{focus:"Finishing Strong",nutrition:["Maintain your surplus","Prioritize sleep for gains","Adjust based on progress"],workouts:["5x strength training","2x cardio sessions"],motivation:"Consistency compounds into strength."}]},maintain:{description:"maintain current weight and improve fitness",weeks:[{focus:"Foundation Building",nutrition:["Eat at maintenance level","Balance all macronutrients","Focus on food quality"],workouts:["3x strength training","2x cardio sessions"],motivation:"Maintenance is mastery."},{focus:"Building Momentum",nutrition:["Develop sustainable habits","Practice mindful eating","Stay flexible with choices"],workouts:["4x strength training","2x cardio sessions"],motivation:"Balance creates longevity."},{focus:"Pushing Forward",nutrition:["Focus on nutrient timing","Maintain consistent patterns","Trust your body's signals"],workouts:["4x strength training","3x cardio sessions"],motivation:"Stability breeds confidence."},{focus:"Finishing Strong",nutrition:["Continue proven strategies","Adapt to life changes","Maintain without obsessing"],workouts:["4x strength training","3x cardio sessions"],motivation:"Sustainable habits win long-term."}]}}[t.goalType];return{summary:{daily_calories:e.targetCalories,macros:e.macros,goal_description:n.description},weeks:n.weeks.map((i,o)=>({week:o+1,focus:i.focus,nutrition:i.nutrition,workouts:i.workouts,motivation:i.motivation}))}}async function KRe(t){try{if(await FZ(t)>=WV)return{allowed:!1,reason:`Daily limit reached (${WV} plans per day)`};const r=await _O(t);if(r){const n=(Date.now()-r.generatedAt.getTime())/36e5;if(n<HV)return{allowed:!1,reason:`Please wait ${Math.ceil(HV-n)} more hours`}}return{allowed:!0}}catch(e){return console.error("❌ Rate limit check failed:",e),{allowed:!0}}}function qV(t,e,r){console.log(`📊 Plan Generation Event: ${e}`,{userId:t,timestamp:new Date().toISOString(),...r})}function YRe({onBack:t,onSaveGoal:e,onNavigate:r,onFeedbackClick:n,onPlanGenerated:i,userId:o}){const[a,s]=k.useState(null),[l,c]=k.useState(!1),[f,h]=k.useState(null),[p,g]=k.useState(!0),[x,v]=k.useState(""),[b,_]=k.useState(""),[C,E]=k.useState(""),[P,I]=k.useState(""),[S,T]=k.useState(""),[N,j]=k.useState(""),[B,M]=k.useState("male"),[L,F]=k.useState(""),$=()=>{const be=!p;if(C){const tt=parseFloat(C);E(p?(tt*2.20462).toFixed(1):(tt/2.20462).toFixed(1))}I(""),T(""),j(""),g(be)},H=[{id:"cut",title:"Leaning Out",subtitle:"Cutting",icon:Nne,color:"#1C7C54",bgColor:"#1C7C5410",description:"Lose fat while keeping muscle",info:{goal:"Lose fat while keeping muscle.",calorieTarget:"10–20% below your TDEE.",proteinFocus:"High (to prevent muscle loss).",trainingTip:"Prioritize compound lifts + light cardio.",aiInsight:'"When cutting, consistency beats speed — slow, steady drops of 0.5–1 lb per week are ideal."',fullDescription:"You'll eat slightly fewer calories than you burn to lose fat gradually while keeping strength. Expect slow, consistent progress — this phase is about precision and recovery."}},{id:"maintain",title:"Maintaining",subtitle:"Stay Balanced",icon:rne,color:"#A8E6CF",bgColor:"#A8E6CF20",description:"Stay at your current level",info:{goal:"Stay at your current weight and performance level.",calorieTarget:"Around your TDEE (±0%).",proteinFocus:"Moderate to high for recovery.",trainingTip:"Use this phase to build consistency and improve strength.",aiInsight:'"Maintaining is a great time to improve form, mobility, and sustainable habits."',fullDescription:"You'll stay around your current weight while keeping your body fueled for performance and consistency. Great for improving form, balance, and recovery."}},{id:"bulk",title:"Bulking",subtitle:"Gaining Muscle",icon:ya,color:"#FFB6B9",bgColor:"#FFB6B920",description:"Build lean muscle mass",info:{goal:"Build lean muscle mass with minimal fat gain.",calorieTarget:"10–20% above TDEE.",proteinFocus:"High; carbs help fuel workouts.",trainingTip:"Focus on progressive overload — track lifts weekly.",aiInsight:'"Small surpluses add up. 250–300 extra calories daily is often all you need."',fullDescription:"You'll eat slightly more calories to gain lean muscle mass. The focus is steady progress — small surpluses work best. Track your lifts and protein intake."}}],K=[{value:"1.2",label:"Sedentary (little or no exercise)"},{value:"1.375",label:"Lightly active (1-3 days/week)"},{value:"1.55",label:"Moderately active (3-5 days/week)"},{value:"1.725",label:"Very active (6-7 days/week)"},{value:"1.9",label:"Super active (physical job + training)"}],Z=be=>{h(be),c(!0)},q=()=>{if(!b||!L||!C||p&&!P||!p&&(!S||!N))return null;const be=parseFloat(b),tt=parseFloat(L);let Et,dr;p?(Et=parseFloat(C),dr=parseFloat(P)):(Et=parseFloat(C)*.453592,dr=(parseFloat(S)*12+parseFloat(N))*2.54);let jr;return B==="male"?jr=10*Et+6.25*dr-5*be+5:jr=10*Et+6.25*dr-5*be-161,Math.round(jr*tt)},re=(be,tt)=>{let Et;p?Et=parseFloat(C):Et=parseFloat(C)*.453592;const jr=Math.round(Et*(tt==="cut"?2.2:2)),qr=jr*4,Ne=be*(tt==="cut"?.25:.3),le=Math.round(Ne/9),We=be-qr-Ne,ut=Math.round(We/4),_r=Math.round(be/1e3*14);return{protein:jr,carbs:ut,fat:le,fiber:_r}},U=(be,tt)=>tt==="cut"?Math.round(be*.85):tt==="bulk"?Math.round(be*1.15):be,[X,ee]=k.useState(!1),[W,Q]=k.useState(0),[se,oe]=k.useState(0),[ae,ve]=k.useState(null),[he,_e]=k.useState(!1),[Pe,pe]=k.useState("loading"),[et,$e]=k.useState(null),[nt,Ce]=k.useState(""),Re=()=>{if(!a||!b||!C||!L){Je.error("Please fill in all required fields");return}if(p&&!P){Je.error("Please enter your height");return}if(!p&&(!S||!N)){Je.error("Please enter your height");return}const be=q();if(!be){Je.error("Unable to calculate TDEE. Please check your inputs.");return}const tt=U(be,a),Et=re(tt,a);Q(be),oe(tt),ve(Et),ee(!0)},Be=async()=>{if(!ae)return;const be={age:parseFloat(b),weight:parseFloat(C),height:parseFloat(P),gender:B,activityLevel:L,goalType:a,tdee:W,targetCalories:se,...ae};e(be),Je.success("Fitness goal saved successfully!"),o&&i?await ze(be):t()},ze=async be=>{if(!o){Je.error("User not found. Please try logging in again.");return}try{pe("loading"),_e(!0);const tt={age:be.age,weight:be.weight,height:be.height,gender:be.gender,activityLevel:be.activityLevel,goalType:be.goalType};console.log("🤖 Generating AI plan for user:",o);const Et=await zRe(o,tt);if(Et.success&&Et.plan)$e(Et.plan),pe("ready"),i?.(Et.plan),console.log("✅ AI plan generated successfully:",Et.plan.id);else{const dr={RATE_LIMIT_EXCEEDED:"You've reached your daily plan generation limit. Please try again later.",INVALID_USER_DATA:"Invalid user data. Please check your inputs and try again.",GEMINI_API_TIMEOUT:"AI service is temporarily unavailable. Please try again later.",FIRESTORE_ERROR:"Database error occurred. Please try again.",SCHEMA_VALIDATION_FAILED:"Plan validation failed. Please try again.",UNKNOWN_ERROR:"An unexpected error occurred. Please try again."},jr=Et.error?dr[Et.error]:"Unknown error occurred";Ce(jr),pe("error"),console.error("❌ AI plan generation failed:",Et.error)}}catch(tt){console.error("❌ Plan generation error:",tt),Ce("An unexpected error occurred while generating your plan."),pe("error")}};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"bg-white shadow-sm",style:{borderBottom:"1px solid #A8E6CF"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"#102A43"},children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(Fo,{className:"w-8 h-8",style:{color:"#1C7C54"}}),u.jsx("h1",{style:{color:"#102A43"},children:"Set Your Fitness Goal"})]}),u.jsx("p",{className:"text-lg",style:{color:"#102A43",opacity:.8},children:"Let's personalize your plan based on your goals and lifestyle"})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"🎯 Step 1: What's your current focus?"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:H.map(be=>u.jsxs("button",{onClick:()=>s(be.id),className:`relative bg-white rounded-lg p-6 text-left transition-all ${a===be.id?"ring-2 shadow-lg":"hover:shadow-md"}`,style:{borderColor:a===be.id?be.color:"transparent"},children:[a===be.id&&u.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:be.color},children:u.jsx("span",{className:"text-white text-xs",children:"✓"})}),u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:be.bgColor},children:u.jsx(be.icon,{className:"w-6 h-6",style:{color:be.color}})}),u.jsx("h3",{className:"mb-1",style:{color:"#102A43"},children:be.title}),u.jsx("p",{className:"text-xs mb-3",style:{color:be.color},children:be.subtitle}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43",opacity:.7},children:be.description}),u.jsxs("div",{onClick:tt=>{tt.stopPropagation(),Z(be)},className:"flex items-center gap-2 text-xs hover:underline cursor-pointer",style:{color:be.color},children:[u.jsx(qT,{className:"w-4 h-4"}),u.jsx("span",{children:"Learn more"})]})]},be.id))})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 sm:p-8 shadow-sm mb-10",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[u.jsx("h2",{className:"m-0",style:{color:"#102A43"},children:"📝 Step 2: Tell us about yourself"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm transition-opacity",style:{color:"#102A43",opacity:p?.5:1},children:"Imperial"}),u.jsx("button",{onClick:$,className:"relative w-12 h-6 rounded-full transition-all hover:shadow-md",style:{backgroundColor:p?"#1C7C54":"#A8E6CF"},children:u.jsx("div",{className:"absolute top-1 w-4 h-4 rounded-full bg-white transition-transform shadow-sm",style:{transform:p?"translateX(26px)":"translateX(4px)"}})}),u.jsx("span",{className:"text-sm transition-opacity",style:{color:"#102A43",opacity:p?1:.5},children:"Metric"})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs(Gt,{htmlFor:"birthday",style:{color:"#102A43"},children:["Birthday 🎂 ",u.jsx("span",{className:"text-xs opacity-60",children:"(Optional)"})]}),u.jsx("input",{id:"birthday",type:"date",value:x,onChange:be=>v(be.target.value),className:"mt-2 w-full px-4 py-2.5 rounded-xl border transition-all focus:ring-2 focus:ring-offset-0 outline-none",style:{backgroundColor:"#FBEBD9",borderColor:"#A8E6CF",color:"#102A43"}})]}),u.jsxs("div",{children:[u.jsx(Gt,{htmlFor:"age",style:{color:"#102A43"},children:"Age (years)"}),u.jsx("input",{id:"age",type:"text",list:"ageOptions",value:b,onChange:be=>_(be.target.value),placeholder:"e.g., 25",inputMode:"numeric",className:"mt-2 w-full px-4 py-2.5 rounded-xl border transition-all focus:ring-2 focus:ring-offset-0 outline-none",style:{backgroundColor:"#FBEBD9",borderColor:"#A8E6CF",color:"#102A43"}}),u.jsx("datalist",{id:"ageOptions",children:[...Array(88)].map((be,tt)=>u.jsx("option",{value:tt+13},tt))})]})]}),u.jsxs("div",{children:[u.jsx(Gt,{htmlFor:"gender",style:{color:"#102A43"},children:"Gender"}),u.jsxs(cy,{value:B,onValueChange:be=>M(be),children:[" ",u.jsx(fy,{className:"mt-2 rounded-xl",style:{backgroundColor:"#FBEBD9"},children:u.jsx(uy,{})}),u.jsxs(dy,{children:[u.jsx(Mo,{value:"male",children:"Male"}),u.jsx(Mo,{value:"female",children:"Female"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p?u.jsxs("div",{children:[u.jsx(Gt,{htmlFor:"height",style:{color:"#102A43"},children:"Height (cm)"}),u.jsx("input",{id:"height",type:"number",inputMode:"decimal",value:P,onChange:be=>I(be.target.value),placeholder:"e.g., 175",className:"mt-2 w-full px-4 py-2.5 rounded-xl border transition-all focus:ring-2 focus:ring-offset-0 outline-none no-spin",style:{backgroundColor:"#FBEBD9",borderColor:"#A8E6CF",color:"#102A43"}})]}):u.jsxs("div",{children:[u.jsx(Gt,{style:{color:"#102A43"},children:"Height (ft / in)"}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("input",{type:"number",inputMode:"decimal",value:S,onChange:be=>T(be.target.value),placeholder:"e.g., 5",className:"flex-1 px-4 py-2.5 rounded-xl border transition-all focus:ring-2 focus:ring-offset-0 outline-none no-spin",style:{backgroundColor:"#FBEBD9",borderColor:"#A8E6CF",color:"#102A43"}}),u.jsx("span",{className:"flex items-center text-sm",style:{color:"#102A43",opacity:.6},children:"ft"}),u.jsx("input",{type:"number",inputMode:"decimal",value:N,onChange:be=>j(be.target.value),placeholder:"e.g., 9",className:"flex-1 px-4 py-2.5 rounded-xl border transition-all focus:ring-2 focus:ring-offset-0 outline-none no-spin",style:{backgroundColor:"#FBEBD9",borderColor:"#A8E6CF",color:"#102A43"}}),u.jsx("span",{className:"flex items-center text-sm",style:{color:"#102A43",opacity:.6},children:"in"})]})]}),u.jsxs("div",{children:[u.jsxs(Gt,{htmlFor:"weight",style:{color:"#102A43"},children:["Weight (",p?"kg":"lbs",")"]}),u.jsx("input",{id:"weight",type:"number",inputMode:"decimal",value:C,onChange:be=>E(be.target.value),placeholder:p?"e.g., 75":"e.g., 165",className:"mt-2 w-full px-4 py-2.5 rounded-xl border transition-all focus:ring-2 focus:ring-offset-0 outline-none no-spin",style:{backgroundColor:"#FBEBD9",borderColor:"#A8E6CF",color:"#102A43"}})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Gt,{htmlFor:"activity",style:{color:"#102A43"},children:"Activity Level"}),u.jsxs("div",{className:"group relative",children:[u.jsx(qT,{className:"w-4 h-4 cursor-help",style:{color:"#1C7C54",opacity:.6}}),u.jsx("div",{className:"hidden group-hover:block absolute z-10 w-64 p-3 rounded-lg shadow-lg text-xs bg-white border left-6 top-0",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"TDEE = Total Daily Energy Expenditure — an estimate of how many calories you burn daily including activity."})]})]}),u.jsxs(cy,{value:L,onValueChange:F,children:[u.jsx(fy,{className:"rounded-xl",style:{backgroundColor:"#FBEBD9"},children:u.jsx(uy,{placeholder:"Select your activity level"})}),u.jsx(dy,{children:K.map(be=>u.jsx(Mo,{value:be.value,children:be.label},be.value))})]})]}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsxs("button",{onClick:Re,className:"px-8 py-3 rounded-xl transition-all hover:shadow-lg hover:scale-105 active:scale-95 flex items-center gap-2",style:{backgroundColor:"#1C7C54",color:"white"},children:[u.jsx(zT,{className:"w-5 h-5"}),"Calculate My Plan"]})})]})]}),X&&ae&&u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"🎉 Step 3: Your Personalized Plan"}),u.jsxs("div",{className:"rounded-xl p-6 sm:p-8 shadow-sm mb-6",style:{backgroundColor:H.find(be=>be.id===a)?.bgColor,border:`2px solid ${H.find(be=>be.id===a)?.color}`},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(Fo,{className:"w-6 h-6",style:{color:H.find(be=>be.id===a)?.color}}),u.jsxs("h3",{className:"m-0",style:{color:"#102A43"},children:["Goal: ",H.find(be=>be.id===a)?.title]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(zT,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsx("span",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Your TDEE"})]}),u.jsxs("p",{style:{color:"#102A43"},children:[W.toLocaleString()," cal/day"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Fo,{className:"w-5 h-5",style:{color:H.find(be=>be.id===a)?.color}}),u.jsx("span",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Daily Target"})]}),u.jsxs("p",{style:{color:"#102A43"},children:[se.toLocaleString()," cal/day"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 sm:p-8 shadow-sm mb-6",children:[u.jsx("h3",{className:"mb-6",style:{color:"#102A43"},children:"Your Daily Macros"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-3",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Wh,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Protein"}),u.jsxs("p",{style:{color:"#102A43"},children:[ae.protein,"g"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-3",style:{backgroundColor:"#FFB6B920"},children:u.jsx(AU,{className:"w-8 h-8",style:{color:"#FFB6B9"}})}),u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Carbs"}),u.jsxs("p",{style:{color:"#102A43"},children:[ae.carbs,"g"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-3",style:{backgroundColor:"#A8E6CF20"},children:u.jsx(vc,{className:"w-8 h-8",style:{color:"#A8E6CF"}})}),u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Fat"}),u.jsxs("p",{style:{color:"#102A43"},children:[ae.fat,"g"]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx("button",{onClick:()=>{ee(!1),Q(0),oe(0),ve(null)},className:"px-6 py-3 rounded-xl border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Recalculate"}),u.jsx("button",{onClick:Be,className:"px-8 py-3 rounded-xl text-white transition-all hover:shadow-lg hover:scale-105 active:scale-95 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:o&&i?u.jsxs(u.Fragment,{children:[u.jsx(zo,{className:"w-5 h-5"}),"Generate AI Plan"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fo,{className:"w-5 h-5"}),"Set as New Goal"]})})]})]})]}),u.jsx(li,{open:l,onOpenChange:c,children:u.jsx(ci,{children:u.jsxs(Fi,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:f?.bgColor},children:f?.icon&&u.jsx(f.icon,{className:"w-6 h-6",style:{color:f.color}})}),u.jsxs(Li,{style:{color:"#102A43"},children:[f?.title," - ",f?.subtitle]})]}),u.jsx(lo,{asChild:!0,children:u.jsxs("div",{style:{color:"#102A43",opacity:.85},children:[u.jsx("p",{className:"mb-4",children:f?.info.fullDescription}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Goal:"})," ",f?.info.goal]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Calorie Target:"})," ",f?.info.calorieTarget]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Protein Focus:"})," ",f?.info.proteinFocus]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Training Tip:"})," ",f?.info.trainingTip]}),u.jsx("div",{className:"p-4 rounded-lg mt-4",style:{backgroundColor:"#1C7C5410",borderLeft:`3px solid ${f?.color}`},children:u.jsxs("p",{className:"text-xs italic",children:["💡 AI Insight: ",f?.info.aiInsight]})})]})]})})]})})}),u.jsx(kRe,{isOpen:he,onClose:()=>_e(!1),status:Pe,plan:et,onContinueToDashboard:()=>{_e(!1),t()},error:nt}),u.jsx(wl,{onNavigate:r,onFeedbackClick:n})]})}function XRe({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState([{id:"1",text:"Hey there! 👋 I'm Coach AI, your personal training assistant. I'm here to help you train smarter, recover better, and stay on track. What would you like to work on today?",sender:"ai",timestamp:new Date}]),[o,a]=k.useState(""),[s,l]=k.useState("Intermediate"),[c,f]=k.useState(!1),[h,p]=k.useState(!1),g=k.useRef(null),x=k.useRef(null),v={todayWorkout:"Push Day - Completed",fitnessLevel:s,currentGoal:"Lean Bulk",consistencyImprovement:12},b=["Build me a 3-day full-body plan.","How can I increase bench press strength?","What's the best post-workout meal?","I feel sore every day — am I overtraining?","Give me a beginner's guide to progressive overload."],_=[{icon:vc,label:"Workout Advice",prompt:"Give me workout advice for today"},{icon:tl,label:"Nutrition",prompt:"What should I eat to support my fitness goals?"},{icon:ine,label:"Recovery",prompt:"How can I optimize my recovery?"},{icon:Fo,label:"Goals",prompt:"Help me set realistic fitness goals"}];k.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[n,h]),k.useEffect(()=>{const T=localStorage.getItem("coachAI_messages");if(T)try{const N=JSON.parse(T);i(N.map(j=>({...j,timestamp:new Date(j.timestamp)})))}catch(N){console.error("Failed to load messages:",N)}},[]),k.useEffect(()=>{n.length>1&&localStorage.setItem("coachAI_messages",JSON.stringify(n))},[n]);const C=T=>{const N=T.toLowerCase();return N.includes("3-day")&&N.includes("plan")?s==="Beginner"?`Great choice! Here's a simple 3-day full-body plan:

**Day 1 - Full Body A**
• Squats: 3 sets of 8-10 reps
• Bench Press: 3 sets of 8-10 reps
• Bent Over Rows: 3 sets of 8-10 reps
• Plank: 3 sets of 30-60 seconds

**Day 2 - Rest or Light Cardio**

**Day 3 - Full Body B**
• Deadlifts: 3 sets of 6-8 reps
• Overhead Press: 3 sets of 8-10 reps
• Pull-ups/Lat Pulldowns: 3 sets of 8-10 reps
• Bicycle Crunches: 3 sets of 15 reps

**Day 4-5 - Rest**

**Day 6 - Full Body C**
• Lunges: 3 sets of 10 reps per leg
• Incline Dumbbell Press: 3 sets of 10 reps
• Cable Rows: 3 sets of 10 reps
• Russian Twists: 3 sets of 20 reps

Remember to warm up before each session and focus on proper form! 💪`:`Perfect! Here's an intermediate/advanced 3-day full-body split:

**Day 1 - Strength Focus**
• Squats: 5x5 (heavy)
• Bench Press: 4x6-8
• Pendlay Rows: 4x6-8
• Face Pulls: 3x15
• Ab Rollouts: 3x10

**Day 2 - Hypertrophy Focus**
• Romanian Deadlifts: 4x8-10
• Overhead Press: 4x8-10
• Weighted Pull-ups: 4x6-8
• Dumbbell Lateral Raises: 3x12-15
• Hanging Leg Raises: 3x12

**Day 3 - Volume Focus**
• Front Squats: 4x10-12
• Incline Bench: 4x10-12
• Cable Rows: 4x10-12
• Dumbbell Curls: 3x12
• Tricep Dips: 3x12

Use progressive overload by adding 2.5-5lbs per week or increasing reps. Track your RPE (Rate of Perceived Exertion) and aim for 7-9 on compound lifts. 🔥`:N.includes("bench press")&&N.includes("strength")?`To increase your bench press strength, focus on these key strategies:

**1. Progressive Overload**
Increase weight by 2.5-5lbs every 1-2 weeks. If you can't add weight, add 1-2 reps.

**2. Frequency**
Bench 2-3x per week with varied intensities (heavy/medium/light).

**3. Accessory Work**
• Close-grip bench press (triceps)
• Incline press (upper chest)
• Dumbbell press (stabilizers)
• Tricep dips

**4. Form Check**
• Retract shoulder blades
• Arch your lower back slightly
• Plant feet firmly
• Bar path: straight down to mid-chest

**5. Deload Week**
Every 4-6 weeks, reduce volume by 40% to allow recovery.

What's your current bench weight? I can help create a specific progression plan! 💪`:N.includes("post-workout meal")||N.includes("eat")&&N.includes("workout")?`Great question! Post-workout nutrition is crucial for recovery and muscle growth:

**Ideal Post-Workout Meal (within 2 hours):**

🍗 **Protein (20-40g)**
• Chicken breast
• Salmon
• Greek yogurt
• Protein shake
• Eggs

🍚 **Carbs (40-80g)**
• White rice
• Sweet potato
• Oats
• Pasta
• Fruit

**Sample Meals:**
1. Grilled chicken (6oz) + white rice (1 cup) + veggies
2. Protein shake + banana + oats
3. Salmon (5oz) + sweet potato + broccoli
4. Greek yogurt (2 cups) + berries + granola

**Pro Tip:** `+(s==="Beginner"?"Don't overthink it! Just get protein and carbs within a few hours of training. Whole foods are best!":"Optimize your post-workout window by having fast-digesting protein and high-GI carbs to spike insulin and shuttle nutrients to muscles. Consider adding 5g creatine here too.")+" 🍎":N.includes("sore")&&(N.includes("overtraining")||N.includes("every day"))?`Constant soreness can be a sign of inadequate recovery. Let's assess:

**Signs of Overtraining:**
✓ Persistent muscle soreness (3+ days)
✓ Declining performance
✓ Fatigue and low energy
✓ Poor sleep quality
✓ Increased resting heart rate
✓ Mood changes/irritability

**Recovery Strategies:**

**1. Sleep** - Aim for 7-9 hours
**2. Nutrition** - Eat at maintenance or slight surplus
**3. Deload** - Reduce volume by 40-50% for 1 week
**4. Active Recovery** - Light walking, stretching, yoga
**5. Hydration** - 0.5-1oz per lb bodyweight daily

**Soreness vs. Injury:**
• DOMS (Delayed Onset Muscle Soreness) = normal, peaks 24-72hrs
• Sharp pain = potential injury, rest immediately

I see you worked out today. Consider taking tomorrow as a rest or active recovery day!`:N.includes("progressive overload")?s==="Beginner"?`**Progressive Overload for Beginners 📈**

Progressive overload means gradually increasing the stress on your muscles over time. It's the key to getting stronger!

**Simple Ways to Progress:**

1. **Add Weight** (easiest)
   Example: Squatting 135lbs → 140lbs next week

2. **Add Reps**
   Example: 3 sets of 8 → 3 sets of 9 → 3 sets of 10

3. **Add Sets**
   Example: 3 sets → 4 sets

**How to Apply It:**
• Week 1: Squat 3x8 @ 135lbs
• Week 2: Squat 3x9 @ 135lbs
• Week 3: Squat 3x10 @ 135lbs
• Week 4: Squat 3x8 @ 140lbs ← restart cycle

**Golden Rule:** Only progress if you can do ALL reps with good form!

Start tracking your workouts in FareFit to see your progress over time! 💪`:`**Advanced Progressive Overload Strategies 📊**

You know the basics — let's dive deeper into periodization and advanced tactics:

**1. Wave Loading**
Vary intensity weekly:
• Week 1: 4x6 @ 80% 1RM
• Week 2: 4x8 @ 75% 1RM
• Week 3: 4x10 @ 70% 1RM
• Week 4: Deload (50% volume)

**2. RPE Progression**
Increase effort over weeks:
• Week 1-2: RPE 7
• Week 3-4: RPE 8
• Week 5-6: RPE 9
• Week 7: Deload

**3. Volume Landmarks**
Track total tonnage (sets × reps × weight):
• Aim for 10-20% volume increase every 4 weeks

**4. Tempo Manipulation**
• Increase time under tension: 3-1-1-0 → 4-1-1-0

**5. Advanced Techniques**
• Drop sets
• Rest-pause sets
• Cluster sets

Remember: Progress isn't always linear. Respect deload weeks and listen to your body. 🔥`:N.includes("workout")&&N.includes("today")?`Nice job on your ${v.todayWorkout}! 💪

Since you've already trained today, let's focus on recovery:

**Post-Workout Checklist:**
✓ Protein shake or meal within 2 hours
✓ Hydrate (16-24oz water)
✓ Light stretching or foam rolling
✓ Get 7-9 hours of sleep tonight

Want me to review form tips for your next push workout or plan tomorrow's session?`:N.includes("meal")||N.includes("eat today")?`Based on your current goal (${v.currentGoal}), here are 3 meal ideas:

**Option 1: High Protein Bowl**
• 6oz grilled chicken
• 1 cup quinoa
• Roasted vegetables
• Avocado
≈ 650 cal | 50g protein

**Option 2: Power Breakfast**
• 4 whole eggs scrambled
• 2 slices whole grain toast
• Greek yogurt with berries
≈ 580 cal | 40g protein

**Option 3: Post-Workout Fuel**
• 8oz salmon
• Sweet potato (large)
• Steamed broccoli
• Olive oil drizzle
≈ 720 cal | 55g protein

For lean bulk, aim for a 200-300 calorie surplus with high protein! 💪`:`That's a great question! I'm here to help with:

• Workout programming and planning
• Strength and muscle building advice
• Nutrition and meal planning
• Recovery and injury prevention
• Form checks and technique tips
• Motivation and accountability

Could you provide more details about what you'd like help with? The more specific you are, the better I can assist! 💪`},E=T=>{const N=T||o.trim();if(!N)return;const j={id:Date.now().toString(),text:N,sender:"user",timestamp:new Date};i(B=>[...B,j]),a(""),p(!0),setTimeout(()=>{const B={id:(Date.now()+1).toString(),text:C(N),sender:"ai",timestamp:new Date};i(M=>[...M,B]),p(!1)},1e3+Math.random()*1e3)},P=T=>{E(T)},I=T=>{E(T)},S=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),E())};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Go back",children:u.jsx(wa,{className:"w-5 h-5",style:{color:"#102A43"}})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zo,{className:"w-6 h-6",style:{color:"#1C7C54"}}),u.jsx("h1",{style:{color:"#102A43"},children:"Coach AI"})]}),u.jsx("p",{className:"text-sm mt-1",style:{color:"#102A43",opacity:.7},children:"Your personal training assistant"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>f(!c),className:"flex items-center gap-2 px-4 py-2 rounded-lg border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsxs("span",{className:"text-sm",style:{color:"#102A43"},children:["Level: ",u.jsx("span",{style:{color:"#1C7C54"},children:s})]}),u.jsx(yc,{className:"w-4 h-4",style:{color:"#102A43",opacity:.6}})]}),c&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-20",style:{borderColor:"#A8E6CF"},children:["Beginner","Intermediate","Advanced"].map(T=>u.jsxs("button",{onClick:()=>{l(T),f(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg",style:{backgroundColor:s===T?"#E8F4F2":"white",color:s===T?"#1C7C54":"#102A43"},children:[u.jsx("div",{className:"text-sm",children:T}),u.jsxs("div",{className:"text-xs mt-0.5",style:{opacity:.7},children:[T==="Beginner"&&"Simple language & basics",T==="Intermediate"&&"RPE, progressive overload",T==="Advanced"&&"Mesocycles, periodization"]})]},T))})]})]})})}),u.jsxs("div",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col gap-4 overflow-hidden",children:[u.jsx("div",{className:"bg-white rounded-lg p-4 sm:p-5 shadow-sm flex-shrink-0",children:u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Today's Activity"}),u.jsx("p",{className:"text-sm",style:{color:"#1C7C54"},children:v.todayWorkout})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Current Goal"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:v.currentGoal})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Fitness Level"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:v.fitnessLevel})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Consistency"}),u.jsxs("p",{className:"text-sm",style:{color:"#FFB6B9"},children:["+",v.consistencyImprovement,"% this month 📈"]})]})]})}),u.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-5 shadow-sm flex-shrink-0",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43",opacity:.8},children:"💡 Try asking:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((T,N)=>u.jsx("button",{onClick:()=>P(T),className:"px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm border transition-all hover:shadow-md hover:bg-white hover:-translate-y-1 active:translate-y-0",style:{borderColor:"#A8E6CF",backgroundColor:"#E8F4F2",color:"#102A43"},children:T},N))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col overflow-hidden",style:{height:"600px"},children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-6",ref:x,children:u.jsxs("div",{className:"space-y-4",children:[n.map(T=>u.jsx("div",{className:`flex ${T.sender==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:u.jsxs("div",{className:`max-w-[85%] sm:max-w-[75%] rounded-2xl px-4 py-3 break-words ${T.sender==="user"?"rounded-br-sm":"rounded-bl-sm"}`,style:{backgroundColor:T.sender==="user"?"#1C7C54":"#F5F5F5",color:T.sender==="user"?"white":"#102A43"},children:[u.jsx("div",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:T.text}),u.jsx("p",{className:"text-xs mt-2",style:{opacity:.6,color:T.sender==="user"?"white":"#102A43"},children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},T.id)),h&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"rounded-2xl rounded-bl-sm px-4 py-3",style:{backgroundColor:"#F5F5F5"},children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:g})]})}),u.jsx("div",{className:"border-t px-4 sm:px-6 py-3 flex-shrink-0",style:{borderColor:"#E8F4F2"},children:u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:_.map((T,N)=>{const j=T.icon;return u.jsxs("button",{onClick:()=>I(T.prompt),className:"flex items-center gap-2 px-3 py-2 rounded-lg border text-sm whitespace-nowrap transition-all hover:shadow-sm hover:bg-gray-50 hover:-translate-y-0.5 active:translate-y-0 flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"white",color:"#102A43"},children:[u.jsx(j,{className:"w-4 h-4",style:{color:"#1C7C54"}}),T.label]},N)})})}),u.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"#E8F4F2",backgroundColor:"white"},children:u.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[u.jsx("input",{type:"text",value:o,onChange:T=>a(T.target.value),onKeyPress:S,placeholder:"Ask me anything...",className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 rounded-lg border outline-none transition-all focus:border-opacity-100 text-sm sm:text-base",style:{borderColor:"#A8E6CF",backgroundColor:"white",color:"#102A43"}}),u.jsx("button",{onClick:()=>E(),disabled:!o.trim(),className:"px-4 sm:px-6 py-2 sm:py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-md flex items-center justify-center",style:{backgroundColor:"#1C7C54",color:"white"},children:u.jsx(ik,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})})]})]}),u.jsx(wl,{onNavigate:e,onFeedbackClick:r})]})}function QRe(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const ZRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JRe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eDe={};function GV(t,e){return(eDe.jsx?JRe:ZRe).test(t)}const tDe=/[ \t\n\f\r]/g;function rDe(t){return typeof t=="object"?t.type==="text"?KV(t.value):!1:KV(t)}function KV(t){return t.replace(tDe,"")===""}class Zy{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}}Zy.prototype.normal={};Zy.prototype.property={};Zy.prototype.space=void 0;function LZ(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new Zy(r,n,e)}function CP(t){return t.toLowerCase()}class Ui{constructor(e,r){this.attribute=r,this.property=e}}Ui.prototype.attribute="";Ui.prototype.booleanish=!1;Ui.prototype.boolean=!1;Ui.prototype.commaOrSpaceSeparated=!1;Ui.prototype.commaSeparated=!1;Ui.prototype.defined=!1;Ui.prototype.mustUseProperty=!1;Ui.prototype.number=!1;Ui.prototype.overloadedBoolean=!1;Ui.prototype.property="";Ui.prototype.spaceSeparated=!1;Ui.prototype.space=void 0;let nDe=0;const Tt=Ef(),tn=Ef(),EP=Ef(),ke=Ef(),pr=Ef(),Zd=Ef(),to=Ef();function Ef(){return 2**++nDe}const SP=Object.freeze(Object.defineProperty({__proto__:null,boolean:Tt,booleanish:tn,commaOrSpaceSeparated:to,commaSeparated:Zd,number:ke,overloadedBoolean:EP,spaceSeparated:pr},Symbol.toStringTag,{value:"Module"})),vT=Object.keys(SP);class AO extends Ui{constructor(e,r,n,i){let o=-1;if(super(e,r),YV(this,"space",i),typeof n=="number")for(;++o<vT.length;){const a=vT[o];YV(this,vT[o],(n&SP[a])===SP[a])}}}AO.prototype.defined=!0;function YV(t,e,r){r&&(t[e]=r)}function gp(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const o=new AO(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,r[CP(n)]=n,r[CP(o.attribute)]=n}return new Zy(e,r,t.space)}const BZ=gp({properties:{ariaActiveDescendant:null,ariaAtomic:tn,ariaAutoComplete:null,ariaBusy:tn,ariaChecked:tn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:pr,ariaCurrent:null,ariaDescribedBy:pr,ariaDetails:null,ariaDisabled:tn,ariaDropEffect:pr,ariaErrorMessage:null,ariaExpanded:tn,ariaFlowTo:pr,ariaGrabbed:tn,ariaHasPopup:null,ariaHidden:tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pr,ariaLevel:ke,ariaLive:null,ariaModal:tn,ariaMultiLine:tn,ariaMultiSelectable:tn,ariaOrientation:null,ariaOwns:pr,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:tn,ariaReadOnly:tn,ariaRelevant:null,ariaRequired:tn,ariaRoleDescription:pr,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:tn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function VZ(t,e){return e in t?t[e]:e}function $Z(t,e){return VZ(t,e.toLowerCase())}const iDe=gp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Zd,acceptCharset:pr,accessKey:pr,action:null,allow:null,allowFullScreen:Tt,allowPaymentRequest:Tt,allowUserMedia:Tt,alt:null,as:null,async:Tt,autoCapitalize:null,autoComplete:pr,autoFocus:Tt,autoPlay:Tt,blocking:pr,capture:null,charSet:null,checked:Tt,cite:null,className:pr,cols:ke,colSpan:null,content:null,contentEditable:tn,controls:Tt,controlsList:pr,coords:ke|Zd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Tt,defer:Tt,dir:null,dirName:null,disabled:Tt,download:EP,draggable:tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Tt,formTarget:null,headers:pr,height:ke,hidden:EP,high:ke,href:null,hrefLang:null,htmlFor:pr,httpEquiv:pr,id:null,imageSizes:null,imageSrcSet:null,inert:Tt,inputMode:null,integrity:null,is:null,isMap:Tt,itemId:null,itemProp:pr,itemRef:pr,itemScope:Tt,itemType:pr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Tt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Tt,muted:Tt,name:null,nonce:null,noModule:Tt,noValidate:Tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Tt,optimum:ke,pattern:null,ping:pr,placeholder:null,playsInline:Tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Tt,referrerPolicy:null,rel:pr,required:Tt,reversed:Tt,rows:ke,rowSpan:ke,sandbox:pr,scope:null,scoped:Tt,seamless:Tt,selected:Tt,shadowRootClonable:Tt,shadowRootDelegatesFocus:Tt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Tt,useMap:null,value:tn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pr,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Tt,declare:Tt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Tt,noHref:Tt,noShade:Tt,noWrap:Tt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:tn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Tt,disableRemotePlayback:Tt,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:$Z}),oDe=gp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:to,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:pr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Zd,g2:Zd,glyphName:Zd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:to,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:to,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:to,rev:to,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:to,requiredFeatures:to,requiredFonts:to,requiredFormats:to,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:to,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:to,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:to,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:VZ}),UZ=gp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),zZ=gp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$Z}),WZ=gp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),aDe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sDe=/[A-Z]/g,XV=/-[a-z]/g,lDe=/^data[-\w.:]+$/i;function cDe(t,e){const r=CP(e);let n=e,i=Ui;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&lDe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(XV,fDe);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!XV.test(o)){let a=o.replace(sDe,uDe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=AO}return new i(n,e)}function uDe(t){return"-"+t.toLowerCase()}function fDe(t){return t.charAt(1).toUpperCase()}const dDe=LZ([BZ,iDe,UZ,zZ,WZ],"html"),CO=LZ([BZ,oDe,UZ,zZ,WZ],"svg");function hDe(t){return t.join(" ").trim()}var gd={},xT,QV;function pDe(){if(QV)return xT;QV=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",f="*",h="",p="comment",g="declaration";xT=function(v,b){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];b=b||{};var _=1,C=1;function E(F){var $=F.match(e);$&&(_+=$.length);var H=F.lastIndexOf(l);C=~H?F.length-H:C+F.length}function P(){var F={line:_,column:C};return function($){return $.position=new I(F),N(),$}}function I(F){this.start=F,this.end={line:_,column:C},this.source=b.source}I.prototype.content=v;function S(F){var $=new Error(b.source+":"+_+":"+C+": "+F);if($.reason=F,$.filename=b.source,$.line=_,$.column=C,$.source=v,!b.silent)throw $}function T(F){var $=F.exec(v);if($){var H=$[0];return E(H),v=v.slice(H.length),$}}function N(){T(r)}function j(F){var $;for(F=F||[];$=B();)$!==!1&&F.push($);return F}function B(){var F=P();if(!(c!=v.charAt(0)||f!=v.charAt(1))){for(var $=2;h!=v.charAt($)&&(f!=v.charAt($)||c!=v.charAt($+1));)++$;if($+=2,h===v.charAt($-1))return S("End of comment missing");var H=v.slice(2,$-2);return C+=2,E(H),v=v.slice($),C+=2,F({type:p,comment:H})}}function M(){var F=P(),$=T(n);if($){if(B(),!T(i))return S("property missing ':'");var H=T(o),K=F({type:g,property:x($[0].replace(t,h)),value:H?x(H[0].replace(t,h)):h});return T(a),K}}function L(){var F=[];j(F);for(var $;$=M();)$!==!1&&(F.push($),j(F));return F}return N(),L()};function x(v){return v?v.replace(s,h):h}return xT}var ZV;function mDe(){if(ZV)return gd;ZV=1;var t=gd&&gd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gd,"__esModule",{value:!0}),gd.default=r;const e=t(pDe());function r(n,i){let o=null;if(!n||typeof n!="string")return o;const a=(0,e.default)(n),s=typeof i=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:f}=l;s?i(c,f,l):f&&(o=o||{},o[c]=f)}),o}return gd}var bm={},JV;function gDe(){if(JV)return bm;JV=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(c){return!c||r.test(c)||t.test(c)},a=function(c,f){return f.toUpperCase()},s=function(c,f){return"".concat(f,"-")},l=function(c,f){return f===void 0&&(f={}),o(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(e,a))};return bm.camelCase=l,bm}var wm,e$;function yDe(){if(e$)return wm;e$=1;var t=wm&&wm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(mDe()),r=gDe();function n(i,o){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(s,l){s&&l&&(a[(0,r.camelCase)(s,o)]=l)}),a}return n.default=n,wm=n,wm}var vDe=yDe();const xDe=Xt(vDe),HZ=qZ("end"),EO=qZ("start");function qZ(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function bDe(t){const e=EO(t),r=HZ(t);if(e&&r)return{start:e,end:r}}function sg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?t$(t.position):"start"in t||"end"in t?t$(t):"line"in t||"column"in t?TP(t):""}function TP(t){return r$(t&&t.line)+":"+r$(t&&t.column)}function t$(t){return TP(t&&t.start)+"-"+TP(t&&t.end)}function r$(t){return t&&typeof t=="number"?t:1}class fi extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",o={},a=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?o.ruleId=n:(o.source=n.slice(0,l),o.ruleId=n.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=sg(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fi.prototype.file="";fi.prototype.name="";fi.prototype.reason="";fi.prototype.message="";fi.prototype.stack="";fi.prototype.column=void 0;fi.prototype.line=void 0;fi.prototype.ancestors=void 0;fi.prototype.cause=void 0;fi.prototype.fatal=void 0;fi.prototype.place=void 0;fi.prototype.ruleId=void 0;fi.prototype.source=void 0;const SO={}.hasOwnProperty,wDe=new Map,_De=/[A-Z]/g,ADe=new Set(["table","tbody","thead","tfoot","tr"]),CDe=new Set(["td","th"]),GZ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function EDe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=jDe(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=ODe(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?CO:dDe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=KZ(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function KZ(t,e,r){if(e.type==="element")return SDe(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return TDe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return NDe(t,e,r);if(e.type==="mdxjsEsm")return IDe(t,e);if(e.type==="root")return PDe(t,e,r);if(e.type==="text")return kDe(t,e)}function SDe(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=CO,t.schema=i),t.ancestors.push(e);const o=XZ(t,e.tagName,!1),a=RDe(t,e);let s=IO(t,e);return ADe.has(e.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!rDe(l):!0})),YZ(t,a,o,e),TO(a,s),t.ancestors.pop(),t.schema=n,t.create(e,o,a,r)}function TDe(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}hy(t,e.position)}function IDe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);hy(t,e.position)}function NDe(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=CO,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:XZ(t,e.name,!0),a=DDe(t,e),s=IO(t,e);return YZ(t,a,o,e),TO(a,s),t.ancestors.pop(),t.schema=n,t.create(e,o,a,r)}function PDe(t,e,r){const n={};return TO(n,IO(t,e)),t.create(e,t.Fragment,n,r)}function kDe(t,e){return e.value}function YZ(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function TO(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function ODe(t,e,r){return n;function n(i,o,a,s){const c=Array.isArray(a.children)?r:e;return s?c(o,a,s):c(o,a)}}function jDe(t,e){return r;function r(n,i,o,a){const s=Array.isArray(o.children),l=EO(n);return e(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function RDe(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&SO.call(e.properties,i)){const o=MDe(t,i,e.properties[i]);if(o){const[a,s]=o;t.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&CDe.has(e.tagName)?n=s:r[a]=s}}if(n){const o=r.style||(r.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function DDe(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const o=n.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(r,t.evaluater.evaluateExpression(s.argument))}else hy(t,e.position);else{const i=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const s=n.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else hy(t,e.position);else o=n.value===null?!0:n.value;r[i]=o}return r}function IO(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:wDe;for(;++n<e.children.length;){const o=e.children[n];let a;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const s=KZ(t,o,a);s!==void 0&&r.push(s)}return r}function MDe(t,e,r){const n=cDe(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?QRe(r):hDe(r)),n.property==="style"){let i=typeof r=="object"?r:FDe(t,String(r));return t.stylePropertyNameCase==="css"&&(i=LDe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?aDe[n.property]||n.property:n.attribute,r]}}function FDe(t,e){try{return xDe(e,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const n=r,i=new fi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=GZ+"#cannot-parse-style-attribute",i}}function XZ(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const s=GV(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}n=a}else n=GV(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return SO.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);hy(t)}function hy(t,e){const r=new fi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=GZ+"#cannot-handle-mdx-estrees-without-createevaluater",r}function LDe(t){const e={};let r;for(r in t)SO.call(t,r)&&(e[BDe(r)]=t[r]);return e}function BDe(t){let e=t.replace(_De,VDe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function VDe(t){return"-"+t.toLowerCase()}const bT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$De={};function UDe(t,e){const r=$De,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return QZ(t,n,i)}function QZ(t,e,r){if(zDe(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return n$(t.children,e,r)}return Array.isArray(t)?n$(t,e,r):""}function n$(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=QZ(t[i],e,r);return n.join("")}function zDe(t){return!!(t&&typeof t=="object")}const i$=document.createElement("i");function NO(t){const e="&"+t+";";i$.innerHTML=e;const r=i$.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function ms(t,e,r,n){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(e,r),t.splice(...a);else for(r&&t.splice(e,r);o<n.length;)a=n.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function jo(t,e){return t.length>0?(ms(t,t.length,0,e),t):e}const o$={}.hasOwnProperty;function WDe(t){const e={};let r=-1;for(;++r<t.length;)HDe(e,t[r]);return e}function HDe(t,e){let r;for(r in e){const i=(o$.call(t,r)?t[r]:void 0)||(t[r]={}),o=e[r];let a;if(o)for(a in o){o$.call(i,a)||(i[a]=[]);const s=o[a];qDe(i[a],Array.isArray(s)?s:s?[s]:[])}}}function qDe(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);ms(t,0,0,n)}function ZZ(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function Jd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ka=qc(/[A-Za-z]/),co=qc(/[\dA-Za-z]/),GDe=qc(/[#-'*+\--9=?A-Z^-~]/);function IP(t){return t!==null&&(t<32||t===127)}const NP=qc(/\d/),KDe=qc(/[\dA-Fa-f]/),YDe=qc(/[!-/:-@[-`{-~]/);function vt(t){return t!==null&&t<-2}function Vi(t){return t!==null&&(t<0||t===32)}function er(t){return t===-2||t===-1||t===32}const XDe=qc(/\p{P}|\p{S}/u),QDe=qc(/\s/);function qc(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function yp(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const o=t.charCodeAt(r);let a="";if(o===37&&co(t.charCodeAt(r+1))&&co(t.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(r+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="�"}else a=String.fromCharCode(o);a&&(e.push(t.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function vr(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return er(l)?(t.enter(r),s(l)):e(l)}function s(l){return er(l)&&o++<i?(t.consume(l),s):(t.exit(r),e(l))}}const ZDe={tokenize:JDe};function JDe(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),vr(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return vt(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const e6e={tokenize:t6e},a$={tokenize:r6e};function t6e(t){const e=this,r=[];let n=0,i,o,a;return s;function s(E){if(n<r.length){const P=r[n];return e.containerState=P[1],t.attempt(P[0].continuation,l,c)(E)}return c(E)}function l(E){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const P=e.events.length;let I=P,S;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){S=e.events[I][1].end;break}_(n);let T=P;for(;T<e.events.length;)e.events[T][1].end={...S},T++;return ms(e.events,I+1,0,e.events.slice(P)),e.events.length=T,c(E)}return s(E)}function c(E){if(n===r.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return x(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(a$,f,h)(E)}function f(E){return i&&C(),_(n),p(E)}function h(E){return e.parser.lazy[e.now().line]=n!==r.length,a=e.now().offset,x(E)}function p(E){return e.containerState={},t.attempt(a$,g,x)(E)}function g(E){return n++,r.push([e.currentConstruct,e.containerState]),p(E)}function x(E){if(E===null){i&&C(),_(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),v(E)}function v(E){if(E===null){b(t.exit("chunkFlow"),!0),_(0),t.consume(E);return}return vt(E)?(t.consume(E),b(t.exit("chunkFlow")),n=0,e.interrupt=void 0,s):(t.consume(E),v)}function b(E,P){const I=e.sliceStream(E);if(P&&I.push(null),E.previous=o,o&&(o.next=E),o=E,i.defineSkip(E.start),i.write(I),e.parser.lazy[E.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const T=e.events.length;let N=T,j,B;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(j){B=e.events[N][1].end;break}j=!0}for(_(n),S=T;S<e.events.length;)e.events[S][1].end={...B},S++;ms(e.events,N+1,0,e.events.slice(T)),e.events.length=S}}function _(E){let P=r.length;for(;P-- >E;){const I=r[P];e.containerState=I[1],I[0].exit.call(e,t)}r.length=E}function C(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function r6e(t,e,r){return vr(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function s$(t){if(t===null||Vi(t)||QDe(t))return 1;if(XDe(t))return 2}function PO(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!n.includes(o)&&(e=o(e,r),n.push(o))}return e}const PP={name:"attention",resolveAll:n6e,tokenize:i6e};function n6e(t,e){let r=-1,n,i,o,a,s,l,c,f;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const h={...t[n][1].end},p={...t[r][1].start};l$(h,-l),l$(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},t[n][1].end={...a.start},t[r][1].start={...s.end},c=[],t[n][1].end.offset-t[n][1].start.offset&&(c=jo(c,[["enter",t[n][1],e],["exit",t[n][1],e]])),c=jo(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),c=jo(c,PO(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),c=jo(c,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(f=2,c=jo(c,[["enter",t[r][1],e],["exit",t[r][1],e]])):f=0,ms(t,n-1,r-n+3,c),r=n+c.length-f-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function i6e(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=s$(n);let o;return a;function a(l){return o=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===o)return t.consume(l),s;const c=t.exit("attentionSequence"),f=s$(l),h=!f||f===2&&i||r.includes(l),p=!i||i===2&&f||r.includes(n);return c._open=!!(o===42?h:h&&(i||!p)),c._close=!!(o===42?p:p&&(f||!h)),e(l)}}function l$(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const o6e={name:"autolink",tokenize:a6e};function a6e(t,e,r){let n=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(g){return Ka(g)?(t.consume(g),a):g===64?r(g):c(g)}function a(g){return g===43||g===45||g===46||co(g)?(n=1,s(g)):c(g)}function s(g){return g===58?(t.consume(g),n=0,l):(g===43||g===45||g===46||co(g))&&n++<32?(t.consume(g),s):(n=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||IP(g)?r(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),f):GDe(g)?(t.consume(g),c):r(g)}function f(g){return co(g)?h(g):r(g)}function h(g){return g===46?(t.consume(g),n=0,f):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||co(g))&&n++<63){const x=g===45?p:h;return t.consume(g),x}return r(g)}}const Uw={partial:!0,tokenize:s6e};function s6e(t,e,r){return n;function n(o){return er(o)?vr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||vt(o)?e(o):r(o)}}const JZ={continuation:{tokenize:c6e},exit:u6e,name:"blockQuote",tokenize:l6e};function l6e(t,e,r){const n=this;return i;function i(a){if(a===62){const s=n.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return r(a)}function o(a){return er(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function c6e(t,e,r){const n=this;return i;function i(a){return er(a)?vr(t,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(JZ,e,r)(a)}}function u6e(t){t.exit("blockQuote")}const eJ={name:"characterEscape",tokenize:f6e};function f6e(t,e,r){return n;function n(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return YDe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(o)}}const tJ={name:"characterReference",tokenize:d6e};function d6e(t,e,r){const n=this;let i=0,o,a;return s;function s(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,a=co,f(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=KDe,f):(t.enter("characterReferenceValue"),o=7,a=NP,f(h))}function f(h){if(h===59&&i){const p=t.exit("characterReferenceValue");return a===co&&!NO(n.sliceSerialize(p))?r(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(h)&&i++<o?(t.consume(h),f):r(h)}}const c$={partial:!0,tokenize:p6e},u$={concrete:!0,name:"codeFenced",tokenize:h6e};function h6e(t,e,r){const n=this,i={partial:!0,tokenize:I};let o=0,a=0,s;return l;function l(S){return c(S)}function c(S){const T=n.events[n.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,s=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(S)}function f(S){return S===s?(a++,t.consume(S),f):a<3?r(S):(t.exit("codeFencedFenceSequence"),er(S)?vr(t,h,"whitespace")(S):h(S))}function h(S){return S===null||vt(S)?(t.exit("codeFencedFence"),n.interrupt?e(S):t.check(c$,v,P)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||vt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):er(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),vr(t,g,"whitespace")(S)):S===96&&S===s?r(S):(t.consume(S),p)}function g(S){return S===null||vt(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===null||vt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===s?r(S):(t.consume(S),x)}function v(S){return t.attempt(i,P,b)(S)}function b(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),_}function _(S){return o>0&&er(S)?vr(t,C,"linePrefix",o+1)(S):C(S)}function C(S){return S===null||vt(S)?t.check(c$,v,P)(S):(t.enter("codeFlowValue"),E(S))}function E(S){return S===null||vt(S)?(t.exit("codeFlowValue"),C(S)):(t.consume(S),E)}function P(S){return t.exit("codeFenced"),e(S)}function I(S,T,N){let j=0;return B;function B(H){return S.enter("lineEnding"),S.consume(H),S.exit("lineEnding"),M}function M(H){return S.enter("codeFencedFence"),er(H)?vr(S,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):L(H)}function L(H){return H===s?(S.enter("codeFencedFenceSequence"),F(H)):N(H)}function F(H){return H===s?(j++,S.consume(H),F):j>=a?(S.exit("codeFencedFenceSequence"),er(H)?vr(S,$,"whitespace")(H):$(H)):N(H)}function $(H){return H===null||vt(H)?(S.exit("codeFencedFence"),T(H)):N(H)}}}function p6e(t,e,r){const n=this;return i;function i(a){return a===null?r(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}const wT={name:"codeIndented",tokenize:g6e},m6e={partial:!0,tokenize:y6e};function g6e(t,e,r){const n=this;return i;function i(c){return t.enter("codeIndented"),vr(t,o,"linePrefix",5)(c)}function o(c){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):vt(c)?t.attempt(m6e,a,l)(c):(t.enter("codeFlowValue"),s(c))}function s(c){return c===null||vt(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),s)}function l(c){return t.exit("codeIndented"),e(c)}}function y6e(t,e,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):vr(t,o,"linePrefix",5)(a)}function o(a){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):vt(a)?i(a):r(a)}}const v6e={name:"codeText",previous:b6e,resolve:x6e,tokenize:w6e};function x6e(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function b6e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function w6e(t,e,r){let n=0,i,o;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),s(h)}function s(h){return h===96?(t.consume(h),n++,s):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(o=t.enter("codeTextSequence"),i=0,f(h)):vt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||vt(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function f(h){return h===96?(t.consume(h),i++,f):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",c(h))}}class _6e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&_m(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_m(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_m(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);_m(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_m(this.left,r.reverse())}}}function _m(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function rJ(t){const e={};let r=-1,n,i,o,a,s,l,c;const f=new _6e(t);for(;++r<f.length;){for(;r in e;)r=e[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,A6e(f,r)),r=e[r],c=!0);else if(n[1]._container){for(o=r,i=void 0;o--;)if(a=f.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},s=f.slice(i,r),s.unshift(n),f.splice(i,r-i+1,s))}}return ms(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function A6e(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const o=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let f,h,p=-1,g=r,x=0,v=0;const b=[v];for(;g;){for(;t.get(++i)[1]!==g;);o.push(i),g._tokenizer||(f=n.sliceStream(g),g.next||f.push(null),h&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,b.push(v),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),p=b.length;p--;){const _=s.slice(b[p],b[p+1]),C=o.pop();l.push([C,C+_.length-1]),t.splice(C,2,_)}for(l.reverse(),p=-1;++p<l.length;)c[x+l[p][0]]=x+l[p][1],x+=l[p][1]-l[p][0]-1;return c}const C6e={resolve:S6e,tokenize:T6e},E6e={partial:!0,tokenize:I6e};function S6e(t){return rJ(t),t}function T6e(t,e){let r;return n;function n(s){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):vt(s)?t.check(E6e,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function I6e(t,e,r){const n=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),vr(t,o,"linePrefix")}function o(a){if(a===null||vt(a))return r(a);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(n.parser.constructs.flow,r,e)(a)}}function nJ(t,e,r,n,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let f=0;return h;function h(_){return _===60?(t.enter(n),t.enter(i),t.enter(o),t.consume(_),t.exit(o),p):_===null||_===32||_===41||IP(_)?r(_):(t.enter(n),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),v(_))}function p(_){return _===62?(t.enter(o),t.consume(_),t.exit(o),t.exit(i),t.exit(n),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===62?(t.exit("chunkString"),t.exit(s),p(_)):_===null||_===60||vt(_)?r(_):(t.consume(_),_===92?x:g)}function x(_){return _===60||_===62||_===92?(t.consume(_),g):g(_)}function v(_){return!f&&(_===null||_===41||Vi(_))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(n),e(_)):f<c&&_===40?(t.consume(_),f++,v):_===41?(t.consume(_),f--,v):_===null||_===32||_===40||IP(_)?r(_):(t.consume(_),_===92?b:v)}function b(_){return _===40||_===41||_===92?(t.consume(_),v):v(_)}}function iJ(t,e,r,n,i,o){const a=this;let s=0,l;return c;function c(g){return t.enter(n),t.enter(i),t.consume(g),t.exit(i),t.enter(o),f}function f(g){return s>999||g===null||g===91||g===93&&!l||g===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?r(g):g===93?(t.exit(o),t.enter(i),t.consume(g),t.exit(i),t.exit(n),e):vt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||vt(g)||s++>999?(t.exit("chunkString"),f(g)):(t.consume(g),l||(l=!er(g)),g===92?p:h)}function p(g){return g===91||g===92||g===93?(t.consume(g),s++,h):h(g)}}function oJ(t,e,r,n,i,o){let a;return s;function s(p){return p===34||p===39||p===40?(t.enter(n),t.enter(i),t.consume(p),t.exit(i),a=p===40?41:p,l):r(p)}function l(p){return p===a?(t.enter(i),t.consume(p),t.exit(i),t.exit(n),e):(t.enter(o),c(p))}function c(p){return p===a?(t.exit(o),l(a)):p===null?r(p):vt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),vr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===a||p===null||vt(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?h:f)}function h(p){return p===a||p===92?(t.consume(p),f):f(p)}}function lg(t,e){let r;return n;function n(i){return vt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):er(i)?vr(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const N6e={name:"definition",tokenize:k6e},P6e={partial:!0,tokenize:O6e};function k6e(t,e,r){const n=this;let i;return o;function o(g){return t.enter("definition"),a(g)}function a(g){return iJ.call(n,t,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function s(g){return i=Jd(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):r(g)}function l(g){return Vi(g)?lg(t,c)(g):c(g)}function c(g){return nJ(t,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return t.attempt(P6e,h,h)(g)}function h(g){return er(g)?vr(t,p,"whitespace")(g):p(g)}function p(g){return g===null||vt(g)?(t.exit("definition"),n.parser.defined.push(i),e(g)):r(g)}}function O6e(t,e,r){return n;function n(s){return Vi(s)?lg(t,i)(s):r(s)}function i(s){return oJ(t,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return er(s)?vr(t,a,"whitespace")(s):a(s)}function a(s){return s===null||vt(s)?e(s):r(s)}}const j6e={name:"hardBreakEscape",tokenize:R6e};function R6e(t,e,r){return n;function n(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return vt(o)?(t.exit("hardBreakEscape"),e(o)):r(o)}}const D6e={name:"headingAtx",resolve:M6e,tokenize:F6e};function M6e(t,e){let r=t.length-2,n=3,i,o;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},o={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},ms(t,n,r-n+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function F6e(t,e,r){let n=0;return i;function i(f){return t.enter("atxHeading"),o(f)}function o(f){return t.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&n++<6?(t.consume(f),a):f===null||Vi(f)?(t.exit("atxHeadingSequence"),s(f)):r(f)}function s(f){return f===35?(t.enter("atxHeadingSequence"),l(f)):f===null||vt(f)?(t.exit("atxHeading"),e(f)):er(f)?vr(t,s,"whitespace")(f):(t.enter("atxHeadingText"),c(f))}function l(f){return f===35?(t.consume(f),l):(t.exit("atxHeadingSequence"),s(f))}function c(f){return f===null||f===35||Vi(f)?(t.exit("atxHeadingText"),s(f)):(t.consume(f),c)}}const L6e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],f$=["pre","script","style","textarea"],B6e={concrete:!0,name:"htmlFlow",resolveTo:U6e,tokenize:z6e},V6e={partial:!0,tokenize:H6e},$6e={partial:!0,tokenize:W6e};function U6e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function z6e(t,e,r){const n=this;let i,o,a,s,l;return c;function c(W){return f(W)}function f(W){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(W),h}function h(W){return W===33?(t.consume(W),p):W===47?(t.consume(W),o=!0,v):W===63?(t.consume(W),i=3,n.interrupt?e:U):Ka(W)?(t.consume(W),a=String.fromCharCode(W),b):r(W)}function p(W){return W===45?(t.consume(W),i=2,g):W===91?(t.consume(W),i=5,s=0,x):Ka(W)?(t.consume(W),i=4,n.interrupt?e:U):r(W)}function g(W){return W===45?(t.consume(W),n.interrupt?e:U):r(W)}function x(W){const Q="CDATA[";return W===Q.charCodeAt(s++)?(t.consume(W),s===Q.length?n.interrupt?e:L:x):r(W)}function v(W){return Ka(W)?(t.consume(W),a=String.fromCharCode(W),b):r(W)}function b(W){if(W===null||W===47||W===62||Vi(W)){const Q=W===47,se=a.toLowerCase();return!Q&&!o&&f$.includes(se)?(i=1,n.interrupt?e(W):L(W)):L6e.includes(a.toLowerCase())?(i=6,Q?(t.consume(W),_):n.interrupt?e(W):L(W)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(W):o?C(W):E(W))}return W===45||co(W)?(t.consume(W),a+=String.fromCharCode(W),b):r(W)}function _(W){return W===62?(t.consume(W),n.interrupt?e:L):r(W)}function C(W){return er(W)?(t.consume(W),C):B(W)}function E(W){return W===47?(t.consume(W),B):W===58||W===95||Ka(W)?(t.consume(W),P):er(W)?(t.consume(W),E):B(W)}function P(W){return W===45||W===46||W===58||W===95||co(W)?(t.consume(W),P):I(W)}function I(W){return W===61?(t.consume(W),S):er(W)?(t.consume(W),I):E(W)}function S(W){return W===null||W===60||W===61||W===62||W===96?r(W):W===34||W===39?(t.consume(W),l=W,T):er(W)?(t.consume(W),S):N(W)}function T(W){return W===l?(t.consume(W),l=null,j):W===null||vt(W)?r(W):(t.consume(W),T)}function N(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||Vi(W)?I(W):(t.consume(W),N)}function j(W){return W===47||W===62||er(W)?E(W):r(W)}function B(W){return W===62?(t.consume(W),M):r(W)}function M(W){return W===null||vt(W)?L(W):er(W)?(t.consume(W),M):r(W)}function L(W){return W===45&&i===2?(t.consume(W),K):W===60&&i===1?(t.consume(W),Z):W===62&&i===4?(t.consume(W),X):W===63&&i===3?(t.consume(W),U):W===93&&i===5?(t.consume(W),re):vt(W)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(V6e,ee,F)(W)):W===null||vt(W)?(t.exit("htmlFlowData"),F(W)):(t.consume(W),L)}function F(W){return t.check($6e,$,ee)(W)}function $(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),H}function H(W){return W===null||vt(W)?F(W):(t.enter("htmlFlowData"),L(W))}function K(W){return W===45?(t.consume(W),U):L(W)}function Z(W){return W===47?(t.consume(W),a="",q):L(W)}function q(W){if(W===62){const Q=a.toLowerCase();return f$.includes(Q)?(t.consume(W),X):L(W)}return Ka(W)&&a.length<8?(t.consume(W),a+=String.fromCharCode(W),q):L(W)}function re(W){return W===93?(t.consume(W),U):L(W)}function U(W){return W===62?(t.consume(W),X):W===45&&i===2?(t.consume(W),U):L(W)}function X(W){return W===null||vt(W)?(t.exit("htmlFlowData"),ee(W)):(t.consume(W),X)}function ee(W){return t.exit("htmlFlow"),e(W)}}function W6e(t,e,r){const n=this;return i;function i(a){return vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):r(a)}function o(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function H6e(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Uw,e,r)}}const q6e={name:"htmlText",tokenize:G6e};function G6e(t,e,r){const n=this;let i,o,a;return s;function s(U){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(U),l}function l(U){return U===33?(t.consume(U),c):U===47?(t.consume(U),I):U===63?(t.consume(U),E):Ka(U)?(t.consume(U),N):r(U)}function c(U){return U===45?(t.consume(U),f):U===91?(t.consume(U),o=0,x):Ka(U)?(t.consume(U),C):r(U)}function f(U){return U===45?(t.consume(U),g):r(U)}function h(U){return U===null?r(U):U===45?(t.consume(U),p):vt(U)?(a=h,Z(U)):(t.consume(U),h)}function p(U){return U===45?(t.consume(U),g):h(U)}function g(U){return U===62?K(U):U===45?p(U):h(U)}function x(U){const X="CDATA[";return U===X.charCodeAt(o++)?(t.consume(U),o===X.length?v:x):r(U)}function v(U){return U===null?r(U):U===93?(t.consume(U),b):vt(U)?(a=v,Z(U)):(t.consume(U),v)}function b(U){return U===93?(t.consume(U),_):v(U)}function _(U){return U===62?K(U):U===93?(t.consume(U),_):v(U)}function C(U){return U===null||U===62?K(U):vt(U)?(a=C,Z(U)):(t.consume(U),C)}function E(U){return U===null?r(U):U===63?(t.consume(U),P):vt(U)?(a=E,Z(U)):(t.consume(U),E)}function P(U){return U===62?K(U):E(U)}function I(U){return Ka(U)?(t.consume(U),S):r(U)}function S(U){return U===45||co(U)?(t.consume(U),S):T(U)}function T(U){return vt(U)?(a=T,Z(U)):er(U)?(t.consume(U),T):K(U)}function N(U){return U===45||co(U)?(t.consume(U),N):U===47||U===62||Vi(U)?j(U):r(U)}function j(U){return U===47?(t.consume(U),K):U===58||U===95||Ka(U)?(t.consume(U),B):vt(U)?(a=j,Z(U)):er(U)?(t.consume(U),j):K(U)}function B(U){return U===45||U===46||U===58||U===95||co(U)?(t.consume(U),B):M(U)}function M(U){return U===61?(t.consume(U),L):vt(U)?(a=M,Z(U)):er(U)?(t.consume(U),M):j(U)}function L(U){return U===null||U===60||U===61||U===62||U===96?r(U):U===34||U===39?(t.consume(U),i=U,F):vt(U)?(a=L,Z(U)):er(U)?(t.consume(U),L):(t.consume(U),$)}function F(U){return U===i?(t.consume(U),i=void 0,H):U===null?r(U):vt(U)?(a=F,Z(U)):(t.consume(U),F)}function $(U){return U===null||U===34||U===39||U===60||U===61||U===96?r(U):U===47||U===62||Vi(U)?j(U):(t.consume(U),$)}function H(U){return U===47||U===62||Vi(U)?j(U):r(U)}function K(U){return U===62?(t.consume(U),t.exit("htmlTextData"),t.exit("htmlText"),e):r(U)}function Z(U){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),q}function q(U){return er(U)?vr(t,re,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):re(U)}function re(U){return t.enter("htmlTextData"),a(U)}}const kO={name:"labelEnd",resolveAll:Q6e,resolveTo:Z6e,tokenize:J6e},K6e={tokenize:e5e},Y6e={tokenize:t5e},X6e={tokenize:r5e};function Q6e(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&ms(t,0,t.length,r),t}function Z6e(t,e){let r=t.length,n=0,i,o,a,s;for(;r--;)if(i=t[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},f={type:"labelText",start:{...t[o+n+2][1].end},end:{...t[a-2][1].start}};return s=[["enter",l,e],["enter",c,e]],s=jo(s,t.slice(o+1,o+n+3)),s=jo(s,[["enter",f,e]]),s=jo(s,PO(e.parser.constructs.insideSpan.null,t.slice(o+n+4,a-3),e)),s=jo(s,[["exit",f,e],t[a-2],t[a-1],["exit",c,e]]),s=jo(s,t.slice(a+1)),s=jo(s,[["exit",l,e]]),ms(t,o,t.length,s),t}function J6e(t,e,r){const n=this;let i=n.events.length,o,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return s;function s(p){return o?o._inactive?h(p):(a=n.parser.defined.includes(Jd(n.sliceSerialize({start:o.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):r(p)}function l(p){return p===40?t.attempt(K6e,f,a?f:h)(p):p===91?t.attempt(Y6e,f,a?c:h)(p):a?f(p):h(p)}function c(p){return t.attempt(X6e,f,h)(p)}function f(p){return e(p)}function h(p){return o._balanced=!0,r(p)}}function e5e(t,e,r){return n;function n(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Vi(h)?lg(t,o)(h):o(h)}function o(h){return h===41?f(h):nJ(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Vi(h)?lg(t,l)(h):f(h)}function s(h){return r(h)}function l(h){return h===34||h===39||h===40?oJ(t,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function c(h){return Vi(h)?lg(t,f)(h):f(h)}function f(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):r(h)}}function t5e(t,e,r){const n=this;return i;function i(s){return iJ.call(n,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return n.parser.defined.includes(Jd(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(s):r(s)}function a(s){return r(s)}}function r5e(t,e,r){return n;function n(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):r(o)}}const n5e={name:"labelStartImage",resolveAll:kO.resolveAll,tokenize:i5e};function i5e(t,e,r){const n=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):r(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):e(s)}}const o5e={name:"labelStartLink",resolveAll:kO.resolveAll,tokenize:a5e};function a5e(t,e,r){const n=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const _T={name:"lineEnding",tokenize:s5e};function s5e(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),vr(t,e,"linePrefix")}}const C1={name:"thematicBreak",tokenize:l5e};function l5e(t,e,r){let n=0,i;return o;function o(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||vt(c))?(t.exit("thematicBreak"),e(c)):r(c)}function l(c){return c===i?(t.consume(c),n++,l):(t.exit("thematicBreakSequence"),er(c)?vr(t,s,"whitespace")(c):s(c))}}const ki={continuation:{tokenize:d5e},exit:p5e,name:"list",tokenize:f5e},c5e={partial:!0,tokenize:m5e},u5e={partial:!0,tokenize:h5e};function f5e(t,e,r){const n=this,i=n.events[n.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(g){const x=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:NP(g)){if(n.containerState.type||(n.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(C1,r,c)(g):c(g);if(!n.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return r(g)}function l(g){return NP(g)&&++a<10?(t.consume(g),l):(!n.interrupt||a<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):r(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,t.check(Uw,n.interrupt?r:f,t.attempt(c5e,p,h))}function f(g){return n.containerState.initialBlankLine=!0,o++,p(g)}function h(g){return er(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):r(g)}function p(g){return n.containerState.size=o+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function d5e(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Uw,i,o);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,vr(t,e,"listItemIndent",n.containerState.size+1)(s)}function o(s){return n.containerState.furtherBlankLines||!er(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(u5e,e,a)(s))}function a(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,vr(t,t.attempt(ki,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function h5e(t,e,r){const n=this;return vr(t,i,"listItemIndent",n.containerState.size+1);function i(o){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?e(o):r(o)}}function p5e(t){t.exit(this.containerState.type)}function m5e(t,e,r){const n=this;return vr(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=n.events[n.events.length-1];return!er(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):r(o)}}const d$={name:"setextUnderline",resolveTo:g5e,tokenize:y5e};function g5e(t,e){let r=t.length,n,i,o;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!o&&t[r][1].type==="definition"&&(o=r);const a={type:"setextHeading",start:{...t[n][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[n][1],e]),t[n][1].end={...t[o][1].end}):t[n][1]=a,t.push(["exit",a,e]),t}function y5e(t,e,r){const n=this;let i;return o;function o(c){let f=n.events.length,h;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){h=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(t.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return t.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(t.consume(c),s):(t.exit("setextHeadingLineSequence"),er(c)?vr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||vt(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}const v5e={tokenize:x5e};function x5e(t){const e=this,r=t.attempt(Uw,n,t.attempt(this.parser.constructs.flowInitial,i,vr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(C6e,i)),"linePrefix")));return r;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const b5e={resolveAll:sJ()},w5e=aJ("string"),_5e=aJ("text");function aJ(t){return{resolveAll:sJ(t==="text"?A5e:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],o=r.attempt(i,a,s);return a;function a(f){return c(f)?o(f):s(f)}function s(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),l}function l(f){return c(f)?(r.exit("data"),o(f)):(r.consume(f),l)}function c(f){if(f===null)return!0;const h=i[f];let p=-1;if(h)for(;++p<h.length;){const g=h[p];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function sJ(t){return e;function e(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(r,n):r}}function A5e(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(s=0),s){const c={type:r===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:n.start._bufferIndex+a,_index:n.start._index+o,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(t.splice(r,0,["enter",c,e],["exit",c,e]),r+=2)}r++}return t}const C5e={42:ki,43:ki,45:ki,48:ki,49:ki,50:ki,51:ki,52:ki,53:ki,54:ki,55:ki,56:ki,57:ki,62:JZ},E5e={91:N6e},S5e={[-2]:wT,[-1]:wT,32:wT},T5e={35:D6e,42:C1,45:[d$,C1],60:B6e,61:d$,95:C1,96:u$,126:u$},I5e={38:tJ,92:eJ},N5e={[-5]:_T,[-4]:_T,[-3]:_T,33:n5e,38:tJ,42:PP,60:[o6e,q6e],91:o5e,92:[j6e,eJ],93:kO,95:PP,96:v6e},P5e={null:[PP,b5e]},k5e={null:[42,95]},O5e={null:[]},j5e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:k5e,contentInitial:E5e,disable:O5e,document:C5e,flow:T5e,flowInitial:S5e,insideSpan:P5e,string:I5e,text:N5e},Symbol.toStringTag,{value:"Module"}));function R5e(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:T(I),check:T(S),consume:C,enter:E,exit:P,interrupt:T(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:x,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:h};let f=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function h(M){return a=jo(a,M),b(),a[a.length-1]!==null?[]:(N(e,0),c.events=PO(o,c.events,c),c.events)}function p(M,L){return M5e(g(M),L)}function g(M){return D5e(a,M)}function x(){const{_bufferIndex:M,_index:L,line:F,column:$,offset:H}=n;return{_bufferIndex:M,_index:L,line:F,column:$,offset:H}}function v(M){i[M.line]=M.column,B()}function b(){let M;for(;n._index<a.length;){const L=a[n._index];if(typeof L=="string")for(M=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===M&&n._bufferIndex<L.length;)_(L.charCodeAt(n._bufferIndex));else _(L)}}function _(M){f=f(M)}function C(M){vt(M)?(n.line++,n.column=1,n.offset+=M===-3?2:1,B()):M!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=M}function E(M,L){const F=L||{};return F.type=M,F.start=x(),c.events.push(["enter",F,c]),s.push(F),F}function P(M){const L=s.pop();return L.end=x(),c.events.push(["exit",L,c]),L}function I(M,L){N(M,L.from)}function S(M,L){L.restore()}function T(M,L){return F;function F($,H,K){let Z,q,re,U;return Array.isArray($)?ee($):"tokenize"in $?ee([$]):X($);function X(oe){return ae;function ae(ve){const he=ve!==null&&oe[ve],_e=ve!==null&&oe.null,Pe=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return ee(Pe)(ve)}}function ee(oe){return Z=oe,q=0,oe.length===0?K:W(oe[q])}function W(oe){return ae;function ae(ve){return U=j(),re=oe,oe.partial||(c.currentConstruct=oe),oe.name&&c.parser.constructs.disable.null.includes(oe.name)?se():oe.tokenize.call(L?Object.assign(Object.create(c),L):c,l,Q,se)(ve)}}function Q(oe){return M(re,U),H}function se(oe){return U.restore(),++q<Z.length?W(Z[q]):K}}}function N(M,L){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&ms(c.events,L,c.events.length-L,M.resolve(c.events.slice(L),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function j(){const M=x(),L=c.previous,F=c.currentConstruct,$=c.events.length,H=Array.from(s);return{from:$,restore:K};function K(){n=M,c.previous=L,c.currentConstruct=F,c.events.length=$,s=H,B()}}function B(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function D5e(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(r===i)a=[t[r].slice(n,o)];else{if(a=t.slice(r,i),n>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(n):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function M5e(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const o=t[r];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,n.push(a)}return n.join("")}function F5e(t){const n={constructs:WDe([j5e,...(t||{}).extensions||[]]),content:i(ZDe),defined:[],document:i(e6e),flow:i(v5e),lazy:{},string:i(w5e),text:i(_5e)};return n;function i(o){return a;function a(s){return R5e(n,o,s)}}}function L5e(t){for(;!rJ(t););return t}const h$=/[\0\t\n\r]/g;function B5e(){let t=1,e="",r=!0,n;return i;function i(o,a,s){const l=[];let c,f,h,p,g;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),h=0,e="",r&&(o.charCodeAt(0)===65279&&h++,r=void 0);h<o.length;){if(h$.lastIndex=h,c=h$.exec(o),p=c&&c.index!==void 0?c.index:o.length,g=o.charCodeAt(p),!c){e=o.slice(h);break}if(g===10&&h===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<p&&(l.push(o.slice(h,p)),t+=p-h),g){case 0:{l.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,l.push(-2);t++<f;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}h=p+1}return s&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const V5e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $5e(t){return t.replace(V5e,U5e)}function U5e(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),o=i===120||i===88;return ZZ(r.slice(o?2:1),o?16:10)}return NO(r)||t}const lJ={}.hasOwnProperty;function z5e(t,e,r){return typeof e!="string"&&(r=e,e=void 0),W5e(r)(L5e(F5e(r).document().write(B5e()(t,e,!0))))}function W5e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ze),autolinkProtocol:j,autolinkEmail:j,atxHeading:o(nt),blockQuote:o(_e),characterEscape:j,characterReference:j,codeFenced:o(Pe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Pe,a),codeText:o(pe,a),codeTextData:j,data:j,codeFlowValue:j,definition:o(et),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o($e),hardBreakEscape:o(Ce),hardBreakTrailing:o(Ce),htmlFlow:o(Re,a),htmlFlowData:j,htmlText:o(Re,a),htmlTextData:j,image:o(Be),label:a,link:o(ze),listItem:o(tt),listItemValue:p,listOrdered:o(be,h),listUnordered:o(be),paragraph:o(Et),reference:W,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(nt),strong:o(dr),thematicBreak:o(qr)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:he,autolinkProtocol:ve,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:oe,characterReference:ae,codeFenced:l(b),codeFencedFence:v,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:B,codeIndented:l(_),codeText:l(H),codeTextData:B,data:B,definition:l(),definitionDestinationString:P,definitionLabelString:C,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(F),htmlFlowData:B,htmlText:l($),htmlTextData:B,image:l(Z),label:re,labelText:q,lineEnding:M,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:U,resourceTitleString:X,resource:ee,setextHeading:l(N),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};cJ(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(ye){let Ne={type:"root",children:[]};const le={stack:[Ne],tokenStack:[],config:e,enter:s,exit:c,buffer:a,resume:f,data:r},We=[];let ut=-1;for(;++ut<ye.length;)if(ye[ut][1].type==="listOrdered"||ye[ut][1].type==="listUnordered")if(ye[ut][0]==="enter")We.push(ut);else{const _r=We.pop();ut=i(ye,_r,ut)}for(ut=-1;++ut<ye.length;){const _r=e[ye[ut][0]];lJ.call(_r,ye[ut][1].type)&&_r[ye[ut][1].type].call(Object.assign({sliceSerialize:ye[ut][2].sliceSerialize},le),ye[ut][1])}if(le.tokenStack.length>0){const _r=le.tokenStack[le.tokenStack.length-1];(_r[1]||p$).call(le,void 0,_r[0])}for(Ne.position={start:Yl(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:Yl(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},ut=-1;++ut<e.transforms.length;)Ne=e.transforms[ut](Ne)||Ne;return Ne}function i(ye,Ne,le){let We=Ne-1,ut=-1,_r=!1,Vr,Cn,yo,Ko;for(;++We<=le;){const Ar=ye[We];switch(Ar[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ar[0]==="enter"?ut++:ut--,Ko=void 0;break}case"lineEndingBlank":{Ar[0]==="enter"&&(Vr&&!Ko&&!ut&&!yo&&(yo=We),Ko=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ko=void 0}if(!ut&&Ar[0]==="enter"&&Ar[1].type==="listItemPrefix"||ut===-1&&Ar[0]==="exit"&&(Ar[1].type==="listUnordered"||Ar[1].type==="listOrdered")){if(Vr){let Wi=We;for(Cn=void 0;Wi--;){const En=ye[Wi];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Cn&&(ye[Cn][1].type="lineEndingBlank",_r=!0),En[1].type="lineEnding",Cn=Wi}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}yo&&(!Cn||yo<Cn)&&(Vr._spread=!0),Vr.end=Object.assign({},Cn?ye[Cn][1].start:Ar[1].end),ye.splice(Cn||We,0,["exit",Vr,Ar[2]]),We++,le++}if(Ar[1].type==="listItemPrefix"){const Wi={type:"listItem",_spread:!1,start:Object.assign({},Ar[1].start),end:void 0};Vr=Wi,ye.splice(We,0,["enter",Wi,Ar[2]]),We++,le++,yo=void 0,Ko=!0}}}return ye[Ne][1]._spread=_r,le}function o(ye,Ne){return le;function le(We){s.call(this,ye(We),We),Ne&&Ne.call(this,We)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(ye,Ne,le){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([Ne,le||void 0]),ye.position={start:Yl(Ne.start),end:void 0}}function l(ye){return Ne;function Ne(le){ye&&ye.call(this,le),c.call(this,le)}}function c(ye,Ne){const le=this.stack.pop(),We=this.tokenStack.pop();if(We)We[0].type!==ye.type&&(Ne?Ne.call(this,ye,We[0]):(We[1]||p$).call(this,ye,We[0]));else throw new Error("Cannot close `"+ye.type+"` ("+sg({start:ye.start,end:ye.end})+"): it’s not open");le.position.end=Yl(ye.end)}function f(){return UDe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(ye){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=ye}function x(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=ye}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ye.replace(/(\r?\n|\r)$/g,"")}function C(ye){const Ne=this.resume(),le=this.stack[this.stack.length-1];le.label=Ne,le.identifier=Jd(this.sliceSerialize(ye)).toLowerCase()}function E(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ye}function P(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ye}function I(ye){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const le=this.sliceSerialize(ye).length;Ne.depth=le}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(ye){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function j(ye){const le=this.stack[this.stack.length-1].children;let We=le[le.length-1];(!We||We.type!=="text")&&(We=jr(),We.position={start:Yl(ye.start),end:void 0},le.push(We)),this.stack.push(We)}function B(ye){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(ye),Ne.position.end=Yl(ye.end)}function M(ye){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const le=Ne.children[Ne.children.length-1];le.position.end=Yl(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ne.type)&&(j.call(this,ye),B.call(this,ye))}function L(){this.data.atHardBreak=!0}function F(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ye}function $(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ye}function H(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ye}function K(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=Ne,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function Z(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=Ne,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function q(ye){const Ne=this.sliceSerialize(ye),le=this.stack[this.stack.length-2];le.label=$5e(Ne),le.identifier=Jd(Ne).toLowerCase()}function re(){const ye=this.stack[this.stack.length-1],Ne=this.resume(),le=this.stack[this.stack.length-1];if(this.data.inReference=!0,le.type==="link"){const We=ye.children;le.children=We}else le.alt=Ne}function U(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ye}function X(){const ye=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ye}function ee(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function Q(ye){const Ne=this.resume(),le=this.stack[this.stack.length-1];le.label=Ne,le.identifier=Jd(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function se(ye){this.data.characterReferenceType=ye.type}function oe(ye){const Ne=this.sliceSerialize(ye),le=this.data.characterReferenceType;let We;le?(We=ZZ(Ne,le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):We=NO(Ne);const ut=this.stack[this.stack.length-1];ut.value+=We}function ae(ye){const Ne=this.stack.pop();Ne.position.end=Yl(ye.end)}function ve(ye){B.call(this,ye);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(ye)}function he(ye){B.call(this,ye);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(ye)}function _e(){return{type:"blockquote",children:[]}}function Pe(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:0,children:[]}}function Ce(){return{type:"break"}}function Re(){return{type:"html",value:""}}function Be(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function be(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function tt(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function Et(){return{type:"paragraph",children:[]}}function dr(){return{type:"strong",children:[]}}function jr(){return{type:"text",value:""}}function qr(){return{type:"thematicBreak"}}}function Yl(t){return{line:t.line,column:t.column,offset:t.offset}}function cJ(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?cJ(t,n):H5e(t,n)}}function H5e(t,e){let r;for(r in e)if(lJ.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function p$(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+sg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+sg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+sg({start:e.start,end:e.end})+") is still open")}function q5e(t){const e=this;e.parser=r;function r(n){return z5e(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function G5e(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function K5e(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function Y5e(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function X5e(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Q5e(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Z5e(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=yp(n.toLowerCase()),o=t.footnoteOrder.indexOf(n);let a,s=t.footnoteCounts.get(n);s===void 0?(s=0,t.footnoteOrder.push(n),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function J5e(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function eMe(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function uJ(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function tMe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return uJ(t,e);const i={src:yp(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function rMe(t,e){const r={src:yp(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function nMe(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function iMe(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return uJ(t,e);const i={href:yp(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function oMe(t,e){const r={href:yp(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function aMe(t,e,r){const n=t.all(e),i=r?sMe(r):fJ(e),o={},a=[];if(typeof e.checked=="boolean"){const f=n[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const f=n[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,c),t.applyData(e,c)}function sMe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=fJ(r[n])}return e}function fJ(t){const e=t.spread;return e??t.children.length>1}function lMe(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,o),t.applyData(e,o)}function cMe(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function uMe(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function fMe(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function dMe(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},s=EO(e.children[1]),l=HZ(e.children[e.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function hMe(t,e,r){const n=r?r.children:void 0,o=(n?n.indexOf(e):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,s=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<s;){const h=e.children[l],p={},g=a?a[l]:void 0;g&&(p.align=g);let x={type:"element",tagName:o,properties:p,children:[]};h&&(x.children=t.all(h),t.patch(h,x),x=t.applyData(h,x)),c.push(x)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,f),t.applyData(e,f)}function pMe(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const m$=9,g$=32;function mMe(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const o=[];for(;n;)o.push(y$(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return o.push(y$(e.slice(i),i>0,!1)),o.join("")}function y$(t,e,r){let n=0,i=t.length;if(e){let o=t.codePointAt(n);for(;o===m$||o===g$;)n++,o=t.codePointAt(n)}if(r){let o=t.codePointAt(i-1);for(;o===m$||o===g$;)i--,o=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function gMe(t,e){const r={type:"text",value:mMe(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function yMe(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const vMe={blockquote:G5e,break:K5e,code:Y5e,delete:X5e,emphasis:Q5e,footnoteReference:Z5e,heading:J5e,html:eMe,imageReference:tMe,image:rMe,inlineCode:nMe,linkReference:iMe,link:oMe,listItem:aMe,list:lMe,paragraph:cMe,root:uMe,strong:fMe,table:dMe,tableCell:pMe,tableRow:hMe,text:gMe,thematicBreak:yMe,toml:Kv,yaml:Kv,definition:Kv,footnoteDefinition:Kv};function Kv(){}const dJ=-1,zw=0,cg=1,ub=2,OO=3,jO=4,RO=5,DO=6,hJ=7,pJ=8,v$=typeof self=="object"?self:globalThis,xMe=(t,e)=>{const r=(i,o)=>(t.set(o,i),i),n=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case zw:case dJ:return r(a,i);case cg:{const s=r([],i);for(const l of a)s.push(n(l));return s}case ub:{const s=r({},i);for(const[l,c]of a)s[n(l)]=n(c);return s}case OO:return r(new Date(a),i);case jO:{const{source:s,flags:l}=a;return r(new RegExp(s,l),i)}case RO:{const s=r(new Map,i);for(const[l,c]of a)s.set(n(l),n(c));return s}case DO:{const s=r(new Set,i);for(const l of a)s.add(n(l));return s}case hJ:{const{name:s,message:l}=a;return r(new v$[s](l),i)}case pJ:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return r(new DataView(s),a)}}return r(new v$[o](a),i)};return n},x$=t=>xMe(new Map,t)(0),yd="",{toString:bMe}={},{keys:wMe}=Object,Am=t=>{const e=typeof t;if(e!=="object"||!t)return[zw,e];const r=bMe.call(t).slice(8,-1);switch(r){case"Array":return[cg,yd];case"Object":return[ub,yd];case"Date":return[OO,yd];case"RegExp":return[jO,yd];case"Map":return[RO,yd];case"Set":return[DO,yd];case"DataView":return[cg,r]}return r.includes("Array")?[cg,r]:r.includes("Error")?[hJ,r]:[ub,r]},Yv=([t,e])=>t===zw&&(e==="function"||e==="symbol"),_Me=(t,e,r,n)=>{const i=(a,s)=>{const l=n.push(a)-1;return r.set(s,l),l},o=a=>{if(r.has(a))return r.get(a);let[s,l]=Am(a);switch(s){case zw:{let f=a;switch(l){case"bigint":s=pJ,f=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([dJ],a)}return i([s,f],a)}case cg:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const f=[],h=i([s,f],a);for(const p of a)f.push(o(p));return h}case ub:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const f=[],h=i([s,f],a);for(const p of wMe(a))(t||!Yv(Am(a[p])))&&f.push([o(p),o(a[p])]);return h}case OO:return i([s,a.toISOString()],a);case jO:{const{source:f,flags:h}=a;return i([s,{source:f,flags:h}],a)}case RO:{const f=[],h=i([s,f],a);for(const[p,g]of a)(t||!(Yv(Am(p))||Yv(Am(g))))&&f.push([o(p),o(g)]);return h}case DO:{const f=[],h=i([s,f],a);for(const p of a)(t||!Yv(Am(p)))&&f.push(o(p));return h}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},b$=(t,{json:e,lossy:r}={})=>{const n=[];return _Me(!(e||r),!!e,new Map,n)(t),n},fb=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?x$(b$(t,e)):structuredClone(t):(t,e)=>x$(b$(t,e));function AMe(t,e){const r=[{type:"text",value:"↩"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function CMe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function EMe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||AMe,n=t.options.footnoteBackLabel||CMe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const f=t.all(c),h=String(c.identifier).toUpperCase(),p=yp(h.toLowerCase());let g=0;const x=[],v=t.footnoteCounts.get(h);for(;v!==void 0&&++g<=v;){x.length>0&&x.push({type:"text",value:" "});let C=typeof r=="string"?r:r(l,g);typeof C=="string"&&(C={type:"text",value:C}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,g),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const C=b.children[b.children.length-1];C&&C.type==="text"?C.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...x)}else f.push(...x);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(f,!0)};t.patch(c,_),s.push(_)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...fb(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const mJ=(function(t){if(t==null)return NMe;if(typeof t=="function")return Ww(t);if(typeof t=="object")return Array.isArray(t)?SMe(t):TMe(t);if(typeof t=="string")return IMe(t);throw new Error("Expected function, string, or object as test")});function SMe(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=mJ(t[r]);return Ww(n);function n(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function TMe(t){const e=t;return Ww(r);function r(n){const i=n;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function IMe(t){return Ww(e);function e(r){return r&&r.type===t}}function Ww(t){return e;function e(r,n,i){return!!(PMe(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function NMe(){return!0}function PMe(t){return t!==null&&typeof t=="object"&&"type"in t}const gJ=[],kMe=!0,w$=!1,OMe="skip";function jMe(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const o=mJ(i),a=n?-1:1;s(t,void 0,[])();function s(l,c,f){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=gJ,x,v,b;if((!e||o(l,c,f[f.length-1]||void 0))&&(g=RMe(r(l,f)),g[0]===w$))return g;if("children"in l&&l.children){const _=l;if(_.children&&g[0]!==OMe)for(v=(n?_.children.length:-1)+a,b=f.concat(_);v>-1&&v<_.children.length;){const C=_.children[v];if(x=s(C,v,b)(),x[0]===w$)return x;v=typeof x[1]=="number"?x[1]:v+a}}return g}}}function RMe(t){return Array.isArray(t)?t:typeof t=="number"?[kMe,t]:t==null?gJ:[t]}function yJ(t,e,r,n){let i,o,a;typeof e=="function"&&typeof r!="function"?(o=void 0,a=e,i=r):(o=e,a=r,i=n),jMe(t,o,s,i);function s(l,c){const f=c[c.length-1],h=f?f.children.indexOf(l):void 0;return a(l,h,f)}}const kP={}.hasOwnProperty,DMe={};function MMe(t,e){const r=e||DMe,n=new Map,i=new Map,o=new Map,a={...vMe,...r.handlers},s={all:c,applyData:LMe,definitionById:n,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:r,patch:FMe,wrap:VMe};return yJ(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?n:i,p=String(f.identifier).toUpperCase();h.has(p)||h.set(p,f)}}),s;function l(f,h){const p=f.type,g=s.handlers[p];if(kP.call(s.handlers,p)&&g)return g(s,f,h);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in f){const{children:v,...b}=f,_=fb(b);return _.children=s.all(f),_}return fb(f)}return(s.options.unknownHandler||BMe)(s,f,h)}function c(f){const h=[];if("children"in f){const p=f.children;let g=-1;for(;++g<p.length;){const x=s.one(p[g],f);if(x){if(g&&p[g-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=_$(x.value)),!Array.isArray(x)&&x.type==="element")){const v=x.children[0];v&&v.type==="text"&&(v.value=_$(v.value))}Array.isArray(x)?h.push(...x):h.push(x)}}}return h}}function FMe(t,e){t.position&&(e.position=bDe(t))}function LMe(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&o&&Object.assign(r.properties,fb(o)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function BMe(t,e){const r=e.data||{},n="value"in e&&!(kP.call(r,"hProperties")||kP.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VMe(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function _$(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function A$(t,e){const r=MMe(t,e),n=r.one(t,void 0),i=EMe(r),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function $Me(t,e){return t&&"run"in t?async function(r,n){const i=A$(r,{file:n,...e});await t.run(i,n)}:function(r,n){return A$(r,{file:n,...t||e})}}function C$(t){if(t)throw t}var AT,E$;function UMe(){if(E$)return AT;E$=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},o=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var f=t.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!h)return!1;var p;for(p in c);return typeof p>"u"||t.call(c,p)},a=function(c,f){r&&f.name==="__proto__"?r(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},s=function(c,f){if(f==="__proto__")if(t.call(c,f)){if(n)return n(c,f).value}else return;return c[f]};return AT=function l(){var c,f,h,p,g,x,v=arguments[0],b=1,_=arguments.length,C=!1;for(typeof v=="boolean"&&(C=v,v=arguments[1]||{},b=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});b<_;++b)if(c=arguments[b],c!=null)for(f in c)h=s(v,f),p=s(c,f),v!==p&&(C&&p&&(o(p)||(g=i(p)))?(g?(g=!1,x=h&&i(h)?h:[]):x=h&&o(h)?h:{},a(v,{name:f,newValue:l(C,x,p)})):typeof p<"u"&&a(v,{name:f,newValue:p}));return v},AT}var zMe=UMe();const CT=Xt(zMe);function OP(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function WMe(){const t=[],e={run:r,use:n};return e;function r(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const f=t[++o];let h=-1;if(l){a(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,f?HMe(f,s)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function HMe(t,e){let r;return n;function n(...a){const s=t.length>a.length;let l;s&&a.push(i);try{l=t.apply(this,a)}catch(c){const f=c;if(s&&r)throw f;return i(f)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){r||(r=!0,e(a,...s))}function o(a){i(null,a)}}const za={basename:qMe,dirname:GMe,extname:KMe,join:YMe,sep:"/"};function qMe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Jy(t);let r=0,n=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){r=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(n=i):(s=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function GMe(t){if(Jy(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function KMe(t){Jy(t);let e=t.length,r=-1,n=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){n=e+1;break}continue}r<0&&(a=!0,r=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function YMe(...t){let e=-1,r;for(;++e<t.length;)Jy(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":XMe(r)}function XMe(t){Jy(t);const e=t.codePointAt(0)===47;let r=QMe(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function QMe(t,e){let r="",n=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(r.length>0){r="",n=0,i=a,o=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return r}function Jy(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ZMe={cwd:JMe};function JMe(){return"/"}function jP(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function e8e(t){if(typeof t=="string")t=new URL(t);else if(!jP(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return t8e(t)}function t8e(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const ET=["history","path","basename","stem","extname","dirname"];class vJ{constructor(e){let r;e?jP(e)?r={path:e}:typeof e=="string"||r8e(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":ZMe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<ET.length;){const o=ET[n];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)ET.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?za.basename(this.path):void 0}set basename(e){TT(e,"basename"),ST(e,"basename"),this.path=za.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?za.dirname(this.path):void 0}set dirname(e){S$(this.basename,"dirname"),this.path=za.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?za.extname(this.path):void 0}set extname(e){if(ST(e,"extname"),S$(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=za.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){jP(e)&&(e=e8e(e)),TT(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?za.basename(this.path,this.extname):void 0}set stem(e){TT(e,"stem"),ST(e,"stem"),this.path=za.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new fi(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ST(t,e){if(t&&t.includes(za.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+za.sep+"`")}function TT(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function S$(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function r8e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const n8e=(function(t){const n=this.constructor.prototype,i=n[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,n),o}),i8e={}.hasOwnProperty;class MO extends n8e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WMe()}copy(){const e=new MO;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(CT(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(PT("data",this.frozen),this.namespace[e]=r,this):i8e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(PT("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=Xv(e),n=this.parser||this.Parser;return IT("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),IT("process",this.parser||this.Parser),NT("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,a){const s=Xv(e),l=n.parse(s);n.run(l,s,function(f,h,p){if(f||!h||!p)return c(f);const g=h,x=n.stringify(g,p);s8e(x)?p.value=x:p.result=x,c(f,p)});function c(f,h){f||!h?a(f):o?o(h):r(void 0,h)}}}processSync(e){let r=!1,n;return this.freeze(),IT("processSync",this.parser||this.Parser),NT("processSync",this.compiler||this.Compiler),this.process(e,i),I$("processSync","process",r),n;function i(o,a){r=!0,C$(o),n=a}}run(e,r,n){T$(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?o(void 0,n):new Promise(o);function o(a,s){const l=Xv(r);i.run(e,l,c);function c(f,h,p){const g=h||e;f?s(f):a?a(g):n(void 0,g,p)}}}runSync(e,r){let n=!1,i;return this.run(e,r,o),I$("runSync","run",n),i;function o(a,s){C$(a),i=s,n=!0}}stringify(e,r){this.freeze();const n=Xv(r),i=this.compiler||this.Compiler;return NT("stringify",i),T$(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(PT("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...h]=c;l(f,h)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=CT(!0,i.settings,c.settings))}function s(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const h=c[f];o(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,f){let h=-1,p=-1;for(;++h<n.length;)if(n[h][0]===c){p=h;break}if(p===-1)n.push([c,...f]);else if(f.length>0){let[g,...x]=f;const v=n[p][1];OP(v)&&OP(g)&&(g=CT(!0,v,g)),n[p]=[c,g,...x]}}}}const o8e=new MO().freeze();function IT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function NT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function PT(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function T$(t){if(!OP(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function I$(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Xv(t){return a8e(t)?t:new vJ(t)}function a8e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function s8e(t){return typeof t=="string"||l8e(t)}function l8e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const c8e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",N$=[],P$={allowDangerousHtml:!0},u8e=/^(https?|ircs?|mailto|xmpp)$/i,f8e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function d8e(t){const e=h8e(t),r=p8e(t);return m8e(e.runSync(e.parse(r),r),t)}function h8e(t){const e=t.rehypePlugins||N$,r=t.remarkPlugins||N$,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...P$}:P$;return o8e().use(q5e).use(r).use($Me,n).use(e)}function p8e(t){const e=t.children||"",r=new vJ;return typeof e=="string"&&(r.value=e),r}function m8e(t,e){const r=e.allowedElements,n=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,s=e.unwrapDisallowed,l=e.urlTransform||g8e;for(const f of f8e)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+c8e+f.id,void 0);return yJ(t,c),EDe(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(f,h,p){if(f.type==="raw"&&p&&typeof h=="number")return a?p.children.splice(h,1):p.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let g;for(g in bT)if(Object.hasOwn(bT,g)&&Object.hasOwn(f.properties,g)){const x=f.properties[g],v=bT[g];(v===null||v.includes(f.tagName))&&(f.properties[g]=l(String(x||""),g,f))}}if(f.type==="element"){let g=r?!r.includes(f.tagName):o?o.includes(f.tagName):!1;if(!g&&n&&typeof h=="number"&&(g=!n(f,h,p)),g&&p&&typeof h=="number")return s&&f.children?p.children.splice(h,1,...f.children):p.children.splice(h,1),h}}}function g8e(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||u8e.test(t.slice(0,e))?t:""}function y8e({onBack:t,userGoal:e,loggedMacros:r}){const n={calories:e?e.targetCalories-r.calories:750,protein:e?e.protein-r.protein:70,carbs:e?e.carbs-r.carbs:80,fat:e?e.fat-r.fat:25,fiber:30-r.fiber},i=e?.goalType||"maintain",[o,a]=k.useState([{id:"1",text:`Hey there! 🍎 I'm your Food Assistant, here to help you hit your macro goals with smart meal suggestions.

Based on your current progress today, you have **${n.calories} calories** left with **${n.protein}g protein**, **${n.carbs}g carbs**, and **${n.fat}g fat** remaining.

What would you like help with?`,sender:"assistant",timestamp:new Date}]),[s,l]=k.useState(""),[c,f]=k.useState(!1),h=k.useRef(null),p=()=>h.current?.scrollIntoView({behavior:"smooth"});k.useEffect(()=>{p()},[o]);const g=["What should I eat for dinner?","Suggest a high-protein snack","I need more carbs today","Low-calorie meal ideas"],x=async()=>{if(!s.trim())return;const b={id:Date.now().toString(),text:s,sender:"user",timestamp:new Date};a(C=>[...C,b]),l(""),f(!0);const _={id:(Date.now()+1).toString(),text:"",sender:"assistant",timestamp:new Date};a(C=>[...C,_]);try{const C=`
You are a friendly nutrition analysis assistant.

The user says:
${b.text}

User’s current macro data:
Calories left: ${n.calories}
Protein left: ${n.protein}g
Carbs left: ${n.carbs}g
Fat left: ${n.fat}g
Fiber left: ${n.fiber}g
Goal type: ${i}

Your job:
1. Analyze their nutrition and give tailored meal/snack suggestions.
2. Identify missing nutrients or imbalances.
3. Suggest 2–3 specific foods or meal ideas to balance the day.
4. Keep your tone casual, motivational, and concise (1–2 short paragraphs).
5. Use markdown for formatting (bold, bullet points, headers).
6. If any food requires macros lookup, use Google Search grounding to check typical values before answering.
`,P=await RZ().streamChat([{role:"user",parts:[{text:C}]}],"gemini-2.5-flash");let I="";for await(const S of P)I+=S,a(T=>T.map(N=>N.id===_.id?{...N,text:I}:N))}catch(C){console.error("Gemini error:",C),a(E=>[...E,{id:(Date.now()+2).toString(),text:"⚠️ Sorry, something went wrong while contacting the AI.",sender:"assistant",timestamp:new Date}])}finally{f(!1)}},v=b=>l(b);return u.jsxs("div",{className:"min-h-screen flex flex-col transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"shadow-sm sticky top-0 z-10 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-colors hover:opacity-70","aria-label":"Go back",style:{backgroundColor:"transparent"},children:u.jsx(wa,{className:"w-5 h-5",style:{color:"var(--farefit-text)"}})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tl,{className:"w-6 h-6",style:{color:"var(--farefit-primary)"}}),u.jsx("h1",{style:{color:"var(--farefit-text)"},children:"Food Assistant"})]}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--farefit-subtext)"},children:"Get meal suggestions based on your macro goals"})]})]})})}),u.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"rounded-lg p-6 mb-6 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ya,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Today's Macro Status"})]}),e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-4 pb-4 border-b transition-colors duration-300",style:{borderColor:"var(--farefit-secondary)"},children:u.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--farefit-subtext)"},children:["Goal:"," ",u.jsx("span",{style:{color:"var(--farefit-primary)",textTransform:"capitalize"},children:i})," ","(",e.targetCalories," kcal/day)"]})}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[["Remaining",n.calories,n.calories<0?"over":"kcal left"],["Protein",n.protein,`${r.protein}/${e.protein}g`],["Carbs",n.carbs,`${r.carbs}/${e.carbs}g`],["Fat",n.fat,`${r.fat}/${e.fat}g`],["Fiber",n.fiber,`${r.fiber}/30g`]].map(([b,_,C],E)=>u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:b}),u.jsxs("p",{className:"text-2xl",style:{color:Number(_)<0?"var(--farefit-accent)":"var(--farefit-primary)"},children:[Math.abs(_),b==="Remaining"?"":"g"]}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:C})]},E))})]}):u.jsx("div",{className:"text-center py-4",children:u.jsx("p",{style:{color:"var(--farefit-subtext)"},children:"No fitness goal set yet. Set your goals to get personalized macro tracking!"})})]})}),u.jsx("div",{className:"flex-1 max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 pb-6 overflow-y-auto",children:u.jsxs("div",{className:"space-y-6",children:[o.map(b=>u.jsx("div",{className:`flex ${b.sender==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[85%] rounded-lg p-4 transition-colors duration-300 ${b.sender==="user"?"":"text-white"}`,style:{backgroundColor:b.sender==="assistant"?"var(--farefit-primary)":"var(--farefit-card)",border:b.sender==="user"?"1px solid var(--farefit-secondary)":void 0,color:b.sender==="user"?"var(--farefit-text)":void 0},children:[b.sender==="assistant"?u.jsx("div",{className:"prose prose-sm max-w-none prose-invert",children:u.jsx(d8e,{components:{h3:({children:_})=>u.jsx("h3",{className:"text-white text-base font-medium mt-0 mb-3 flex items-center gap-2",children:_}),p:({children:_})=>u.jsx("p",{className:"text-white text-sm leading-relaxed mb-3 last:mb-0",children:_}),ul:({children:_})=>u.jsx("ul",{className:"text-white text-sm space-y-2 mb-3 list-none pl-0",children:_}),li:({children:_})=>u.jsxs("li",{className:"text-white text-sm leading-relaxed flex items-start gap-2",children:[u.jsx("span",{className:"opacity-70",children:"•"}),u.jsx("span",{children:_})]}),strong:({children:_})=>u.jsx("strong",{className:"font-medium",children:_})},children:b.text})}):u.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--farefit-text)"},children:b.text}),u.jsx("p",{className:"text-xs mt-2",style:{opacity:.6,color:b.sender==="assistant"?"white":"var(--farefit-text)"},children:b.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},b.id)),c&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"max-w-[85%] rounded-lg p-4 text-white transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:h})]})}),o.length===1&&u.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 pb-4",children:u.jsxs("div",{className:"rounded-lg p-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(pre,{className:"w-4 h-4",style:{color:"var(--farefit-primary)"}}),u.jsx("p",{className:"text-sm m-0",style:{color:"var(--farefit-subtext)"},children:"Quick suggestions:"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((b,_)=>u.jsx("button",{onClick:()=>v(b),className:"text-xs px-3 py-2 rounded-full border transition-all",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-primary)",backgroundColor:"var(--farefit-card)"},children:b},_))})]})}),u.jsx("div",{className:"sticky bottom-0 border-t transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",borderColor:"var(--farefit-secondary)"},children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:s,onChange:b=>l(b.target.value),onKeyDown:b=>b.key==="Enter"&&x(),placeholder:"Ask about meals, macros, or food suggestions...",className:"flex-1 px-4 py-3 border rounded-lg text-sm transition-colors duration-300",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)",backgroundColor:"var(--farefit-card)"}}),u.jsxs("button",{onClick:x,disabled:!s.trim(),className:"px-6 py-3 rounded-lg text-white transition-opacity disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--farefit-primary)"},children:[u.jsx(ik,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),u.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"var(--farefit-subtext)"},children:"Food Assistant suggests meals based on your macro data — always verify nutrition info! 🍎"})]})})]})}function qt({className:t,type:e,...r}){return u.jsx("input",{type:e,"data-slot":"input",className:St("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function v8e({onBack:t,onCoachAIClick:e,workoutData:r,onSaveWorkout:n}){const[i,o]=k.useState(r?.workoutType||"Push Day 💪"),[a,s]=k.useState(r?.duration||0),[l,c]=k.useState(r?.caloriesBurned||0),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(r?.exercises||[]),[b,_]=k.useState(!0),[C,E]=k.useState(null),P=wr(),I=x.reduce((Q,se)=>Q+se.sets,0),S=x.reduce((Q,se)=>Q+se.sets*se.reps,0),T=x.reduce((Q,se)=>Q+se.volume,0);k.useEffect(()=>{N(),$I()},[]);const N=async()=>{try{_(!0);const Q=await Ege();if(Q.workout.length>0){const se=Q.workout[0];o(se.day_type||"Push Day 💪"),s(se.duration||0),c(se.calories_burned||0);const oe=se.exercises.map((ae,ve)=>({id:ae.id||`exercise-${Date.now()}-${ve}`,name:ae.name||"New Exercise",sets:ae.sets||0,reps:ae.reps||0,weight:ae.weight||0,volume:ae.volume||0,notes:ae.notes||"",startTime:ae.startTime||void 0,endTime:ae.endTime||void 0}));v(oe)}else v([]),s(0),c(0)}catch(Q){console.error("Error loading workout:",Q),Je.error("Failed to load workout data")}finally{_(!1)}},j=[{name:"Mon",volume:8500},{name:"Tue",volume:0},{name:"Wed",volume:9200},{name:"Thu",volume:0},{name:"Fri",volume:9550},{name:"Sat",volume:0},{name:"Today",volume:T}],B=[{name:"Chest",value:45,color:"#1C7C54"},{name:"Shoulders",value:30,color:"#A8E6CF"},{name:"Triceps",value:25,color:"#FFB6B9"}],M=[{name:"Push Day",exercises:["Bench Press","Incline DB Press","Lateral Raises","Tricep Pushdowns"]},{name:"Pull Day",exercises:["Pull-ups","Barbell Rows","Lat Pulldown","Bicep Curls"]},{name:"Leg Day",exercises:["Squats","Romanian Deadlifts","Leg Press","Leg Curls"]}],L=()=>{const Q={id:Date.now().toString(),name:"New Exercise",sets:3,reps:10,weight:0,volume:0,notes:"",startTime:void 0,endTime:void 0};v([...x,Q]),h(!0)},F=Q=>{v(x.filter(se=>se.id!==Q)),Je.success("Exercise removed")},$=(Q,se,oe)=>{v(x.map(ae=>{if(ae.id===Q){const ve={...ae,[se]:oe};return(se==="sets"||se==="reps"||se==="weight")&&(ve.volume=ve.sets*ve.reps*ve.weight),ve}return ae}))},H=async()=>{try{h(!1);const Q={day_type:i,duration:a||0,calories_burned:l||0,total_sets:I,total_reps:S,volume:T,exercises:x.map(oe=>({name:oe.name,sets:oe.sets,reps:oe.reps,weight:oe.weight,volume:oe.volume,notes:oe.notes,startTime:oe.startTime||null,endTime:oe.endTime||null})),date:ee()};await Sge(Q);const se=P.currentUser?.uid;se&&await Uq(se,"logged_workout"),Je.success("Workout saved successfully! 💪")}catch(Q){console.error("Error saving workout:",Q),Je.error("Failed to save workout")}},K=Q=>{const se=M.find(oe=>oe.name===Q);if(se){const oe=se.exercises.map((ae,ve)=>({id:Date.now().toString()+ve,name:ae,sets:3,reps:10,weight:0,volume:0,notes:"",startTime:void 0,endTime:void 0}));v(oe),o(Q),h(!0),Je.success(`${Q} preset loaded!`)}},Z=(Q,se)=>{const oe=new Date().toISOString();$(Q,se,oe),Je.success(`${se==="startTime"?"Start":"End"} time set to current time!`)},q=(Q,se,oe)=>{if(!oe){$(Q,se,void 0);return}const ae=new Date,[ve,he]=oe.split(" ");let[_e,Pe]=ve.split(":").map(Number);he&&(he.toLowerCase()==="pm"&&_e<12?_e+=12:he.toLowerCase()==="am"&&_e===12&&(_e=0));const pe=new Date(ae);pe.setHours(_e,Pe,0,0),ae.getHours()<6&&_e>=20&&pe.setDate(pe.getDate()-1),$(Q,se,pe.toISOString()),E(null),Je.success(`${se==="startTime"?"Start":"End"} time set to ${re(pe.toISOString())}`)},re=Q=>Q?new Date(Q).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"—",U=Q=>Q?new Date(Q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):"",X=()=>{g(!0),setTimeout(()=>{let Q=0,se=null,oe=null;for(const $e of x){if($e.startTime){const nt=new Date($e.startTime);isNaN(nt.getTime())||(!se||nt.getTime()<se.getTime())&&(se=nt)}if($e.endTime){const nt=new Date($e.endTime);isNaN(nt.getTime())||(!oe||nt.getTime()>oe.getTime())&&(oe=nt)}}se&&oe&&(Q=Math.round((oe.getTime()-se.getTime())/6e4));const ae=x.reduce(($e,nt)=>$e+nt.volume,0);x.reduce(($e,nt)=>$e+nt.sets,0);const ve=["bench press","squat","deadlift","overhead press","barbell row","pull-up"],he=x.filter($e=>ve.some(nt=>$e.name.toLowerCase().includes(nt))).length;let _e=Q*6.5;const Pe=Math.min(ae/100,200),pe=_e*(he*.15),et=Math.round(_e+Pe+pe);s(Q),c(et),g(!1),Je.success(`Calculated: ${et} calories burned in ${Q} minutes! 🔥`),x.length>0&&H()},1500)},ee=()=>dh(),W=({exerciseId:Q,type:se,currentTime:oe})=>{const[ae,ve]=k.useState(oe||"");return u.jsxs("div",{className:"absolute z-10 mt-2 p-4 rounded-lg shadow-lg border transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",borderColor:"var(--farefit-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(bd,{className:"w-4 h-4",style:{color:"var(--farefit-primary)"}}),u.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--farefit-text)"},children:["Set ",se==="start"?"Start":"End"," Time"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(qt,{type:"time",value:ae,onChange:he=>ve(he.target.value),className:"flex-1"}),u.jsx(Hn,{onClick:()=>Z(Q,se==="start"?"startTime":"endTime"),size:"sm",style:{backgroundColor:"var(--farefit-primary)",color:"white"},children:"Now"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Hn,{onClick:()=>q(Q,se==="start"?"startTime":"endTime",ae),size:"sm",className:"flex-1",style:{backgroundColor:"var(--farefit-accent)",color:"white"},children:"Set Time"}),u.jsx(Hn,{onClick:()=>E(null),size:"sm",variant:"outline",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:"Cancel"})]})]})};return b?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"var(--farefit-primary)"}}),u.jsx("p",{className:"mt-4",style:{color:"var(--farefit-text)"},children:"Loading your workout..."})]})}):u.jsxs("div",{className:"min-h-screen flex flex-col transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"sticky top-0 z-10 px-4 sm:px-6 lg:px-8 py-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>h(!f),className:"flex items-center gap-2 px-4 py-2 rounded-md text-white border border-white/30 hover:bg-white/10 transition-all",children:[u.jsx(OU,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:f?"Cancel Edit":"Edit Workout"})]}),f&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:X,disabled:p,className:"flex items-center gap-2 px-4 py-2 rounded-md text-white transition-all disabled:opacity-50",style:{backgroundColor:"var(--farefit-accent)"},children:[u.jsx(zT,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:p?"Calculating...":"Calculate Calories"})]}),u.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 rounded-md text-white hover:opacity-90 transition-all",style:{backgroundColor:"var(--farefit-primary)"},children:[u.jsx(P1,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Save"})]})]})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6 pb-16",children:[u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[u.jsxs("div",{children:[f?u.jsx(qt,{value:i,onChange:Q=>o(Q.target.value),className:"text-2xl border-2 mb-2",style:{borderColor:"var(--farefit-primary)",color:"var(--farefit-text)"}}):u.jsx("h1",{className:"mb-2",style:{color:"var(--farefit-text)"},children:i}),u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),u.jsxs("button",{onClick:e,className:"mt-4 sm:mt-0 flex items-center gap-2 px-4 py-2 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-accent)"},children:[u.jsx(N1,{className:"w-4 h-4"}),"Ask Coach AI"]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Duration"}),u.jsx("p",{className:"text-2xl",style:{color:a>0?"var(--farefit-primary)":"var(--farefit-text)"},children:a>0?a:"—"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:a>0?"minutes (calculated)":"not calculated"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Calories"}),u.jsx("p",{className:"text-2xl",style:{color:l>0?"var(--farefit-primary)":"var(--farefit-text)"},children:l>0?l:"—"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:l>0?"burned (calculated)":"not calculated"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Total Sets"}),u.jsx("p",{className:"text-2xl",style:{color:"var(--farefit-primary)"},children:I}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"sets"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Total Reps"}),u.jsx("p",{className:"text-2xl",style:{color:"var(--farefit-primary)"},children:S}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"reps"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Volume"}),u.jsx("p",{className:"text-2xl",style:{color:"var(--farefit-primary)"},children:T.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"lb"})]})]})]}),u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Exercise Log"}),f&&u.jsxs(Hn,{onClick:L,className:"flex items-center gap-2",style:{backgroundColor:"var(--farefit-primary)",color:"white"},children:[u.jsx(Ys,{className:"w-4 h-4"}),"Add Exercise"]})]}),f&&u.jsx("div",{className:"mb-4 p-4 rounded-lg transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)",border:"1px solid var(--farefit-secondary)"},children:u.jsxs("p",{className:"text-sm m-0",style:{color:"var(--farefit-text)"},children:[u.jsx("strong",{children:"⏱️ How it works:"})," Log your exercises with sets, reps, and weights. Click the clock icons to set custom start and end times for each exercise. You can either set the current time or enter a custom time. When done, click ",u.jsx("strong",{children:'"Calculate Calories"'})," to automatically estimate calories burned and total duration based on your workout data! Your workout will be automatically saved to your 30-day history."]})}),u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{style:{borderBottom:"2px solid var(--farefit-secondary)"},children:[f&&u.jsx("th",{className:"text-left p-3"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Exercise"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Sets"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Reps"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Weight (lb)"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Volume (lb)"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Start Time"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"End Time"}),u.jsx("th",{className:"text-left p-3",style:{color:"var(--farefit-text)"},children:"Notes"}),f&&u.jsx("th",{className:"text-left p-3"})]})}),u.jsx("tbody",{children:x.map(Q=>u.jsxs("tr",{style:{borderBottom:"1px solid var(--farefit-border)"},children:[f&&u.jsx("td",{className:"p-3",children:u.jsx(Bre,{className:"w-4 h-4 cursor-move",style:{color:"var(--farefit-subtext)"}})}),u.jsx("td",{className:"p-3",children:f?u.jsx(qt,{value:Q.name,onChange:se=>$(Q.id,"name",se.target.value),className:"w-full"}):u.jsx("span",{style:{color:"var(--farefit-text)"},children:Q.name})}),u.jsx("td",{className:"p-3",children:f?u.jsx(qt,{type:"number",value:Q.sets,onChange:se=>$(Q.id,"sets",parseInt(se.target.value)||0),className:"w-20"}):u.jsx("span",{style:{color:"var(--farefit-text)"},children:Q.sets})}),u.jsx("td",{className:"p-3",children:f?u.jsx(qt,{type:"number",value:Q.reps,onChange:se=>$(Q.id,"reps",parseInt(se.target.value)||0),className:"w-20"}):u.jsx("span",{style:{color:"var(--farefit-text)"},children:Q.reps})}),u.jsx("td",{className:"p-3",children:f?u.jsx(qt,{type:"number",value:Q.weight,onChange:se=>$(Q.id,"weight",parseInt(se.target.value)||0),className:"w-24"}):u.jsx("span",{style:{color:"var(--farefit-text)"},children:Q.weight})}),u.jsx("td",{className:"p-3",children:u.jsx("span",{style:{color:"var(--farefit-primary)"},children:(Q.volume||0).toLocaleString()})}),u.jsx("td",{className:"p-3 relative",children:f?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>E(C?.id===Q.id&&C.type==="start"?null:{id:Q.id,type:"start"}),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors border",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-primary)"},children:[u.jsx(bd,{className:"w-3 h-3"}),re(Q.startTime)]}),C?.id===Q.id&&C.type==="start"&&u.jsx(W,{exerciseId:Q.id,type:"start",currentTime:U(Q.startTime)})]}):u.jsx("span",{className:"text-sm",style:{color:"var(--farefit-text)"},children:re(Q.startTime)})}),u.jsx("td",{className:"p-3 relative",children:f?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>E(C?.id===Q.id&&C.type==="end"?null:{id:Q.id,type:"end"}),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors border",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-accent)"},children:[u.jsx(bd,{className:"w-3 h-3"}),re(Q.endTime)]}),C?.id===Q.id&&C.type==="end"&&u.jsx(W,{exerciseId:Q.id,type:"end",currentTime:U(Q.endTime)})]}):u.jsx("span",{className:"text-sm",style:{color:"var(--farefit-text)"},children:re(Q.endTime)})}),u.jsx("td",{className:"p-3",children:f?u.jsx(qt,{value:Q.notes,onChange:se=>$(Q.id,"notes",se.target.value),placeholder:"Add notes...",className:"w-full"}):u.jsx("span",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:Q.notes||"—"})}),f&&u.jsx("td",{className:"p-3",children:u.jsx("button",{onClick:()=>F(Q.id),className:"p-2 rounded transition-colors",style:{color:"var(--farefit-accent)"},children:u.jsx(rh,{className:"w-4 h-4"})})})]},Q.id))})]})}),u.jsx("div",{className:"md:hidden space-y-4",children:x.map(Q=>u.jsxs("div",{className:"border rounded-lg p-4 transition-colors duration-300",style:{borderColor:"var(--farefit-secondary)",backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f?u.jsx(qt,{value:Q.name,onChange:se=>$(Q.id,"name",se.target.value),className:"flex-1 mr-2"}):u.jsx("h4",{className:"m-0",style:{color:"var(--farefit-text)"},children:Q.name}),f&&u.jsx("button",{onClick:()=>F(Q.id),className:"p-2 rounded transition-colors",style:{color:"var(--farefit-accent)"},children:u.jsx(rh,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"Sets"}),f?u.jsx(qt,{type:"number",value:Q.sets,onChange:se=>$(Q.id,"sets",parseInt(se.target.value)||0)}):u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-text)"},children:Q.sets})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"Reps"}),f?u.jsx(qt,{type:"number",value:Q.reps,onChange:se=>$(Q.id,"reps",parseInt(se.target.value)||0)}):u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-text)"},children:Q.reps})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"Weight"}),f?u.jsx(qt,{type:"number",value:Q.weight,onChange:se=>$(Q.id,"weight",parseInt(se.target.value)||0)}):u.jsxs("p",{className:"text-sm",style:{color:"var(--farefit-text)"},children:[Q.weight," lb"]})]})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"Volume"}),u.jsxs("p",{className:"text-sm",style:{color:"var(--farefit-primary)"},children:[(Q.volume||0).toLocaleString()," lb"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"Start Time"}),f?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>E(C?.id===Q.id&&C.type==="start"?null:{id:Q.id,type:"start"}),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors border w-full justify-center",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-primary)"},children:[u.jsx(bd,{className:"w-3 h-3"}),re(Q.startTime)]}),C?.id===Q.id&&C.type==="start"&&u.jsx(W,{exerciseId:Q.id,type:"start",currentTime:U(Q.startTime)})]}):u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-text)"},children:re(Q.startTime)})]}),u.jsxs("div",{className:"relative",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"End Time"}),f?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>E(C?.id===Q.id&&C.type==="end"?null:{id:Q.id,type:"end"}),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors border w-full justify-center",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-accent)"},children:[u.jsx(bd,{className:"w-3 h-3"}),re(Q.endTime)]}),C?.id===Q.id&&C.type==="end"&&u.jsx(W,{exerciseId:Q.id,type:"end",currentTime:U(Q.endTime)})]}):u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-text)"},children:re(Q.endTime)})]})]}),(f||Q.notes)&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--farefit-subtext)"},children:"Notes"}),f?u.jsx(Gb,{value:Q.notes,onChange:se=>$(Q.id,"notes",se.target.value),placeholder:"Add notes...",rows:2}):u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:Q.notes||"—"})]})]},Q.id))}),u.jsx("div",{className:"mt-6 pt-4 flex justify-end gap-8 transition-colors duration-300",style:{borderTop:"2px solid var(--farefit-primary)"},children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Total Volume"}),u.jsxs("p",{className:"text-xl",style:{color:"var(--farefit-primary)"},children:[T.toLocaleString()," lb"]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ya,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Volume Progress"})]}),u.jsx(xh,{width:"100%",height:250,children:u.jsxs(Xy,{data:j,children:[u.jsx(dp,{strokeDasharray:"3 3",stroke:"var(--farefit-border)"}),u.jsx(Uc,{dataKey:"name",stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(zc,{stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)",borderRadius:"8px",color:"var(--farefit-text)"}}),u.jsx(mo,{type:"monotone",dataKey:"volume",stroke:"var(--farefit-primary)",strokeWidth:3,dot:{fill:"var(--farefit-primary)",r:4},activeDot:{r:6}})]})}),u.jsx("p",{className:"text-sm text-center mt-2",style:{color:"var(--farefit-subtext)"},children:"Last 7 Push Days"})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Fo,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Muscle Focus"})]}),u.jsx(xh,{width:"100%",height:250,children:u.jsxs(R3e,{children:[u.jsx(bl,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:Q=>`${Q.name} ${Q.value}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:B.map((Q,se)=>u.jsx(aw,{fill:Q.color},`cell-${se}`))}),u.jsx(vi,{})]})}),u.jsx("p",{className:"text-sm text-center mt-2",style:{color:"var(--farefit-subtext)"},children:"Today's workout distribution"})]})]}),u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Wh,{className:"w-5 h-5",style:{color:"var(--farefit-accent)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Weekly Progress"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"h-4 rounded-full overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:"80%",backgroundColor:"var(--farefit-primary)"}})})}),u.jsx("p",{className:"text-xl",style:{color:"var(--farefit-primary)"},children:"4/5"})]}),u.jsx("p",{className:"text-sm mt-2",style:{color:"var(--farefit-subtext)"},children:"🔥 4 workouts this week — Keep the streak alive!"})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ek,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Workout Presets"})]}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--farefit-subtext)"},children:"Quickly load a workout template to save time logging"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:M.map(Q=>u.jsxs("button",{onClick:()=>K(Q.name),className:"p-4 border-2 rounded-lg hover:shadow-md transition-all text-left",style:{borderColor:"var(--farefit-secondary)"},children:[u.jsx("h4",{className:"mb-2",style:{color:"var(--farefit-text)"},children:Q.name}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--farefit-subtext)"},children:[Q.exercises.slice(0,3).map((se,oe)=>u.jsxs("li",{children:["• ",se]},oe)),Q.exercises.length>3&&u.jsxs("li",{children:["+ ",Q.exercises.length-3," more"]})]})]},Q.name))}),u.jsx("div",{className:"mt-4 p-4 rounded-lg transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsxs("p",{className:"text-sm",style:{color:"var(--farefit-text)"},children:["💡 ",u.jsx("strong",{children:"Tip:"})," Create custom presets by saving your current workout as a template"]})})]})]}),u.jsx(wl,{onNavigate:()=>{},onFeedbackClick:()=>{}})]})}function x8e({meal:t,isOpen:e,onClose:r,onFoodAssistantClick:n,userGoal:i}){const[o,a]=k.useState(!1),[s,l]=k.useState([]);if(!t||t.type!=="meal")return null;const c=o?s:t.foods||[],f=c.reduce((L,F)=>L+F.calories,0),h=c.reduce((L,F)=>L+F.protein,0),p=c.reduce((L,F)=>L+F.carbs,0),g=c.reduce((L,F)=>L+F.fat,0),x=i?h/i.protein*100:0,v=i?p/i.carbs*100:0,b=i?g/i.fat*100:0,_=()=>{if(!i)return"Set your fitness goal to get personalized meal insights!";const L=[];return h<i.protein/3*.7?L.push("⚠️ This meal is low on protein. Add Greek yogurt (+17g) or chicken breast (+25g) to boost it."):h>=i.protein/3&&L.push(`✅ Excellent protein content! You're ${Math.round(x)}% toward your daily goal from this meal alone.`),!(h>=15&&p>=20&&g>=10)&&f>200&&L.push("💡 Consider balancing this meal with all three macros for sustained energy."),t.name==="Breakfast"&&f<300&&L.push("🌅 Breakfast is a bit light. Consider adding oatmeal (+150 kcal) or a banana (+105 kcal) for more energy."),L.length===0&&L.push(`🎯 This meal looks well-balanced and fits your ${i.goalType==="cut"?"cutting":i.goalType==="bulk"?"bulking":"maintenance"} goals!`),L[0]},C=()=>{l([...t.foods||[]]),a(!0)},E=()=>{a(!1),l([])},P=()=>{Je.success("Meal updated successfully!"),a(!1)},I=()=>{Je.success("Meal deleted"),r()},S=()=>{Je.success("Meal duplicated for tomorrow!")},T=()=>{Je.success(`"${t.name}" saved as preset!`)},N=()=>{Je.success("Meal added to today!")},j=L=>{const F=[...s];F.splice(L,1),l(F)},B=()=>{l([...s,{name:"New Food",calories:0,protein:0,carbs:0,fat:0,serving:"1 serving"}])},M=(L,F,$)=>{const H=[...s];H[L]={...H[L],[F]:$},l(H)};return u.jsx(li,{open:e,onOpenChange:r,children:u.jsxs(ci,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsx(Fi,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(tl,{className:"w-5 h-5",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx(Li,{style:{color:"#102A43"},children:t.name}),u.jsx(lo,{style:{color:"#102A43",opacity:.6},children:t.time})]})]}),!o&&u.jsx("div",{className:"flex gap-2",children:u.jsxs(Hn,{variant:"outline",size:"sm",onClick:C,className:"gap-2",children:[u.jsx(OU,{className:"w-4 h-4"}),"Edit"]})})]})}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Calories"}),u.jsx("p",{className:"text-xl",style:{color:"#102A43"},children:f})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Protein"}),u.jsxs("p",{className:"text-xl",style:{color:"#102A43"},children:[h,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Carbs"}),u.jsxs("p",{className:"text-xl",style:{color:"#102A43"},children:[p,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Fat"}),u.jsxs("p",{className:"text-xl",style:{color:"#102A43"},children:[g,"g"]})]})]}),i&&u.jsxs("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#A8E6CF"},children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43",opacity:.7},children:"Contribution to Daily Goal"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{style:{color:"#102A43"},children:"Protein"}),u.jsxs("span",{style:{color:"#1C7C54"},children:[Math.round(x),"% of daily target"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{style:{color:"#102A43"},children:"Carbs"}),u.jsxs("span",{style:{color:"#1C7C54"},children:[Math.round(v),"% of daily target"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{style:{color:"#102A43"},children:"Fat"}),u.jsxs("span",{style:{color:"#1C7C54"},children:[Math.round(b),"% of daily target"]})]})]})]}),u.jsx(mt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 rounded-lg",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(zo,{className:"w-5 h-5 text-white flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white text-sm mb-1",style:{fontWeight:600},children:"AI Insight"}),u.jsx("p",{className:"text-white text-sm opacity-95",children:_()})]})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{style:{color:"#102A43"},children:"Foods in this meal"}),o&&u.jsxs(Hn,{variant:"outline",size:"sm",onClick:B,className:"gap-2",children:[u.jsx(Ys,{className:"w-4 h-4"}),"Add Food"]})]}),u.jsx("div",{className:"space-y-3",children:u.jsx(Yh,{children:c.map((L,F)=>u.jsx(mt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 rounded-lg border",style:{borderColor:"#E8F4F2"},children:o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qt,{value:L.name,onChange:$=>M(F,"name",$.target.value),className:"flex-1",placeholder:"Food name"}),u.jsx(Hn,{variant:"ghost",size:"sm",onClick:()=>j(F),className:"text-red-500 hover:text-red-600",children:u.jsx(Hh,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[u.jsx(qt,{type:"number",value:L.calories,onChange:$=>M(F,"calories",parseInt($.target.value)||0),placeholder:"Cal",className:"text-sm"}),u.jsx(qt,{type:"number",value:L.protein,onChange:$=>M(F,"protein",parseInt($.target.value)||0),placeholder:"Protein",className:"text-sm"}),u.jsx(qt,{type:"number",value:L.carbs,onChange:$=>M(F,"carbs",parseInt($.target.value)||0),placeholder:"Carbs",className:"text-sm"}),u.jsx(qt,{type:"number",value:L.fat,onChange:$=>M(F,"fat",parseInt($.target.value)||0),placeholder:"Fat",className:"text-sm"}),u.jsx(qt,{value:L.serving,onChange:$=>M(F,"serving",$.target.value),placeholder:"Serving",className:"text-sm"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("p",{style:{color:"#102A43"},children:L.name}),u.jsxs("p",{style:{color:"#102A43"},children:[L.calories," kcal"]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm",style:{color:"#102A43",opacity:.7},children:[u.jsxs("span",{children:["P: ",L.protein,"g"]}),u.jsxs("span",{children:["C: ",L.carbs,"g"]}),u.jsxs("span",{children:["F: ",L.fat,"g"]}),u.jsx("span",{className:"ml-auto",children:L.serving})]})]})},F))})})]}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:o?u.jsxs(u.Fragment,{children:[u.jsxs(Hn,{onClick:P,className:"flex-1 gap-2",style:{backgroundColor:"#1C7C54",color:"white"},children:[u.jsx(P1,{className:"w-4 h-4"}),"Save Changes"]}),u.jsx(Hn,{onClick:E,variant:"outline",className:"flex-1",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsxs(Hn,{onClick:N,variant:"outline",className:"flex-1 gap-2",children:[u.jsx(WT,{className:"w-4 h-4"}),"Recreate This Meal"]}),u.jsxs(Hn,{onClick:T,variant:"outline",className:"flex-1 gap-2",children:[u.jsx(P1,{className:"w-4 h-4"}),"Save as Preset"]}),u.jsxs(Hn,{onClick:n,className:"flex-1 gap-2",style:{backgroundColor:"#FFB6B9",color:"white"},children:[u.jsx(zo,{className:"w-4 h-4"}),"Ask Food AI"]})]})}),!o&&u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Hn,{onClick:S,variant:"outline",size:"sm",className:"gap-2",children:[u.jsx(WT,{className:"w-4 h-4"}),"Duplicate"]}),u.jsxs(Hn,{onClick:I,variant:"outline",size:"sm",className:"gap-2 text-red-500 hover:text-red-600 hover:border-red-300",children:[u.jsx(rh,{className:"w-4 h-4"}),"Delete Meal"]})]})]})})}function xJ({isOpen:t,onClose:e}){const r=[{day:"Mon",score:75,date:"Oct 11"},{day:"Tue",score:78,date:"Oct 12"},{day:"Wed",score:80,date:"Oct 13"},{day:"Thu",score:77,date:"Oct 14"},{day:"Fri",score:83,date:"Oct 15"},{day:"Sat",score:85,date:"Oct 16"},{day:"Today",score:82,date:"Oct 17"}],n=82,i=Math.round(r.reduce((p,g)=>p+g.score,0)/r.length),o=n-r[0].score,a=[{category:"Calorie Balance",icon:Fo,points:30,maxPoints:35,status:"good",details:[{text:"Within target range",earned:!0,points:20},{text:"Consistent daily tracking",earned:!0,points:10},{text:"No extreme fluctuations",earned:!1,points:5}],color:"#1C7C54"},{category:"Macro Adherence",icon:ek,points:25,maxPoints:30,status:"good",details:[{text:"Hit protein goal (95g/165g)",earned:!0,points:15},{text:"Carbs within range",earned:!0,points:10},{text:"Fat target met",earned:!1,points:5}],color:"#4A90E2"},{category:"Workout Consistency",icon:Wh,points:20,maxPoints:25,status:"excellent",details:[{text:"Worked out today (Push Day)",earned:!0,points:15},{text:"4 workouts this week",earned:!0,points:5},{text:"Rest days optimized",earned:!1,points:5}],color:"#FFB6B9"},{category:"Streak & Habits",icon:ya,points:7,maxPoints:10,status:"fair",details:[{text:"7-day logging streak",earned:!0,points:5},{text:"Logged before 10 PM",earned:!0,points:2},{text:"All meals logged",earned:!1,points:3}],color:"#A8E6CF"}],s=a.reduce((p,g)=>p+g.points,0),l=a.reduce((p,g)=>p+g.maxPoints,0),c=[{icon:Ys,tip:"Log one more snack to complete your meal tracking",impact:"+3 points",color:"#1C7C54"},{icon:Ys,tip:"Hit your fat macro target (48g / 73g remaining)",impact:"+5 points",color:"#FFB6B9"},{icon:Ys,tip:"Add cardio or active recovery tomorrow",impact:"+5 points",color:"#4A90E2"}],h=(p=>({label:"Excellent",color:"#1C7C54",emoji:"💪"}))();return u.jsx(li,{open:t,onOpenChange:e,children:u.jsxs(ci,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Your Fitness Score Breakdown"}),u.jsx(lo,{style:{color:"#102A43",opacity:.6},children:"Understanding how your daily actions contribute to your overall fitness"})]}),u.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:[u.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[u.jsxs("div",{className:"relative w-24 h-24",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"rgba(255,255,255,0.3)",strokeWidth:"8",fill:"none"}),u.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"white",strokeWidth:"8",fill:"none",strokeDasharray:`${n/100*251} 251`,strokeLinecap:"round"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-4xl text-white",children:n}),u.jsx("span",{className:"text-xs text-white opacity-90",children:"/ 100"})]})]}),u.jsxs("div",{className:"text-left",children:[u.jsxs("p",{className:"text-3xl text-white mb-1",children:[h.emoji," ",h.label]}),u.jsxs("p",{className:"text-white opacity-90",children:[s," / ",l," points earned today"]})]})]}),u.jsxs("p",{className:"text-white text-sm opacity-95",children:["You're ",o>=0?"up":"down"," ",u.jsxs("strong",{children:[Math.abs(o)," points"]})," from Monday. Week average: ",u.jsx("strong",{children:i})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 border-2",style:{borderColor:"#E8F4F2"},children:[u.jsx("h4",{className:"mb-4",style:{color:"#102A43"},children:"7-Day Trend"}),u.jsx(xh,{width:"100%",height:200,children:u.jsxs(Xy,{data:r,children:[u.jsx(dp,{strokeDasharray:"3 3",stroke:"#E8F4F2"}),u.jsx(Uc,{dataKey:"day",stroke:"#102A43",style:{fontSize:"12px"}}),u.jsx(zc,{domain:[0,100],stroke:"#102A43",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"white",border:"1px solid #A8E6CF",borderRadius:"8px"},formatter:p=>[`${p} pts`,"Score"]}),u.jsx(mo,{type:"monotone",dataKey:"score",stroke:"#1C7C54",strokeWidth:3,dot:{fill:"#1C7C54",r:5},activeDot:{r:7}})]})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"mb-4",style:{color:"#102A43"},children:"How It's Calculated"}),u.jsx("div",{className:"space-y-4",children:a.map((p,g)=>u.jsxs(mt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},className:"p-4 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${p.color}20`},children:u.jsx(p.icon,{className:"w-5 h-5",style:{color:p.color}})}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:p.category}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[p.points," / ",p.maxPoints," points"]})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("div",{className:"text-2xl mb-1",style:{color:p.color},children:p.points})})]}),u.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden mb-3",style:{backgroundColor:"#E8F4F2"},children:u.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${p.points/p.maxPoints*100}%`,backgroundColor:p.color}})}),u.jsx("div",{className:"space-y-2 pl-2",children:p.details.map((x,v)=>u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.earned?u.jsx(TU,{className:"w-4 h-4 flex-shrink-0",style:{color:p.color}}):u.jsx(IU,{className:"w-4 h-4 flex-shrink-0",style:{color:"#102A43",opacity:.3}}),u.jsx("span",{style:{color:"#102A43",opacity:x.earned?1:.5,textDecoration:x.earned?"none":"line-through"},children:x.text}),u.jsx("span",{className:"ml-auto text-xs",style:{color:p.color},children:x.earned?`+${x.points}`:`${x.points}`})]},v))})]},p.category))})]}),u.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ya,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsx("h4",{style:{color:"#102A43"},children:"How to Improve Your Score"})]}),u.jsx("div",{className:"space-y-3",children:c.map((p,g)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"white"},children:u.jsx(p.icon,{className:"w-4 h-4",style:{color:p.color}})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{style:{color:"#102A43"},children:p.tip}),u.jsx("p",{className:"text-sm",style:{color:p.color},children:p.impact})]})]},g))})]}),u.jsx("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#A8E6CF",backgroundColor:"#A8E6CF10"},children:u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:[u.jsx("strong",{children:"📊 About Your Score:"})," Your Fitness Score is calculated daily based on calorie balance, macro adherence, workout consistency, and logging habits. Aim for 80+ to stay on track with your goals!"]})})]})})}function b8e({onBack:t,onNavigate:e,onFeedbackClick:r,userGoal:n,loggedMacros:i}){const[o,a]=k.useState(()=>new Date(`${dh()}T00:00:00`)),[s,l]=k.useState(null),[c,f]=k.useState(!1),{meals:h,totals:p,loading:g}=H4(o);if(g)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-4 text-2xl",style:{color:"#1C7C54"},children:"🍽️"}),u.jsx("p",{style:{color:"#1C7C54"},children:"Loading your timeline..."})]})});const x=h.reduce((oe,ae)=>{const ve=ae.meal_type||"meal";if(oe[ve]||(oe[ve]={meal_type:ve,total_calories:0,foods:[],meal_time:null}),oe[ve].total_calories+=ae.calories||0,oe[ve].foods.push({name:ae.food_name||"Unknown food",calories:ae.calories||0,protein:ae.protein||0,carbs:ae.carbs||0,fat:ae.fats||0,serving:ae.serving_size?.toString()||"1"}),ae.meal_time){const he=typeof ae.meal_time=="object"&&ae.meal_time.seconds?new Date(ae.meal_time.seconds*1e3):new Date(ae.meal_time);(!oe[ve].meal_time||he<oe[ve].meal_time)&&(oe[ve].meal_time=he)}return oe},{}),v=Object.values(x).map((oe,ae)=>({id:`meal-group-${oe.meal_type}-${ae}`,type:"meal",name:oe.meal_type.toLowerCase().replace(/^\w/,ve=>ve.toUpperCase()),calories:oe.total_calories,time:oe.meal_time?oe.meal_time.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"—",timestamp:oe.meal_time||new Date,status:"CONSUMED",foods:oe.foods})),b=o.toDateString()===new Date().toDateString(),_=b?[{id:"workout-1",type:"workout",name:"Push Day",calories:-517,time:"6:15 PM",timestamp:new Date(2025,9,17,18,15),status:"WORKOUT",exercises:[{name:"Bench Press",sets:4,reps:8},{name:"Incline DB Press",sets:3,reps:10},{name:"Lateral Raises",sets:3,reps:12},{name:"Tricep Pushdowns",sets:3,reps:15}]}]:[],C=[...v,..._].sort((oe,ae)=>oe.timestamp.getTime()-ae.timestamp.getTime()),E=C.reduce((oe,ae,ve)=>{const he=ve>0?oe[ve-1].calories:0,_e=ve>0?oe[ve-1].burned:0;return ae.type==="meal"?oe.push({time:ae.time,calories:he+ae.calories,burned:_e,net:he+ae.calories-_e}):oe.push({time:ae.time,calories:he,burned:_e+Math.abs(ae.calories),net:he-(_e+Math.abs(ae.calories))}),oe},[]),P=p.calories||0,I=517,S=P-I,N=(n?.targetCalories||2200)-S,j=p.protein||0,B=p.carbs||0,M=p.fat||0,L=p.fiber||0,F=n?.protein||165,$=n?.carbs||220,H=n?.fat||73,K=30,Z=j/F*100,q=B/$*100,re=M/H*100,U=L/K*100,X=()=>{const oe=new Date(o);oe.setDate(oe.getDate()-1),a(oe)},ee=()=>{const oe=new Date(o);oe.setDate(oe.getDate()+1),a(oe)},W=o>new Date,Q=oe=>{const ae=new Date,ve=new Date(ae);return ve.setDate(ve.getDate()-1),oe.toDateString()===ae.toDateString()?"Today":oe.toDateString()===ve.toDateString()?"Yesterday":oe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},se=oe=>{oe.type==="meal"?l(oe):e("workout-detail")};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-4",style:{backgroundColor:"#1C7C54"},children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("button",{onClick:t,className:"text-white hover:opacity-80 transition-opacity flex items-center gap-2",children:[u.jsx(wa,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]}),u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-3 hover:opacity-90 transition-opacity",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"rgba(255,255,255,0.3)",strokeWidth:"5",fill:"none"}),u.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"white",strokeWidth:"5",fill:"none",strokeDasharray:`${82/100*176} 176`,strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl text-white",children:"82"})})]}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"text-sm text-white opacity-90",children:"Fitness"}),u.jsx("p",{className:"text-white",children:"Score"})]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-16",children:[u.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:X,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"#1C7C54"},children:u.jsx(SU,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ed,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsx("h2",{style:{color:"#102A43"},children:Q(o)})]}),u.jsx("button",{onClick:ee,disabled:W,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-30 disabled:cursor-not-allowed",style:{color:"#1C7C54"},children:u.jsx(I1,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(tl,{className:"w-4 h-4",style:{color:"#1C7C54"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Consumed"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"#102A43"},children:P}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"kcal"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Wh,{className:"w-4 h-4",style:{color:"#FFB6B9"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Burned"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"#FFB6B9"},children:I}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"kcal"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(ya,{className:"w-4 h-4",style:{color:"#1C7C54"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Net Calories"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"#1C7C54"},children:S}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"kcal"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Fo,{className:"w-4 h-4",style:{color:"#102A43"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Remaining"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:N>=0?"#102A43":"#FFB6B9"},children:Math.abs(N)}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:N>=0?"kcal left":"kcal over"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-6",children:[u.jsx("h3",{className:"mb-6",style:{color:"#102A43"},children:"Macros"}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#F5A623"},children:"Protein"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#F5A623",strokeWidth:"10",fill:"none",strokeDasharray:`${Z/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:j}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",F,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,F-j),"g left"]})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#4DD4AC"},children:"Carbohydrates"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#4DD4AC",strokeWidth:"10",fill:"none",strokeDasharray:`${q/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:B}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",$,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,$-B),"g left"]})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#6B47DC"},children:"Fat"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#6B47DC",strokeWidth:"10",fill:"none",strokeDasharray:`${re/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:M}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",H,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,H-M),"g left"]})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:"Fiber"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#1C7C54",strokeWidth:"10",fill:"none",strokeDasharray:`${U/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:L}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",K,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,K-L),"g left"]})]})]})]}),u.jsx(mt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-5 rounded-lg shadow-sm",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(zo,{className:"w-5 h-5 text-white flex-shrink-0 mt-1"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white mb-2",children:u.jsx("span",{style:{fontWeight:600},children:"AI Daily Recap:"})}),u.jsxs("p",{className:"text-white opacity-95",children:["You've hit ",u.jsx("strong",{children:"66% of your calorie goal"})," so far today with excellent protein intake at ",u.jsx("strong",{children:"58%"}),". You burned 517 calories during your Push Day workout — consider adding ",u.jsx("strong",{children:"70g more protein"})," and ",u.jsx("strong",{children:"80g carbs"})," for dinner to support recovery and hit your daily targets."]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Daily Timeline"}),u.jsx("div",{className:"space-y-4",children:C.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-4xl",children:"📅"}),u.jsxs("p",{className:"mb-2",style:{color:"#102A43"},children:["No meals logged for ",Q(o)]}),b?u.jsx("button",{onClick:t,className:"mt-4 px-6 py-3 rounded-lg text-white transition-all hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Go to Dashboard to Log Meal"}):u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"This day had no activity"})]}):C.map((oe,ae)=>u.jsxs(mt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ae*.05},onClick:()=>se(oe),className:"flex items-start gap-4 p-4 rounded-lg border-2 border-transparent hover:border-gray-200 transition-all cursor-pointer hover:shadow-sm group",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{backgroundColor:oe.type==="workout"?"#A8E6CF":"#E8F4F2"},children:oe.type==="workout"?u.jsx(vc,{className:"w-5 h-5",style:{color:"#1C7C54"}}):u.jsx(tl,{className:"w-5 h-5",style:{color:"#1C7C54"}})}),ae<C.length-1&&u.jsx("div",{className:"w-0.5 h-12 mt-2",style:{backgroundColor:"#E8F4F2"}})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{style:{color:"#102A43"},children:oe.name}),u.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:oe.type==="workout"?"#A8E6CF":"#E8F4F2",color:"#102A43"},children:oe.status})]}),u.jsxs("p",{className:"text-sm",style:{color:oe.calories<0?"#1C7C54":"#102A43"},children:[oe.calories>0?"+":"",oe.calories," kcal"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43",opacity:.6},children:[u.jsx(bd,{className:"w-3 h-3"}),u.jsx("span",{children:oe.time})]}),oe.type==="meal"&&oe.foods&&u.jsx("p",{className:"text-sm mt-2 truncate",style:{color:"#102A43",opacity:.7},children:oe.foods.map(ve=>ve.name).join(", ")}),oe.type==="workout"&&oe.exercises&&u.jsxs("p",{className:"text-sm mt-2 truncate",style:{color:"#102A43",opacity:.7},children:[oe.exercises.length," exercises completed"]})]})]},oe.id))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Calorie Flow"}),u.jsx(xh,{width:"100%",height:400,children:u.jsxs(Xy,{data:E,children:[u.jsx(dp,{strokeDasharray:"3 3",stroke:"#E8F4F2"}),u.jsx(Uc,{dataKey:"time",stroke:"#102A43",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),u.jsx(zc,{stroke:"#102A43",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"white",border:"1px solid #A8E6CF",borderRadius:"8px"}}),u.jsx(hc,{}),u.jsx(mo,{type:"monotone",dataKey:"calories",stroke:"#102A43",strokeWidth:2,dot:{fill:"#102A43",r:4},name:"Consumed"}),u.jsx(mo,{type:"monotone",dataKey:"burned",stroke:"#FFB6B9",strokeWidth:2,dot:{fill:"#FFB6B9",r:4},name:"Burned"}),u.jsx(mo,{type:"monotone",dataKey:"net",stroke:"#1C7C54",strokeWidth:3,dot:{fill:"#1C7C54",r:5},name:"Net"})]})})]})]})]}),u.jsx(wl,{onNavigate:e,onFeedbackClick:r})]}),u.jsx(x8e,{meal:s,isOpen:!!s,onClose:()=>l(null),onFoodAssistantClick:()=>e("food-assistant"),userGoal:n}),u.jsx(xJ,{isOpen:c,onClose:()=>f(!1)})]})}function Ua({isOpen:t,onClose:e,currentPage:r="Dashboard"}){const[n,i]=k.useState(null),[o,a]=k.useState(""),[s,l]=k.useState(0),[c,f]=k.useState(!1),[h,p]=k.useState(""),[g,x]=k.useState(null),[v,b]=k.useState(!1),_=()=>{i(null),a(""),l(0),f(!1),p(""),x(null),b(!1)},C=()=>{_(),e()},E=()=>{console.log({type:n,text:o,rating:s,email:c?h:null,screenshot:g,page:r}),b(!0),setTimeout(()=>{C()},3e3)},P=S=>{S.target.files&&S.target.files[0]&&x(S.target.files[0])},I=n&&o.trim().length>0;return v?u.jsx(li,{open:t,onOpenChange:C,children:u.jsxs(ci,{className:"sm:max-w-md",children:[u.jsxs(Fi,{children:[u.jsx(Li,{className:"sr-only",children:"Feedback Submitted"}),u.jsx(lo,{className:"sr-only",children:"Your feedback has been successfully submitted"})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"var(--color-primary-light)"},children:u.jsx(nk,{className:"w-8 h-8",style:{color:"var(--color-primary)"}})}),u.jsx("h3",{className:"mb-2",style:{color:"var(--color-text)"},children:"Feedback sent — thank you!"}),u.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:"Your input helps make FareFit even better 💪"}),u.jsx("button",{onClick:_,className:"mt-6 px-6 py-2 rounded-md border transition-all hover:bg-gray-50 dark:hover:bg-gray-800",style:{borderColor:"var(--color-border)",color:"var(--color-text)"},children:"Send Another"})]})]})}):u.jsx(li,{open:t,onOpenChange:C,children:u.jsxs(ci,{className:"sm:max-w-lg",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"var(--color-text)"},children:"We value your feedback"}),u.jsx(lo,{style:{color:"var(--color-text)",opacity:.7},children:"How can we make FareFit better?"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(Gt,{style:{color:"var(--color-text)"},children:"What would you like to share?"}),u.jsx("div",{className:"space-y-2",children:[{value:"bug",label:"Report a bug"},{value:"feature",label:"Suggest a feature"},{value:"general",label:"Share general feedback"}].map(S=>u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-md border cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderColor:n===S.value?"var(--color-primary)":"var(--color-border)",backgroundColor:n===S.value?"var(--color-primary-light)":"transparent"},children:[u.jsx("input",{type:"radio",name:"feedbackType",value:S.value,checked:n===S.value,onChange:T=>i(T.target.value),className:"w-4 h-4",style:{accentColor:"var(--color-primary)"}}),u.jsx("span",{style:{color:"var(--color-text)"},children:S.label})]},S.value))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{htmlFor:"feedback-text",style:{color:"var(--color-text)"},children:"Your feedback"}),u.jsx(Gb,{id:"feedback-text",value:o,onChange:S=>a(S.target.value),placeholder:"Type your feedback here...",className:"min-h-[120px]",style:{borderColor:"var(--color-border)"}}),u.jsxs("p",{className:"text-xs",style:{color:"var(--color-text)",opacity:.5},children:["Feedback from: ",r]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{style:{color:"var(--color-text)"},children:"How would you rate your FareFit experience today?"}),u.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(S=>u.jsx("button",{type:"button",onClick:()=>l(S),className:"transition-transform hover:scale-110",children:u.jsx(ok,{className:"w-8 h-8",fill:S<=s?"#FFB6B9":"none",stroke:S<=s?"#FFB6B9":"var(--color-border)",strokeWidth:2})},S))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{htmlFor:"screenshot",style:{color:"var(--color-text)"},children:"Attach screenshot (optional)"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("label",{htmlFor:"screenshot",className:"flex items-center gap-2 px-4 py-2 rounded-md border cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text)"},children:[u.jsx(RU,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Choose File"})]}),g&&u.jsx("span",{className:"text-sm",style:{color:"var(--color-primary)"},children:g.name})]}),u.jsx("input",{id:"screenshot",type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:S=>f(S.target.checked),className:"w-4 h-4",style:{accentColor:"var(--color-primary)"}}),u.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:"Would you like us to reach out?"})]}),c&&u.jsx("input",{type:"email",value:h,onChange:S=>p(S.target.value),placeholder:"your.email@example.com",className:"w-full px-4 py-2 border rounded-md text-sm",style:{borderColor:"var(--color-border)",color:"var(--color-text)",backgroundColor:"var(--color-card-bg)"}})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:C,className:"flex-1 px-6 py-2 rounded-md border transition-all hover:bg-gray-50 dark:hover:bg-gray-800",style:{borderColor:"var(--color-border)",color:"var(--color-text)"},children:"Cancel"}),u.jsx("button",{onClick:E,disabled:!I,className:"flex-1 px-6 py-2 rounded-md text-white transition-opacity disabled:opacity-50",style:{backgroundColor:"var(--color-primary)"},children:"Send Feedback"})]})]})]})})}const eh="/assets/77bf03e5d71328d3253fb9c4f7bef47edf94924a-DKHPKU7D.png";function w8e({onGetStarted:t,onLogin:e,onDemoLogin:r}){const n=[{icon:Lne,title:"Track Meals",description:"Log your nutrition with AI assistance and smart macro tracking"},{icon:vc,title:"Log Workouts",description:"Record exercises and track progress with detailed analytics"},{icon:ya,title:"See Results",description:"Visualize your fitness journey with beautiful charts and insights"}],i=[{name:"Sarah M.",text:"Lost 15 lbs in 2 months!",rating:5},{name:"Mike T.",text:"Best fitness tracker I've used",rating:5},{name:"Emma L.",text:"The AI coach is incredible",rating:5}];return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("header",{className:"sticky top-0 z-50",style:{backgroundColor:"#E8F4F2"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:eh,alt:"FareFit Logo",className:"w-10 h-10 object-contain"}),u.jsx("span",{className:"text-xl",style:{color:"#102A43"},children:"FareFit"})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[u.jsx("a",{href:"#features",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Features"}),u.jsx("a",{href:"#why-farefit",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"About"}),r&&u.jsx("button",{onClick:r,className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Demo"})]})]})})}),u.jsxs("section",{className:"relative overflow-hidden py-16 sm:py-24 lg:py-32",children:[u.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:"radial-gradient(ellipse at top right, #A8E6CF 0%, transparent 50%)"}}),u.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsx("img",{src:eh,alt:"FareFit Logo",className:"w-32 h-32 sm:w-40 sm:h-40 object-contain"})}),u.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl mb-6 leading-tight",style:{color:"#102A43"},children:["Track your progress.",u.jsx("br",{}),u.jsxs("span",{className:"relative inline-block",children:["Transform your habits.",u.jsx("div",{className:"absolute bottom-2 left-0 right-0 h-3 -z-10 rounded",style:{backgroundColor:"#FFB6B9",opacity:.4}})]})]}),u.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl mb-10 max-w-3xl mx-auto",style:{color:"#2F3E46",opacity:.8},children:"Personalized fitness and nutrition insights — all in one place."}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-4",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-white text-lg transition-all hover:shadow-xl hover:-translate-y-0.5",style:{backgroundColor:"#1C7C54",boxShadow:"0 4px 14px rgba(28, 124, 84, 0.2)"},onMouseEnter:o=>o.currentTarget.style.backgroundColor="#3BB273",onMouseLeave:o=>o.currentTarget.style.backgroundColor="#1C7C54",children:"Sign Up"}),u.jsx("button",{onClick:e,className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-lg border-2 transition-all hover:shadow-md hover:-translate-y-0.5",style:{borderColor:"#1C7C54",color:"#1C7C54",backgroundColor:"transparent"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#1C7C54",o.currentTarget.style.color="white"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="transparent",o.currentTarget.style.color="#1C7C54"},children:"Log In"})]}),r&&u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"h-px w-8",style:{backgroundColor:"#102A43",opacity:.2}}),u.jsx("button",{onClick:r,className:"text-sm px-6 py-2 rounded-full transition-all hover:shadow-md",style:{color:"#1C7C54",backgroundColor:"#A8E6CF"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#1C7C54",o.currentTarget.style.color="white"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="#A8E6CF",o.currentTarget.style.color="#1C7C54"},children:"✨ Try Demo"}),u.jsx("div",{className:"h-px w-8",style:{backgroundColor:"#102A43",opacity:.2}})]})]})})]}),u.jsx("section",{id:"features",className:"py-16 sm:py-20",style:{backgroundColor:"white"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((o,a)=>u.jsxs(mt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1+a*.1},className:"group rounded-3xl p-8 text-center transition-all hover:shadow-lg hover:-translate-y-1",style:{backgroundColor:"rgba(168, 230, 207, 0.15)",boxShadow:"0 2px 8px rgba(16, 42, 67, 0.05)",borderBottom:"2px solid transparent"},onMouseEnter:s=>s.currentTarget.style.borderBottomColor="#FFB6B9",onMouseLeave:s=>s.currentTarget.style.borderBottomColor="transparent",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-6 flex items-center justify-center transition-colors",style:{backgroundColor:"#A8E6CF"},children:u.jsx(o.icon,{className:"w-8 h-8 transition-colors",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"text-xl mb-3",style:{color:"#102A43"},children:o.title}),u.jsx("p",{className:"text-sm leading-relaxed",style:{color:"#2F3E46",opacity:.8},children:o.description})]},a))})})}),u.jsx("section",{id:"why-farefit",className:"py-16 sm:py-20",style:{background:"linear-gradient(to bottom, #E8F4F2, #A8E6CF)"},children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(mt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl mb-4",style:{color:"#102A43"},children:"Why users love FareFit"}),u.jsx("p",{style:{color:"#2F3E46",opacity:.8},children:"Join thousands who've transformed their health journey"})]}),u.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:i.map((o,a)=>u.jsxs(mt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1+a*.1},className:"rounded-2xl p-6 text-center",style:{backgroundColor:"white",boxShadow:"0 2px 12px rgba(16, 42, 67, 0.08)"},children:[u.jsx("div",{className:"flex justify-center gap-1 mb-3",children:[...Array(o.rating)].map((s,l)=>u.jsx(ok,{className:"w-4 h-4 fill-current",style:{color:"#FFB6B9"}},l))}),u.jsxs("p",{className:"mb-3 text-sm italic",style:{color:"#102A43"},children:['"',o.text,'"']}),u.jsxs("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:["— ",o.name]})]},a))})]})}),u.jsx("section",{className:"py-16 sm:py-20",style:{background:"linear-gradient(90deg, #E8F4F2 0%, #FFB6B9 10%, #E8F4F2 100%)"},children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:u.jsxs(mt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[u.jsx("h2",{className:"text-3xl sm:text-4xl mb-4",style:{color:"#102A43"},children:"Start your journey to better health today"}),u.jsx("p",{className:"text-lg mb-8",style:{color:"#2F3E46",opacity:.8},children:"Join FareFit and take control of your fitness goals"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-white text-lg transition-all hover:shadow-xl hover:-translate-y-0.5",style:{backgroundColor:"#1C7C54"},children:"Sign Up"}),u.jsx("button",{onClick:()=>window.location.href="#features",className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-lg border-2 transition-all hover:shadow-md hover:-translate-y-0.5",style:{borderColor:"#1C7C54",color:"#1C7C54",backgroundColor:"white"},children:"Learn More"})]})]})})}),u.jsx("footer",{className:"py-8",style:{backgroundColor:"white",borderTop:"1px solid #FFB6B9"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:eh,alt:"FareFit Logo",className:"w-8 h-8 object-contain"}),u.jsx("span",{style:{color:"#102A43",opacity:.7},children:"© 2025 FareFit"})]}),u.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[u.jsx("a",{href:"#privacy",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Privacy Policy"}),u.jsx("a",{href:"#terms",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Terms"}),u.jsx("a",{href:"#support",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Support"})]})]})})})]})}function k$({onLogin:t,onSignup:e,onBack:r,onGoogleLogin:n,initialMode:i="login"}){const[o,a]=k.useState(i==="login"),[s,l]=k.useState(""),[c,f]=k.useState(""),[h,p]=k.useState(""),[g,x]=k.useState(""),[v,b]=k.useState(!1),[_,C]=k.useState(!1),[E,P]=k.useState(""),I=S=>{if(S.preventDefault(),P(""),!s||!c){P("Please fill in all fields");return}if(!o&&!g){P("Please enter your name");return}if(c.length<6){P("Password must be at least 6 characters");return}if(!o&&c!==h){P("Passwords do not match");return}o?t(s,c):e(s,c,g)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"white"},children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("img",{src:eh,alt:"FareFit Logo",className:"w-32 h-32 object-contain mx-auto mb-4"}),u.jsx("h1",{className:"text-3xl mb-2",style:{color:"#102A43"},children:o?"Welcome back":"Create your account"}),u.jsx("p",{style:{color:"#102A43",opacity:.6},children:o?"Sign in to continue your fitness journey":"Start your personalized fitness journey"})]}),u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!o&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:"text",value:g,onChange:S=>x(S.target.value),placeholder:"John Doe",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:S=>S.target.style.borderColor="#1C7C54",onBlur:S=>S.target.style.borderColor="#A8E6CF"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(ug,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:"email",value:s,onChange:S=>l(S.target.value),placeholder:"you@example.com",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:S=>S.target.style.borderColor="#1C7C54",onBlur:S=>S.target.style.borderColor="#A8E6CF"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(th,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:v?"text":"password",value:c,onChange:S=>f(S.target.value),placeholder:"••••••••",className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:S=>S.target.style.borderColor="#1C7C54",onBlur:S=>S.target.style.borderColor="#A8E6CF"}),u.jsx("button",{type:"button",onClick:()=>b(!v),className:"absolute right-4 top-1/2 -translate-y-1/2",style:{color:"#102A43",opacity:.4},children:v?u.jsx(gD,{className:"w-5 h-5"}):u.jsx(HT,{className:"w-5 h-5"})})]})]}),!o&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(th,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:_?"text":"password",value:h,onChange:S=>p(S.target.value),placeholder:"••••••••",className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:S=>S.target.style.borderColor="#1C7C54",onBlur:S=>S.target.style.borderColor="#A8E6CF"}),u.jsx("button",{type:"button",onClick:()=>C(!_),className:"absolute right-4 top-1/2 -translate-y-1/2",style:{color:"#102A43",opacity:.4},children:_?u.jsx(gD,{className:"w-5 h-5"}):u.jsx(HT,{className:"w-5 h-5"})})]})]}),E&&u.jsx("div",{className:"p-3 rounded-xl text-sm",style:{backgroundColor:"#FFB6B9",color:"#102A43"},children:E}),o&&u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"button",className:"text-sm hover:underline",style:{color:"#1C7C54"},children:"Forgot Password?"})}),u.jsx("button",{type:"submit",className:"w-full py-4 rounded-xl text-white transition-all shadow-md hover:shadow-lg flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:o?"Log In":"Continue"})]}),o&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t",style:{borderColor:"#A8E6CF"}})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-white",style:{color:"#102A43",opacity:.6},children:"or continue with"})})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"button",onClick:n,className:"flex-1 py-3 px-4 rounded-xl border-2 transition-all hover:shadow-md flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),u.jsxs("button",{type:"button",className:"flex-1 py-3 px-4 rounded-xl border-2 transition-all hover:shadow-md flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("button",{type:"button",onClick:()=>{a(!o),P("")},className:"text-sm hover:underline",style:{color:"#1C7C54"},children:o?"Don't have an account? Sign up":"Already have an account? Log In"})}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:r,className:"text-sm hover:underline",style:{color:"#102A43",opacity:.6},children:"← Back to home"})})]})})})}var bJ=["PageUp","PageDown"],wJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_J={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vp="Slider",[RP,_8e,A8e]=dO(vp),[AJ]=qo(vp,[A8e]),[C8e,Hw]=AJ(vp),CJ=k.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:f,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:x,...v}=t,b=k.useRef(new Set),_=k.useRef(0),E=a==="horizontal"?E8e:S8e,[P=[],I]=ll({prop:f,defaultProp:c,onChange:M=>{[...b.current][_.current]?.focus(),h(M)}}),S=k.useRef(P);function T(M){const L=k8e(P,M);B(M,L)}function N(M){B(M,_.current)}function j(){const M=S.current[_.current];P[_.current]!==M&&p(P)}function B(M,L,{commit:F}={commit:!1}){const $=D8e(o),H=M8e(Math.round((M-n)/o)*o+n,$),K=ib(H,[n,i]);I((Z=[])=>{const q=N8e(Z,K,L);if(R8e(q,l*o)){_.current=q.indexOf(K);const re=String(q)!==String(Z);return re&&F&&p(q),re?q:Z}else return Z})}return u.jsx(C8e,{scope:t.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:_,thumbs:b.current,values:P,orientation:a,form:x,children:u.jsx(RP.Provider,{scope:t.__scopeSlider,children:u.jsx(RP.Slot,{scope:t.__scopeSlider,children:u.jsx(E,{"aria-disabled":s,"data-disabled":s?"":void 0,...v,ref:e,onPointerDown:dt(v.onPointerDown,()=>{s||(S.current=P)}),min:n,max:i,inverted:g,onSlideStart:s?void 0:T,onSlideMove:s?void 0:N,onSlideEnd:s?void 0:j,onHomeKeyDown:()=>!s&&B(n,0,{commit:!0}),onEndKeyDown:()=>!s&&B(i,P.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:L})=>{if(!s){const H=bJ.includes(M.key)||M.shiftKey&&wJ.includes(M.key)?10:1,K=_.current,Z=P[K],q=o*H*L;B(Z+q,K,{commit:!0})}}})})})})});CJ.displayName=vp;var[EJ,SJ]=AJ(vp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),E8e=k.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...f}=t,[h,p]=k.useState(null),g=Lt(e,E=>p(E)),x=k.useRef(void 0),v=jw(i),b=v==="ltr",_=b&&!o||!b&&o;function C(E){const P=x.current||h.getBoundingClientRect(),I=[0,P.width],T=FO(I,_?[r,n]:[n,r]);return x.current=P,T(E-P.left)}return u.jsx(EJ,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:u.jsx(TJ,{dir:v,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const P=C(E.clientX);a?.(P)},onSlideMove:E=>{const P=C(E.clientX);s?.(P)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:E=>{const I=_J[_?"from-left":"from-right"].includes(E.key);c?.({event:E,direction:I?-1:1})}})})}),S8e=k.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,f=k.useRef(null),h=Lt(e,f),p=k.useRef(void 0),g=!i;function x(v){const b=p.current||f.current.getBoundingClientRect(),_=[0,b.height],E=FO(_,g?[n,r]:[r,n]);return p.current=b,E(v-b.top)}return u.jsx(EJ,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:u.jsx(TJ,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=x(v.clientY);o?.(b)},onSlideMove:v=>{const b=x(v.clientY);a?.(b)},onSlideEnd:()=>{p.current=void 0,s?.()},onStepKeyDown:v=>{const _=_J[g?"from-bottom":"from-top"].includes(v.key);l?.({event:v,direction:_?-1:1})}})})}),TJ=k.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,f=Hw(vp,r);return u.jsx(xt.span,{...c,ref:e,onKeyDown:dt(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(s(h),h.preventDefault()):bJ.concat(wJ).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:dt(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(p)?p.focus():n(h)}),onPointerMove:dt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:dt(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),o(h))})})}),IJ="SliderTrack",NJ=k.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Hw(IJ,r);return u.jsx(xt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});NJ.displayName=IJ;var DP="SliderRange",PJ=k.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Hw(DP,r),o=SJ(DP,r),a=k.useRef(null),s=Lt(e,a),l=i.values.length,c=i.values.map(p=>jJ(p,i.min,i.max)),f=l>1?Math.min(...c):0,h=100-Math.max(...c);return u.jsx(xt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...t.style,[o.startEdge]:f+"%",[o.endEdge]:h+"%"}})});PJ.displayName=DP;var MP="SliderThumb",kJ=k.forwardRef((t,e)=>{const r=_8e(t.__scopeSlider),[n,i]=k.useState(null),o=Lt(e,s=>i(s)),a=k.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return u.jsx(T8e,{...t,ref:o,index:a})}),T8e=k.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...o}=t,a=Hw(MP,r),s=SJ(MP,r),[l,c]=k.useState(null),f=Lt(e,C=>c(C)),h=l?a.form||!!l.closest("form"):!0,p=fO(l),g=a.values[n],x=g===void 0?0:jJ(g,a.min,a.max),v=P8e(n,a.values.length),b=p?.[s.size],_=b?O8e(b,x,s.direction):0;return k.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${x}% + ${_}px)`},children:[u.jsx(RP.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(xt.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:dt(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),h&&u.jsx(OJ,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},n)]})});kJ.displayName=MP;var I8e="RadioBubbleInput",OJ=k.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=k.useRef(null),o=Lt(i,n),a=uO(e);return k.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&f){const h=new Event("input",{bubbles:!0});f.call(s,e),s.dispatchEvent(h)}},[a,e]),u.jsx(xt.input,{style:{display:"none"},...r,ref:o,defaultValue:e})});OJ.displayName=I8e;function N8e(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,o)=>i-o)}function jJ(t,e,r){const o=100/(r-e)*(t-e);return ib(o,[0,100])}function P8e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function k8e(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function O8e(t,e,r){const n=t/2,o=FO([0,50],[0,n]);return(n-o(e)*r)*r}function j8e(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function R8e(t,e){if(e>0){const r=j8e(t);return Math.min(...r)>=e}return!0}function FO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function D8e(t){return(String(t).split(".")[1]||"").length}function M8e(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var F8e=CJ,L8e=NJ,B8e=PJ,V8e=kJ;function RJ({className:t,defaultValue:e,value:r,min:n=0,max:i=100,...o}){const a=k.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,i],[r,e,n,i]);return u.jsxs(F8e,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:i,className:St("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...o,children:[u.jsx(L8e,{"data-slot":"slider-track",className:St("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(B8e,{"data-slot":"slider-range",className:St("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(s,l)=>u.jsx(V8e,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}function $8e({value:t="",onChange:e,onValidationChange:r,placeholder:n="MM/DD/YYYY",className:i="",minDate:o,maxDate:a,required:s=!1}){const[l,c]=k.useState(""),[f,h]=k.useState(""),[p,g]=k.useState(""),[x,v]=k.useState(null),[b,_]=k.useState("type"),C=k.useRef(null),E=k.useRef(null),P=k.useRef(null);k.useEffect(()=>{if(t&&t.includes("-")){const[$,H,K]=t.split("-");$&&H&&K&&(g($),c(H),h(K))}},[t]);const I=($,H,K)=>{if(!$||!H||!K){r?.(!1);return}const Z=parseInt($),q=parseInt(H),re=parseInt(K);if(Z<1||Z>12){r?.(!1,"Invalid month");return}if(q<1||q>31){r?.(!1,"Invalid day");return}if(K.length!==4||re<1900||re>new Date().getFullYear()){r?.(!1,"Invalid year");return}const U=new Date(re,Z-1,q);if(U.getMonth()!==Z-1||U.getDate()!==q){r?.(!1,"Invalid date");return}const X=`${K}-${$.padStart(2,"0")}-${H.padStart(2,"0")}`;if(o&&X<o){r?.(!1,"Date is too early");return}if(a&&X>a){r?.(!1,"Date is too late");return}r?.(!0),e(X)},S=$=>{$.length>2||(c($),$.length===2&&E.current?.focus(),I($,f,p))},T=$=>{$.length>2||(h($),$.length===2&&P.current?.focus(),I(l,$,p))},N=$=>{$.length>4||(g($),I(l,f,$))},j=($,H)=>{if(![8,9,27,13,37,39,38,40,46].includes($.keyCode)&&!(($.ctrlKey||$.metaKey)&&[65,67,86,88].includes($.keyCode))&&(($.shiftKey||$.keyCode<48||$.keyCode>57)&&($.keyCode<96||$.keyCode>105)&&$.preventDefault(),$.keyCode===8)){const K=$.target;(K.value===""||K.selectionStart===0)&&(H==="day"&&C.current?C.current.focus():H==="year"&&E.current&&E.current.focus())}},B=[{value:"",label:"Month"},{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],M=[{value:"",label:"Day"},...Array.from({length:31},($,H)=>({value:(H+1).toString().padStart(2,"0"),label:(H+1).toString()}))],L=new Date().getFullYear(),F=[{value:"",label:"Year"},...Array.from({length:120},($,H)=>{const K=L-H;return{value:K.toString(),label:K.toString()}})];return u.jsxs("div",{className:`flex flex-col items-center gap-4 ${i}`,children:[u.jsxs("div",{className:"inline-flex items-center bg-white rounded-lg p-1 shadow-sm border border-gray-200 mb-3",children:[u.jsx("button",{onClick:()=>_("type"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${b==="type"?"bg-[#A8E6CF] text-[#102A43] shadow-sm":"text-gray-600 hover:text-[#102A43]"}`,children:"Type"}),u.jsx("button",{onClick:()=>_("dropdown"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${b==="dropdown"?"bg-[#A8E6CF] text-[#102A43] shadow-sm":"text-gray-600 hover:text-[#102A43]"}`,children:"Select"})]}),b==="type"?u.jsxs("div",{className:"inline-flex items-center justify-center gap-2 p-4 rounded-2xl bg-white/50 backdrop-blur-sm border border-white/20 shadow-lg",children:[u.jsx("div",{className:"relative",children:u.jsx("input",{ref:C,type:"text",value:l,onChange:$=>S($.target.value),onKeyDown:$=>j($,"month"),onFocus:()=>v("month"),onBlur:()=>v(null),placeholder:"MM",className:`w-14 h-12 text-center text-lg font-bold rounded-lg border-2 outline-none transition-all duration-300 bg-white ${x==="month"?"border-[#A8E6CF] shadow-lg scale-105":"border-gray-200 hover:border-[#A8E6CF] hover:shadow-md"}`,style:{color:"#102A43"},maxLength:2})}),u.jsx("span",{className:"text-lg font-medium",style:{color:"#102A43",opacity:.5},children:"/"}),u.jsx("div",{className:"relative",children:u.jsx("input",{ref:E,type:"text",value:f,onChange:$=>T($.target.value),onKeyDown:$=>j($,"day"),onFocus:()=>v("day"),onBlur:()=>v(null),placeholder:"DD",className:`w-14 h-12 text-center text-lg font-bold rounded-lg border-2 outline-none transition-all duration-300 bg-white ${x==="day"?"border-[#A8E6CF] shadow-lg scale-105":"border-gray-200 hover:border-[#A8E6CF] hover:shadow-md"}`,style:{color:"#102A43"},maxLength:2})}),u.jsx("span",{className:"text-lg font-medium",style:{color:"#102A43",opacity:.5},children:"/"}),u.jsx("div",{className:"relative",children:u.jsx("input",{ref:P,type:"text",value:p,onChange:$=>N($.target.value),onKeyDown:$=>j($,"year"),onFocus:()=>v("year"),onBlur:()=>v(null),placeholder:"YYYY",className:`w-20 h-12 text-center text-lg font-bold rounded-lg border-2 outline-none transition-all duration-300 bg-white ${x==="year"?"border-[#A8E6CF] shadow-lg scale-105":"border-gray-200 hover:border-[#A8E6CF] hover:shadow-md"}`,style:{color:"#102A43"},maxLength:4})})]}):u.jsxs("div",{className:"inline-flex items-center justify-center gap-2 p-4 rounded-2xl bg-white/50 backdrop-blur-sm border border-white/20 shadow-lg",children:[u.jsx("div",{className:"relative",children:u.jsx("select",{value:l,onChange:$=>{c($.target.value),I($.target.value,f,p)},className:"w-32 h-12 text-sm font-medium rounded-lg border-2 outline-none transition-all duration-300 bg-white appearance-none cursor-pointer hover:border-[#A8E6CF] hover:shadow-md pl-3 pr-8",style:{color:"#102A43",borderColor:"#A8E6CF"},children:B.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})}),u.jsx("div",{className:"relative",children:u.jsx("select",{value:f,onChange:$=>{h($.target.value),I(l,$.target.value,p)},className:"w-16 h-12 text-sm font-medium rounded-lg border-2 outline-none transition-all duration-300 bg-white cursor-pointer hover:border-[#A8E6CF] hover:shadow-md pl-3 pr-2",style:{color:"#102A43",borderColor:"#A8E6CF"},children:M.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})}),u.jsx("div",{className:"relative",children:u.jsx("select",{value:p,onChange:$=>{g($.target.value),I(l,f,$.target.value)},className:"w-20 h-12 text-sm font-medium rounded-lg border-2 outline-none transition-all duration-300 bg-white appearance-none cursor-pointer hover:border-[#A8E6CF] hover:shadow-md pl-3 pr-6",style:{color:"#102A43",borderColor:"#A8E6CF"},children:F.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})})]})]})}const U8e=t=>{if(!t)return"Please select your birth date";const e=new Date(t),r=new Date,n=new Date,i=new Date;return n.setFullYear(r.getFullYear()-13),i.setFullYear(r.getFullYear()-120),e>r?"Birth date cannot be in the future":e>n?"You must be at least 13 years old to use this app":e<i?"Please enter a valid birth date":null},z8e=()=>new Date().toISOString().split("T")[0],W8e=()=>{const t=new Date;return t.setFullYear(t.getFullYear()-120),t.toISOString().split("T")[0]};function H8e({onComplete:t}){const[e,r]=k.useState(0),[n,i]=k.useState({sex:null,birthday:null,height:0,heightUnit:"ft",weight:0,weightUnit:"lb",activityLevel:null,goal:null,notificationsEnabled:!0}),o=9,a=async()=>{const f=wr().currentUser;if(f){if(e===3&&n.height<=0)try{await nf(f.uid,"height",170),console.log(`✅ Default height 170cm saved for ${f.uid}`),i({...n,height:170})}catch(h){console.error("Error saving default height:",h)}else if(e===4&&n.weight<=0)try{await nf(f.uid,"weight",70),console.log(`✅ Default weight 70kg saved for ${f.uid}`),i({...n,weight:70})}catch(h){console.error("Error saving default weight:",h)}}e<o-1?r(e+1):t(n)},s=()=>{e>0&&r(e-1)},l=f=>{i({...n,...f})},c=()=>{switch(e){case 0:return!0;case 1:return n.sex!==null;case 2:return n.birthday!==null;case 3:return!0;case 4:return!0;case 5:return n.activityLevel!==null;case 6:return n.goal!==null;case 7:return!0;case 8:return!0;default:return!1}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"white",overflow:"hidden"},children:u.jsxs("div",{className:"relative w-full max-w-md h-[700px] flex flex-col justify-center",children:[e>0&&e<o-1&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-white transition-colors",style:{color:"#1C7C54"},children:u.jsx(SU,{className:"w-5 h-5"})}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[e," of ",o-2]})]}),u.jsx("div",{className:"w-full h-1.5 rounded-full",style:{backgroundColor:"#A8E6CF"},children:u.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${e/(o-2)*100}%`,backgroundColor:"#1C7C54"}})})]}),u.jsxs(Yh,{mode:"sync",children:[e===0&&u.jsx(q8e,{onContinue:a},"welcome"),e===1&&u.jsx(G8e,{value:n.sex,onChange:f=>l({sex:f}),onContinue:a},"sex"),e===2&&u.jsx(K8e,{value:n.birthday,onChange:f=>l({birthday:f}),onContinue:a}),e===3&&u.jsx(Y8e,{height:n.height,unit:n.heightUnit,onHeightChange:f=>l({height:f}),onUnitChange:f=>l({heightUnit:f}),onContinue:a},"height"),e===4&&u.jsx(X8e,{weight:n.weight,unit:n.weightUnit,onWeightChange:f=>l({weight:f}),onUnitChange:f=>l({weightUnit:f}),onContinue:a},"weight"),e===5&&u.jsx(Q8e,{value:n.activityLevel,onChange:f=>l({activityLevel:f}),onContinue:a},"activity"),e===6&&u.jsx(Z8e,{value:n.goal,onChange:f=>l({goal:f}),onContinue:a},"goals"),e===7&&u.jsx(J8e,{value:n.notificationsEnabled,onChange:f=>l({notificationsEnabled:f}),onContinue:a},"notifications"),e===8&&u.jsx(eFe,{onContinue:a},"final")]}),e>0&&e!==7&&e!==8&&u.jsx(mt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onClick:a,disabled:!c(),className:"w-full py-4 rounded-2xl text-white transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-lg hover:shadow-xl mt-6 flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Continue"})]})})}function q8e({onContinue:t}){const e=[{name:"Sarah M.",text:"Lost 15 lbs in 2 months!",rating:5},{name:"Mike T.",text:"Best fitness tracker I've used",rating:5},{name:"Emma L.",text:"The AI coach is incredible",rating:5}];return u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl text-center",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("img",{src:eh,alt:"FareFit Logo",className:"w-32 h-32 object-contain mx-auto mb-4"}),u.jsx("p",{className:"text-sm mb-2",style:{color:"#1C7C54"},children:"Trusted by millions worldwide"}),u.jsx("h1",{className:"text-3xl mb-3",style:{color:"#102A43"},children:"Welcome to FareFit"}),u.jsx("p",{className:"text-lg",style:{color:"#102A43",opacity:.7},children:"Let's personalize your experience"})]}),u.jsx("div",{className:"space-y-3 mb-8",children:e.map((r,n)=>u.jsxs("div",{className:"p-4 rounded-xl text-left",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"flex items-center gap-1 mb-2",children:[...Array(r.rating)].map((i,o)=>u.jsx(ok,{className:"w-4 h-4 fill-current",style:{color:"#FFB6B9"}},o))}),u.jsxs("p",{className:"text-sm mb-1",style:{color:"#102A43"},children:['"',r.text,'"']}),u.jsxs("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:["— ",r.name]})]},n))}),u.jsx("button",{onClick:t,className:"w-full py-4 rounded-2xl text-white transition-all shadow-lg hover:shadow-xl flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Continue"}),u.jsx("p",{className:"text-xs mt-4",style:{color:"#102A43",opacity:.5},children:"Takes about 2 minutes"})]})}function G8e({value:t,onChange:e,onContinue:r}){const n=wr(),i=async o=>{try{e(o);const a=n.currentUser;a&&(await nf(a.uid,"gender",o),console.log(`User gender set to ${o} in Firebase`)),setTimeout(r,300)}catch(a){console.error("Error updating user gender:",a)}};return u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"What is your assigned sex at birth?"}),u.jsx("p",{className:"text-center mb-8",style:{color:"#102A43",opacity:.6},children:"This helps us calculate accurate calorie and macro targets"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{e("male"),i("male"),setTimeout(r,300)},className:"w-full py-5 rounded-2xl border-2 transition-all flex items-center justify-center",style:{backgroundColor:t==="male"?"#A8E6CF":"white",borderColor:t==="male"?"#1C7C54":"#A8E6CF",color:"#102A43"},children:"Male"}),u.jsx("button",{onClick:()=>{e("female"),i("female"),setTimeout(r,300)},className:"w-full py-5 rounded-2xl border-2 transition-all flex items-center justify-center",style:{backgroundColor:t==="female"?"#A8E6CF":"white",borderColor:t==="female"?"#1C7C54":"#A8E6CF",color:"#102A43"},children:"Female"})]})]})}function K8e({value:t,onChange:e,onContinue:r}){const[n,i]=k.useState(!1),[o,a]=k.useState(null),[s,l]=k.useState(!1),c=wr(),f=async p=>{e(p);const g=U8e(p);if(g){a(g),l(!1);return}a(null),l(!0),i(!0);const[x,v,b]=p.split("-"),_=parseInt(x),C=parseInt(v),E=parseInt(b),P=new Date;let I=P.getFullYear()-_;const S=P.getMonth()+1-C;(S<0||S===0&&P.getDate()<E)&&I--;try{const T=c.currentUser;if(T){const N=zt(jt,"Users",T.uid);await qa(N,{birthDate:p,age:I},{merge:!0}),console.log(`✅ Birthday (${p}) + age (${I}) saved in Users/${T.uid}`)}setTimeout(r,800)}catch(T){console.error("Error updating birthday:",T),a("Failed to save birth date. Please try again."),l(!1)}finally{i(!1)}},h=(p,g)=>{l(p),a(g||null)};return u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"When were you born?"}),u.jsx("p",{className:"text-center mb-2",style:{color:"#102A43",opacity:.6},children:"This helps calculate your age for your calorie and fitness targets"}),u.jsx("p",{className:"text-center mb-8 text-sm",style:{color:"#102A43",opacity:.5},children:"You must be at least 13 years old to use this app"}),u.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[u.jsxs(mt.div,{className:"flex flex-col items-center space-y-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.4,ease:"easeOut"},children:[u.jsx($8e,{value:t||"",onChange:f,onValidationChange:h,minDate:W8e(),maxDate:z8e(),className:`${o?"opacity-75":""}`}),u.jsx("p",{className:"text-sm text-center font-medium",style:{color:"#102A43",opacity:.6},children:"📅 Type or select your birth date above"})]}),o&&u.jsx(mt.div,{className:"text-red-600 text-sm text-center bg-red-50 px-6 py-3 rounded-xl border-l-4 border-red-400 shadow-sm max-w-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-red-500",children:"⚠️"}),o]})}),n&&u.jsxs(mt.div,{className:"flex items-center gap-3 text-center text-sm bg-blue-50 px-6 py-3 rounded-xl border-l-4 border-blue-400 shadow-sm",style:{color:"#102A43"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"font-medium",children:"Saving your information..."})]}),s&&!o&&!n&&t&&u.jsx(mt.div,{className:"text-green-700 text-sm text-center bg-green-50 px-6 py-3 rounded-xl border-l-4 border-green-400 shadow-sm",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-green-500",children:"✅"}),u.jsx("span",{className:"font-medium",children:"Date saved successfully!"})]})})]})]})}const Y8e=k.memo(function({height:e,unit:r,onHeightChange:n,onUnitChange:i,onContinue:o}){const[a,s]=k.useState(5),[l,c]=k.useState(7),[f,h]=k.useState(170),[p,g]=k.useState(null),[x,v]=k.useState(!1),[b,_]=k.useState(!1),[C,E]=k.useState(0),P=wr(),[I,S]=k.useState(null);k.useEffect(()=>{if(e>0)if(r==="cm")h(Math.round(e)),E(Math.round(e));else{const ee=e/2.54,W=Math.floor(ee/12),Q=Math.round(ee%12);s(W),c(Q),E(W*12+Q)}else r==="cm"?(h(170),E(170)):(s(5),c(7),E(67))},[e,r]);const T=()=>a*12+l,N=r==="cm"?107:42,j=r==="cm"?244:96,B=1,M=b?C:r==="cm"?f:T(),L=(ee,W)=>{const Q=ee*12+W;return Math.round(Q*2.54)},F=(ee,W)=>ee<3||ee>8?`Height must be between 3'0" and 8'0"`:W<0||W>11?"Inches must be between 0 and 11":ee===3&&W<6?`Minimum height is 3'6"`:ee===8&&W>0?`Maximum height is 8'0"`:null,$=ee=>ee<107||ee>244?"Height must be between 107cm and 244cm":null,H=async ee=>{try{const W=P.currentUser;W&&(await nf(W.uid,"height",ee),console.log(`Height updated to ${ee}cm for user ${W.uid}`)),n(ee),g(null)}catch(W){console.error("Error updating height:",W),g("Failed to save height. Please try again.")}},K=ee=>{I&&clearTimeout(I);const W=setTimeout(()=>H(ee),400);S(W)},Z=ee=>{_(!0),E(ee[0])},q=async ee=>{_(!1);const W=ee[0];let Q;if(r==="cm"){const se=Math.round(W);h(se),Q=se}else{const se=Math.round(W),oe=Math.floor(se/12),ae=se%12;s(oe),c(ae),Q=L(oe,ae)}g(null),await H(Q)},re=ee=>{const W=parseInt(ee)||0;if(W<3||W>8)return;s(W),E(W*12+l);const Q=F(W,l);if(Q){g(Q);return}const se=L(W,l);g(null),K(se)},U=ee=>{const W=parseInt(ee)||0;if(W<0||W>11)return;c(W),E(a*12+W);const Q=F(a,W);if(Q){g(Q);return}const se=L(a,W);g(null),K(se)},X=ee=>{const W=parseInt(ee)||0;if(W<107||W>244)return;h(W),E(W);const Q=$(W);if(Q){g(Q);return}g(null),K(W)};return k.useEffect(()=>()=>{I&&clearTimeout(I)},[I]),u.jsxs(mt.div,{layout:!1,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"rounded-3xl p-8 shadow-xl h-[600px] overflow-hidden",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(PU,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("h2",{className:"text-2xl mb-3",style:{color:"#102A43"},children:"How tall are you?"})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"inline-flex rounded-full p-1",style:{backgroundColor:"#D4EDDA"},children:[u.jsx("button",{onClick:()=>{i("ft"),g(null)},className:"px-6 py-2 rounded-full transition-all",style:{backgroundColor:r==="ft"?"#1C7C54":"transparent",color:r==="ft"?"white":"#102A43"},children:"ft/in"}),u.jsx("button",{onClick:()=>{i("cm"),g(null)},className:"px-6 py-2 rounded-full transition-all",style:{backgroundColor:r==="cm"?"#1C7C54":"transparent",color:r==="cm"?"white":"#102A43"},children:"cm"})]})}),u.jsx("div",{className:"text-center mb-4",children:u.jsx("div",{className:"flex items-center justify-center gap-2 h-[100px] w-full",children:r==="ft"?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",inputMode:"numeric",value:b?Math.floor(C/12):a,onChange:ee=>re(ee.target.value),onFocus:()=>v(!0),onBlur:()=>v(!1),className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-16",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},maxLength:1,readOnly:b}),u.jsx("span",{className:"text-5xl font-bold",style:{color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},children:"′"}),u.jsx("input",{type:"text",inputMode:"numeric",value:b?Math.round(C%12):l,onChange:ee=>U(ee.target.value),onFocus:()=>v(!0),onBlur:()=>v(!1),className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-16",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},maxLength:2,readOnly:b}),u.jsx("span",{className:"text-5xl font-bold",style:{color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},children:"″"})]}):u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",inputMode:"numeric",value:b?Math.round(C):f,onChange:ee=>X(ee.target.value),onFocus:()=>v(!0),onBlur:()=>v(!1),className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-24",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},maxLength:3,readOnly:b}),u.jsx("span",{className:"text-5xl font-bold",style:{color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},children:"cm"})]})})}),u.jsx("div",{className:"text-center mb-6 h-[20px]",children:b?u.jsx("p",{className:"text-xs",style:{color:"#4A90A4",opacity:.8},children:"Preview - release to set"}):u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Tap numbers to edit or use slider below"})}),u.jsxs("div",{className:"mb-8 px-4",children:[u.jsx(RJ,{value:[M],onValueChange:Z,onValueCommit:q,min:N,max:j,step:B,className:"w-full"}),u.jsxs("div",{className:"flex justify-between text-xs mt-2",style:{color:"#102A43",opacity:.5},children:[u.jsx("span",{children:r==="ft"?`3'6"`:"107cm"}),u.jsx("span",{children:r==="ft"?`8'0"`:"244cm"})]})]}),u.jsx("div",{className:"min-h-[40px] text-center mb-4",children:p&&u.jsx("p",{className:"text-red-600 text-sm bg-red-50 px-4 py-2 rounded-lg border border-red-200 inline-block",children:p})}),u.jsx("div",{className:"h-[40px] mb-4"}),u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:r==="ft"?`Range: 3'6" - 8'0"`:"Range: 107cm - 244cm"})})]})}),X8e=k.memo(function({weight:e,unit:r,onWeightChange:n,onUnitChange:i,onContinue:o}){const[a,s]=k.useState(e||70),[l,c]=k.useState(!1),[f,h]=k.useState(0),[p,g]=k.useState(!1),[x,v]=k.useState(""),[b,_]=k.useState(null),C=wr();k.useEffect(()=>{if(e>0){s(e);const H=r==="lb"?(e*2.20462).toFixed(1):e.toFixed(1);v(H),h(r==="lb"?e*2.20462:e)}else{s(70);const H=r==="lb"?(70*2.20462).toFixed(1):70 .toFixed(1);v(H),h(r==="lb"?70*2.20462:70)}},[e,r]),k.useEffect(()=>()=>{b&&clearTimeout(b)},[b]);const E=()=>l?f.toFixed(1):p?x:r==="lb"?(a*2.20462).toFixed(1):a.toFixed(1),P=H=>{b&&clearTimeout(b);const K=setTimeout(()=>L(H),500);_(K)},I=H=>{if(!/^\d*\.?\d*$/.test(H))return;v(H);const K=parseFloat(H);if(!isNaN(K)&&K>=N&&K<=j){const Z=r==="lb"?K/2.20462:K,q=Math.round(Z*100)/100;s(q),h(r==="lb"?q*2.20462:q),P(q)}},S=()=>{g(!0),v(E())},T=()=>{g(!1);const H=parseFloat(x);if(!isNaN(H)&&H>=N&&H<=j){const Z=r==="lb"?H/2.20462:H,q=Math.round(Z*100)/100;s(q),h(r==="lb"?q*2.20462:q),L(q)}const K=r==="lb"?(a*2.20462).toFixed(1):a.toFixed(1);v(K)},N=r==="lb"?66:30,j=r==="lb"?440:200,B=.1,M=l?f:r==="lb"?a*2.20462:a,L=async H=>{try{const K=C.currentUser;K&&(await nf(K.uid,"weight",H),console.log("Weight saved to Firebase:",H)),n(H)}catch(K){console.error("Error saving weight:",K)}},F=H=>{c(!0),h(H[0])},$=async H=>{c(!1);const K=r==="lb"?H[0]/2.20462:H[0],Z=Math.round(K*100)/100;s(Z);const q=r==="lb"?(Z*2.20462).toFixed(1):Z.toFixed(1);v(q),await L(Z)};return u.jsxs(mt.div,{layout:!1,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"rounded-3xl p-8 shadow-xl h-[600px] overflow-hidden",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(Vne,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("h2",{className:"text-2xl mb-3",style:{color:"#102A43"},children:"How much do you weigh?"})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"inline-flex rounded-full p-1",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>i("kg"),className:"px-6 py-2 rounded-full transition-all flex items-center justify-center",style:{backgroundColor:r==="kg"?"#1C7C54":"transparent",color:r==="kg"?"white":"#102A43"},children:"kg"}),u.jsx("button",{onClick:()=>i("lb"),className:"px-6 py-2 rounded-full transition-all flex items-center justify-center",style:{backgroundColor:r==="lb"?"#1C7C54":"transparent",color:r==="lb"?"white":"#102A43"},children:"lb"})]})}),u.jsx("div",{className:"text-center mb-4",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 h-[100px] w-full",children:[u.jsx("input",{type:"text",inputMode:"decimal",value:E(),onChange:H=>I(H.target.value),onFocus:S,onBlur:T,className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-32",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:l?"#4A90A4":"#1C7C54",opacity:l?.8:1},readOnly:l}),u.jsx("span",{className:"text-5xl font-bold",style:{color:l?"#4A90A4":"#1C7C54",opacity:l?.8:1},children:r})]})}),u.jsx("div",{className:"text-center mb-6 h-[20px]",children:l?u.jsx("p",{className:"text-xs",style:{color:"#4A90A4",opacity:.8},children:"Preview - release to set"}):u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Tap number to edit or use slider below"})}),u.jsxs("div",{className:"px-4 mb-6",children:[u.jsx(RJ,{value:[M],onValueChange:F,onValueCommit:$,min:N,max:j,step:B,className:"mb-4"}),u.jsxs("div",{className:"flex justify-between text-xs",style:{color:"#102A43",opacity:.5},children:[u.jsx("span",{children:r==="lb"?"66 lb":"30 kg"}),u.jsx("span",{children:r==="lb"?"440 lb":"200 kg"})]})]}),u.jsx("p",{className:"text-center text-sm",style:{color:"#102A43",opacity:.6},children:"Don't have a scale? Enter your best estimate."})]})});function Q8e({value:t,onChange:e,onContinue:r}){const n=wr(),i=[{label:"Not Active",description:"Little to no exercise, desk job",value:"sedentary"},{label:"Lightly Active",description:"Exercise 1-3 days/week",value:"lightly-active"},{label:"Moderately Active",description:"Exercise 3-5 days/week",value:"moderately-active"},{label:"Very Active",description:"Exercise 6-7 days/week",value:"very-active"},{label:"Extremely Active",description:"Exercise 2× per day",value:"extremely-active"}],o=async a=>{e(a);try{const s=n.currentUser;s&&(await nf(s.uid,"activityLevel",a),console.log("Activity level saved to Firebase:",a))}catch(s){console.error("Error saving activity level:",s)}setTimeout(r,300)};return u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"How active are you? 💪"}),u.jsx("p",{className:"text-center mb-8",style:{color:"#102A43",opacity:.6},children:"This helps us calculate your daily calorie needs"}),u.jsx("div",{className:"space-y-3",children:i.map(a=>u.jsxs("button",{onClick:()=>o(a.value),className:"w-full p-5 rounded-2xl border-2 transition-all text-left",style:{backgroundColor:t===a.value?"#A8E6CF":"white",borderColor:t===a.value?"#1C7C54":"#A8E6CF"},children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:a.label}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:a.description})]},a.value))})]})}function Z8e({value:t,onChange:e,onContinue:r}){const n=wr(),i=[{label:"Lose Weight",description:"Lean out and reduce body fat",value:"lose",emoji:"🔥"},{label:"Maintain Weight",description:"Stay at current weight and build healthy habits",value:"maintain",emoji:"⚖️"},{label:"Gain Weight",description:"Build muscle and increase mass",value:"gain",emoji:"💪"}],o=async a=>{e(a);try{const s=n.currentUser;s&&(await nf(s.uid,"goals",a),console.log("Goal saved to Firebase:",a))}catch(s){console.error("Error saving goal:",s)}setTimeout(r,300)};return u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"What's your main goal?"}),u.jsx("p",{className:"text-center mb-8",style:{color:"#102A43",opacity:.6},children:"This helps us personalize your calorie and macro targets"}),u.jsx("div",{className:"space-y-3",children:i.map(a=>u.jsx("button",{onClick:()=>o(a.value),className:"w-full p-5 rounded-2xl border-2 transition-all text-left",style:{backgroundColor:t===a.value?"#A8E6CF":"white",borderColor:t===a.value?"#1C7C54":"#A8E6CF"},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:a.emoji}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:a.label}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:a.description})]})]})},a.value))})]})}function J8e({value:t,onChange:e,onContinue:r}){return u.jsxs(mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(CU,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("h2",{className:"text-2xl mb-3",style:{color:"#102A43"},children:"Reach your goals with notifications"}),u.jsx("p",{style:{color:"#102A43",opacity:.6},children:"Get timely updates to keep you motivated. You can turn off notifications anytime in Settings."})]}),u.jsx("div",{className:"p-4 rounded-2xl mb-8 shadow-md",style:{backgroundColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("img",{src:eh,alt:"FareFit",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:"FareFit"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Great job logging breakfast! You're 25% towards your protein goal."}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"now"})]})]})}),u.jsxs("div",{className:"flex items-center justify-between mb-8 p-4 rounded-2xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Enable Notifications"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"You can change this later"})]}),u.jsx(Ha,{checked:t,onCheckedChange:e})]}),u.jsx("button",{onClick:r,className:"w-full py-4 rounded-2xl text-white transition-all shadow-lg hover:shadow-xl flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Continue"})]})}function eFe({onContinue:t}){return u.jsxs(mt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"rounded-3xl p-8 shadow-xl text-center",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(TU,{className:"w-14 h-14",style:{color:"#1C7C54"}})}),u.jsx("h1",{className:"text-4xl mb-4",style:{color:"#102A43"},children:"You're all set!"}),u.jsx("p",{className:"text-lg mb-8",style:{color:"#102A43",opacity:.7},children:"Your personalized dashboard is ready. Let's start your fitness journey!"}),u.jsx("button",{onClick:t,className:"w-full py-5 rounded-2xl text-white text-lg transition-all shadow-lg hover:shadow-xl flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Go to Dashboard"})]})}function tFe({userName:t,onClose:e}){return u.jsxs(mt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mx-4 sm:mx-6 lg:mx-8 mt-4 rounded-2xl p-6 shadow-lg relative overflow-hidden",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-10",children:u.jsx(ane,{className:"w-full h-full",style:{color:"white"}})}),u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-white hover:bg-opacity-20 transition-all",children:u.jsx(Hh,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("h3",{className:"text-white text-2xl mb-2",children:["Welcome to FareFit, ",t,"! 🎉"]}),u.jsx("p",{className:"text-white opacity-90 mb-4",children:"You're all set! Your personalized dashboard is ready. Let's start tracking your fitness journey."}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),u.jsx("span",{children:"Track meals & macros"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),u.jsx("span",{children:"Log workouts"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),u.jsx("span",{children:"Get AI coaching"})]})]})]})]})}var kT="rovingFocusGroup.onEntryFocus",rFe={bubbles:!1,cancelable:!0},e0="RovingFocusGroup",[FP,DJ,nFe]=dO(e0),[iFe,MJ]=qo(e0,[nFe]),[oFe,aFe]=iFe(e0),FJ=k.forwardRef((t,e)=>u.jsx(FP.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(FP.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(sFe,{...t,ref:e})})}));FJ.displayName=e0;var sFe=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...h}=t,p=k.useRef(null),g=Lt(e,p),x=jw(o),[v,b]=ll({prop:a,defaultProp:s??null,onChange:l,caller:e0}),[_,C]=k.useState(!1),E=cl(c),P=DJ(r),I=k.useRef(!1),[S,T]=k.useState(0);return k.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(kT,E),()=>N.removeEventListener(kT,E)},[E]),u.jsx(oFe,{scope:r,orientation:n,dir:x,loop:i,currentTabStopId:v,onItemFocus:k.useCallback(N=>b(N),[b]),onItemShiftTab:k.useCallback(()=>C(!0),[]),onFocusableItemAdd:k.useCallback(()=>T(N=>N+1),[]),onFocusableItemRemove:k.useCallback(()=>T(N=>N-1),[]),children:u.jsx(xt.div,{tabIndex:_||S===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:dt(t.onMouseDown,()=>{I.current=!0}),onFocus:dt(t.onFocus,N=>{const j=!I.current;if(N.target===N.currentTarget&&j&&!_){const B=new CustomEvent(kT,rFe);if(N.currentTarget.dispatchEvent(B),!B.defaultPrevented){const M=P().filter(K=>K.focusable),L=M.find(K=>K.active),F=M.find(K=>K.id===v),H=[L,F,...M].filter(Boolean).map(K=>K.ref.current);VJ(H,f)}}I.current=!1}),onBlur:dt(t.onBlur,()=>C(!1))})})}),LJ="RovingFocusGroupItem",BJ=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=as(),c=o||l,f=aFe(LJ,r),h=f.currentTabStopId===c,p=DJ(r),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=f;return k.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),u.jsx(FP.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:u.jsx(xt.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...s,ref:e,onMouseDown:dt(t.onMouseDown,b=>{n?f.onItemFocus(c):b.preventDefault()}),onFocus:dt(t.onFocus,()=>f.onItemFocus(c)),onKeyDown:dt(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=uFe(b,f.orientation,f.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=p().filter(P=>P.focusable).map(P=>P.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const P=E.indexOf(b.currentTarget);E=f.loop?fFe(E,P+1):E.slice(P+1)}setTimeout(()=>VJ(E))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});BJ.displayName=LJ;var lFe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cFe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uFe(t,e,r){const n=cFe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lFe[n]}function VJ(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function fFe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var dFe=FJ,hFe=BJ,qw="Tabs",[pFe]=qo(qw,[MJ]),$J=MJ(),[mFe,LO]=pFe(qw),UJ=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,f=jw(s),[h,p]=ll({prop:n,onChange:i,defaultProp:o??"",caller:qw});return u.jsx(mFe,{scope:r,baseId:as(),value:h,onValueChange:p,orientation:a,dir:f,activationMode:l,children:u.jsx(xt.div,{dir:f,"data-orientation":a,...c,ref:e})})});UJ.displayName=qw;var zJ="TabsList",WJ=k.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,o=LO(zJ,r),a=$J(r);return u.jsx(dFe,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:u.jsx(xt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});WJ.displayName=zJ;var HJ="TabsTrigger",qJ=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=t,a=LO(HJ,r),s=$J(r),l=YJ(a.baseId,n),c=XJ(a.baseId,n),f=n===a.value;return u.jsx(hFe,{asChild:!0,...s,focusable:!i,active:f,children:u.jsx(xt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:dt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:dt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:dt(t.onFocus,()=>{const h=a.activationMode!=="manual";!f&&!i&&h&&a.onValueChange(n)})})})});qJ.displayName=HJ;var GJ="TabsContent",KJ=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...a}=t,s=LO(GJ,r),l=YJ(s.baseId,n),c=XJ(s.baseId,n),f=n===s.value,h=k.useRef(f);return k.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Fc,{present:i||f,children:({present:p})=>u.jsx(xt.div,{"data-state":f?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});KJ.displayName=GJ;function YJ(t,e){return`${t}-trigger-${e}`}function XJ(t,e){return`${t}-content-${e}`}var gFe=UJ,yFe=WJ,vFe=qJ,xFe=KJ;function QJ({className:t,...e}){return u.jsx(gFe,{"data-slot":"tabs",className:St("flex flex-col gap-2",t),...e})}function ZJ({className:t,...e}){return u.jsx(yFe,{"data-slot":"tabs-list",className:St("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Vu({className:t,...e}){return u.jsx(vFe,{"data-slot":"tabs-trigger",className:St("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function $u({className:t,...e}){return u.jsx(xFe,{"data-slot":"tabs-content",className:St("flex-1 outline-none",t),...e})}var[Gw]=qo("Tooltip",[Lw]),Kw=Lw(),JJ="TooltipProvider",bFe=700,LP="tooltip.open",[wFe,BO]=Gw(JJ),eee=t=>{const{__scopeTooltip:e,delayDuration:r=bFe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:o}=t,a=k.useRef(!0),s=k.useRef(!1),l=k.useRef(0);return k.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(wFe,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:k.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:k.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};eee.displayName=JJ;var py="Tooltip",[_Fe,t0]=Gw(py),tee=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,l=BO(py,t.__scopeTooltip),c=Kw(e),[f,h]=k.useState(null),p=as(),g=k.useRef(0),x=a??l.disableHoverableContent,v=s??l.delayDuration,b=k.useRef(!1),[_,C]=ll({prop:n,defaultProp:i??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(LP))):l.onClose(),o?.(T)},caller:py}),E=k.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),P=k.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,C(!0)},[C]),I=k.useCallback(()=>{window.clearTimeout(g.current),g.current=0,C(!1)},[C]),S=k.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,C(!0),g.current=0},v)},[v,C]);return k.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),u.jsx(rZ,{...c,children:u.jsx(_Fe,{scope:e,contentId:p,open:_,stateAttribute:E,trigger:f,onTriggerChange:h,onTriggerEnter:k.useCallback(()=>{l.isOpenDelayedRef.current?S():P()},[l.isOpenDelayedRef,S,P]),onTriggerLeave:k.useCallback(()=>{x?I():(window.clearTimeout(g.current),g.current=0)},[I,x]),onOpen:P,onClose:I,disableHoverableContent:x,children:r})})};tee.displayName=py;var BP="TooltipTrigger",ree=k.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=t0(BP,r),o=BO(BP,r),a=Kw(r),s=k.useRef(null),l=Lt(e,s,i.onTriggerChange),c=k.useRef(!1),f=k.useRef(!1),h=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(nZ,{asChild:!0,...a,children:u.jsx(xt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:dt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:dt(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:dt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:dt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:dt(t.onBlur,i.onClose),onClick:dt(t.onClick,i.onClose)})})});ree.displayName=BP;var VO="TooltipPortal",[AFe,CFe]=Gw(VO,{forceMount:void 0}),nee=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,o=t0(VO,e);return u.jsx(AFe,{scope:e,forceMount:r,children:u.jsx(Fc,{present:r||o.open,children:u.jsx(zb,{asChild:!0,container:i,children:n})})})};nee.displayName=VO;var Uh="TooltipContent",iee=k.forwardRef((t,e)=>{const r=CFe(Uh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=t,a=t0(Uh,t.__scopeTooltip);return u.jsx(Fc,{present:n||a.open,children:a.disableHoverableContent?u.jsx(oee,{side:i,...o,ref:e}):u.jsx(EFe,{side:i,...o,ref:e})})}),EFe=k.forwardRef((t,e)=>{const r=t0(Uh,t.__scopeTooltip),n=BO(Uh,t.__scopeTooltip),i=k.useRef(null),o=Lt(e,i),[a,s]=k.useState(null),{trigger:l,onClose:c}=r,f=i.current,{onPointerInTransitChange:h}=n,p=k.useCallback(()=>{s(null),h(!1)},[h]),g=k.useCallback((x,v)=>{const b=x.currentTarget,_={x:x.clientX,y:x.clientY},C=NFe(_,b.getBoundingClientRect()),E=PFe(_,C),P=kFe(v.getBoundingClientRect()),I=jFe([...E,...P]);s(I),h(!0)},[h]);return k.useEffect(()=>()=>p(),[p]),k.useEffect(()=>{if(l&&f){const x=b=>g(b,f),v=b=>g(b,l);return l.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[l,f,g,p]),k.useEffect(()=>{if(a){const x=v=>{const b=v.target,_={x:v.clientX,y:v.clientY},C=l?.contains(b)||f?.contains(b),E=!OFe(_,a);C?p():E&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,f,a,c,p]),u.jsx(oee,{...t,ref:o})}),[SFe,TFe]=Gw(py,{isInside:!1}),IFe=qq("TooltipContent"),oee=k.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=t0(Uh,r),c=Kw(r),{onClose:f}=l;return k.useEffect(()=>(document.addEventListener(LP,f),()=>document.removeEventListener(LP,f)),[f]),k.useEffect(()=>{if(l.trigger){const h=p=>{p.target?.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),u.jsx(Ub,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:u.jsxs(iZ,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(IFe,{children:n}),u.jsx(SFe,{scope:r,isInside:!0,children:u.jsx(Gje,{id:l.contentId,role:"tooltip",children:i||n})})]})})});iee.displayName=Uh;var aee="TooltipArrow",see=k.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Kw(r);return TFe(aee,r).isInside?null:u.jsx(oZ,{...i,...n,ref:e})});see.displayName=aee;function NFe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function PFe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function kFe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function OFe(t,e){const{x:r,y:n}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,f=s.y,h=l.x,p=l.y;f>n!=p>n&&r<(h-c)*(n-f)/(p-f)+c&&(i=!i)}return i}function jFe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),RFe(e)}function RFe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var DFe=eee,MFe=tee,FFe=ree,LFe=nee,BFe=iee,VFe=see;function lee({delayDuration:t=0,...e}){return u.jsx(DFe,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function $Fe({...t}){return u.jsx(lee,{children:u.jsx(MFe,{"data-slot":"tooltip",...t})})}function UFe({...t}){return u.jsx(FFe,{"data-slot":"tooltip-trigger",...t})}function zFe({className:t,sideOffset:e=0,children:r,...n}){return u.jsx(LFe,{children:u.jsxs(BFe,{"data-slot":"tooltip-content",sideOffset:e,className:St("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,u.jsx(VFe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function WFe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function HFe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var qFe=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),GFe=(function(t){qFe(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),WFe(o,i.prototype),HFe(o),o}return e})(Error),KFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zi=(function(t){KFe(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(GFe),YFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oa=(function(t){YFe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(zi),XFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),st=(function(t){XFe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(zi),QFe=(function(){function t(e){if(this.binarizer=e,e===null)throw new st("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),ZFe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Rn=(function(t){ZFe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(zi),JFe=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),br=(function(){function t(){}return t.arraycopy=function(e,r,n,i,o){for(;o--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),eLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$O=(function(t){eLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(zi),tLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),O$=(function(t){tLe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})($O),rLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vn=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new st("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new O$(r);if(n>e)throw new O$(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var o=rLe(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=31*i+s}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,o=new Int32Array(i);return br.arraycopy(e,r,o,0,i),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=n(r,e[a]);if(s>0)i=a+1;else if(s<0)o=a-1;else return a}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),Ot=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Dn=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);br.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=n[i]}var s=i*32+Ot.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=~n[i]}var s=i*32+Ot.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new st;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,a=n;a<=i;a++){var s=a>n?0:e&31,l=a<i?31:r&31,c=(2<<l)-(1<<s);o[a]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new st;if(r===e)return!0;r--;for(var i=Math.floor(e/32),o=Math.floor(r/32),a=this.bits,s=i;s<=o;s++){var l=s>i?0:e&31,c=s<o?31:r&31,f=(2<<c)-(1<<l)&4294967295;if((a[s]&f)!==(n?f:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new st("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new st("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;r[n+o]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,o=0;o<n;o++){var a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[r-o]=a}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,o=1;o<n;o++){var c=e[o];l|=c<<32-s,e[o-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&vn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+vn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),VP;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(VP||(VP={}));const Fr=VP;var nLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Me=(function(t){nLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(zi),iLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ar;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(ar||(ar={}));var gn=(function(){function t(e,r,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,f=l.length;c!==f;c++){var h=l[c];t.VALUES_TO_ECI.set(h,this)}try{for(var p=iLe(a),g=p.next();!g.done;g=p.next()){var x=g.value;t.NAME_TO_ECI.set(x,this)}}catch(v){i={error:v}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Me("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Me("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Me("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(ar.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(ar.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(ar.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(ar.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(ar.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(ar.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(ar.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(ar.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(ar.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(ar.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(ar.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(ar.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(ar.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(ar.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(ar.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(ar.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(ar.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(ar.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(ar.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(ar.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(ar.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(ar.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(ar.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(ar.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(ar.Big5,28,"Big5"),t.GB18030=new t(ar.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(ar.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),oLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),E1=(function(t){oLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(zi),Uo=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof gn?e:gn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(gn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new E1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(gn.UTF8)||e.equals(gn.ISO8859_1)||e.equals(gn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},t})(),Vt=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Uo.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Fr.CHARACTER_SET)!==void 0)return r.get(Fr.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,a=!0,s=0,l=0,c=0,f=0,h=0,p=0,g=0,x=0,v=0,b=0,_=0,C=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,E=0;E<n&&(i||o||a);E++){var P=e[E]&255;a&&(s>0?(P&128)===0?a=!1:s--:(P&128)!==0&&((P&64)===0?a=!1:(s++,(P&32)===0?l++:(s++,(P&16)===0?c++:(s++,(P&8)===0?f++:a=!1))))),i&&(P>127&&P<160?i=!1:P>159&&(P<192||P===215||P===247)&&_++),o&&(h>0?P<64||P===127||P>252?o=!1:h--:P===128||P===160||P>239?o=!1:P>160&&P<224?(p++,x=0,g++,g>v&&(v=g)):P>127?(h++,g=0,x++,x>b&&(b=x)):(g=0,x=0))}return a&&s>0&&(a=!1),o&&h>0&&(o=!1),a&&(C||l+c+f>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||v>=3||b>=3)?t.SHIFT_JIS:i&&o?v===2&&p===2||_*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function o(s,l,c,f,h,p){if(s==="%%")return"%";if(r[++i]!==void 0){s=f?parseInt(f.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,x;switch(p){case"s":x=r[i];break;case"c":x=r[i][0];break;case"f":x=parseFloat(r[i]).toFixed(s);break;case"p":x=parseFloat(r[i]).toPrecision(s);break;case"e":x=parseFloat(r[i]).toExponential(s);break;case"x":x=parseInt(r[i]).toString(g||16);break;case"d":x=parseFloat(parseInt(r[i],g||10).toPrecision(s)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(g);for(var v=parseInt(c),b=c&&c[0]+""=="0"?"0":" ";x.length<v;)x=l!==void 0?x+b:b+x;return x}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},t.getBytes=function(e,r){return Uo.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=gn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=gn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=gn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Nt=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Vt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),gs=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new st("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var a=e[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,r,n){if(e===null)throw new st("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new st("row lengths do not match");a=o,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[o]=!0,o++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!1,o++;else throw new st("illegal character encountered: "+e.substring(c));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new st("row lengths do not match");l++}for(var f=new t(s,l),h=0;h<o;h++)i[h]&&f.set(Math.floor(h%s),Math.floor(h/s));return f},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new st("input matrix dimensions do not match");for(var r=new Dn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*n,l=e.getRow(o,r).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new st("Left and top must be nonnegative");if(i<1||n<1)throw new st("Height and width must be at least 1");var o=e+n,a=r+i;if(a>this.height||o>this.width)throw new st("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=r;c<a;c++)for(var f=c*s,h=e;h<o;h++)l[f+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Dn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,o=e*n,a=0;a<n;a++)r.setBulk(a*32,i[o+a]);return r},t.prototype.setRow=function(e,r){br.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Dn(e),i=new Dn(e),o=0,a=Math.floor((r+1)/2);o<a;o++)n=this.getRow(o,n),i=this.getRow(r-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,o=e,a=r,s=-1,l=-1,c=0;c<r;c++)for(var f=0;f<n;f++){var h=i[c*n+f];if(h!==0){if(c<a&&(a=c),c>l&&(l=c),f*32<o){for(var p=0;(h<<31-p&4294967295)===0;)p++;f*32+p<o&&(o=f*32+p)}if(f*32+31>s){for(var p=31;!(h>>>p);)p--;f*32+p>s&&(s=f*32+p)}}}return s<o||l<a?null:Int32Array.from([o,a,s-o+1,l-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,o=n%e*32,a=r[n],s=0;(a<<31-s&4294967295)===0;)s++;return o+=s,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,a=r[n],s=31;!(a>>>s);)s--;return o+=s,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&vn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+vn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Nt,o=0,a=this.height;o<a;o++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,o)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),aLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xe=(function(t){aLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(zi),sLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lLe=(function(t){sLe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new Dn(o):n.clear(),this.initArrays(o);for(var a=i.getRow(r,this.luminances),s=this.buckets,l=0;l<o;l++)s[(a[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(o<3)for(var l=0;l<o;l++)(a[l]&255)<c&&n.set(l);else for(var f=a[0]&255,h=a[1]&255,l=1;l<o-1;l++){var p=a[l+1]&255;(h*4-f-p)/2<c&&n.set(l),f=h,h=p}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),o=new gs(n,i);this.initArrays(n);for(var a=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=r.getRow(l,this.luminances),f=Math.floor(n*4/5),h=Math.floor(n/5);h<f;h++){var p=c[h]&255;a[p>>e.LUMINANCE_SHIFT]++}for(var g=e.estimateBlackPoint(a),x=r.getMatrix(),s=0;s<i;s++)for(var v=s*n,h=0;h<n;h++){var p=x[v+h]&255;p<g&&o.set(h,s)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,o=0,a=0,s=0;s<n;s++)r[s]>a&&(o=s,a=r[s]),r[s]>i&&(i=r[s]);for(var l=0,c=0,s=0;s<n;s++){var f=s-o,h=r[s]*f*f;h>c&&(l=s,c=h)}if(o>l){var p=o;o=l,l=p}if(l-o<=n/16)throw new xe;for(var g=l-1,x=-1,s=l-1;s>o;s--){var v=s-o,h=v*v*(l-s)*(i-r[s]);h>x&&(g=s,x=h)}return g<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(JFe),cLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),uLe=(function(t){cLe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&a++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var l=e.calculateBlackPoints(o,a,s,n,i),c=new gs(n,i);e.calculateThresholdForBlock(o,a,s,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,o,a,s,l){for(var c=a-e.BLOCK_SIZE,f=o-e.BLOCK_SIZE,h=0;h<i;h++){var p=h<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var g=e.cap(h,2,i-3),x=0;x<n;x++){var v=x<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var b=e.cap(x,2,n-3),_=0,C=-2;C<=2;C++){var E=s[g+C];_+=E[b-2]+E[b-1]+E[b]+E[b+1]+E[b+2]}var P=_/25;e.thresholdBlock(r,v,p,P,o,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,o,a,s){for(var l=0,c=i*a+n;l<e.BLOCK_SIZE;l++,c+=a)for(var f=0;f<e.BLOCK_SIZE;f++)(r[c+f]&255)<=o&&s.set(n+f,i+l)},e.calculateBlackPoints=function(r,n,i,o,a){for(var s=a-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,c=new Array(i),f=0;f<i;f++){c[f]=new Int32Array(n);var h=f<<e.BLOCK_SIZE_POWER;h>s&&(h=s);for(var p=0;p<n;p++){var g=p<<e.BLOCK_SIZE_POWER;g>l&&(g=l);for(var x=0,v=255,b=0,_=0,C=h*o+g;_<e.BLOCK_SIZE;_++,C+=o){for(var E=0;E<e.BLOCK_SIZE;E++){var P=r[C+E]&255;x+=P,P<v&&(v=P),P>b&&(b=P)}if(b-v>e.MIN_DYNAMIC_RANGE)for(_++,C+=o;_<e.BLOCK_SIZE;_++,C+=o)for(var E=0;E<e.BLOCK_SIZE;E++)x+=r[C+E]&255}var I=x>>e.BLOCK_SIZE_POWER*2;if(b-v<=e.MIN_DYNAMIC_RANGE&&(I=v/2,f>0&&p>0)){var S=(c[f-1][p]+2*c[f][p-1]+c[f-1][p-1])/4;v<S&&(I=S)}c[f][p]=I}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(lLe),Yw=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new E1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new E1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new E1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Nt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var a=i[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t})(),fLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),UO=(function(t){fLe(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(r[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,o){return new e(this.delegate.crop(r,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Yw),dLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hLe=(function(t){dLe(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var a=0,s=0,l=r.length;a<l;a+=4,s++){var c=void 0,f=r[a+3];if(f===0)c=255;else{var h=r[a],p=r[a+1],g=r[a+2];c=306*h+601*p+117*g+512>>10}o[s]=c}else for(var a=0,s=0,x=r.length;a<x;a+=4,s++){var c=void 0,f=r[a+3];if(f===0)c=255;else{var h=r[a],p=r[a+1],g=r[a+2];c=306*h+601*p+117*g+512>>10}o[s]=255-c}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new st("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),c=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new UO(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Yw),pLe=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),mi=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(h){a(h)}}function l(f){try{c(n.throw(f))}catch(h){a(h)}}function c(f){f.done?o(f.value):i(f.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},gi=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},mLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xp=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return mi(this,void 0,void 0,function(){var e,r,n,i,o,a,s,l,c,f,h,p;return gi(this,function(g){switch(g.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),r=[];try{for(n=mLe(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,l=o.label||"Video device "+(r.length+1),c=o.groupId,f={deviceId:s,label:l,kind:a,groupId:c},r.push(f))}catch(x){h={error:x}}finally{try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(h)throw h.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return mi(this,void 0,void 0,function(){var e;return gi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new pLe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return mi(this,void 0,void 0,function(){var r;return gi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return mi(this,void 0,void 0,function(){return gi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return mi(this,void 0,void 0,function(){var n,i;return gi(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return mi(this,void 0,void 0,function(){var n;return gi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return mi(this,void 0,void 0,function(){var n,i;return gi(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return mi(this,void 0,void 0,function(){return gi(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return mi(this,void 0,void 0,function(){var i,o;return gi(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return mi(this,void 0,void 0,function(){var i;return gi(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return mi(this,void 0,void 0,function(){var i;return gi(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return mi(this,void 0,void 0,function(){var n;return gi(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return mi(this,void 0,void 0,function(){return gi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new oa("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new oa("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new oa("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new oa("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new oa("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new oa("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new oa("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new oa("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new oa("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new oa("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return mi(this,void 0,void 0,function(){return gi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return mi(this,void 0,void 0,function(){return gi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode){s(new xe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);a(l)}catch(p){var c=r&&p instanceof xe,f=p instanceof Rn||p instanceof Me,h=f&&n;if(c||h)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(p)}};return new Promise(function(a,s){return o(a,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var a=l instanceof Rn||l instanceof Me,s=l instanceof xe;(a||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new hLe(r),i=new uLe(n);return new QFe(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),di=(function(){function t(e,r,n,i,o,a){n===void 0&&(n=r==null?0:8*r.length),a===void 0&&(a=br.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=br.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);br.arraycopy(r,0,n,0,r.length),br.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),$P;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($P||($P={}));const it=$P;var UP;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(UP||(UP={}));const Kn=UP;var Xw=(function(){function t(e,r,n,i,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Bm=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new st;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),mc=(function(){function t(e,r){if(r.length===0)throw new st;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),br.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,o=r.length;i!==o;i++){var a=r[i];n=Bm.addOrSubtract(n,a)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=Bm.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new st("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;br.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=Bm.addOrSubtract(r[s-a],n[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new st("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,l=0;l<n;l++)for(var c=r[l],f=0;f<o;f++)a[l+f]=Bm.addOrSubtract(a[l+f],s.multiply(c,i[f]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(o[a],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new st;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],r);return new t(a,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new st("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new st("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=r.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),a),c=e.multiplyByMonomial(s,l),f=r.buildMonomial(s,l);n=n.addOrSubtract(f),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),gLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cee=(function(t){gLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(zi),yLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Di=(function(t){yLe(e,t);function e(r,n,i){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=i;for(var a=new Int32Array(n),s=1,l=0;l<n;l++)a[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);o.expTable=a;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[a[l]]=l;return o.logTable=c,o.zero=new mc(o,Int32Array.from([0])),o.one=new mc(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new st;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new mc(this,i)},e.prototype.inverse=function(r){if(r===0)throw new cee;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ot.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Bm),vLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qv=(function(t){vLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(zi),xLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),r0=(function(t){xLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(zi),Qw=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new mc(n,e),o=new Int32Array(r),a=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=l,l!==0&&(a=!1)}if(!a)for(var c=new mc(n,o),f=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),h=f[0],p=f[1],g=this.findErrorLocations(h),x=this.findErrorMagnitudes(p,g),s=0;s<g.length;s++){var v=e.length-1-n.log(g[s]);if(v<0)throw new Qv("Bad error location");e[v]=Di.addOrSubtract(e[v],x[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=this.field,a=e,s=r,l=o.getZero(),c=o.getOne();s.getDegree()>=(n/2|0);){var f=a,h=l;if(a=s,l=c,a.isZero())throw new Qv("r_{i-1} was zero");s=f;for(var p=o.getZero(),g=a.getCoefficient(a.getDegree()),x=o.inverse(g);s.getDegree()>=a.getDegree()&&!s.isZero();){var v=s.getDegree()-a.getDegree(),b=o.multiply(s.getCoefficient(s.getDegree()),x);p=p.addOrSubtract(o.buildMonomial(v,b)),s=s.addOrSubtract(a.multiplyByMonomial(v,b))}if(c=p.multiply(l).addOrSubtract(h),s.getDegree()>=a.getDegree())throw new r0("Division algorithm failed to reduce polynomial?")}var _=c.getCoefficient(0);if(_===0)throw new Qv("sigmaTilde(0) was zero");var C=o.inverse(_),E=c.multiplyScalar(C),P=s.multiplyScalar(C);return[E,P]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,o=this.field,a=1;a<o.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=o.inverse(a),i++);if(i!==r)throw new Qv("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),o=this.field,a=0;a<n;a++){for(var s=o.inverse(r[a]),l=1,c=0;c<n;c++)if(a!==c){var f=o.multiply(r[c],s),h=(f&1)===0?f|1:f&-2;l=o.multiply(l,h)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(l)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],s))}return i},t})(),$n;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})($n||($n={}));var j$=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new Xw(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=$n.UPPER,i=$n.UPPER,o="",a=0;a<r;)if(i===$n.BINARY){if(r-a<5)break;var s=t.readCode(e,a,5);if(a+=5,s===0){if(r-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var l=0;l<s;l++){if(r-a<8){a=r;break}var c=t.readCode(e,a,8);o+=Vt.castAsNonUtf8Char(c),a+=8}i=n}else{var f=i===$n.DIGIT?4:5;if(r-a<f)break;var c=t.readCode(e,a,f);a+=f;var h=t.getCharacter(i,c);h.startsWith("CTRL_")?(n=i,i=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(n=i)):(o+=h,i=n)}return o},t.getTable=function(e){switch(e){case"L":return $n.LOWER;case"P":return $n.PUNCT;case"M":return $n.MIXED;case"D":return $n.DIGIT;case"B":return $n.BINARY;case"U":default:return $n.UPPER}},t.getCharacter=function(e,r){switch(e){case $n.UPPER:return t.UPPER_TABLE[r];case $n.LOWER:return t.LOWER_TABLE[r];case $n.MIXED:return t.MIXED_TABLE[r];case $n.PUNCT:return t.PUNCT_TABLE[r];case $n.DIGIT:return t.DIGIT_TABLE[r];default:throw new r0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Di.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Di.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Di.AZTEC_DATA_10):(n=12,r=Di.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new Me;for(var a=e.length%n,s=new Int32Array(o),l=0;l<o;l++,a+=n)s[l]=t.readCode(e,a,n);try{var c=new Qw(r);c.decode(s,o-i)}catch(b){throw new Me(b)}for(var f=(1<<n)-1,h=0,l=0;l<i;l++){var p=s[l];if(p===0||p===f)throw new Me;(p===1||p===f-1)&&h++}for(var g=new Array(i*n-h),x=0,l=0;l<i;l++){var p=s[l];if(p===1||p===f-1)g.fill(p>1,x,x+n-1),x+=n-1;else for(var v=n-1;v>=0;--v)g[x++]=(p&1<<v)!==0}return g},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<o.length;s++)o[s]=s;else for(var l=i+1+2*Ot.truncDivision(Ot.truncDivision(i,2)-1,15),c=i/2,f=Ot.truncDivision(l,2),s=0;s<c;s++){var h=s+Ot.truncDivision(s,15);o[c-s-1]=f-h-1,o[c+s]=f+h+1}for(var s=0,p=0;s<n;s++){for(var g=(n-s)*4+(r?9:12),x=s*2,v=i-1-x,b=0;b<g;b++)for(var _=b*2,C=0;C<2;C++)a[p+_+C]=e.get(o[x+C],o[x+b]),a[p+2*g+_+C]=e.get(o[x+b],o[v-C]),a[p+4*g+_+C]=e.get(o[v-C],o[v-b]),a[p+6*g+_+C]=e.get(o[v-b],o[x+C]);p+=g*8}return a},t.readCode=function(e,r,n){for(var i=0,o=r;o<r+n;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),Ht=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var o=e-n,a=r-i;return Math.sqrt(o*o+a*a)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var o=e[n];r+=o}return r},t})(),zP=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Qe=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*zP.floatToIntBits(this.x)+zP.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,a,s;if(n>=r&&n>=i?(a=e[0],o=e[1],s=e[2]):i>=n&&i>=r?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var l=o;o=s,s=l}e[0]=o,e[1]=a,e[2]=s},t.distance=function(e,r){return Ht.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,o=r.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},t})(),zO=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),bLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wLe=(function(t){bLe(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(zO),WP=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,l=!1,c=!1,f=!1,h=!1,p=this.width,g=this.height;a;){a=!1;for(var x=!0;(x||!l)&&r<p;)x=this.containsBlackPoint(n,i,r,!1),x?(r++,a=!0,l=!0):l||r++;if(r>=p){o=!0;break}for(var v=!0;(v||!c)&&i<g;)v=this.containsBlackPoint(e,r,i,!0),v?(i++,a=!0,c=!0):c||i++;if(i>=g){o=!0;break}for(var b=!0;(b||!f)&&e>=0;)b=this.containsBlackPoint(n,i,e,!1),b?(e--,a=!0,f=!0):f||e--;if(e<0){o=!0;break}for(var _=!0;(_||!h)&&n>=0;)_=this.containsBlackPoint(e,r,n,!0),_?(n--,a=!0,h=!0):h||n--;if(n<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var C=r-e,E=null,P=1;E===null&&P<C;P++)E=this.getBlackPointOnSegment(e,i-P,e+P,i);if(E==null)throw new xe;for(var I=null,P=1;I===null&&P<C;P++)I=this.getBlackPointOnSegment(e,n+P,e+P,n);if(I==null)throw new xe;for(var S=null,P=1;S===null&&P<C;P++)S=this.getBlackPointOnSegment(r,n+P,r-P,n);if(S==null)throw new xe;for(var T=null,P=1;T===null&&P<C;P++)T=this.getBlackPointOnSegment(r,i-P,r-P,i);if(T==null)throw new xe;return this.centerEdges(T,E,S,I)}else throw new xe},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var o=Ht.round(Ht.distance(e,r,n,i)),a=(n-e)/o,s=(i-r)/o,l=this.image,c=0;c<o;c++){var f=Ht.round(e+c*a),h=Ht.round(r+c*s);if(l.get(f,h))return new Qe(f,h)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),a=e.getY(),s=r.getX(),l=r.getY(),c=n.getX(),f=n.getY(),h=i.getX(),p=i.getY(),g=t.CORR;return o<this.width/2?[new Qe(h-g,p+g),new Qe(s+g,l+g),new Qe(c-g,f-g),new Qe(o+g,a-g)]:[new Qe(h+g,p+g),new Qe(s+g,l-g),new Qe(c-g,f+g),new Qe(o-g,a-g)]},t.prototype.containsBlackPoint=function(e,r,n,i){var o=this.image;if(i){for(var a=e;a<=r;a++)if(o.get(a,n))return!0}else for(var s=e;s<=r;s++)if(o.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),R$=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<r.length&&o;a+=2){var s=Math.floor(r[a]),l=Math.floor(r[a+1]);if(s<-1||s>n||l<-1||l>i)throw new xe;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),l===-1?(r[a+1]=0,o=!0):l===i&&(r[a+1]=i-1,o=!0)}o=!0;for(var a=r.length-2;a>=0&&o;a-=2){var s=Math.floor(r[a]),l=Math.floor(r[a+1]);if(s<-1||s>n||l<-1||l>i)throw new xe;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),l===-1?(r[a+1]=0,o=!0):l===i&&(r[a+1]=i-1,o=!0)}},t})(),uee=(function(){function t(e,r,n,i,o,a,s,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,a,s,l,c,f,h,p,g,x,v,b){var _=t.quadrilateralToSquare(e,r,n,i,o,a,s,l),C=t.squareToQuadrilateral(c,f,h,p,g,x,v,b);return C.times(_)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,l=this.a23,c=this.a31,f=this.a32,h=this.a33,p=0;p<r;p+=2){var g=e[p],x=e[p+1],v=o*g+l*x+h;e[p]=(n*g+a*x+c)/v,e[p+1]=(i*g+s*x+f)/v}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,l=this.a23,c=this.a31,f=this.a32,h=this.a33,p=e.length,g=0;g<p;g++){var x=e[g],v=r[g],b=o*x+l*v+h;e[g]=(n*x+a*v+c)/b,r[g]=(i*x+s*v+f)/b}},t.squareToQuadrilateral=function(e,r,n,i,o,a,s,l){var c=e-n+o-s,f=r-i+a-l;if(c===0&&f===0)return new t(n-e,o-n,e,i-r,a-i,r,0,0,1);var h=n-o,p=s-o,g=i-a,x=l-a,v=h*x-p*g,b=(c*x-p*f)/v,_=(h*f-c*g)/v;return new t(n-e+b*n,s-e+_*s,e,i-r+b*i,l-r+_*l,r,b,_,1)},t.quadrilateralToSquare=function(e,r,n,i,o,a,s,l){return t.squareToQuadrilateral(e,r,n,i,o,a,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),_Le=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ALe=(function(t){_Le(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,o,a,s,l,c,f,h,p,g,x,v,b,_,C,E,P){var I=uee.quadrilateralToQuadrilateral(o,a,s,l,c,f,h,p,g,x,v,b,_,C,E,P);return this.sampleGridWithTransform(r,n,i,I)},e.prototype.sampleGridWithTransform=function(r,n,i,o){if(n<=0||i<=0)throw new xe;for(var a=new gs(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,f=l+.5,h=0;h<c;h+=2)s[h]=h/2+.5,s[h+1]=f;o.transformPoints(s),R$.checkAndNudgePoints(r,s);try{for(var h=0;h<c;h+=2)r.get(Math.floor(s[h]),Math.floor(s[h+1]))&&a.set(h/2,l)}catch{throw new xe}}return a},e})(R$),WO=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new ALe,t})(),Ni=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Qe(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),CLe=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new wLe(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new xe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,o=0;o<4;o++){var a=n[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,a,s){var l=(o>>r-2<<1)+(o&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Ot.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new xe},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var o=n-i,a=new Int32Array(n),s=n-1;s>=0;--s)a[s]=e&15,e>>=4;try{var l=new Qw(Di.AZTEC_PARAM);l.decode(a,o)}catch{throw new xe}for(var c=0,s=0;s<i;s++)c=(c<<4)+a[s];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,a,1,-1),l=this.getFirstDifferent(n,a,1,1),c=this.getFirstDifferent(i,a,-1,1),f=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(f,s)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(s,l,c,f))break}r=s,n=l,i=c,o=f,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;var p=new Qe(r.getX()+.5,r.getY()-.5),g=new Qe(n.getX()+.5,n.getY()+.5),x=new Qe(i.getX()-.5,i.getY()+.5),v=new Qe(o.getX()-.5,o.getY()-.5);return this.expandSquare([p,g,x,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var o=new WP(this.image).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ni(a+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ni(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ni(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ni(a-7,s-7),!1,-1,-1).toResultPoint()}var l=Ht.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=Ht.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var o=new WP(this.image,15,l,c).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new Ni(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ni(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ni(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ni(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ht.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=Ht.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Ni(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,o){var a=WO.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,o=this.distanceResultPoint(e,r),a=o/n,s=e.getX(),l=e.getY(),c=a*(r.getX()-e.getX())/o,f=a*(r.getY()-e.getY())/o,h=0;h<n;h++)this.image.get(Ht.round(s+h*c),Ht.round(l+h*f))&&(i|=1<<n-h-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var o=3;e=new Ni(e.getX()-o,e.getY()+o),r=new Ni(r.getX()-o,r.getY()-o),n=new Ni(n.getX()+o,n.getY()-o),i=new Ni(i.getX()+o,i.getY()+o);var a=this.getColor(i,e);if(a===0)return!1;var s=this.getColor(e,r);return s!==a||(s=this.getColor(r,n),s!==a)?!1:(s=this.getColor(n,i),s===a)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,a=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),f=Math.ceil(n),h=0;h<f;h++)s+=i,l+=o,this.image.get(Ht.round(s),Ht.round(l))!==c&&a++;var p=a/n;return p>.1&&p<.9?0:p<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var o=e.getX()+n,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n,a+=i;for(o-=n,a-=i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===r;)a+=i;return a-=i,new Ni(o,a)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Qe(s+i*o,l+i*a),f=new Qe(s-i*o,l-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var h=new Qe(s+i*o,l+i*a),p=new Qe(s-i*o,l-i*a),g=[c,h,f,p];return g},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Ht.round(e.getX()),n=Ht.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Ht.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Ht.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ot.truncDivision(this.nbLayers-4,8)+1)+15},t})(),HP=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new CLe(e.getBlackMatrix()),o=null,a=null;try{var s=i.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new j$().decode(s)}catch(h){n=h}if(a==null)try{var s=i.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new j$().decode(s)}catch(h){throw n??h}var l=new di(a.getText(),a.getRawBytes(),a.getNumBits(),o,it.AZTEC,br.currentTimeMillis()),c=a.getByteSegments();c!=null&&l.putMetadata(Kn.BYTE_SEGMENTS,c);var f=a.getECLevel();return f!=null&&l.putMetadata(Kn.ERROR_CORRECTION_LEVEL,f),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Fr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,o,a){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),ELe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){ELe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new HP,r)||this}return e})(xp);var wn=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Fr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,r),a=o.getResultMetadata(),s=270;a!==null&&a.get(Kn.ORIENTATION)===!0&&(s=s+a.get(Kn.ORIENTATION)%360),o.putMetadata(Kn.ORIENTATION,s);var l=o.getResultPoints();if(l!==null)for(var c=i.getHeight(),f=0;f<l.length;f++)l[f]=new Qe(c-l[f].getY()-1,l[f].getX());return o}else throw new xe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),o=new Dn(n),a=r&&r.get(Fr.TRY_HARDER)===!0,s=Math.max(1,i>>(a?8:5)),l;a?l=i:l=15;for(var c=Math.trunc(i/2),f=0;f<l;f++){var h=Math.trunc((f+1)/2),p=(f&1)===0,g=c+s*(p?h:-h);if(g<0||g>=i)break;try{o=e.getBlackRow(g,o)}catch{continue}for(var x=function(C){if(C===1&&(o.reverse(),r&&r.get(Fr.NEED_RESULT_POINT_CALLBACK)===!0)){var E=new Map;r.forEach(function(S,T){return E.set(T,S)}),E.delete(Fr.NEED_RESULT_POINT_CALLBACK),r=E}try{var P=v.decodeRow(g,o,r);if(C===1){P.putMetadata(Kn.ORIENTATION,180);var I=P.getResultPoints();I!==null&&(I[0]=new Qe(n-I[0].getX()-1,I[0].getY()),I[1]=new Qe(n-I[1].getX()-1,I[1].getY()))}return{value:P}}catch{}},v=this,b=0;b<2;b++){var _=x(b);if(typeof _=="object")return _.value}}throw new xe},t.recordPattern=function(e,r,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var a=e.getSize();if(r>=a)throw new xe;for(var s=!e.get(r),l=0,c=r;c<a;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===a))throw new xe},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new xe;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return Number.POSITIVE_INFINITY;var l=o/a;n*=l;for(var c=0,f=0;f<i;f++){var h=e[f],p=r[f]*l,g=h>p?h-p:p-h;if(g>n)return Number.POSITIVE_INFINITY;c+=g}return c/o},t})(),SLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),D$=(function(t){SLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,f=i;f<n;f++)if(r.get(f)!==l)a[o]++;else{if(o===c-1){for(var h=e.MAX_AVG_VARIANCE,p=-1,g=e.CODE_START_A;g<=e.CODE_START_C;g++){var x=wn.patternMatchVariance(a,e.CODE_PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);x<h&&(h=x,p=g)}if(p>=0&&r.isRange(Math.max(0,s-(f-s)/2),s,!1))return Int32Array.from([s,f,p]);s+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,l=!l}throw new xe},e.decodeCode=function(r,n,i){wn.recordPattern(r,i,n);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,a=s)}if(a>=0)return a;throw new xe},e.prototype.decodeRow=function(r,n,i){var o=i&&i.get(Fr.ASSUME_GS1)===!0,a=e.findStartPattern(n),s=a[2],l=0,c=new Uint8Array(20);c[l++]=s;var f;switch(s){case e.CODE_START_A:f=e.CODE_CODE_A;break;case e.CODE_START_B:f=e.CODE_CODE_B;break;case e.CODE_START_C:f=e.CODE_CODE_C;break;default:throw new Me}for(var h=!1,p=!1,g="",x=a[0],v=a[1],b=Int32Array.from([0,0,0,0,0,0]),_=0,C=0,E=s,P=0,I=!0,S=!1,T=!1;!h;){var N=p;switch(p=!1,_=C,C=e.decodeCode(n,b,v),c[l++]=C,C!==e.CODE_STOP&&(I=!0),C!==e.CODE_STOP&&(P++,E+=P*C),x=v,v+=b.reduce(function(Z,q){return Z+q},0),C){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Me}switch(f){case e.CODE_CODE_A:if(C<64)T===S?g+=String.fromCharCode(32+C):g+=String.fromCharCode(32+C+128),T=!1;else if(C<96)T===S?g+=String.fromCharCode(C-64):g+=String.fromCharCode(C+64),T=!1;else switch(C!==e.CODE_STOP&&(I=!1),C){case e.CODE_FNC_1:o&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!S&&T?(S=!0,T=!1):S&&T?(S=!1,T=!1):T=!0;break;case e.CODE_SHIFT:p=!0,f=e.CODE_CODE_B;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(C<96)T===S?g+=String.fromCharCode(32+C):g+=String.fromCharCode(32+C+128),T=!1;else switch(C!==e.CODE_STOP&&(I=!1),C){case e.CODE_FNC_1:o&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!S&&T?(S=!0,T=!1):S&&T?(S=!1,T=!1):T=!0;break;case e.CODE_SHIFT:p=!0,f=e.CODE_CODE_A;break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(C<100)C<10&&(g+="0"),g+=C;else switch(C!==e.CODE_STOP&&(I=!1),C){case e.CODE_FNC_1:o&&(g.length===0?g+="]C1":g+="");break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}N&&(f=f===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=v-x;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-x)/2),!1))throw new xe;if(E-=P*_,E%103!==_)throw new Rn;var B=g.length;if(B===0)throw new xe;B>0&&I&&(f===e.CODE_CODE_C?g=g.substring(0,B-2):g=g.substring(0,B-1));for(var M=(a[1]+a[0])/2,L=x+j/2,F=c.length,$=new Uint8Array(F),H=0;H<F;H++)$[H]=c[H];var K=[new Qe(M,r),new Qe(L,r)];return new di(g,$,0,K,it.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(wn),TLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),OT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M$=(function(t){TLe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var o,a,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var f=e.findAsteriskPattern(n,c),h=n.getNextSet(f[1]),p=n.getSize(),g,x;do{e.recordPattern(n,h,c);var v=e.toNarrowWidePattern(c);if(v<0)throw new xe;g=e.patternToChar(v),this.decodeRowResult+=g,x=h;try{for(var b=(o=void 0,OT(c)),_=b.next();!_.done;_=b.next()){var C=_.value;h+=C}}catch(F){o={error:F}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}h=n.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var P=OT(c),I=P.next();!I.done;I=P.next()){var C=I.value;E+=C}}catch(F){s={error:F}}finally{try{I&&!I.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}var S=h-x-E;if(h!==p&&S*2<E)throw new xe;if(this.usingCheckDigit){for(var T=this.decodeRowResult.length-1,N=0,j=0;j<T;j++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(T)!==e.ALPHABET_STRING.charAt(N%43))throw new Rn;this.decodeRowResult=this.decodeRowResult.substring(0,T)}if(this.decodeRowResult.length===0)throw new xe;var B;this.extendedMode?B=e.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;var M=(f[1]+f[0])/2,L=x+E/2;return new di(B,null,0,[new Qe(M,r),new Qe(L,r)],it.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),o=r.getNextSet(0),a=0,s=o,l=!1,c=n.length,f=o;f<i;f++)if(r.get(f)!==l)n[a]++;else{if(a===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((f-s)/2)),s,!1))return[s,f];s+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,l=!l}throw new xe},e.toNarrowWidePattern=function(r){var n,i,o=r.length,a=0,s;do{var l=2147483647;try{for(var c=(n=void 0,OT(r)),f=c.next();!f.done;f=c.next()){var h=f.value;h<l&&h>a&&(l=h)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}a=l,s=0;for(var p=0,g=0,x=0;x<o;x++){var h=r[x];h>a&&(g|=1<<o-1-x,s++,p+=h)}if(s===3){for(var x=0;x<o&&s>0;x++){var h=r[x];if(h>a&&(s--,h*2>=p))return-1}return g}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new xe},e.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=r.charAt(o+1),l="\0";switch(a){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Me;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Me;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Me;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Me;break}i+=l,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(wn),ILe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F$=(function(t){ILe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,l,c=this.findAsteriskPattern(n),f=n.getNextSet(c[1]),h=n.getSize(),p=this.counters;p.fill(0),this.decodeRowResult="";var g,x;do{e.recordPattern(n,f,p);var v=this.toPattern(p);if(v<0)throw new xe;g=this.patternToChar(v),this.decodeRowResult+=g,x=f;try{for(var b=(o=void 0,jT(p)),_=b.next();!_.done;_=b.next()){var C=_.value;f+=C}}catch(j){o={error:j}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var P=jT(p),I=P.next();!I.done;I=P.next()){var C=I.value;E+=C}}catch(j){s={error:j}}finally{try{I&&!I.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}if(f===h||!n.get(f))throw new xe;if(this.decodeRowResult.length<2)throw new xe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var S=this.decodeExtended(this.decodeRowResult),T=(c[1]+c[0])/2,N=x+E/2;return new di(S,null,0,[new Qe(T,r),new Qe(N,r)],it.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,a=i,s=!1,l=o.length,c=0,f=i;f<n;f++)if(r.get(f)!==s)o[c]++;else{if(c===l-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([a,f]);a+=o[0]+o[1],o.copyWithin(0,2,2+c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,s=!s}throw new xe},e.prototype.toPattern=function(r){var n,i,o=0;try{for(var a=jT(r),s=a.next();!s.done;s=a.next()){var l=s.value;o+=l}}catch(x){n={error:x}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var c=0,f=r.length,h=0;h<f;h++){var p=Math.round(r[h]*9/o);if(p<1||p>4)return-1;if((h&1)===0)for(var g=0;g<p;g++)c=c<<1|1;else c<<=p}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new xe},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a>="a"&&a<="d"){if(o>=n-1)throw new Me;var s=r.charAt(o+1),l="\0";switch(a){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Me;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Me;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Me;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Me;break}i+=l,o++}else i+=a}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var o=1,a=0,s=n-1;s>=0;s--)a+=o*e.ALPHABET_STRING.indexOf(r.charAt(s)),++o>i&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[a%47])throw new Rn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(wn),NLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),PLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L$=(function(t){NLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var o,a,s=this.decodeStart(n),l=this.decodeEnd(n),c=new Nt;e.decodeMiddle(n,s[1],l[0],c);var f=c.toString(),h=null;i!=null&&(h=i.get(Fr.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var p=f.length,g=!1,x=0;try{for(var v=PLe(h),b=v.next();!b.done;b=v.next()){var _=b.value;if(p===_){g=!0;break}_>x&&(x=_)}}catch(P){o={error:P}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}if(!g&&p>x&&(g=!0),!g)throw new Me;var C=[new Qe(s[1],r),new Qe(l[0],r)],E=new di(f,null,0,C,it.ITF,new Date().getTime());return E},e.decodeMiddle=function(r,n,i,o){var a=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(a.fill(0),s.fill(0),l.fill(0);n<i;){wn.recordPattern(r,n,a);for(var c=0;c<5;c++){var f=2*c;s[c]=a[f],l[c]=a[f+1]}var h=e.decodeDigit(s);o.append(h.toString()),h=this.decodeDigit(l),o.append(h.toString()),a.forEach(function(p){n+=p})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!r.get(o);o--)i--;if(i!==0)throw new xe},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new xe;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof xe&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var o=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-o,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var o=i.length,a=new Int32Array(o),s=r.getSize(),l=!1,c=0,f=n;a.fill(0);for(var h=n;h<s;h++)if(r.get(h)!==l)a[c]++;else{if(c===o-1){if(wn.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[f,h];f+=a[0]+a[1],br.arraycopy(a,2,a,0,c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,l=!l}throw new xe},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],l=wn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=a):l===n&&(i=-1)}if(i>=0)return i%10;throw new xe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(wn),kLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zh=(function(t){kLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,o=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,a);var s=i[0];o=i[1];var l=s-(o-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,o){return this.findGuardPattern(r,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,i,o,a){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,f=o.length,h=i,p=n;p<s;p++)if(r.get(p)!==h)a[l]++;else{if(l===f-1){if(wn.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,p]);c+=a[0]+a[1];for(var g=a.slice(2,a.length),x=0;x<l-1;x++)a[x]=g[x];a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,h=!h}throw new xe},e.decodeDigit=function(r,n,i,o){this.recordPattern(r,i,n);for(var a=this.MAX_AVG_VARIANCE,s=-1,l=o.length,c=0;c<l;c++){var f=o[c],h=wn.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=c)}if(s>=0)return s;throw new xe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(wn),OLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jLe=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),l=[new Qe((n[0]+n[1])/2,e),new Qe(o,e)],c=new di(a,null,0,l,it.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=r[1],c=0,f=0;f<5&&l<s;f++){var h=zh.decodeDigit(e,a,l,zh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,OLe(a)),g=p.next();!g.done;g=p.next()){var x=g.value;l+=x}}catch(b){i={error:b}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}h>=10&&(c|=1<<4-f),f!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new xe;var v=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==v)throw new xe;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new xe},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Kn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return r+i+"."+a},t})(),RLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DLe=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),l=[new Qe((n[0]+n[1])/2,e),new Qe(o,e)],c=new di(a,null,0,l,it.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=r[1],c=0,f=0;f<2&&l<s;f++){var h=zh.decodeDigit(e,a,l,zh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,RLe(a)),g=p.next();!g.done;g=p.next()){var x=g.value;l+=x}}catch(v){i={error:v}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}h>=10&&(c|=1<<1-f),f!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new xe;if(parseInt(n.toString())%4!==c)throw new xe;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Kn.ISSUE_NUMBER,parseInt(e)]])},t})(),MLe=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=zh.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new jLe;return o.decodeRow(e,r,i)}catch{var a=new DLe;return a.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),FLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),mn=(function(t){FLe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,i){var o=e.findStartGuardPattern(n),a=i==null?null:i.get(Fr.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new Qe((o[0]+o[1])/2,r);a.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,o,this.decodeRowStringBuffer),c=l.rowOffset,f=l.resultString;if(a!=null){var h=new Qe(c,r);a.foundPossibleResultPoint(h)}var p=e.decodeEnd(n,c);if(a!=null){var g=new Qe((p[0]+p[1])/2,r);a.foundPossibleResultPoint(g)}var x=p[1],v=x+(x-p[0]);if(v>=n.getSize()||!n.isRange(x,v,!1))throw new xe;var b=f.toString();if(b.length<8)throw new Me;if(!e.checkChecksum(b))throw new Rn;var _=(o[1]+o[0])/2,C=(p[1]+p[0])/2,E=this.getBarcodeFormat(),P=[new Qe(_,r),new Qe(C,r)],I=new di(b,null,0,P,E,new Date().getTime()),S=0;try{var T=MLe.decodeRow(r,n,p[1]);I.putMetadata(Kn.UPC_EAN_EXTENSION,T.getText()),I.putAllMetadata(T.getResultMetadata()),I.addResultPoints(T.getResultPoints()),S=T.getText().length}catch{}var N=i==null?null:i.get(Fr.ALLOWED_EAN_EXTENSIONS);if(N!=null){var j=!1;for(var B in N)if(S.toString()===B){j=!0;break}if(!j)throw new xe}return E===it.EAN_13||it.UPC_A,I},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(zh),LLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),B$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qP=(function(t){LLe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=r.getSize(),h=n[1],p=0,g=0;g<6&&h<f;g++){var x=mn.decodeDigit(r,c,h,mn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);try{for(var v=(o=void 0,B$(c)),b=v.next();!b.done;b=v.next()){var _=b.value;h+=_}}catch(I){o={error:I}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}x>=10&&(p|=1<<5-g)}i=e.determineFirstDigit(i,p);var C=mn.findGuardPattern(r,h,!0,mn.MIDDLE_PATTERN,new Int32Array(mn.MIDDLE_PATTERN.length).fill(0));h=C[1];for(var g=0;g<6&&h<f;g++){var x=mn.decodeDigit(r,c,h,mn.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var E=(s=void 0,B$(c)),P=E.next();!P.done;P=E.next()){var _=P.value;h+=_}}catch(T){s={error:T}}finally{try{P&&!P.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return it.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new xe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(mn),BLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),V$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$$=(function(t){BLe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=r.getSize(),h=n[1],p=0;p<4&&h<f;p++){var g=mn.decodeDigit(r,c,h,mn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var x=(o=void 0,V$(c)),v=x.next();!v.done;v=x.next()){var b=v.value;h+=b}}catch(P){o={error:P}}finally{try{v&&!v.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}}var _=mn.findGuardPattern(r,h,!0,mn.MIDDLE_PATTERN,new Int32Array(mn.MIDDLE_PATTERN.length).fill(0));h=_[1];for(var p=0;p<4&&h<f;p++){var g=mn.decodeDigit(r,c,h,mn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var C=(s=void 0,V$(c)),E=C.next();!E.done;E=C.next()){var b=E.value;h+=b}}catch(S){s={error:S}}finally{try{E&&!E.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return it.EAN_8},e})(mn),VLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),U$=(function(t){VLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new qP,r}return e.prototype.getBarcodeFormat=function(){return it.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new di(n.substring(1),null,null,r.getResultPoints(),it.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new xe},e.prototype.reset=function(){this.ean13Reader.reset()},e})(mn),$Le=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ULe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z$=(function(t){$Le(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s=this.decodeMiddleCounters.map(function(b){return b});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),c=n[1],f=0,h=0;h<6&&c<l;h++){var p=e.decodeDigit(r,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);try{for(var g=(o=void 0,ULe(s)),x=g.next();!x.done;x=g.next()){var v=x.value;c+=v}}catch(b){o={error:b}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}p>=10&&(f|=1<<5-h)}return e.determineNumSysAndCheckDigit(new Nt(i),f),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return mn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){r.insert(0,"0"+i),r.append("0"+o);return}throw xe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return it.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new Nt;i.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(mn),zLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),W$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RT=(function(t){zLe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Fr.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(it.EAN_13)>-1&&o.push(new qP),i.indexOf(it.UPC_A)>-1&&o.push(new U$),i.indexOf(it.EAN_8)>-1&&o.push(new $$),i.indexOf(it.UPC_E)>-1&&o.push(new z$)),o.length===0&&(o.push(new qP),o.push(new U$),o.push(new $$),o.push(new z$)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,i){var o,a;try{for(var s=W$(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var f=c.decodeRow(r,n,i),h=f.getBarcodeFormat()===it.EAN_13&&f.getText().charAt(0)==="0",p=i==null?null:i.get(Fr.POSSIBLE_FORMATS),g=p==null||p.includes(it.UPC_A);if(h&&g){var x=f.getRawBytes(),v=new di(f.getText().substring(1),x,x?x.length:null,f.getResultPoints(),it.UPC_A);return v.putAllMetadata(f.getResultMetadata()),v}return f}catch{}}}catch(b){o={error:b}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new xe},e.prototype.reset=function(){var r,n;try{for(var i=W$(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;a.reset()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(wn),WLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),HLe=(function(t){WLe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var o=this.getValidRowData(n);if(!o)throw new xe;var a=this.codaBarDecodeRow(o.row);if(!a)throw new xe;return new di(a,null,0,[new Qe(o.left,r),new Qe(o.right,r)],it.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var o=n.lastIndexOf(!0);if(o<=i)return null;n=n.slice(i,o+1);for(var a=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],a.push(l),l=1);return a.push(l),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),a=o.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[a])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(wn),qLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),GLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pu=(function(t){qLe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(wn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new xe},e.count=function(r){return Ht.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]>o&&(o=n[a],i=a);r[i]++},e.decrement=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]<o&&(o=n[a],i=a);r[i]--},e.isFinderPattern=function(r){var n,i,o=r[0]+r[1],a=o+r[2]+r[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var f=GLe(r),h=f.next();!h.done;h=f.next()){var p=h.value;p>c&&(c=p),p<l&&(l=p)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(wn),db=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),fee=(function(){function t(e,r,n,i,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Qe(n,o)),this.resultPoints.push(new Qe(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),KLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fd=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,a=0;try{for(var s=KLe(e),l=s.next();!l.done;l=s.next()){var c=l.value;a+=c}}catch(C){i={error:C}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var f=0,h=0,p=e.length,g=0;g<p-1;g++){var x=void 0;for(x=1,h|=1<<g;x<e[g];x++,h&=~(1<<g)){var v=t.combins(a-x-1,p-g-2);if(n&&h===0&&a-x-(p-g-1)>=p-g-1&&(v-=t.combins(a-x-(p-g),p-g-2)),p-g-1>1){for(var b=0,_=a-x-(p-g-2);_>r;_--)b+=t.combins(a-x-_-1,p-g-3);v-=b*(p-1-g)}else a-x>r&&v--;f+=v}a-=x}return f},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var o=1,a=1,s=e;s>n;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},t})(),YLe=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Dn(n),o=0,a=e[0],s=a.getRightChar().getValue(),l=11;l>=0;--l)(s&1<<l)!==0&&i.set(o),o++;for(var l=1;l<e.length;++l){for(var c=e[l],f=c.getLeftChar().getValue(),h=11;h>=0;--h)(f&1<<h)!==0&&i.set(o),o++;if(c.getRightChar()!==null)for(var p=c.getRightChar().getValue(),h=11;h>=0;--h)(p&1<<h)!==0&&i.set(o),o++}return i},t})(),Au=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),HO=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),XLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ia=(function(t){XLe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(HO),QLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cu=(function(t){QLe(e,t);function e(r,n,i){var o=t.call(this,r)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(HO),ZLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vd=(function(t){ZLe(e,t);function e(r,n,i){var o=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Me;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(HO),Zv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JLe=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,o,a,s,l,c;if(!e)return null;if(e.length<2)throw new xe;var f=e.substring(0,2);try{for(var h=Zv(t.TWO_DIGIT_DATA_LENGTH),p=h.next();!p.done;p=h.next()){var g=p.value;if(g[0]===f)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,g[2],e):t.processFixedAI(2,g[1],e)}}catch(S){r={error:S}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(e.length<3)throw new xe;var x=e.substring(0,3);try{for(var v=Zv(t.THREE_DIGIT_DATA_LENGTH),b=v.next();!b.done;b=v.next()){var g=b.value;if(g[0]===x)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,g[2],e):t.processFixedAI(3,g[1],e)}}catch(S){i={error:S}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var _=Zv(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),C=_.next();!C.done;C=_.next()){var g=C.value;if(g[0]===x)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(S){a={error:S}}finally{try{C&&!C.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(e.length<4)throw new xe;var E=e.substring(0,4);try{for(var P=Zv(t.FOUR_DIGIT_DATA_LENGTH),I=P.next();!I.done;I=P.next()){var g=I.value;if(g[0]===E)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(S){l={error:S}}finally{try{I&&!I.done&&(c=P.return)&&c.call(P)}finally{if(l)throw l.error}}throw new xe},t.processFixedAI=function(e,r,n){if(n.length<e)throw new xe;var i=n.substring(0,e);if(n.length<e+r)throw new xe;var o=n.substring(e,e+r),a=n.substring(e+r),s="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(a);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var a=n.substring(e,o),s=n.substring(o),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),S1=(function(){function t(e){this.buffer=new Nt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var o=this.decodeGeneralPurposeField(n,i),a=JLe.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new vd(this.information.getSize(),vd.FNC1,vd.FNC1):new vd(this.information.getSize(),r-1,vd.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new vd(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,o=0;o<n;++o)e.get(r+o)&&(i|=1<<n-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Cu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Cu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Cu(this.current.getPosition(),this.buffer.toString()):r=new Cu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Au(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Cu(this.current.getPosition(),this.buffer.toString());return new Au(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Au(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Cu(this.current.getPosition(),this.buffer.toString());return new Au(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Au(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Cu(this.current.getPosition(),this.buffer.toString());return new Au(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Au(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ia(e+5,ia.FNC1);if(r>=5&&r<15)return new ia(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new ia(e+7,""+(n+1));if(n>=90&&n<116)return new ia(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Me}return new ia(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ia(e+5,ia.FNC1);if(r>=5&&r<15)return new ia(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new ia(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new r0("Decoding invalid alphanumeric value: "+n)}return new ia(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),dee=(function(){function t(e){this.information=e,this.generalDecoder=new S1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),e7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fa=(function(t){e7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,o=0;o<13;o++){var a=r.charAt(o+n).charCodeAt(0)-48;i+=(o&1)===0?3*a:a}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(dee),t7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),r7e=(function(t){t7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Nt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(fa),n7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),i7e=(function(t){n7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Nt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(dee),o7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),T1=(function(t){o7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,o);for(var a=this.checkWeight(o),s=1e5,l=0;l<5;++l)a/s===0&&r.append("0"),s/=10;r.append(a)},e})(fa),a7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),hee=(function(t){a7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+T1.GTIN_SIZE+e.WEIGHT_SIZE)throw new xe;var r=new Nt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+T1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(T1),s7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),l7e=(function(t){s7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(hee),c7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),u7e=(function(t){c7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(hee),f7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),d7e=(function(t){f7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+fa.GTIN_SIZE)throw new xe;var r=new Nt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+fa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(fa),h7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),p7e=(function(t){h7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+fa.GTIN_SIZE)throw new xe;var r=new Nt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+fa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(fa),m7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xl=(function(t){m7e(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new xe;var r=new Nt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=i%32;i/=32;var a=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(T1);function g7e(t){try{if(t.get(1))return new r7e(t);if(!t.get(2))return new i7e(t);var e=S1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new l7e(t);case 5:return new u7e(t)}var r=S1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new d7e(t);case 13:return new p7e(t)}var n=S1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Xl(t,"310","11");case 57:return new Xl(t,"320","11");case 58:return new Xl(t,"310","13");case 59:return new Xl(t,"320","13");case 60:return new Xl(t,"310","15");case 61:return new Xl(t,"320","15");case 62:return new Xl(t,"310","17");case 63:return new Xl(t,"320","17")}}catch(i){throw console.log(i),new r0("unknown decoder: "+t)}}var H$=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),y7e=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,o){r.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),v7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ql=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x7e=(function(t){v7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof xe){if(!this.pairs.length)throw new xe;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new xe},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,o,a=n;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var l=(i=void 0,Ql(r)),c=l.next();!c.done;c=l.next()){var f=c.value;this.pairs.push(f.getPairs())}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(r);h.push(s);try{return this.checkRows(h,a+1)}catch(p){console.log(p)}}}throw new xe},e.isValidSequence=function(r){var n,i;try{for(var o=Ql(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(r.length>s.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(f){n={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new y7e(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,o,a,s,l,c;try{for(var f=Ql(n),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getPairs().length!==r.length){var g=!0;try{for(var x=(a=void 0,Ql(p.getPairs())),v=x.next();!v.done;v=x.next()){var b=v.value,_=!1;try{for(var C=(l=void 0,Ql(r)),E=C.next();!E.done;E=C.next()){var P=E.value;if(H$.equals(b,P)){_=!0;break}}}catch(I){l={error:I}}finally{try{E&&!E.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}_||(g=!1)}}catch(I){a={error:I}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}}}}catch(I){i={error:I}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,o,a,s,l,c;try{for(var f=Ql(n),h=f.next();!h.done;h=f.next()){var p=h.value,g=!0;try{for(var x=(a=void 0,Ql(r)),v=x.next();!v.done;v=x.next()){var b=v.value,_=!1;try{for(var C=(l=void 0,Ql(p.getPairs())),E=C.next();!E.done;E=C.next()){var P=E.value;if(b.equals(P)){_=!0;break}}}catch(I){l={error:I}}finally{try{E&&!E.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}if(!_){g=!1;break}}}catch(I){a={error:I}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}if(g)return!0}}catch(I){i={error:I}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=YLe.buildBitArray(r),i=g7e(n),o=i.parseInformation(),a=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[a[0],a[1],s[0],s[1]];return new di(o,null,null,l,it.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);o+=l.getLeftChar().getChecksumPortion(),a++;var c=l.getRightChar();c!=null&&(o+=c.getChecksumPortion(),a++)}o%=211;var f=211*(a-4)+o;return f===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var o=n.length%2===0;this.startFromEven&&(o=!o);var a,s=!0,l=-1;do this.findNextPair(r,n,l),a=this.parseFoundFinderPattern(r,i,o),a===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(r,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new xe;var f;try{f=this.decodeDataCharacter(r,a,o,!1)}catch(h){f=null,console.log(h)}return new H$(c,f,a,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var f=!1;s<a&&(f=!r.get(s),!!f);)s++;for(var h=0,p=s,g=s;g<a;g++)if(r.get(g)!==f)o[h]++;else{if(h===3){if(c&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=g;return}c&&e.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,f=!f}throw new xe},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var o=r[i];r[i]=r[n-i-1],r[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,i){var o,a,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,o=this.startEnd[0]-l,a=l,s=this.startEnd[1]}else a=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var c=this.getDecodeFinderCounters();br.arraycopy(c,0,c,1,c.length-1),c[0]=o;var f;try{f=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new fee(f,[a,s],a,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],a);else{e.recordPattern(r,n.getStartEnd()[1],a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}var h=17,p=Ht.sum(new Int32Array(a))/h,g=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(p-g)/g>.3)throw new xe;for(var x=this.getOddCounts(),v=this.getEvenCounts(),b=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var C=1*a[l]/p,E=C+.5;if(E<1){if(C<.3)throw new xe;E=1}else if(E>8){if(C>8.7)throw new xe;E=8}var P=l/2;(l&1)===0?(x[P]=E,b[P]=C-E):(v[P]=E,_[P]=C-E)}this.adjustOddEvenCounts(h);for(var I=4*n.getValue()+(i?0:2)+(o?0:1)-1,S=0,T=0,l=x.length-1;l>=0;l--){if(e.isNotA1left(n,i,o)){var N=e.WEIGHTS[I][2*l];T+=x[l]*N}S+=x[l]}for(var j=0,l=v.length-1;l>=0;l--)if(e.isNotA1left(n,i,o)){var N=e.WEIGHTS[I][2*l+1];j+=v[l]*N}var B=T+j;if((S&1)!==0||S>13||S<4)throw new xe;var M=(13-S)/2,L=e.SYMBOL_WIDEST[M],F=9-L,$=Fd.getRSSvalue(x,L,!0),H=Fd.getRSSvalue(v,F,!1),K=e.EVEN_TOTAL_SUBSET[M],Z=e.GSUM[M],q=$*K+H+Z;return new db(q,B)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Ht.sum(new Int32Array(this.getOddCounts())),i=Ht.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-r,f=(n&1)===1,h=(i&1)===0;if(c===1)if(f){if(h)throw new xe;a=!0}else{if(!h)throw new xe;l=!0}else if(c===-1)if(f){if(h)throw new xe;o=!0}else{if(!h)throw new xe;s=!0}else if(c===0){if(f){if(!h)throw new xe;n<i?(o=!0,l=!0):(a=!0,s=!0)}else if(h)throw new xe}else throw new xe;if(o){if(a)throw new xe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new xe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Pu),b7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),w7e=(function(t){b7e(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(db),_7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),DT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q$=(function(t){_7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var f=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,f),n.reverse();try{for(var h=DT(this.possibleLeftPairs),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.getCount()>1)try{for(var x=(s=void 0,DT(this.possibleRightPairs)),v=x.next();!v.done;v=x.next()){var b=v.value;if(b.getCount()>1&&e.checkChecksum(g,b))return e.constructResult(g,b)}}catch(_){s={error:_}}finally{try{v&&!v.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}throw new xe},e.addOrTally=function(r,n){var i,o;if(n!=null){var a=!1;try{for(var s=DT(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),a=!0;break}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),o=new String(i).toString(),a=new Nt,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var l=0,s=0;s<13;s++){var c=a.charAt(s).charCodeAt(0)-48;l+=(s&1)===0?3*c:c}l=10-l%10,l===10&&(l=0),a.append(l.toString());var f=r.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new di(a.toString(),null,0,[f[0],f[1],h[0],h[1]],it.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(r,n,i,o){try{var a=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,a),l=o==null?null:o.get(Fr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(a[0]+a[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new Qe(c,i))}var f=this.decodeDataCharacter(r,s,!0),h=this.decodeDataCharacter(r,s,!1);return new w7e(1597*f.getValue()+h.getValue(),f.getChecksumPortion()+4*h.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)wn.recordPatternInReverse(r,n.getStartEnd()[0],o);else{wn.recordPattern(r,n.getStartEnd()[1]+1,o);for(var s=0,l=o.length-1;s<l;s++,l--){var c=o[s];o[s]=o[l],o[l]=c}}for(var f=i?16:15,h=Ht.sum(new Int32Array(o))/f,p=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var b=o[s]/h,_=Math.floor(b+.5);_<1?_=1:_>8&&(_=8);var C=Math.floor(s/2);(s&1)===0?(p[C]=_,x[C]=b-_):(g[C]=_,v[C]=b-_)}this.adjustOddEvenCounts(i,f);for(var E=0,P=0,s=p.length-1;s>=0;s--)P*=9,P+=p[s],E+=p[s];for(var I=0,S=0,s=g.length-1;s>=0;s--)I*=9,I+=g[s],S+=g[s];var T=P+3*I;if(i){if((E&1)!==0||E>12||E<4)throw new xe;var N=(12-E)/2,j=e.OUTSIDE_ODD_WIDEST[N],B=9-j,M=Fd.getRSSvalue(p,j,!1),L=Fd.getRSSvalue(g,B,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],$=e.OUTSIDE_GSUM[N];return new db(M*F+L+$,T)}else{if((S&1)!==0||S>10||S<4)throw new xe;var N=(10-S)/2,j=e.INSIDE_ODD_WIDEST[N],B=9-j,M=Fd.getRSSvalue(p,j,!0),L=Fd.getRSSvalue(g,B,!1),H=e.INSIDE_ODD_TOTAL_SUBSET[N],$=e.INSIDE_GSUM[N];return new db(L*H+M+$,T)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=r.getSize(),a=!1,s=0;s<o&&(a=!r.get(s),n!==a);)s++;for(var l=0,c=s,f=s;f<o;f++)if(r.get(f)!==a)i[l]++;else{if(l===3){if(Pu.isFinderPattern(i))return[c,f];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,a=!a}throw new xe},e.prototype.parseFoundFinderPattern=function(r,n,i,o){for(var a=r.get(o[0]),s=o[0]-1;s>=0&&a!==r.get(s);)s--;s++;var l=o[0]-s,c=this.getDecodeFinderCounters(),f=new Int32Array(c.length);br.arraycopy(c,0,f,1,c.length-1),f[0]=l;var h=this.parseFinderValue(f,e.FINDER_PATTERNS),p=s,g=o[1];return i&&(p=r.getSize()-1-p,g=r.getSize()-1-g),new fee(h,[s,o[1]],p,g,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Ht.sum(new Int32Array(this.getOddCounts())),o=Ht.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,l=!1,c=!1;r?(i>12?s=!0:i<4&&(a=!0),o>12?c=!0:o<4&&(l=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?c=!0:o<4&&(l=!0));var f=i+o-n,h=(i&1)===(r?1:0),p=(o&1)===1;if(f===1)if(h){if(p)throw new xe;s=!0}else{if(!p)throw new xe;c=!0}else if(f===-1)if(h){if(p)throw new xe;a=!0}else{if(!p)throw new xe;l=!0}else if(f===0){if(h){if(!p)throw new xe;i<o?(a=!0,c=!0):(s=!0,l=!0)}else if(p)throw new xe}else throw new xe;if(a){if(s)throw new xe;Pu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Pu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new xe;Pu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Pu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Pu),A7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Vm=(function(t){A7e(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Fr.POSSIBLE_FORMATS):null,o=r&&r.get(Fr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(it.EAN_13)||i.includes(it.UPC_A)||i.includes(it.EAN_8)||i.includes(it.UPC_E))&&n.readers.push(new RT(r)),i.includes(it.CODE_39)&&n.readers.push(new M$(o)),i.includes(it.CODE_93)&&n.readers.push(new F$),i.includes(it.CODE_128)&&n.readers.push(new D$),i.includes(it.ITF)&&n.readers.push(new L$),i.includes(it.CODABAR)&&n.readers.push(new HLe),i.includes(it.RSS_14)&&n.readers.push(new q$),i.includes(it.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new x7e))),n.readers.length===0&&(n.readers.push(new RT(r)),n.readers.push(new M$),n.readers.push(new F$),n.readers.push(new RT(r)),n.readers.push(new D$),n.readers.push(new L$),n.readers.push(new q$)),n}return e.prototype.decodeRow=function(r,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,i)}catch{}throw new xe},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(wn),C7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){C7e(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Vm(n),r,n)||this}return e})(xp);var G$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nr=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Zt=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),E7e=(function(){function t(e,r,n,i,o,a){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var c=0,f=a.getECCodewords(),h=a.getECBlocks();try{for(var p=G$(h),g=p.next();!g.done;g=p.next()){var x=g.value;c+=x.getCount()*(x.getDataCodewords()+f)}}catch(v){s={error:v}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new Me;try{for(var o=G$(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new Me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new nr(5,new Zt(1,3))),new t(2,12,12,10,10,new nr(7,new Zt(1,5))),new t(3,14,14,12,12,new nr(10,new Zt(1,8))),new t(4,16,16,14,14,new nr(12,new Zt(1,12))),new t(5,18,18,16,16,new nr(14,new Zt(1,18))),new t(6,20,20,18,18,new nr(18,new Zt(1,22))),new t(7,22,22,20,20,new nr(20,new Zt(1,30))),new t(8,24,24,22,22,new nr(24,new Zt(1,36))),new t(9,26,26,24,24,new nr(28,new Zt(1,44))),new t(10,32,32,14,14,new nr(36,new Zt(1,62))),new t(11,36,36,16,16,new nr(42,new Zt(1,86))),new t(12,40,40,18,18,new nr(48,new Zt(1,114))),new t(13,44,44,20,20,new nr(56,new Zt(1,144))),new t(14,48,48,22,22,new nr(68,new Zt(1,174))),new t(15,52,52,24,24,new nr(42,new Zt(2,102))),new t(16,64,64,14,14,new nr(56,new Zt(2,140))),new t(17,72,72,16,16,new nr(36,new Zt(4,92))),new t(18,80,80,18,18,new nr(48,new Zt(4,114))),new t(19,88,88,20,20,new nr(56,new Zt(4,144))),new t(20,96,96,22,22,new nr(68,new Zt(4,174))),new t(21,104,104,24,24,new nr(56,new Zt(6,136))),new t(22,120,120,18,18,new nr(68,new Zt(6,175))),new t(23,132,132,20,20,new nr(62,new Zt(8,163))),new t(24,144,144,22,22,new nr(62,new Zt(8,156),new Zt(2,155))),new t(25,8,18,6,16,new nr(7,new Zt(1,5))),new t(26,8,32,6,14,new nr(11,new Zt(1,10))),new t(27,12,26,10,24,new nr(14,new Zt(1,16))),new t(28,12,36,10,16,new nr(18,new Zt(1,22))),new t(29,16,36,14,16,new nr(24,new Zt(1,32))),new t(30,16,48,14,22,new nr(28,new Zt(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),S7e=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new Me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new gs(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return E7e.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,f=!1;do if(n===o&&i===0&&!s)e[r++]=this.readCorner1(o,a)&255,n-=2,i+=2,s=!0;else if(n===o-2&&i===0&&(a&3)!==0&&!l)e[r++]=this.readCorner2(o,a)&255,n-=2,i+=2,l=!0;else if(n===o+4&&i===2&&(a&7)===0&&!c)e[r++]=this.readCorner3(o,a)&255,n-=2,i+=2,c=!0;else if(n===o-2&&i===0&&(a&7)===4&&!f)e[r++]=this.readCorner4(o,a)&255,n-=2,i+=2,f=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<a);if(r!==this.version.getTotalCodewords())throw new Me;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var o=0;return this.readModule(e-2,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r,n,i)&&(o|=1),o<<=1,this.readModule(e,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e,r,n,i)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new st("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=r/i|0,s=n/o|0,l=a*i,c=s*o,f=new gs(c,l),h=0;h<a;++h)for(var p=h*i,g=0;g<s;++g)for(var x=g*o,v=0;v<i;++v)for(var b=h*(i+2)+1+v,_=p+v,C=0;C<o;++C){var E=g*(o+2)+1+C;if(e.get(E,b)){var P=x+C;f.set(P,_)}}return f},t})(),K$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T7e=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,o,a,s=r.getECBlocks(),l=0,c=s.getECBlocks();try{for(var f=K$(c),h=f.next();!h.done;h=f.next()){var p=h.value;l+=p.getCount()}}catch($){n={error:$}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var g=new Array(l),x=0;try{for(var v=K$(c),b=v.next();!b.done;b=v.next())for(var p=b.value,_=0;_<p.getCount();_++){var C=p.getDataCodewords(),E=s.getECCodewords()+C;g[x++]=new t(C,new Uint8Array(E))}}catch($){o={error:$}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}for(var P=g[0].codewords.length,I=P-s.getECCodewords(),S=I-1,T=0,_=0;_<S;_++)for(var N=0;N<x;N++)g[N].codewords[_]=e[T++];for(var j=r.getVersionNumber()===24,B=j?8:x,N=0;N<B;N++)g[N].codewords[I-1]=e[T++];for(var M=g[0].codewords.length,_=I;_<M;_++)for(var N=0;N<x;N++){var L=j?(N+8)%x:N,F=j&&L>7?_-1:_;g[L].codewords[F]=e[T++]}if(T!==e.length)throw new st;return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),pee=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new st(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var a=8-n,s=e<a?e:a,l=a-s,c=255>>8-s<<l;r=(o[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|o[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(o[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),hn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(hn||(hn={}));var I7e=(function(){function t(){}return t.decode=function(e){var r=new pee(e),n=new Nt,i=new Nt,o=new Array,a=hn.ASCII_ENCODE;do if(a===hn.ASCII_ENCODE)a=this.decodeAsciiSegment(r,n,i);else{switch(a){case hn.C40_ENCODE:this.decodeC40Segment(r,n);break;case hn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case hn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case hn.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new Me}a=hn.ASCII_ENCODE}while(a!==hn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Xw(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new Me;if(o<=128)return i&&(o+=128),r.append(String.fromCharCode(o-1)),hn.ASCII_ENCODE;if(o===129)return hn.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&r.append("0"),r.append(""+a)}else switch(o){case 230:return hn.C40_ENCODE;case 231:return hn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return hn.ANSIX12_ENCODE;case 239:return hn.TEXT_ENCODE;case 240:return hn.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Me;break}}while(e.available()>0);return hn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(o){case 0:if(l<3)o=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new Me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Me}o=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),o=0;break;default:throw new Me}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(o){case 0:if(l<3)o=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new Me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Me}o=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),o=0}else throw new Me;break;default:throw new Me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var a=n[o];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new Me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new Me;for(var s=new Uint8Array(a),l=0;l<a;l++){if(e.available()<8)throw new Me;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(Uo.decode(s,Vt.ISO88591))}catch(c){throw new r0("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),N7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P7e=(function(){function t(){this.rsDecoder=new Qw(Di.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new S7e(e),o=i.getVersion(),a=i.readCodewords(),s=T7e.getDataBlocks(a,o),l=0;try{for(var c=N7e(s),f=c.next();!f.done;f=c.next()){var h=f.value;l+=h.getNumDataCodewords()}}catch(E){r={error:E}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var p=new Uint8Array(l),g=s.length,x=0;x<g;x++){var v=s[x],b=v.getCodewords(),_=v.getNumDataCodewords();this.correctErrors(b,_);for(var C=0;C<_;C++)p[C*g+x]=b[C]}return I7e.decode(p)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Rn}for(var i=0;i<r;i++)e[i]=n[i]},t})(),k7e=(function(){function t(e){this.image=e,this.rectangleDetector=new WP(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new xe;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],o=r[2],a=r[3],s=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,n,i,o,a,s,l);return new zO(c,[n,i,o,a])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new Qe(e.getX()+i,e.getY()+o)},t.moveAway=function(e,r,n){var i=e.getX(),o=e.getY();return i<r?i-=1:i+=1,o<n?o-=1:o+=1,new Qe(i,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],o=e[2],a=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,o),c=this.transitionsBetween(o,r),f=a,h=[o,r,n,i];return f>s&&(f=s,h[0]=r,h[1]=n,h[2]=i,h[3]=o),f>l&&(f=l,h[0]=n,h[1]=i,h[2]=o,h[3]=r),f>c&&(h[0]=i,h[1]=o,h[2]=r,h[3]=n),h},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=t.shiftPoint(n,i,(a+1)*4),l=t.shiftPoint(i,n,(a+1)*4),c=this.transitionsBetween(s,r),f=this.transitionsBetween(l,o);return c<f?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=this.transitionsBetween(n,o),l=t.shiftPoint(r,n,(s+1)*4),c=t.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(l,o),s=this.transitionsBetween(c,o);var f=new Qe(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),h=new Qe(o.getX()+(r.getX()-n.getX())/(s+1),o.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(f))return this.isValid(h)?h:null;if(!this.isValid(h))return f;var p=this.transitionsBetween(l,f)+this.transitionsBetween(c,f),g=this.transitionsBetween(l,h)+this.transitionsBetween(c,h);return p>g?f:h},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(i,o)+1,l=t.shiftPoint(r,n,s*4),c=t.shiftPoint(i,n,a*4);a=this.transitionsBetween(l,o)+1,s=this.transitionsBetween(c,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var f=(r.getX()+n.getX()+i.getX()+o.getX())/4,h=(r.getY()+n.getY()+i.getY()+o.getY())/4;r=t.moveAway(r,f,h),n=t.moveAway(n,f,h),i=t.moveAway(i,f,h),o=t.moveAway(o,f,h);var p,g;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,o,a*4),p=t.shiftPoint(n,r,s*4),p=t.shiftPoint(p,i,a*4),c=t.shiftPoint(i,o,s*4),c=t.shiftPoint(c,n,a*4),g=t.shiftPoint(o,i,s*4),g=t.shiftPoint(g,r,a*4),[l,p,c,g]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,o,a,s){var l=WO.getInstance();return l.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(r.getX()),a=Math.trunc(r.getY()),s=Math.abs(a-i)>Math.abs(o-n);if(s){var l=n;n=i,i=l,l=o,o=a,a=l}for(var c=Math.abs(o-n),f=Math.abs(a-i),h=-c/2,p=i<a?1:-1,g=n<o?1:-1,x=0,v=this.image.get(s?i:n,s?n:i),b=n,_=i;b!==o;b+=g){var C=this.image.get(s?_:b,s?b:_);if(C!==v&&(x++,v=C),h+=f,h>0){if(_===a)break;_+=p,h-=c}}return x},t})(),GP=(function(){function t(){this.decoder=new P7e}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Fr.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new k7e(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),l=new di(n.getText(),s,8*s.length,i,it.DATA_MATRIX,br.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Kn.BYTE_SEGMENTS,c);var f=n.getECLevel();return f!=null&&l.putMetadata(Kn.ERROR_CORRECTION_LEVEL,f),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new xe;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],l=n[0],c=(l-s+1)/i,f=(a-o+1)/i;if(c<=0||f<=0)throw new xe;var h=i/2;o+=h,s+=h;for(var p=new gs(c,f),g=0;g<f;g++)for(var x=o+g*i,v=0;v<c;v++)e.get(s+v*i,x)&&p.set(v,g);return p},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],o=e[1];i<n&&r.get(i,o);)i++;if(i===n)throw new xe;var a=i-e[0];if(a===0)throw new xe;return a},t.NO_POINTS=[],t})(),O7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){O7e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new GP,r)||this}return e})(xp);var Ld;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Ld||(Ld={}));var j7e=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new oa(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new st;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Ld.L,"L",1),t.M=new t(Ld.M,"M",0),t.Q=new t(Ld.Q,"Q",3),t.H=new t(Ld.H,"H",2),t})(),R7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mee=(function(){function t(e){this.errorCorrectionLevel=j7e.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Ot.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=R7e(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,f=c[0];if(f===e||f===r)return new t(c[1]);var h=t.numBitsDiffering(e,f);h<o&&(a=c[1],o=h),e!==r&&(h=t.numBitsDiffering(r,f),h<o&&(a=c[1],o=h))}}catch(p){n={error:p}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),D7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fe=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var o=D7e(i),a=o.next();!a.done;a=o.next()){var s=a.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Y=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),M7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yu=(function(){function t(e,r){for(var n,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var s=0,l=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();try{for(var f=M7e(c),h=f.next();!h.done;h=f.next()){var p=h.value;s+=p.getCount()*(p.getDataCodewords()+l)}}catch(g){n={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new st;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=mee.numBitsDiffering(e,o);a<r&&(n=i+7,r=a)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new gs(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new fe(7,new Y(1,19)),new fe(10,new Y(1,16)),new fe(13,new Y(1,13)),new fe(17,new Y(1,9))),new t(2,Int32Array.from([6,18]),new fe(10,new Y(1,34)),new fe(16,new Y(1,28)),new fe(22,new Y(1,22)),new fe(28,new Y(1,16))),new t(3,Int32Array.from([6,22]),new fe(15,new Y(1,55)),new fe(26,new Y(1,44)),new fe(18,new Y(2,17)),new fe(22,new Y(2,13))),new t(4,Int32Array.from([6,26]),new fe(20,new Y(1,80)),new fe(18,new Y(2,32)),new fe(26,new Y(2,24)),new fe(16,new Y(4,9))),new t(5,Int32Array.from([6,30]),new fe(26,new Y(1,108)),new fe(24,new Y(2,43)),new fe(18,new Y(2,15),new Y(2,16)),new fe(22,new Y(2,11),new Y(2,12))),new t(6,Int32Array.from([6,34]),new fe(18,new Y(2,68)),new fe(16,new Y(4,27)),new fe(24,new Y(4,19)),new fe(28,new Y(4,15))),new t(7,Int32Array.from([6,22,38]),new fe(20,new Y(2,78)),new fe(18,new Y(4,31)),new fe(18,new Y(2,14),new Y(4,15)),new fe(26,new Y(4,13),new Y(1,14))),new t(8,Int32Array.from([6,24,42]),new fe(24,new Y(2,97)),new fe(22,new Y(2,38),new Y(2,39)),new fe(22,new Y(4,18),new Y(2,19)),new fe(26,new Y(4,14),new Y(2,15))),new t(9,Int32Array.from([6,26,46]),new fe(30,new Y(2,116)),new fe(22,new Y(3,36),new Y(2,37)),new fe(20,new Y(4,16),new Y(4,17)),new fe(24,new Y(4,12),new Y(4,13))),new t(10,Int32Array.from([6,28,50]),new fe(18,new Y(2,68),new Y(2,69)),new fe(26,new Y(4,43),new Y(1,44)),new fe(24,new Y(6,19),new Y(2,20)),new fe(28,new Y(6,15),new Y(2,16))),new t(11,Int32Array.from([6,30,54]),new fe(20,new Y(4,81)),new fe(30,new Y(1,50),new Y(4,51)),new fe(28,new Y(4,22),new Y(4,23)),new fe(24,new Y(3,12),new Y(8,13))),new t(12,Int32Array.from([6,32,58]),new fe(24,new Y(2,92),new Y(2,93)),new fe(22,new Y(6,36),new Y(2,37)),new fe(26,new Y(4,20),new Y(6,21)),new fe(28,new Y(7,14),new Y(4,15))),new t(13,Int32Array.from([6,34,62]),new fe(26,new Y(4,107)),new fe(22,new Y(8,37),new Y(1,38)),new fe(24,new Y(8,20),new Y(4,21)),new fe(22,new Y(12,11),new Y(4,12))),new t(14,Int32Array.from([6,26,46,66]),new fe(30,new Y(3,115),new Y(1,116)),new fe(24,new Y(4,40),new Y(5,41)),new fe(20,new Y(11,16),new Y(5,17)),new fe(24,new Y(11,12),new Y(5,13))),new t(15,Int32Array.from([6,26,48,70]),new fe(22,new Y(5,87),new Y(1,88)),new fe(24,new Y(5,41),new Y(5,42)),new fe(30,new Y(5,24),new Y(7,25)),new fe(24,new Y(11,12),new Y(7,13))),new t(16,Int32Array.from([6,26,50,74]),new fe(24,new Y(5,98),new Y(1,99)),new fe(28,new Y(7,45),new Y(3,46)),new fe(24,new Y(15,19),new Y(2,20)),new fe(30,new Y(3,15),new Y(13,16))),new t(17,Int32Array.from([6,30,54,78]),new fe(28,new Y(1,107),new Y(5,108)),new fe(28,new Y(10,46),new Y(1,47)),new fe(28,new Y(1,22),new Y(15,23)),new fe(28,new Y(2,14),new Y(17,15))),new t(18,Int32Array.from([6,30,56,82]),new fe(30,new Y(5,120),new Y(1,121)),new fe(26,new Y(9,43),new Y(4,44)),new fe(28,new Y(17,22),new Y(1,23)),new fe(28,new Y(2,14),new Y(19,15))),new t(19,Int32Array.from([6,30,58,86]),new fe(28,new Y(3,113),new Y(4,114)),new fe(26,new Y(3,44),new Y(11,45)),new fe(26,new Y(17,21),new Y(4,22)),new fe(26,new Y(9,13),new Y(16,14))),new t(20,Int32Array.from([6,34,62,90]),new fe(28,new Y(3,107),new Y(5,108)),new fe(26,new Y(3,41),new Y(13,42)),new fe(30,new Y(15,24),new Y(5,25)),new fe(28,new Y(15,15),new Y(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new fe(28,new Y(4,116),new Y(4,117)),new fe(26,new Y(17,42)),new fe(28,new Y(17,22),new Y(6,23)),new fe(30,new Y(19,16),new Y(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new fe(28,new Y(2,111),new Y(7,112)),new fe(28,new Y(17,46)),new fe(30,new Y(7,24),new Y(16,25)),new fe(24,new Y(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new fe(30,new Y(4,121),new Y(5,122)),new fe(28,new Y(4,47),new Y(14,48)),new fe(30,new Y(11,24),new Y(14,25)),new fe(30,new Y(16,15),new Y(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new fe(30,new Y(6,117),new Y(4,118)),new fe(28,new Y(6,45),new Y(14,46)),new fe(30,new Y(11,24),new Y(16,25)),new fe(30,new Y(30,16),new Y(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new fe(26,new Y(8,106),new Y(4,107)),new fe(28,new Y(8,47),new Y(13,48)),new fe(30,new Y(7,24),new Y(22,25)),new fe(30,new Y(22,15),new Y(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new fe(28,new Y(10,114),new Y(2,115)),new fe(28,new Y(19,46),new Y(4,47)),new fe(28,new Y(28,22),new Y(6,23)),new fe(30,new Y(33,16),new Y(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new fe(30,new Y(8,122),new Y(4,123)),new fe(28,new Y(22,45),new Y(3,46)),new fe(30,new Y(8,23),new Y(26,24)),new fe(30,new Y(12,15),new Y(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new fe(30,new Y(3,117),new Y(10,118)),new fe(28,new Y(3,45),new Y(23,46)),new fe(30,new Y(4,24),new Y(31,25)),new fe(30,new Y(11,15),new Y(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new fe(30,new Y(7,116),new Y(7,117)),new fe(28,new Y(21,45),new Y(7,46)),new fe(30,new Y(1,23),new Y(37,24)),new fe(30,new Y(19,15),new Y(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new fe(30,new Y(5,115),new Y(10,116)),new fe(28,new Y(19,47),new Y(10,48)),new fe(30,new Y(15,24),new Y(25,25)),new fe(30,new Y(23,15),new Y(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new fe(30,new Y(13,115),new Y(3,116)),new fe(28,new Y(2,46),new Y(29,47)),new fe(30,new Y(42,24),new Y(1,25)),new fe(30,new Y(23,15),new Y(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new fe(30,new Y(17,115)),new fe(28,new Y(10,46),new Y(23,47)),new fe(30,new Y(10,24),new Y(35,25)),new fe(30,new Y(19,15),new Y(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new fe(30,new Y(17,115),new Y(1,116)),new fe(28,new Y(14,46),new Y(21,47)),new fe(30,new Y(29,24),new Y(19,25)),new fe(30,new Y(11,15),new Y(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new fe(30,new Y(13,115),new Y(6,116)),new fe(28,new Y(14,46),new Y(23,47)),new fe(30,new Y(44,24),new Y(7,25)),new fe(30,new Y(59,16),new Y(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new fe(30,new Y(12,121),new Y(7,122)),new fe(28,new Y(12,47),new Y(26,48)),new fe(30,new Y(39,24),new Y(14,25)),new fe(30,new Y(22,15),new Y(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new fe(30,new Y(6,121),new Y(14,122)),new fe(28,new Y(6,47),new Y(34,48)),new fe(30,new Y(46,24),new Y(10,25)),new fe(30,new Y(2,15),new Y(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new fe(30,new Y(17,122),new Y(4,123)),new fe(28,new Y(29,46),new Y(14,47)),new fe(30,new Y(49,24),new Y(10,25)),new fe(30,new Y(24,15),new Y(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new fe(30,new Y(4,122),new Y(18,123)),new fe(28,new Y(13,46),new Y(32,47)),new fe(30,new Y(48,24),new Y(14,25)),new fe(30,new Y(42,15),new Y(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new fe(30,new Y(20,117),new Y(4,118)),new fe(28,new Y(40,47),new Y(7,48)),new fe(30,new Y(43,24),new Y(22,25)),new fe(30,new Y(10,15),new Y(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new fe(30,new Y(19,118),new Y(6,119)),new fe(28,new Y(18,47),new Y(31,48)),new fe(30,new Y(34,24),new Y(34,25)),new fe(30,new Y(20,15),new Y(61,16)))],t})(),Nn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Nn||(Nn={}));var Y$=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Nn.DATA_MASK_000,new t(Nn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Nn.DATA_MASK_001,new t(Nn.DATA_MASK_001,function(e,r){return(e&1)===0})],[Nn.DATA_MASK_010,new t(Nn.DATA_MASK_010,function(e,r){return r%3===0})],[Nn.DATA_MASK_011,new t(Nn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Nn.DATA_MASK_100,new t(Nn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Nn.DATA_MASK_101,new t(Nn.DATA_MASK_101,function(e,r){return e*r%6===0})],[Nn.DATA_MASK_110,new t(Nn.DATA_MASK_110,function(e,r){return e*r%6<3})],[Nn.DATA_MASK_111,new t(Nn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),F7e=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,a=i-7,n=i-1;n>=a;n--)o=this.copyBit(8,n,o);for(var r=i-8;r<i;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=mee.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Yu.getVersionForNumber(r);for(var n=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,o,n);var s=Yu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(s=Yu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Me},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Y$.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=r.buildFunctionPattern(),a=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,c=0,f=0,h=i-1;h>0;h-=2){h===6&&h--;for(var p=0;p<i;p++)for(var g=a?i-1-p:p,x=0;x<2;x++)o.get(h-x,g)||(f++,c<<=1,this.bitMatrix.get(h-x,g)&&(c|=1),f===8&&(s[l++]=c,f=0,c=0));a=!a}if(l!==r.getTotalCodewords())throw new Me;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Y$.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,o=e.getHeight();i<o;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),X$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L7e=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,o,a,s;if(e.length!==r.getTotalCodewords())throw new st;var l=r.getECBlocksForLevel(n),c=0,f=l.getECBlocks();try{for(var h=X$(f),p=h.next();!p.done;p=h.next()){var g=p.value;c+=g.getCount()}}catch(F){i={error:F}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var x=new Array(c),v=0;try{for(var b=X$(f),_=b.next();!_.done;_=b.next())for(var g=_.value,C=0;C<g.getCount();C++){var E=g.getDataCodewords(),P=l.getECCodewordsPerBlock()+E;x[v++]=new t(E,new Uint8Array(P))}}catch(F){a={error:F}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}for(var I=x[0].codewords.length,S=x.length-1;S>=0;){var T=x[S].codewords.length;if(T===I)break;S--}S++;for(var N=I-l.getECCodewordsPerBlock(),j=0,C=0;C<N;C++)for(var B=0;B<v;B++)x[B].codewords[C]=e[j++];for(var B=S;B<v;B++)x[B].codewords[N]=e[j++];for(var M=x[0].codewords.length,C=N;C<M;C++)for(var B=0;B<v;B++){var L=B<S?C:C+1;x[B].codewords[L]=e[j++]}return x},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),ko;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(ko||(ko={}));var Ir=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new st;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ko.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ko.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ko.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ko.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ko.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ko.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ko.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ko.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ko.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ko.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),B7e=(function(){function t(){}return t.decode=function(e,r,n,i){var o=new pee(e),a=new Nt,s=new Array,l=-1,c=-1;try{var f=null,h=!1,p=void 0;do{if(o.available()<4)p=Ir.TERMINATOR;else{var g=o.readBits(4);p=Ir.forBits(g)}switch(p){case Ir.TERMINATOR:break;case Ir.FNC1_FIRST_POSITION:case Ir.FNC1_SECOND_POSITION:h=!0;break;case Ir.STRUCTURED_APPEND:if(o.available()<16)throw new Me;l=o.readBits(8),c=o.readBits(8);break;case Ir.ECI:var x=t.parseECIValue(o);if(f=gn.getCharacterSetECIByValue(x),f===null)throw new Me;break;case Ir.HANZI:var v=o.readBits(4),b=o.readBits(p.getCharacterCountBits(r));v===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,b);break;default:var _=o.readBits(p.getCharacterCountBits(r));switch(p){case Ir.NUMERIC:t.decodeNumericSegment(o,a,_);break;case Ir.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,_,h);break;case Ir.BYTE:t.decodeByteSegment(o,a,_,f,s,i);break;case Ir.KANJI:t.decodeKanjiSegment(o,a,_);break;default:throw new Me}break}}while(p!==Ir.TERMINATOR)}catch{throw new Me}return new Xw(e,a.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Me;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,i[o]=s>>8&255,i[o+1]=s&255,o+=2,n--}try{r.append(Uo.decode(i,Vt.GB2312))}catch(l){throw new Me(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Me;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{r.append(Uo.decode(i,Vt.SHIFT_JIS))}catch(l){throw new Me(l)}},t.decodeByteSegment=function(e,r,n,i,o,a){if(8*n>e.available())throw new Me;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=Vt.guessEncoding(s,a):c=i.getName();try{r.append(Uo.decode(s,c))}catch(f){throw new Me(f)}o.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(e.available()<11)throw new Me;var a=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(a/45))),r.append(t.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new Me;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Me;var i=e.readBits(10);if(i>=1e3)throw new Me;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Me;var o=e.readBits(7);if(o>=100)throw new Me;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new Me;var a=e.readBits(4);if(a>=10)throw new Me;r.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),gee=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),Q$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V7e=(function(){function t(){this.rsDecoder=new Qw(Di.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(gs.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new F7e(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new gee(!0)),o}catch(a){throw i!==null?i:a}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,o,a,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),f=L7e.getDataBlocks(c,s,l),h=0;try{for(var p=Q$(f),g=p.next();!g.done;g=p.next()){var x=g.value;h+=x.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}var v=new Uint8Array(h),b=0;try{for(var _=Q$(f),C=_.next();!C.done;C=_.next()){var x=C.value,E=x.getCodewords(),P=x.getNumDataCodewords();this.correctErrors(E,P);for(var I=0;I<P;I++)v[b++]=E[I]}}catch(S){o={error:S}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}return B7e.decode(v,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Rn}for(var i=0;i<r;i++)e[i]=n[i]},t})(),$7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),U7e=(function(t){$7e(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=(this.getX()+n)/2,a=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(o,a,s)},e})(Qe),z7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W7e=(function(){function t(e,r,n,i,o,a,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,o=this.startY+r/2,a=new Int32Array(3),s=this.image,l=0;l<r;l++){var c=o+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var f=e;f<i&&!s.get(f,c);)f++;for(var h=0;f<i;){if(s.get(f,c))if(h===1)a[1]++;else if(h===2){if(this.foundPatternCross(a)){var p=this.handlePossibleCenter(a,c,f);if(p!==null)return p}a[0]=a[2],a[1]=1,a[2]=0,h=1}else a[++h]++;else h===1&&h++,a[h]++;f++}if(this.foundPatternCross(a)){var p=this.handlePossibleCenter(a,c,i);if(p!==null)return p}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&o.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!o.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<a&&o.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===a||s[1]>n)return NaN;for(;l<a&&!o.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],a);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var f=z7e(this.possibleCenters),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.aboutEquals(c,l,s))return p.combineEstimate(l,s,c)}}catch(x){i={error:x}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var g=new U7e(s,l,c);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null},t})(),H7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),q7e=(function(t){H7e(e,t);function e(r,n,i,o){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=this.count+1,a=(this.count*this.getX()+n)/o,s=(this.count*this.getY()+r)/o,l=(this.count*this.estimatedModuleSize+i)/o;return new e(a,s,l,o)},e})(Qe),G7e=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Cm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K7e=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Fr.TRY_HARDER)!==void 0,n=e!=null&&e.get(Fr.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),f=s-1;f<o&&!l;f+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var h=0,p=0;p<a;p++)if(i.get(p,f))(h&1)===1&&h++,c[h]++;else if((h&1)===0)if(h===4)if(t.foundPatternCross(c)){var g=this.handlePossibleCenter(c,f,p,n);if(g===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var x=this.findRowSkip();x>c[2]&&(f+=x-c[2]-s,p=a-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;continue}h=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;else c[++h]++;else c[h]++;if(t.foundPatternCross(c)){var g=this.handlePossibleCenter(c,f,a,n);g===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return Qe.orderBestPatterns(v),new G7e(v)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var o=r/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&r>=a&&s.get(r-a,e-a);)o[2]++,a++;if(e<a||r<a)return!1;for(;e>=a&&r>=a&&!s.get(r-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||r<a||o[1]>n)return!1;for(;e>=a&&r>=a&&s.get(r-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(a=1;e+a<l&&r+a<c&&s.get(r+a,e+a);)o[2]++,a++;if(e+a>=l||r+a>=c)return!1;for(;e+a<l&&r+a<c&&!s.get(r+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=l||r+a>=c||o[3]>=n)return!1;for(;e+a<l&&r+a<c&&s.get(r+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var f=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(f-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&o.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<a&&o.get(r,l);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===a||s[3]>=n)return NaN;for(;l<a&&o.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&o.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<a&&o.get(l,r);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===a||s[3]>=n)return NaN;for(;l<a&&o.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var l=o/7,c=!1,f=this.possibleCenters,h=0,p=f.length;h<p;h++){var g=f[h];if(g.aboutEquals(l,s,a)){f[h]=g.combineEstimate(s,a,l),c=!0;break}}if(!c){var x=new q7e(a,s,l);f.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=Cm(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var l=Cm(this.possibleCenters),c=l.next();!c.done;c=l.next()){var f=c.value;f.getCount()>=t.CENTER_QUORUM&&(o++,a+=f.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var h=a/s,p=0;try{for(var g=Cm(this.possibleCenters),x=g.next();!x.done;x=g.next()){var f=x.value;p+=Math.abs(f.getEstimatedModuleSize()-h)}}catch(v){n={error:v}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}return p<=.05*a},t.prototype.selectBestPatterns=function(){var e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new xe;var a=this.possibleCenters,s;if(o>3){var l=0,c=0;try{for(var f=Cm(this.possibleCenters),h=f.next();!h.done;h=f.next()){var p=h.value,g=p.getEstimatedModuleSize();l+=g,c+=g*g}}catch(I){e={error:I}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}s=l/o;var x=Math.sqrt(c/o-s*s);a.sort(function(I,S){var T=Math.abs(S.getEstimatedModuleSize()-s),N=Math.abs(I.getEstimatedModuleSize()-s);return T<N?-1:T>N?1:0});for(var v=Math.max(.2*s,x),b=0;b<a.length&&a.length>3;b++){var _=a[b];Math.abs(_.getEstimatedModuleSize()-s)>v&&(a.splice(b,1),b--)}}if(a.length>3){var l=0;try{for(var C=Cm(a),E=C.next();!E.done;E=C.next()){var P=E.value;l+=P.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{E&&!E.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}s=l/a.length,a.sort(function(S,T){if(T.getCount()===S.getCount()){var N=Math.abs(T.getEstimatedModuleSize()-s),j=Math.abs(S.getEstimatedModuleSize()-s);return N<j?1:N>j?-1:0}else return T.getCount()-S.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),Y7e=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Fr.NEED_RESULT_POINT_CALLBACK);var r=new K7e(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new xe("No pattern found in proccess finder.");var a=t.computeDimension(r,n,i,o),s=Yu.getProvisionalVersionForDimension(a),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var f=n.getX()-r.getX()+i.getX(),h=n.getY()-r.getY()+i.getY(),p=1-3/l,g=Math.floor(r.getX()+p*(f-r.getX())),x=Math.floor(r.getY()+p*(h-r.getY())),v=4;v<=16;v<<=1)try{c=this.findAlignmentInRegion(o,g,x,v);break}catch(E){if(!(E instanceof xe))throw E}var b=t.createTransform(r,n,i,c,a),_=t.sampleGrid(this.image,b,a),C;return c===null?C=[i,r,n]:C=[i,r,n,c],new zO(_,C)},t.createTransform=function(e,r,n,i,o){var a=o-3.5,s,l,c,f;return i!==null?(s=i.getX(),l=i.getY(),c=a-3,f=c):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=a,f=a),uee.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,c,f,3.5,a,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=WO.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var o=Ht.round(Qe.distance(e,r)/i),a=Ht.round(Qe.distance(e,n)/i),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new xe("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,i),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*a);return a=1,l<0?(a=r/(r-l),l=0):l>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var o=Math.abs(i-r)>Math.abs(n-e);if(o){var a=e;e=r,r=a,a=n,n=i,i=a}for(var s=Math.abs(n-e),l=Math.abs(i-r),c=-s/2,f=e<n?1:-1,h=r<i?1:-1,p=0,g=n+f,x=e,v=r;x!==g;x+=f){var b=o?v:x,_=o?x:v;if(p===1===this.image.get(b,_)){if(p===2)return Ht.distance(x,v,e,r);p++}if(c+=l,c>0){if(v===i)break;v+=h,c-=s}}return p===2?Ht.distance(n+f,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var o=Math.floor(i*e),a=Math.max(0,r-o),s=Math.min(this.image.getWidth()-1,r+o);if(s-a<e*3)throw new xe("Alignment top exceeds estimated module size.");var l=Math.max(0,n-o),c=Math.min(this.image.getHeight()-1,n+o);if(c-l<e*3)throw new xe("Alignment bottom exceeds estimated module size.");var f=new W7e(this.image,a,l,s-a,c-l,e,this.resultPointCallback);return f.find()},t})(),KP=(function(){function t(){this.decoder=new V7e}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Fr.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var a=new Y7e(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof gee&&n.getOther().applyMirroredCorrection(i);var s=new di(n.getText(),n.getRawBytes(),void 0,i,it.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(Kn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(Kn.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Kn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Kn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new xe;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],l=n[0];if(s>=l||o>=a)throw new xe;if(a-o!==l-s&&(l=s+(a-o),l>=e.getWidth()))throw new xe;var c=Math.round((l-s+1)/i),f=Math.round((a-o+1)/i);if(c<=0||f<=0)throw new xe;if(f!==c)throw new xe;var h=Math.floor(i/2);o+=h,s+=h;var p=s+Math.floor((c-1)*i)-l;if(p>0){if(p>h)throw new xe;s-=p}var g=o+Math.floor((f-1)*i)-a;if(g>0){if(g>h)throw new xe;o-=g}for(var x=new gs(c,f),v=0;v<f;v++)for(var b=o+Math.floor(v*i),_=0;_<c;_++)e.get(s+Math.floor(_*i),b)&&x.set(_,v);return x},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),o=e[0],a=e[1],s=!0,l=0;o<i&&a<n;){if(s!==r.get(o,a)){if(++l===5)break;s=!s}o++,a++}if(o===i||a===n)throw new xe;return(o-e[0])/7},t.NO_POINTS=new Array,t})(),X7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ut=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Ht.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=X7e(e),s=a.next();!s.done;s=a.next()){var l=s.value;i[o++]=l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=vn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),Q7e=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),Z7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J7e=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(n,i)),new Q7e(i,o)},t.detect=function(e,r){for(var n,i,o=new Array,a=0,s=0,l=!1;a<r.getHeight();){var c=t.findVertices(r,a,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var f=(n=void 0,Z7e(o)),h=f.next();!h.done;h=f.next()){var p=h.value;p[1]!=null&&(a=Math.trunc(Math.max(a,p[1].getY()))),p[3]!=null&&(a=Math.max(a,Math.trunc(p[3].getY())))}}catch(g){n={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}a+=t.ROW_STEP;continue}if(l=!0,o.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,o,a){for(var s=new Array(4),l=!1,c=new Int32Array(a.length);i<r;i+=t.ROW_STEP){var f=t.findGuardPattern(e,o,i,n,!1,a,c);if(f!=null){for(;i>0;){var h=t.findGuardPattern(e,o,--i,n,!1,a,c);if(h!=null)f=h;else{i++;break}}s[0]=new Qe(f[0],i),s[1]=new Qe(f[1],i),l=!0;break}}var p=i+1;if(l){for(var g=0,h=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);p<r;p++){var f=t.findGuardPattern(e,h[0],p,n,!1,a,c);if(f!=null&&Math.abs(h[0]-f[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-f[1])<t.MAX_PATTERN_DRIFT)h=f,g=0;else{if(g>t.SKIPPED_ROW_COUNT_MAX)break;g++}}p-=g+1,s[2]=new Qe(h[0],p),s[3]=new Qe(h[1],p)}return p-i<t.BARCODE_MIN_HEIGHT&&vn.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,o,a,s){vn.fillWithin(s,0,s.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var f=l,h=0,p=a.length,g=o;f<i;f++){var x=e.get(f,n);if(x!==g)s[h]++;else{if(h===p-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,f]);l+=s[0]+s[1],br.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,g=!g}}return h===p-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,f-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return 1/0;var l=o/a;n*=l;for(var c=0,f=0;f<i;f++){var h=e[f],p=r[f]*l,g=h>p?h-p:p-h;if(g>n)return 1/0;c+=g}return c/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),e9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uu=(function(){function t(e,r){if(r.length===0)throw new st;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),br.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=e9e(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;i=this.field.add(i,s)}}catch(h){r={error:h}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,f=1;f<c;f++)l=this.field.add(this.field.multiply(e,l),this.coefficients[f]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new st("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;br.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(r[s-a],n[s]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new st("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new st("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var l=r[s],c=0;c<o;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(l,i[c]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new st;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Nt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),t9e=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new st;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new cee;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),r9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),n9e=(function(t){r9e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var o=1,a=0;a<r;a++)i.expTable[a]=o,o=o*n%r;for(var a=0;a<r-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Uu(i,new Int32Array([0])),i.one=new Uu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new st;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Uu(this,i)},e.PDF417_GF=new e(Ut.NUMBER_OF_CODEWORDS,3),e})(t9e),i9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o9e=(function(){function t(){this.field=n9e.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,o,a=new Uu(this.field,e),s=new Int32Array(r),l=!1,c=r;c>0;c--){var f=a.evaluateAt(this.field.exp(c));s[r-c]=f,f!==0&&(l=!0)}if(!l)return 0;var h=this.field.getOne();if(n!=null)try{for(var p=i9e(n),g=p.next();!g.done;g=p.next()){var x=g.value,v=this.field.exp(e.length-1-x),b=new Uu(this.field,new Int32Array([this.field.subtract(0,v),1]));h=h.multiply(b)}}catch(N){i={error:N}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}for(var _=new Uu(this.field,s),C=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),_,r),E=C[0],P=C[1],I=this.findErrorLocations(E),S=this.findErrorMagnitudes(P,E,I),c=0;c<I.length;c++){var T=e.length-1-this.field.log(I[c]);if(T<0)throw Rn.getChecksumInstance();e[T]=this.field.subtract(e[T],S[c])}return I.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=e,a=r,s=this.field.getZero(),l=this.field.getOne();a.getDegree()>=Math.round(n/2);){var c=o,f=s;if(o=a,s=l,o.isZero())throw Rn.getChecksumInstance();a=c;for(var h=this.field.getZero(),p=o.getCoefficient(o.getDegree()),g=this.field.inverse(p);a.getDegree()>=o.getDegree()&&!a.isZero();){var x=a.getDegree()-o.getDegree(),v=this.field.multiply(a.getCoefficient(a.getDegree()),g);h=h.add(this.field.buildMonomial(x,v)),a=a.subtract(o.multiplyByMonomial(x,v))}l=h.multiply(s).subtract(f).negative()}var b=l.getCoefficient(0);if(b===0)throw Rn.getChecksumInstance();var _=this.field.inverse(b),C=l.multiply(_),E=a.multiply(_);return[C,E]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,o=1;o<this.field.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==r)throw Rn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,r.getCoefficient(a));for(var s=new Uu(this.field,o),l=n.length,c=new Int32Array(l),a=0;a<l;a++){var f=this.field.inverse(n[a]),h=this.field.subtract(0,e.evaluateAt(f)),p=this.field.inverse(s.evaluateAt(f));c[a]=this.field.multiply(h,p)}return c},t})(),YP=(function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(e,r,n,i,o){var a=r==null||n==null,s=i==null||o==null;if(a&&s)throw new xe;a?(r=new Qe(0,i.getY()),n=new Qe(0,o.getY())):s&&(i=new Qe(e.getWidth()-1,r.getY()),o=new Qe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var f=new Qe(l.getX(),c);n?i=f:a=f}if(r>0){var h=n?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);var g=new Qe(h.getX(),p);n?o=g:s=g}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),a9e=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),qO=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(a,s,l,c,f,h){if(a==="%%")return"%";if(r[++n]!==void 0){a=c?parseInt(c.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,g;switch(h){case"s":g=r[n];break;case"c":g=r[n][0];break;case"f":g=parseFloat(r[n]).toFixed(a);break;case"p":g=parseFloat(r[n]).toPrecision(a);break;case"e":g=parseFloat(r[n]).toExponential(a);break;case"x":g=parseInt(r[n]).toString(p||16);break;case"d":g=parseFloat(parseInt(r[n],p||10).toPrecision(a)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(p);for(var x=parseInt(l),v=l&&l[0]+""=="0"?"0":" ";g.length<x;)g=s!==void 0?g+v:v+g;return g}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),s9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yee=(function(){function t(e){this.boundingBox=new YP(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new qO,i=0;try{for(var o=s9e(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),l9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c9e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},$m=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,o=function(h,p){var g={getKey:function(){return h},getValue:function(){return p}};g.getValue()>n?(n=g.getValue(),i=[],i.push(g.getKey())):g.getValue()===n&&i.push(g.getKey())};try{for(var a=l9e(this.values.entries()),s=a.next();!s.done;s=a.next()){var l=c9e(s.value,2),c=l[0],f=l[1];o(c,f)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return Ut.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),u9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),MT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z$=(function(t){u9e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=MT(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=-1,f=1,h=0,p=s;p<l;p++)if(n[p]!=null){var g=n[p],x=g.getRowNumber()-c;if(x===0)h++;else if(x===1)f=Math.max(f,h),h=1,c=g.getRowNumber();else if(x<0||g.getRowNumber()>=r.getRowCount()||x>p)n[p]=null;else{var v=void 0;f>2?v=(f-2)*x:v=x;for(var b=v>=p,_=1;_<=v&&!b;_++)b=n[p-_]!=null;b?n[p]=null:(c=g.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=MT(this.getCodewords()),s=a.next();!s.done;s=a.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=o.length)continue;o[c]++}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.getCodewords(),c=-1,f=a;f<s;f++)if(l[f]!=null){var h=l[f];h.setRowNumberAsRowIndicatorColumn();var p=h.getRowNumber()-c;p===0||(p===1?c=h.getRowNumber():h.getRowNumber()>=r.getRowCount()?l[f]=null:c=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),o=new $m,a=new $m,s=new $m,l=new $m;try{for(var c=MT(i),f=c.next();!f.done;f=c.next()){var h=f.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var p=h.getValue()%30,g=h.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(p*3+1);break;case 1:l.setValue(p/3),s.setValue(p%3);break;case 2:o.setValue(p+1);break}}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||l.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<Ut.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>Ut.MAX_ROWS_IN_BARCODE)return null;var x=new a9e(o.getValue()[0],a.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,x),x},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var o=r[i];if(r[i]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:a+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(yee),f9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d9e=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ut.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var a=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=s[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=s[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=s[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=s[r+2],c[13]=l[r+2]);try{for(var f=f9e(c),h=f.next();!h.done;h=f.next()){var p=h.value;if(t.adjustRowNumber(a,p))return}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new qO,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t})(),h9e=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),p9e=(function(){function t(){}return t.initialize=function(){for(var e=0;e<Ut.SYMBOL_TABLE.length;e++)for(var r=Ut.SYMBOL_TABLE[e],n=r&1,i=0;i<Ut.BARS_IN_MODULE;i++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ut.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ut.BARS_IN_MODULE-i-1]=Math.fround(o/Ut.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Ht.sum(e),n=new Int32Array(Ut.BARS_IN_MODULE),i=0,o=0,a=0;a<Ut.MODULES_IN_CODEWORD;a++){var s=r/(2*Ut.MODULES_IN_CODEWORD)+a*r/Ut.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Ut.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Ht.sum(e),n=new Array(Ut.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=zP.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],f=0;f<Ut.BARS_IN_MODULE;f++){var h=Math.fround(c[f]-n[f]);if(l+=Math.fround(h*h),l>=o)break}l<o&&(o=l,a=Ut.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ut.SYMBOL_TABLE.length).map(function(e){return new Array(Ut.BARS_IN_MODULE)}),t})(),m9e=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),J$=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),g9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),y9e=(function(t){g9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(zi),v9e=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new y9e;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new $O;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),x9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),b9e=(function(t){x9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(zi),w9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_9e=(function(t){w9e(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new st("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new b9e;i=Ot.MAX_VALUE}this.buf=vn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new $O;this.ensureCapacity(this.count+i),br.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return vn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(v9e),lr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lr||(lr={}));function vee(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Jv;function rc(t){if(typeof Jv>"u"&&(Jv=vee()),Jv===null)throw new Error("BigInt is not supported!");return Jv(t)}function A9e(){var t=[];t[0]=rc(1);var e=rc(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var C9e=(function(){function t(){}return t.decode=function(e,r){var n=new Nt(""),i=gn.ISO8859_1;n.enableDecoding(i);for(var o=1,a=e[o++],s=new m9e;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:gn.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Me;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw Me.getFormatInstance()}if(n.length()===0)throw Me.getFormatInstance();var l=new Xw(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(Ot.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Nt;r=t.textCompaction(e,r,a),n.setFileId(a.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Nt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Nt;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var f=new Nt;r=t.textCompaction(e,r+1,f),n.setAddressee(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new Nt;r=t.numericCompaction(e,r+1,h),n.setSegmentCount(Ot.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var p=new Nt;r=t.numericCompaction(e,r+1,p),n.setTimestamp(J$.parseLong(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var g=new Nt;r=t.numericCompaction(e,r+1,g),n.setChecksum(Ot.parseInt(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var x=new Nt;r=t.numericCompaction(e,r+1,x),n.setFileSize(J$.parseLong(x.toString()));break;default:throw Me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Me.getFormatInstance()}if(s!==-1){var v=r-s;n.isLastSegment()&&v--,n.setOptionalData(vn.copyOfRange(e,s,s+v))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),a=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[a]=l/30,i[a+1]=l%30,a+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],o[a]=l,a++;break}}return t.decodeTextCompaction(i,o,a,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=lr.ALPHA,a=lr.ALPHA,s=0;s<n;){var l=e[s],c="";switch(o){case lr.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:o=lr.LOWER;break;case t.ML:o=lr.MIXED;break;case t.PS:a=o,o=lr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=lr.ALPHA;break}break;case lr.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:a=o,o=lr.ALPHA_SHIFT;break;case t.ML:o=lr.MIXED;break;case t.PS:a=o,o=lr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=lr.ALPHA;break}break;case lr.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:o=lr.PUNCT;break;case 26:c=" ";break;case t.LL:o=lr.LOWER;break;case t.AL:o=lr.ALPHA;break;case t.PS:a=o,o=lr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=lr.ALPHA;break}break;case lr.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=lr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=lr.ALPHA;break}break;case lr.ALPHA_SHIFT:if(o=a,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=lr.ALPHA;break}break;case lr.PUNCT_SHIFT:if(o=a,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=lr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=lr.ALPHA;break}break}c!==""&&i.append(c),s++}},t.byteCompaction=function(e,r,n,i,o){var a=new _9e,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var f=new Int32Array(6),h=r[i++];i<r[0]&&!c;)switch(f[s++]=h,l=900*l+h,h=r[i++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var p=0;p<6;++p)a.write(Number(rc(l)>>rc(8*(5-p))));l=0,s=0}break}i===r[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(f[s++]=h);for(var g=0;g<s;g++)a.write(f[g]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var x=r[i++];if(x<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+x;else switch(x){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var p=0;p<6;++p)a.write(Number(rc(l)>>rc(8*(5-p))));l=0,s=0}}break}return o.append(Uo.decode(a.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var s=e[r++];if(r===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(a,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=rc(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*rc(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new Me;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=vee()?A9e():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),Em=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E9e=(function(){function t(){}return t.decode=function(e,r,n,i,o,a,s){for(var l=new YP(e,r,n,i,o),c=null,f=null,h,p=!0;;p=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,a,s)),i!=null&&(f=t.getRowIndicatorColumn(e,l,i,!1,a,s)),h=t.merge(c,f),h==null)throw xe.getNotFoundInstance();var g=h.getBoundingBox();if(p&&g!=null&&(g.getMinY()<l.getMinY()||g.getMaxY()>l.getMaxY()))l=g;else break}h.setBoundingBox(l);var x=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,c),h.setDetectionResultColumn(x,f);for(var v=c!=null,b=1;b<=x;b++){var _=v?b:x-b;if(h.getDetectionResultColumn(_)===void 0){var C=void 0;_===0||_===x?C=new Z$(l,_===0):C=new yee(l),h.setDetectionResultColumn(_,C);for(var E=-1,P=E,I=l.getMinY();I<=l.getMaxY();I++){if(E=t.getStartColumn(h,_,I,v),E<0||E>l.getMaxX()){if(P===-1)continue;E=P}var S=t.detectCodeword(e,l.getMinX(),l.getMaxX(),v,E,I,a,s);S!=null&&(C.setCodeword(I,S),P=E,a=Math.min(a,S.getWidth()),s=Math.max(s,S.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=YP.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new d9e(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),a=0;try{for(var s=Em(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(a+=o-c,c>0)break}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var f=e.getCodewords(),h=0;a>0&&f[h]==null;h++)a--;for(var p=0,h=i.length-1;h>=0&&(p+=o-i[h],!(i[h]>0));h--);for(var h=f.length-1;p>0&&f[h]==null;h--)p--;return e.getBoundingBox().addMissingRows(a,p,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var o=Em(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,o,a){for(var s=new Z$(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,f=Math.trunc(Math.trunc(n.getX())),h=Math.trunc(Math.trunc(n.getY()));h<=r.getMaxY()&&h>=r.getMinY();h+=c){var p=t.detectCodeword(e,0,e.getWidth(),i,f,h,o,a);p!=null&&(s.setCodeword(h,p),i?f=p.getStartX():f=p.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>Ut.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[s][l+1].getValue(),f=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(f):c.length===1?i[f]=c[0]:(a.push(f),o.push(c))}for(var h=new Array(o.length),p=0;p<h.length;p++)h[p]=o[p];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ut.toIntArray(n),Ut.toIntArray(a),h)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<a.length;l++)r[i[l]]=o[l][a[l]];try{return t.decodeCodewords(r,e,n)}catch(f){var c=f instanceof Rn;if(!c)throw f}if(a.length===0)throw Rn.getChecksumInstance();for(var l=0;l<a.length;l++)if(a[l]<o[l].length-1){a[l]++;break}else if(a[l]=0,l===a.length-1)throw Rn.getChecksumInstance()}throw Rn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var l=0;l<a[s].length;l++)a[s][l]=new $m;var c=0;try{for(var f=Em(e.getDetectionResultColumns()),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null)try{for(var g=(i=void 0,Em(p.getCodewords())),x=g.next();!x.done;x=g.next()){var v=x.value;if(v!=null){var b=v.getRowNumber();if(b>=0){if(b>=a.length)continue;a[b][c].setValue(v.getValue())}}}}catch(_){i={error:_}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}c++}}catch(_){r={error:_}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return a},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,a,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var f=(o=void 0,Em(e.getDetectionResultColumn(r).getCodewords())),h=f.next();!h.done;h=f.next()){var p=h.value;if(p!=null)return(i?p.getEndX():p.getStartX())+s*c*(p.getEndX()-p.getStartX())}}catch(g){o={error:g}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,a,s,l){o=t.adjustCodewordStartColumn(e,r,n,i,o,a);var c=t.getModuleBitCount(e,r,n,i,o,a);if(c==null)return null;var f,h=Ht.sum(c);if(i)f=o+h;else{for(var p=0;p<c.length/2;p++){var g=c[p];c[p]=c[c.length-1-p],c[c.length-1-p]=g}f=o,o=f-h}if(!t.checkCodewordSkew(h,s,l))return null;var x=p9e.getDecodedValue(c),v=Ut.getCodeword(x);return v===-1?null:new h9e(o,f,t.getCodewordBucketNumber(x),v)},t.getModuleBitCount=function(e,r,n,i,o,a){for(var s=o,l=new Int32Array(8),c=0,f=i?1:-1,h=i;(i?s<n:s>=r)&&c<l.length;)e.get(s,a)===h?(l[c]++,s+=f):(c++,h=!h);return c===l.length||s===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,o,a){for(var s=o,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=r:s<n)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Me.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var a=C9e.decode(e,""+r);return a.setErrorsCorrected(o),a.setErasures(n.length),a},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Rn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Me.getFormatInstance();var n=e[0];if(n>e.length)throw Me.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new qO,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new o9e,t})(),S9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XP=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw xe.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Me||n instanceof Rn?xe.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,o,a=new Array,s=J7e.detectMultiple(e,r,n);try{for(var l=S9e(s.getPoints()),c=l.next();!c.done;c=l.next()){var f=c.value,h=E9e.decode(s.getBits(),f[4],f[5],f[6],f[7],t.getMinCodewordWidth(f),t.getMaxCodewordWidth(f)),p=new di(h.getText(),h.getRawBytes(),void 0,f,it.PDF_417);p.putMetadata(Kn.ERROR_CORRECTION_LEVEL,h.getECLevel());var g=h.getOther();g!=null&&p.putMetadata(Kn.PDF417_EXTRA_METADATA,g),a.push(p)}}catch(x){i={error:x}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a.map(function(x){return x})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Ot.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),T9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),eU=(function(t){T9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(zi),tU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I9e=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Fr.TRY_HARDER)!==void 0,n=e==null?null:e.get(Fr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(a){return a===it.UPC_A||a===it.UPC_E||a===it.EAN_13||a===it.EAN_8||a===it.CODABAR||a===it.CODE_39||a===it.CODE_93||a===it.CODE_128||a===it.ITF||a===it.RSS_14||a===it.RSS_EXPANDED});o&&!r&&i.push(new Vm(e)),n.includes(it.QR_CODE)&&i.push(new KP),n.includes(it.DATA_MATRIX)&&i.push(new GP),n.includes(it.AZTEC)&&i.push(new HP),n.includes(it.PDF_417)&&i.push(new XP),o&&r&&i.push(new Vm(e))}i.length===0&&(r||i.push(new Vm(e)),i.push(new KP),i.push(new GP),i.push(new HP),i.push(new XP),r&&i.push(new Vm(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=tU(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new eU("No readers where selected, nothing can be read.");try{for(var i=tU(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof eU)continue}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new xe("No MultiFormat Readers were able to detect the code.")},t})(),N9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),P9e=(function(t){N9e(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,o=new I9e;return o.setHints(r),i=t.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(xp),k9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){k9e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new XP,r)||this}return e})(xp);var O9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){O9e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new KP,r)||this}return e})(xp);var QP;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(QP||(QP={}));const e1=QP;var xee=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new mc(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,o=r.length;o<=e;o++){var a=n.multiply(new mc(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));r.push(a),n=a}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new st("No error correction bytes");var n=e.length-r;if(n<=0)throw new st("No data bytes provided");var i=this.buildGenerator(r),o=new Int32Array(n);br.arraycopy(e,0,o,0,n);var a=new mc(this.field,o);a=a.multiplyByMonomial(r,1);for(var s=a.divide(i)[1],l=s.getCoefficients(),c=r-l.length,f=0;f<c;f++)e[n+f]=0;br.arraycopy(l,0,e,n+c,l.length)},t})(),Um=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=n[a],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[a+1][l]&&c===n[a+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var l=n[a];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,a+6<o&&n[a][s]===1&&n[a+1][s]===0&&n[a+2][s]===1&&n[a+3][s]===1&&n[a+4][s]===1&&n[a+5][s]===0&&n[a+6][s]===1&&(t.isWhiteVertical(n,s,a-4,a)||t.isWhiteVertical(n,s,a+7,a+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=n[a],l=0;l<i;l++)s[l]===1&&r++;var c=e.getHeight()*e.getWidth(),f=Math.floor(Math.abs(r*2-c)*10/c);return f*t.N4},t.getDataMaskBit=function(e,r,n){var i,o;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,i=(o&1)+o%3;break;case 6:o=n*r,i=(o&1)+o%3&1;break;case 7:o=n*r,i=o%3+(n+r&1)&1;break;default:throw new st("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,f=0;f<o;f++){var h=r?a[s][f]:a[f][s];h===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=h)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),j9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R9e=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=j9e(this.bytes),o=i.next();!o.done;o=i.next()){var a=o.value;vn.fill(a,e)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=r.bytes[n],s=0,l=this.width;s<l;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Nt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),ZP=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Nt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),D9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Tr=(function(t){D9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(zi),rU=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Dn;t.makeTypeInfoBits(e,r,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],c=l[0],f=l[1];if(n.setBoolean(c,f,s),o<8){var h=n.getWidth()-o-1,p=8;n.setBoolean(h,p,s)}else{var h=8,p=n.getHeight()-7+(o-8);n.setBoolean(h,p,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Dn;t.makeVersionInfoBits(e,n);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+a,s),r.setBoolean(r.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=a-l;if(t.isEmpty(n.get(c,s))){var f=void 0;i<e.getSize()?(f=e.get(i),++i):f=!1,r!==255&&Um.getDataMaskBit(r,c,s)&&(f=!f),n.setBoolean(c,s,f)}}s+=o}o=-o,s+=o,a-=2}if(i!==e.getSize())throw new Tr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Ot.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new st("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!ZP.isValidMaskPattern(r))throw new Tr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var a=new Dn;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new Tr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Tr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Tr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Tr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Tr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var l=0;l!==a;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),M9e=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),nU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Um.applyMaskPenaltyRule1(e)+Um.applyMaskPenaltyRule2(e)+Um.applyMaskPenaltyRule3(e)+Um.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(e1.CHARACTER_SET)!==void 0;o&&(i=n.get(e1.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new Dn;if(a===Ir.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=gn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(a,s);var c=new Dn;this.appendBytes(e,a,c,i);var f;if(n!==null&&n.get(e1.QR_VERSION)!==void 0){var h=Number.parseInt(n.get(e1.QR_VERSION).toString(),10);f=Yu.getVersionForNumber(h);var p=this.calculateBitsNeeded(a,s,c,f);if(!this.willFit(p,f,r))throw new Tr("Data too big for requested version")}else f=this.recommendVersion(r,a,s,c);var g=new Dn;g.appendBitArray(s);var x=a===Ir.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(x,f,a,g),g.appendBitArray(c);var v=f.getECBlocksForLevel(r),b=f.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(b,g);var _=this.interleaveWithECBytes(g,f.getTotalCodewords(),b,v.getNumBlocks()),C=new ZP;C.setECLevel(r),C.setMode(a),C.setVersion(f);var E=f.getDimensionForVersion(),P=new R9e(E,E),I=this.chooseMaskPattern(_,r,f,P);return C.setMaskPattern(I),rU.buildMatrix(_,r,f,I,P),C.setMatrix(P),C},t.recommendVersion=function(e,r,n,i){var o=this.calculateBitsNeeded(r,n,i,Yu.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(r,n,i,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),gn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ir.KANJI;for(var n=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Ir.BYTE}return i?Ir.ALPHANUMERIC:n?Ir.NUMERIC:Ir.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Uo.encode(e,gn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=r[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<ZP.NUM_MASK_PATTERNS;s++){rU.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<o&&(o=l,a=s)}return a},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Yu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Tr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),a=o.getTotalECCodewords(),s=i-a,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Tr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var i=o;i<8;i++)r.appendBit(!1);for(var a=e-r.getSizeInBytes(),i=0;i<a;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new Tr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,o,a){if(i>=n)throw new Tr("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),f=c+1,h=Math.floor(r/n),p=h+1,g=c-h,x=f-p;if(g!==x)throw new Tr("EC bytes mismatch");if(n!==l+s)throw new Tr("RS blocks mismatch");if(e!==(h+g)*l+(p+x)*s)throw new Tr("Total bytes mismatch");i<l?(o[0]=h,a[0]=g):(o[0]=p,a[0]=x)},t.interleaveWithECBytes=function(e,r,n,i){var o,a,s,l;if(e.getSizeInBytes()!==n)throw new Tr("Number of bits and data bytes does not match");for(var c=0,f=0,h=0,p=new Array,g=0;g<i;++g){var x=new Int32Array(1),v=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,g,x,v);var b=x[0],_=new Uint8Array(b);e.toBytes(8*c,_,0,b);var C=t.generateECBytes(_,v[0]);p.push(new M9e(_,C)),f=Math.max(f,b),h=Math.max(h,C.length),c+=x[0]}if(n!==c)throw new Tr("Data bytes does not match offset");for(var E=new Dn,g=0;g<f;++g)try{for(var P=(o=void 0,nU(p)),I=P.next();!I.done;I=P.next()){var S=I.value,_=S.getDataBytes();g<_.length&&E.appendBits(_[g],8)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(a=P.return)&&a.call(P)}finally{if(o)throw o.error}}for(var g=0;g<h;++g)try{for(var T=(s=void 0,nU(p)),N=T.next();!N.done;N=T.next()){var S=N.value,C=S.getErrorCorrectionBytes();g<C.length&&E.appendBits(C[g],8)}}catch(B){s={error:B}}finally{try{N&&!N.done&&(l=T.return)&&l.call(T)}finally{if(s)throw s.error}}if(r!==E.getSizeInBytes())throw new Tr("Interleaving error: "+r+" and "+E.getSizeInBytes()+" differ.");return E},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),o=0;o<n;o++)i[o]=e[o]&255;new xee(Di.QR_CODE_FIELD_256).encode(i,r);for(var a=new Uint8Array(r),o=0;o<r;o++)a[o]=i[n+o];return a},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new Tr(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,r,n,i){switch(r){case Ir.NUMERIC:t.appendNumericBytes(e,n);break;case Ir.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Ir.BYTE:t.append8BitBytes(e,n,i);break;case Ir.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Tr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(o*100+a*10+s,10),i+=3}else if(i+1<n){var a=t.getDigit(e.charAt(i+1));r.appendBits(o*10+a,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new Tr;if(i+1<n){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new Tr;r.appendBits(o*45+a,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Uo.encode(e,n)}catch(l){throw new Tr(l)}for(var o=0,a=i.length;o!==a;o++){var s=i[o];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Uo.encode(e,gn.SJIS)}catch(h){throw new Tr(h)}for(var i=n.length,o=0;o<i;o+=2){var a=n[o]&255,s=n[o+1]&255,l=a<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Tr("Invalid byte sequence");var f=(c>>8)*192+(c&255);r.appendBits(f,13)}},t.appendECI=function(e,r){r.appendBits(Ir.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=gn.UTF8.getName(),t})();var F9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){F9e(e,t);function e(r,n,i,o,a,s,l,c){var f=t.call(this,s,l)||this;if(f.yuvData=r,f.dataWidth=n,f.dataHeight=i,f.left=o,f.top=a,o+s>n||a+l>i)throw new st("Crop rectangle does not fit within image data.");return c&&f.reverseHorizontal(s,l),f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new st("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return br.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return br.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<n;s++){var l=s*r;br.arraycopy(this.yuvData,a,o,l,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,c=0;c<r;c++){var f=o[a+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|f*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth)for(var s=a+r/2,l=a,c=a+r-1;l<s;l++,c--){var f=i[l];i[l]=i[c],i[c]=f}},e.prototype.invert=function(){return new UO(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Yw);var L9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){L9e(e,t);function e(r,n,i,o,a,s,l){var c=t.call(this,n,i)||this;if(c.dataWidth=o,c.dataHeight=a,c.left=s,c.top=l,r.BYTES_PER_ELEMENT===4){for(var f=n*i,h=new Uint8ClampedArray(f),p=0;p<f;p++){var g=r[p],x=g>>16&255,v=g>>7&510,b=g&255;h[p]=(x+v+b)/4&255}c.luminances=h}else c.luminances=r;if(o===void 0&&(c.dataWidth=n),a===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new st("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new st("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return br.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return br.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<n;s++){var l=s*r;br.arraycopy(this.luminances,a,o,l,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new UO(this)},e})(Yw);var B9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),V9e=(function(t){B9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(gn),$9e=(function(){function t(){}return t.ISO_8859_1=gn.ISO8859_1,t})(),JP,U9e=301,z9e=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=U9e);return{LOG:t,ALOG:e}};JP=z9e([],[]),JP.LOG;JP.ALOG;var iU;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(iU||(iU={}));var oU=129,bee=230,W9e=231,H9e=235,q9e=236,G9e=237,K9e=238,Y9e=239,X9e=240,FT=254,Q9e=254,aU="[)>05",sU="[)>06",lU="",sr=0,Un=1,yi=2,pn=3,Pn=4,ri=5,Z9e=(function(){function t(){}return t.prototype.getEncodingMode=function(){return sr},t.prototype.encode=function(e){var r=da.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case ri:e.writeCodeword(W9e),e.signalEncoderChange(ri);return;case Un:e.writeCodeword(bee),e.signalEncoderChange(Un);return;case pn:e.writeCodeword(K9e),e.signalEncoderChange(pn);break;case yi:e.writeCodeword(Y9e),e.signalEncoderChange(yi);break;case Pn:e.writeCodeword(X9e),e.signalEncoderChange(Pn);break;default:throw new Error("Illegal mode: "+i)}else da.isExtendedASCII(n)?(e.writeCodeword(H9e),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(da.isDigit(e)&&da.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),J9e=(function(){function t(){}return t.prototype.getEncodingMode=function(){return ri},t.prototype.encode=function(e){var r=new Nt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(sr);break}}var o=r.length()-1,a=1,s=e.getCodewordCount()+o+a;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(o<=249)r.setCharAt(0,Vt.getCharAt(o));else if(o<=1555)r.setCharAt(0,Vt.getCharAt(Math.floor(o/250)+249)),r.insert(1,Vt.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),GO=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Un},t.prototype.encodeMaximal=function(e){for(var r=new Nt,n=0,i=e.pos,o=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,n=this.encodeChar(a,r),r.length()%3===0&&(i=e.pos,o=r.length())}if(o!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,f=Math.floor(r.length()%3);(f===2&&c!==2||f===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(bee),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Nt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,a=e.getCodewordCount()+o;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var l=new Nt;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var f=da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(f!==this.getEncodingMode()){e.signalEncoderChange(sr);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var o=r.length(),a=r.toString().substring(0,o-i);r.setLengthToZero(),r.append(a),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(FT)}else if(a===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(FT),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(a>0||e.hasMoreCharacters())&&e.writeCodeword(FT)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(sr)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,o=new Nt;return o.append(n),o.append(i),o.toString()},t})(),eBe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return Pn},t.prototype.encode=function(e){for(var r=new Nt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var a=da.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(sr);break}}}r.append(Vt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var a=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(sr)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Vt.getCharAt(e-64)):da.illegalCharacter(Vt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,a=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(o<<6)+a,l=s>>16&255,c=s>>8&255,f=s&255,h=new Nt;return h.append(l),r>=2&&h.append(c),r>=3&&h.append(f),h.toString()},t})(),tBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),rBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jt=(function(){function t(e,r,n,i,o,a,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,o){var a,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var l=rBe(iBe),c=l.next();!c.done;c=l.next()){var f=c.value;if(!(r===1&&f.rectangular)&&!(r===2&&!f.rectangular)&&!(n!=null&&(f.getSymbolWidth()<n.getWidth()||f.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(f.getSymbolWidth()>i.getWidth()||f.getSymbolHeight()>i.getHeight()))&&e<=f.dataCapacity)return f}}catch(h){a={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),nBe=(function(t){tBe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(Jt),iBe=[new Jt(!1,3,5,8,8,1),new Jt(!1,5,7,10,10,1),new Jt(!0,5,7,16,6,1),new Jt(!1,8,10,12,12,1),new Jt(!0,10,11,14,6,2),new Jt(!1,12,12,14,14,1),new Jt(!0,16,14,24,10,1),new Jt(!1,18,14,16,16,1),new Jt(!1,22,18,18,18,1),new Jt(!0,22,18,16,10,2),new Jt(!1,30,20,20,20,1),new Jt(!0,32,24,16,14,2),new Jt(!1,36,24,22,22,1),new Jt(!1,44,28,24,24,1),new Jt(!0,49,28,22,14,2),new Jt(!1,62,36,14,14,4),new Jt(!1,86,42,16,16,4),new Jt(!1,114,48,18,18,4),new Jt(!1,144,56,20,20,4),new Jt(!1,174,68,22,22,4),new Jt(!1,204,84,24,24,4,102,42),new Jt(!1,280,112,14,14,16,140,56),new Jt(!1,368,144,16,16,16,92,36),new Jt(!1,456,192,18,18,16,114,48),new Jt(!1,576,224,20,20,16,144,56),new Jt(!1,696,272,22,22,16,174,68),new Jt(!1,816,336,24,24,16,136,56),new Jt(!1,1050,408,18,18,36,175,68),new Jt(!1,1304,496,20,20,36,163,62),new nBe],oBe=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Nt,i=0,o=r.length;i<o;i++){var a=String.fromCharCode(r[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(a)}this.msg=n.toString(),this.shape=0,this.codewords=new Nt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Jt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),aBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),sBe=(function(t){aBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return pn},e.prototype.encode=function(r){for(var n=new Nt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var a=da.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){r.signalEncoderChange(sr);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):da.illegalCharacter(Vt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(Q9e),r.getNewEncoding()<0&&r.signalEncoderChange(sr)},e})(GO),lBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cBe=(function(t){lBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return yi},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(GO),da=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=oU+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var a=new GO,s=[new Z9e,a,new cBe,new sBe,new eBe,new J9e],l=new oBe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(aU)&&e.endsWith(lU)?(l.writeCodeword(q9e),l.setSkipAtEnd(2),l.pos+=aU.length):e.startsWith(sU)&&e.endsWith(lU)&&(l.writeCodeword(G9e),l.setSkipAtEnd(2),l.pos+=sU.length);var c=sr;for(o&&(a.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var f=l.getCodewordCount();l.updateSymbolInfo();var h=l.getSymbolInfo().getDataCapacity();f<h&&c!==sr&&c!==ri&&c!==Pn&&l.writeCodeword("þ");var p=l.getCodewords();for(p.length()<h&&p.append(oU);p.length()<h;)p.append(this.randomize253State(p.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===pn&&i===pn){for(var o=Math.min(r+3,e.length),a=r;a<o;a++)if(!this.isNativeX12(e.charCodeAt(a)))return sr}else if(n===Pn&&i===Pn){for(var o=Math.min(r+4,e.length),a=r;a<o;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return sr}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===sr?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var o=0,a=new Uint8Array(6),s=[];;){if(r+o===e.length){vn.fill(a,0),vn.fill(s,0);var l=this.findMinimums(i,s,Ot.MAX_VALUE,a),c=this.getMinimumCount(a);if(s[sr]===l)return sr;if(c===1){if(a[ri]>0)return ri;if(a[Pn]>0)return Pn;if(a[yi]>0)return yi;if(a[pn]>0)return pn}return Un}var f=e.charCodeAt(r+o);if(o++,this.isDigit(f)?i[sr]+=.5:this.isExtendedASCII(f)?(i[sr]=Math.ceil(i[sr]),i[sr]+=2):(i[sr]=Math.ceil(i[sr]),i[sr]++),this.isNativeC40(f)?i[Un]+=2/3:this.isExtendedASCII(f)?i[Un]+=8/3:i[Un]+=4/3,this.isNativeText(f)?i[yi]+=2/3:this.isExtendedASCII(f)?i[yi]+=8/3:i[yi]+=4/3,this.isNativeX12(f)?i[pn]+=2/3:this.isExtendedASCII(f)?i[pn]+=13/3:i[pn]+=10/3,this.isNativeEDIFACT(f)?i[Pn]+=3/4:this.isExtendedASCII(f)?i[Pn]+=17/4:i[Pn]+=13/4,this.isSpecialB256(f)?i[ri]+=4:i[ri]++,o>=4){if(vn.fill(a,0),vn.fill(s,0),this.findMinimums(i,s,Ot.MAX_VALUE,a),s[sr]<this.min(s[ri],s[Un],s[yi],s[pn],s[Pn]))return sr;if(s[ri]<s[sr]||s[ri]+1<this.min(s[Un],s[yi],s[pn],s[Pn]))return ri;if(s[Pn]+1<this.min(s[ri],s[Un],s[yi],s[pn],s[sr]))return Pn;if(s[yi]+1<this.min(s[ri],s[Un],s[Pn],s[pn],s[sr]))return yi;if(s[pn]+1<this.min(s[ri],s[Un],s[Pn],s[yi],s[sr]))return pn;if(s[Un]+1<this.min(s[sr],s[ri],s[Pn],s[yi])){if(s[Un]<s[pn])return Un;if(s[Un]===s[pn]){for(var h=r+o+1;h<e.length;){var p=e.charCodeAt(h);if(this.isX12TermSep(p))return pn;if(!this.isNativeX12(p))break;h++}return Un}}}}},t.min=function(e,r,n,i,o){var a=Math.min(e,Math.min(r,Math.min(n,i)));return o===void 0?a:Math.min(a,o)},t.findMinimums=function(e,r,n,i){for(var o=0;o<6;o++){var a=r[o]=Math.ceil(e[o]);n>a&&(n=a,vn.fill(i,0)),n===a&&(i[o]=i[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Ot.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),LT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cU=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Uo.encode(e,this.charset)!=null}catch{return!1}},t})(),uBe=(function(){function t(e,r,n){var i,o,a,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new cU(V9e.forName(j))}),this.encoders=[];var f=[];f.push(new cU($9e.ISO_8859_1));for(var h=r!=null&&r.name.startsWith("UTF"),p=0;p<e.length;p++){var g=!1;try{for(var x=(i=void 0,LT(f)),v=x.next();!v.done;v=x.next()){var b=v.value,_=e.charAt(p),C=_.charCodeAt(0);if(C===n||b.canEncode(_)){g=!0;break}}}catch(j){i={error:j}}finally{try{v&&!v.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}if(!g)try{for(var E=(a=void 0,LT(this.ENCODERS)),P=E.next();!P.done;P=E.next()){var b=P.value;if(b.canEncode(e.charAt(p))){f.push(b),g=!0;break}}}catch(j){a={error:j}}finally{try{P&&!P.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}g||(h=!0)}if(f.length===1&&!h)this.encoders=[f[0]];else{this.encoders=[];var I=0;try{for(var S=LT(f),T=S.next();!T.done;T=S.next()){var b=T.value;this.encoders[I++]=b}}catch(j){l={error:j}}finally{try{T&&!T.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}}var N=-1;if(r!=null){for(var p=0;p<this.encoders.length;p++)if(this.encoders[p]!=null&&r.name===this.encoders[p].name){N=p;break}}this.priorityEncoderIndex=N}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Uo.encode(Vt.getCharAt(e),this.encoders[r].name)},t})(),fBe=3,dBe=(function(){function t(e,r,n){this.fnc1=n;var i=new uBe(e,r,n);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var a=e.charAt(o).charCodeAt(0);this.bytes[o]=a===n?1e3:a}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Nt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,o,a){var s=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(s===a||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var f=l;f<c;f++)(s===a||r.canEncode(s,f))&&this.addEdge(n,i+1,new uU(s,r,f,o,a))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,o=new uU[i+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var a=1;a<=i;a++){for(var s=0;s<r.length();s++)o[a][s]!=null&&a<i&&this.addEdges(e,r,o,a,o[a][s],n);for(var s=0;s<r.length();s++)o[a-1][s]=null}for(var l=-1,c=Ot.MAX_VALUE,s=0;s<r.length();s++)if(o[i][s]!=null){var f=o[i][s];f.cachedTotalSize<c&&(c=f.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],p=o[i][l];p!=null;){if(p.isFNC1())h.unshift(1e3);else for(var g=r.encode(p.c,p.encoderIndex),a=g.length-1;a>=0;a--)h.unshift(g[a]&255);var x=p.previous===null?0:p.previous.encoderIndex;x!==p.encoderIndex&&h.unshift(256+r.getECIValue(p.encoderIndex)),p=p.previous}for(var v=[],a=0;a<v.length;a++)v[a]=h[a];return v},t})(),uU=(function(){function t(e,r,n,i,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var a=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(a+=fBe),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),hBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var fU;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(fU||(fU={}));(function(t){hBe(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n,i)||this;return s.shape=o,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(dBe);var pBe=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),dU=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),mBe=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),gBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),KO=(function(t){gBe(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Ot.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(mBe),yBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vBe=(function(t){yBe(e,t);function e(r,n,i){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(KO);function xBe(t,e,r){return new vBe(t,e,r)}function Sm(t,e,r){return new KO(t,e,r)}var bBe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gc=0,hb=1,Vo=2,wee=3,Qa=4,wBe=new KO(null,0,0),BT=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],_Be=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ABe(t){var e,r;try{for(var n=_Be(t),i=n.next();!i.done;i=n.next()){var o=i.value;vn.fill(o,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[gc][Qa]=0,t[hb][Qa]=0,t[hb][gc]=28,t[wee][Qa]=0,t[Vo][Qa]=0,t[Vo][gc]=15,t}var _ee=ABe(vn.createInt32Array(6,6)),CBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EBe=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=BT[this.mode][e];i=Sm(i,o&65535,o>>16),n+=o>>16}var a=e===Vo?4:5;return i=Sm(i,r,a),new t(i,e,0,n+a)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Vo?4:5;return n=Sm(n,_ee[this.mode][e],i),n=Sm(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Qa||this.mode===Vo){var o=BT[n][gc];r=Sm(r,o&65535,o>>16),i+=o>>16,n=gc}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=xBe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(BT[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var a=new Dn;try{for(var s=CBe(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(a,e)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.prototype.toString=function(){return Vt.format("%s bits=%d bytes=%d",bBe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(wBe,gc,0,0),t})();function SBe(t){var e=Vt.getCharCode(" "),r=Vt.getCharCode("."),n=Vt.getCharCode(",");t[gc][e]=1;for(var i=Vt.getCharCode("Z"),o=Vt.getCharCode("A"),a=o;a<=i;a++)t[gc][a]=a-o+2;t[hb][e]=1;for(var s=Vt.getCharCode("z"),l=Vt.getCharCode("a"),a=l;a<=s;a++)t[hb][a]=a-l+2;t[Vo][e]=1;for(var c=Vt.getCharCode("9"),f=Vt.getCharCode("0"),a=f;a<=c;a++)t[Vo][a]=a-f+2;t[Vo][n]=12,t[Vo][r]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],p=0;p<h.length;p++)t[wee][Vt.getCharCode(h[p])]=p;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],p=0;p<g.length;p++)Vt.getCharCode(g[p])>0&&(t[Qa][Vt.getCharCode(g[p])]=p);return t}var VT=SBe(vn.createInt32Array(5,256)),t1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TBe=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Vt.getCharCode(" "),r=Vt.getCharCode(`
`),n=dU.singletonList(EBe.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Vt.getCharCode("\r"):o=a===r?2:0;break;case Vt.getCharCode("."):o=a===e?3:0;break;case Vt.getCharCode(","):o=a===e?4:0;break;case Vt.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var s=dU.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var a=t1(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.updateStateForChar(l,r,o)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,o=VT[e.getMode()][i]>0,a=null,s=0;s<=Qa;s++){var l=VT[s][i];if(l>0){if(a==null&&(a=e.endBinaryShift(r)),!o||s===e.getMode()||s===Vo){var c=a.latchAndAppend(s,l);n.push(c)}if(!o&&_ee[e.getMode()][s]>=0){var f=a.shiftAndAppend(s,l);n.push(f)}}}if(e.getBinaryShiftByteCount()>0||VT[e.getMode()][i]===0){var h=e.addBinaryShiftChar(r);n.push(h)}},t.updateStateListForPair=function(e,r,n){var i,o,a=[];try{for(var s=t1(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,r,n,a)}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,r,n,i){var o=e.endBinaryShift(r);if(i.push(o.latchAndAppend(Qa,n)),e.getMode()!==Qa&&i.push(o.shiftAndAppend(Qa,n)),n===3||n===4){var a=o.latchAndAppend(Vo,16-n).latchAndAppend(Vo,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,o,a=[];try{for(var s=t1(e),l=s.next();!l.done;l=s.next()){var c=l.value,f=!0,h=function(b){if(b.isBetterThanOrEqualTo(c))return f=!1,"break";c.isBetterThanOrEqualTo(b)&&(a=a.filter(function(_){return _!==b}))};try{for(var p=(i=void 0,t1(a)),g=p.next();!g.done;g=p.next()){var x=g.value,v=h(x);if(v==="break")break}}catch(b){i={error:b}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}f&&a.push(c)}}catch(b){r={error:b}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t})(),IBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new TBe(e).encode(),o=Ot.truncDivision(i.getSize()*r,100)+11,a=i.getSize()+o,s,l,c,f,h;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new st(Vt.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,s),f=t.WORD_SIZE[l];var p=c-c%f;if(h=t.stuffBits(i,f),h.getSize()+o>p)throw new st("Data to large for user specified layer");if(s&&h.getSize()>f*64)throw new st("Data to large for user specified layer")}else{f=0,h=null;for(var g=0;;g++){if(g>t.MAX_NB_BITS)throw new st("Data too large for an Aztec code");if(s=g<=3,l=s?g+1:g,c=t.totalBitsInLayer(l,s),!(a>c)){(h==null||f!==t.WORD_SIZE[l])&&(f=t.WORD_SIZE[l],h=t.stuffBits(i,f));var p=c-c%f;if(!(s&&h.getSize()>f*64)&&h.getSize()+o<=p)break}}}var x=t.generateCheckWords(h,c,f),v=h.getSize()/f,b=t.generateModeMessage(s,l,v),_=(s?11:14)+l*4,C=new Int32Array(_),E;if(s){E=_;for(var g=0;g<C.length;g++)C[g]=g}else{E=_+1+2*Ot.truncDivision(Ot.truncDivision(_,2)-1,15);for(var P=Ot.truncDivision(_,2),I=Ot.truncDivision(E,2),g=0;g<P;g++){var S=g+Ot.truncDivision(g,15);C[P-g-1]=I-S-1,C[P+g]=I+S+1}}for(var T=new gs(E),g=0,N=0;g<l;g++){for(var j=(l-g)*4+(s?9:12),B=0;B<j;B++)for(var M=B*2,L=0;L<2;L++)x.get(N+M+L)&&T.set(C[g*2+L],C[g*2+B]),x.get(N+j*2+M+L)&&T.set(C[g*2+B],C[_-1-g*2-L]),x.get(N+j*4+M+L)&&T.set(C[_-1-g*2-L],C[_-1-g*2-B]),x.get(N+j*6+M+L)&&T.set(C[_-1-g*2-B],C[g*2+L]);N+=j*8}if(t.drawModeMessage(T,s,E,b),s)t.drawBullsEye(T,Ot.truncDivision(E,2),5);else{t.drawBullsEye(T,Ot.truncDivision(E,2),7);for(var g=0,B=0;g<Ot.truncDivision(_,2)-1;g+=15,B+=16)for(var L=Ot.truncDivision(E,2)&1;L<E;L+=2)T.set(Ot.truncDivision(E,2)-B,L),T.set(Ot.truncDivision(E,2)+B,L),T.set(L,Ot.truncDivision(E,2)-B),T.set(L,Ot.truncDivision(E,2)+B)}var F=new pBe;return F.setCompact(s),F.setSize(E),F.setLayers(l),F.setCodeWords(v),F.setMatrix(T),F},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var o=r-i;o<=r+i;o++)e.set(o,r-i),e.set(o,r+i),e.set(r-i,o),e.set(r+i,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Dn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var o=Ot.truncDivision(n,2);if(r)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+Ot.truncDivision(a,5);i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)}},t.generateCheckWords=function(e,r,n){var i,o,a=e.getSize()/n,s=new xee(t.getGF(n)),l=Ot.truncDivision(r,n),c=t.bitsToWords(e,n,l);s.encode(c,l-a);var f=r%n,h=new Dn;h.appendBits(0,f);try{for(var p=IBe(Array.from(c)),g=p.next();!g.done;g=p.next()){var x=g.value;h.appendBits(x,n)}}catch(v){i={error:v}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return h},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),o,a;for(o=0,a=e.getSize()/r;o<a;o++){for(var s=0,l=0;l<r;l++)s|=e.get(o*r+l)?1<<r-l-1:0;i[o]=s}return i},t.getGF=function(e){switch(e){case 4:return Di.AZTEC_PARAM;case 6:return Di.AZTEC_DATA_6;case 8:return Di.AZTEC_DATA_8;case 10:return Di.AZTEC_DATA_10;case 12:return Di.AZTEC_DATA_12;default:throw new st("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Dn,i=e.getSize(),o=(1<<r)-2,a=0;a<i;a+=r){for(var s=0,l=0;l<r;l++)(a+l>=i||e.get(a+l))&&(s|=1<<r-1-l);(s&o)===o?(n.appendBits(s&o,r),a--):(s&o)===0?(n.appendBits(s|1,r),a--):n.appendBits(s,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var NBe={audio:!1,video:{facingMode:"environment"}},PBe=300,kBe=function(t){var e=t===void 0?{}:t,r=e.timeBetweenDecodingAttempts,n=r===void 0?PBe:r,i=e.hints;return k.useMemo(function(){var o=new P9e(i);return o.timeBetweenDecodingAttempts=n,o},[i,n])},hU=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(h){a(h)}}function l(f){try{c(n.throw(f))}catch(h){a(h)}}function c(f){f.done?o(f.value):i(f.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},pU=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},OBe=function(t){var e=t.resetStream,r=k.useState(!1),n=r[0],i=r[1],o=k.useState(null),a=o[0],s=o[1],l=k.useRef(null),c=k.useRef(e),f=k.useCallback(function(g){l.current=g,s(typeof g.getCapabilities=="function"?g.getCapabilities().torch!==void 0:!1)},[]),h=k.useCallback(function(){return hU(void 0,void 0,void 0,function(){return pU(this,function(g){switch(g.label){case 0:return!l.current||!a?[2]:[4,l.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return g.sent(),i(!0),[2]}})})},[a]),p=k.useCallback(function(){return hU(void 0,void 0,void 0,function(){return pU(this,function(g){switch(g.label){case 0:return!l.current||!a?[2]:(l.current=null,s(null),i(!1),[4,c.current()]);case 1:return g.sent(),[2]}})})},[a]);return k.useEffect(function(){c.current=e},[e]),{init:f,isOn:n,isAvailable:a,on:h,off:p}},jBe=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},mU=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{c(n.next(f))}catch(h){a(h)}}function l(f){try{c(n.throw(f))}catch(h){a(h)}}function c(f){f.done?o(f.value):i(f.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},gU=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},RBe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},DBe=function(t){t===void 0&&(t={});var e=t.paused,r=e===void 0?!1:e,n=t.hints,i=t.timeBetweenDecodingAttempts,o=t.onDecodeResult,a=o===void 0?function(){}:o,s=t.onDecodeError,l=s===void 0?function(){}:s,c=t.onError,f=c===void 0?function(){}:c,h="deviceId"in t?t.deviceId:void 0,p=k.useState("constraints"in t?t.constraints:void 0),g=p[0],x=p[1],v=k.useRef(a),b=k.useRef(l),_=k.useRef(f),C=k.useRef(null),E=kBe({hints:n,timeBetweenDecodingAttempts:i}),P=OBe({resetStream:function(){return mU(void 0,void 0,void 0,function(){return gU(this,function(B){switch(B.label){case 0:return j(),[4,N()];case 1:return B.sent(),[2]}})})}}),I=P.init,S=RBe(P,["init"]),T=k.useCallback(function(B,M){B&&v.current(B),M&&b.current(M)},[]),N=k.useCallback(function(){return mU(void 0,void 0,void 0,function(){var B,M,L;return gU(this,function(F){switch(F.label){case 0:if(!C.current)return[2];if(r)return[2];F.label=1;case 1:return F.trys.push([1,6,,7]),h?[4,E.decodeFromVideoDevice(h,C.current,T)]:[3,3];case 2:return F.sent(),[3,5];case 3:return[4,E.decodeFromConstraints(g??NBe,C.current,T)];case 4:F.sent(),F.label=5;case 5:return[3,7];case 6:return B=F.sent(),_.current(B),[2];case 7:return C.current?(M=C.current.srcObject,L=M.getVideoTracks()[0],L&&I(L),[2]):[2]}})})},[E,h,g,r,T,I]),j=k.useCallback(function(){E.reset()},[E]);return k.useEffect(function(){v.current=a},[a]),k.useEffect(function(){b.current=l},[l]),k.useEffect(function(){_.current=f},[f]),k.useEffect(function(){var B=jBe(g,t.constraints);B||x(t.constraints)},[g,t]),k.useEffect(function(){return N(),function(){j()}},[N,j]),{ref:C,torch:S}};function MBe({onBarcodeDetected:t,onClose:e,isActive:r}){const[n,i]=k.useState(""),[o,a]=k.useState(null),[s,l]=k.useState(null),[c,f]=k.useState(!1),[h,p]=k.useState(!1),{ref:g}=DBe({onDecodeResult(v){const b=v.getText();console.log("📷 Barcode detected by camera:",b),console.log("🔢 Barcode length:",b.length),console.log("📋 Barcode format:",v.getBarcodeFormat()),i(b),t(b)},onDecodeError(v){f(!0)},onError(v){console.error("Scanner error:",v),v?.message?.includes("Permission")?(a("Camera permission denied"),l(!1)):v?.message?.includes("NotFound")?(a("No camera found on this device"),l(!1)):a("Error accessing camera")},constraints:{video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},timeBetweenDecodingAttempts:100,paused:!r});k.useEffect(()=>{r&&(console.log("🎥 Starting barcode scanner..."),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(()=>{console.log("✅ Camera permission granted"),l(!0),a(null)}).catch(v=>{console.error("❌ Camera permission error:",v),l(!1),v.name==="NotAllowedError"?a("Camera permission denied. Please enable it in settings."):v.name==="NotFoundError"?a("No camera found on this device."):a("Unable to access camera.")}))},[r]);const x=async()=>{try{const v=g.current;if(v&&v.srcObject){const _=v.srcObject.getVideoTracks()[0];_.getCapabilities().torch&&(await _.applyConstraints({advanced:[{torch:!h}]}),p(!h),console.log("🔦 Torch toggled:",!h))}}catch(v){console.error("Torch error:",v)}};return u.jsx(Yh,{children:r&&u.jsx(mt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black",children:u.jsx("div",{className:"relative w-full h-full",children:o||s===!1?u.jsx("div",{className:"flex items-center justify-center h-full p-6",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#FFE8E8"},children:u.jsx(bre,{className:"w-10 h-10",style:{color:"#E53E3E"}})}),u.jsx("h3",{className:"text-xl mb-3 text-white",children:"Camera Access Required"}),u.jsx("p",{className:"text-gray-300 mb-6",children:o}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:e,className:"w-full py-3 rounded-lg text-white transition-all hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Close"}),u.jsx("p",{className:"text-sm text-gray-400",children:"To enable camera: Settings → Privacy → Camera"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsx("video",{ref:g,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50"}),u.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-4 border-white rounded-xl",style:{width:"85%",maxWidth:"400px",height:"220px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"},children:[u.jsx("div",{className:"absolute -top-1 -left-1 w-8 h-8 border-t-4 border-l-4 border-green-400 rounded-tl-xl"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-8 h-8 border-t-4 border-r-4 border-green-400 rounded-tr-xl"}),u.jsx("div",{className:"absolute -bottom-1 -left-1 w-8 h-8 border-b-4 border-l-4 border-green-400 rounded-bl-xl"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 border-b-4 border-r-4 border-green-400 rounded-br-xl"}),u.jsx(mt.div,{className:"absolute left-0 right-0 h-1 bg-green-400 shadow-lg",style:{boxShadow:"0 0 20px rgba(74, 222, 128, 0.8)"},animate:{top:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})]})]}),u.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 bg-gradient-to-b from-black/70 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(my,{className:"w-5 h-5 text-white"}),u.jsx("span",{className:"text-white font-medium",children:"Scan Barcode"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:x,className:`p-2 rounded-full transition-colors ${h?"bg-yellow-500":"hover:bg-white/20"}`,children:u.jsx(Fre,{className:"w-6 h-6 text-white"})}),u.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:u.jsx(Hh,{className:"w-6 h-6 text-white"})})]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/70 to-transparent",children:u.jsx("div",{className:"text-center",children:n?u.jsx(mt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-green-500 px-6 py-3 rounded-lg inline-block",children:u.jsxs("p",{className:"text-white font-medium",children:["✓ Scanned: ",n]})}):u.jsxs("div",{className:"bg-black/50 px-6 py-3 rounded-lg inline-block backdrop-blur-sm max-w-md",children:[u.jsx("p",{className:"text-white text-sm mb-1",children:c?"🔍 Actively scanning...":"Position barcode in frame"}),u.jsx("p",{className:"text-gray-300 text-xs",children:c?"Hold steady • Make sure barcode is clear and well-lit":"Aim camera at barcode"})]})})})]})})})})}const FBe="https://world.openfoodfacts.org/api/v2";async function LBe(t){try{console.log("🔍 Fetching product for barcode:",t);const e=`${FBe}/product/${t}.json`;console.log("📡 API URL:",e);const r=await fetch(e,{headers:{"User-Agent":"FareFit - Fitness Nutrition Tracker"}});if(console.log("📥 Response status:",r.status),r.status===404)return console.log("❌ Product not found in OpenFoodFacts database (404)"),null;if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();if(console.log("📦 API Response:",n),n.status===0||!n.product)return console.log("❌ Product not found in OpenFoodFacts database"),null;console.log("✅ Product found:",n.product.product_name);const i=BBe(n.product,t);return console.log("🎯 Parsed product data:",i),$Be(i)?i:(console.log("⚠️ Product found but has no nutrition data"),null)}catch(e){throw console.error("❌ Error fetching product from OpenFoodFacts:",e),e}}function BBe(t,e){const r=t.nutriments||{},n=t.serving_size||"100g",i=!!t.serving_size,o=i?r["energy-kcal_serving"]||r["energy-kcal"]||0:r["energy-kcal_100g"]||r["energy-kcal"]||0,a=i?r.proteins_serving||r.proteins||0:r.proteins_100g||r.proteins||0,s=i?r.carbohydrates_serving||r.carbohydrates||0:r.carbohydrates_100g||r.carbohydrates||0,l=i?r.fat_serving||r.fat||0:r.fat_100g||r.fat||0,c=i?r.fiber_serving||r.fiber||0:r.fiber_100g||r.fiber||0;return{id:Date.now().toString(),name:t.product_name||"Unknown Product",brandName:t.brands||"",servingSize:n,amountConsumed:1,baseCalories:Math.round(o),baseProtein:Math.round(a*10)/10,baseCarbs:Math.round(s*10)/10,baseFat:Math.round(l*10)/10,baseFiber:Math.round(c*10)/10,calories:Math.round(o),protein:Math.round(a*10)/10,carbs:Math.round(s*10)/10,fat:Math.round(l*10)/10,fiber:Math.round(c*10)/10,isExpanded:!0,isFavorite:!1}}function VBe(t){const e=t.replace(/\D/g,""),r=[8,12,13,14];return e.length>0&&r.includes(e.length)}function $Be(t){return t.name!=="Unknown Product"&&t.servingSize.length>0}function UBe({onBack:t,onMealLogged:e}){const[r,n]=k.useState("manual"),[i,o]=k.useState(""),[a,s]=k.useState(!0),[l,c]=k.useState("lunch"),[f,h]=k.useState([{id:"1",name:"",servingSize:"",amountConsumed:1,baseCalories:0,baseProtein:0,baseCarbs:0,baseFat:0,baseFiber:0,calories:0,protein:0,carbs:0,fat:0,fiber:0,isExpanded:!0,isFavorite:!1,brandName:""}]),[p,g]=k.useState(null),x=f.reduce((I,S)=>({calories:I.calories+(S.calories||0),protein:I.protein+(S.protein||0),carbs:I.carbs+(S.carbs||0),fat:I.fat+(S.fat||0),fiber:I.fiber+(S.fiber||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0}),v=()=>{const I={id:Date.now().toString(),name:"",servingSize:"",amountConsumed:1,baseCalories:0,baseProtein:0,baseCarbs:0,baseFat:0,baseFiber:0,calories:0,protein:0,carbs:0,fat:0,fiber:0,isExpanded:!0,brandName:""};h([...f,I])},b=I=>{f.length>1?h(f.filter(S=>S.id!==I)):Je.error("You must have at least one food item")},_=(I,S)=>{h(f.map(T=>{if(T.id===I){const N={...T,...S};if("amountConsumed"in S||"baseCalories"in S||"baseProtein"in S||"baseCarbs"in S||"baseFat"in S||"baseFiber"in S){const j=N.amountConsumed;N.calories=Math.round(N.baseCalories*j),N.protein=Math.round(N.baseProtein*j*10)/10,N.carbs=Math.round(N.baseCarbs*j*10)/10,N.fat=Math.round(N.baseFat*j*10)/10,N.fiber=Math.round(N.baseFiber*j*10)/10}return N}return T}))},C=(I,S)=>{_(I,{name:S.name,servingSize:S.servingSize,baseCalories:S.calories,baseProtein:S.protein,baseCarbs:S.carbs,baseFat:S.fat,baseFiber:S.fiber,amountConsumed:1}),g(null),Je.success("Barcode scanned! Values auto-filled.")},E=I=>{h(f.map(S=>S.id===I?{...S,isExpanded:!S.isExpanded}:S))},P=async()=>{if(!f.some(N=>N.name&&N.name.trim().length>0)){Je.error("Please add at least one food item with a name");return}const S=a?l.charAt(0).toUpperCase()+l.slice(1):i||"Custom Meal",T={id:Date.now().toString(),name:S,mealType:a?l:"snack",items:f.filter(N=>N.name&&N.name.trim().length>0).map(N=>({name:N.name,calories:N.calories,protein:N.protein,carbs:N.carbs,fat:N.fat,fiber:N.fiber,servingSize:N.servingSize,amountConsumed:N.amountConsumed,brandName:N.brandName||""})),calories:x.calories,protein:x.protein,carbs:x.carbs,fat:x.fat,fiber:x.fiber,timestamp:new Date};try{const j=wr().currentUser,B=j?.uid;if(!j){Je.error("User not logged in");return}if(!B)return;console.log("🔑 Current User ID:",j.uid),console.log("📍 Firebase path: Daily_Nutrition_Summary/"+j.uid),(await $q(B)).length===T.items.length&&(await _ge(B),console.log("✅ Streak updated for first meal of the day"));for(const L of T.items)console.log("💾 Saving meal item to Firebase:",{meal_type:T.mealType,food_name:L.name,brand:L.brandName,calories:L.calories}),await bge(j.uid,{meal_type:T.mealType,food_name:L.name,serving_size:L.amountConsumed||1,calories:L.calories,protein:L.protein,carbs:L.carbs,fats:L.fat,fiber:L.fiber,brand:L.brandName,meal_time:new Date,meal_date:dh()}),await Uq(B,"logged_food");console.log(` ${T.items.length} item(s) saved to Firebase successfully!`),e(T),Je.success(` ${S} logged successfully! ${x.calories} kcal added.`),t()}catch(N){console.error(" Error saving meal:",N),Je.error("Error saving meal to Firestore")}};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F7F9FA"},children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors flex items-center justify-center",style:{color:"#102A43"},children:u.jsx(wa,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-2xl",style:{color:"#102A43"},children:"Log Your Meal"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Add food items and track your nutrition"})]}),u.jsx("button",{onClick:P,className:"p-2 rounded-full hover:bg-green-50 transition-colors flex items-center justify-center",style:{color:"#1C7C54"},children:u.jsx(P1,{className:"w-6 h-6"})})]})}),u.jsx("div",{className:"flex-1 max-w-4xl mx-auto w-full px-4 py-6 pb-24",children:u.jsxs(QJ,{value:r,onValueChange:n,className:"w-full",children:[u.jsxs(ZJ,{className:"grid w-full grid-cols-4 mb-6",children:[u.jsxs(Vu,{value:"manual",className:"flex items-center gap-2",children:[u.jsx(Ys,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Manual"})]}),u.jsxs(Vu,{value:"barcode",className:"flex items-center gap-2",children:[u.jsx(tk,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Barcode"})]}),u.jsxs(Vu,{value:"scan",className:"flex items-center gap-2",children:[u.jsx(my,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Photo"})]}),u.jsxs(Vu,{value:"ai",className:"flex items-center gap-2",children:[u.jsx(NU,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"AI"})]})]}),u.jsx($u,{value:"manual",children:u.jsx(zBe,{mealName:i,setMealName:o,usePredefinedMeal:a,setUsePredefinedMeal:s,predefinedMeal:l,setPredefinedMeal:c,foodItems:f,totals:x,addFoodItem:v,removeFoodItem:b,updateFoodItem:_,toggleItemExpanded:E,scanningItemId:p,setScanningItemId:g,onBarcodeScanned:C})}),u.jsx($u,{value:"barcode",children:u.jsx(HBe,{onFoodDetected:I=>{const S={id:Date.now().toString(),...I,isExpanded:!0};h([...f,S]),n("manual")}})}),u.jsx($u,{value:"scan",children:u.jsx(qBe,{onMealDetected:I=>{h(I.items),o(I.name),s(!1),n("manual")}})}),u.jsx($u,{value:"ai",children:u.jsx(GBe,{onMealParsed:I=>{h(I.items),o(I.name),s(!1),n("manual")}})})]})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",style:{borderColor:"#E8F4F2"},children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsxs("button",{onClick:P,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gy,{className:"w-5 h-5"}),"Save Meal • ",x.calories," kcal"]})]})})})]})}function zBe({mealName:t,setMealName:e,usePredefinedMeal:r,setUsePredefinedMeal:n,predefinedMeal:i,setPredefinedMeal:o,foodItems:a,totals:s,addFoodItem:l,removeFoodItem:c,updateFoodItem:f,toggleItemExpanded:h,scanningItemId:p,setScanningItemId:g,onBarcodeScanned:x}){const[v,b]=k.useState(!1),[_,C]=k.useState({calories:0,protein:0,carbs:0,fats:0,fiber:0,food_name:""});return k.useEffect(()=>{(async()=>{try{const I=wr().currentUser;if(!I)return;const S=await $q(I.uid);if(S&&S.length>0){const T=S.reduce((N,j)=>({calories:N.calories+(j.calories||0),protein:N.protein+(j.protein||0),carbs:N.carbs+(j.carbs||0),fats:N.fats+(j.fats||0),fiber:N.fiber+(j.fiber||0),food_name:N.food_name}),{calories:0,protein:0,carbs:0,fats:0,fiber:0});C(T)}}catch(P){console.error("Error fetching today’s meals:",P)}})()},[]),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Meal Type"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 rounded-lg transition-all flex items-center justify-center",style:{backgroundColor:r?"#A8E6CF":"#E8F4F2",color:"#102A43"},children:"Preset"}),u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 rounded-lg transition-all flex items-center justify-center",style:{backgroundColor:r?"#E8F4F2":"#A8E6CF",color:"#102A43"},children:"Custom"})]}),r?u.jsxs(cy,{value:i,onValueChange:o,children:[u.jsx(fy,{children:u.jsx(uy,{})}),u.jsxs(dy,{children:[u.jsx(Mo,{value:"breakfast",children:"🌅 Breakfast"}),u.jsx(Mo,{value:"lunch",children:"☀️ Lunch"}),u.jsx(Mo,{value:"dinner",children:"🌙 Dinner"}),u.jsx(Mo,{value:"snack",children:"🍪 Snack"})]})]}):u.jsx(qt,{placeholder:"e.g., Shake, Post-Workout, Late-Night Bowl",value:t,onChange:E=>e(E.target.value)})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2",style:{borderColor:"#A8E6CF"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{style:{color:"#102A43"},children:"Total Nutrition"}),u.jsx(lee,{children:u.jsxs($Fe,{children:[u.jsx(UFe,{asChild:!0,children:u.jsx("button",{onClick:()=>b(!v),className:"p-1.5 rounded-full hover:bg-gray-100 transition-colors flex items-center justify-center",style:{color:"#102A43",opacity:.6},children:u.jsx(qT,{className:"w-4 h-4"})})}),u.jsx(zFe,{children:u.jsx("p",{children:"View per-item breakdown"})})]})})]}),u.jsxs("div",{className:"mb-4 p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-4",children:[u.jsx(mt.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},className:"text-3xl",style:{color:"#1C7C54"},children:_.calories},_.calories),u.jsx("span",{className:"text-lg",style:{color:"#102A43",opacity:.7},children:"kcal"})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Protein"}),u.jsxs(mt.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#F5A623"},children:[_.protein,"g"]},_.protein)]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Carbs"}),u.jsxs(mt.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#4DD4AC"},children:[_.carbs,"g"]},_.carbs)]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Fat"}),u.jsxs(mt.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#6B47DC"},children:[_.fats,"g"]},_.fats)]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Fiber"}),u.jsxs(mt.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#1C7C54"},children:[_.fiber,"g"]},_.fiber)]})]})]}),u.jsx("p",{className:"text-xs text-center",style:{color:"#102A43",opacity:.6},children:"Your total nutrition updates automatically as you add or edit items."}),u.jsx(Yh,{children:v&&a.some(E=>E.name&&E.calories>0)&&u.jsxs(mt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t space-y-2",style:{borderColor:"#A8E6CF"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#102A43",opacity:.7},children:u.jsx("strong",{children:"Per-item breakdown:"})}),a.filter(E=>E.name&&E.calories>0).map(E=>u.jsxs("div",{className:"text-xs flex justify-between",style:{color:"#102A43",opacity:.8},children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.calories," kcal"]})]},E.id))]})})]}),u.jsxs("button",{onClick:l,className:"w-full py-3 rounded-lg border-2 border-dashed transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(Ys,{className:"w-5 h-5"}),"Add Item"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{style:{color:"#102A43"},children:["Food Items (",a.length,")"]}),a.map((E,P)=>u.jsx(WBe,{item:E,index:P,onUpdate:f,onRemove:c,onToggleExpand:h,canRemove:a.length>1,scanningItemId:p,setScanningItemId:g,onBarcodeScanned:x},E.id))]})]})}function WBe({item:t,index:e,onUpdate:r,onRemove:n,onToggleExpand:i,canRemove:o,scanningItemId:a,setScanningItemId:s,onBarcodeScanned:l}){const[c,f]=k.useState(!1),h=()=>{s(t.id),f(!0),setTimeout(()=>{const p={name:"Optimum Nutrition Whey Protein",servingSize:"1 scoop (30g)",calories:120,protein:24,carbs:3,fat:1,fiber:1};l(t.id,p),f(!1)},1500)};return u.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>i(t.id),children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm",style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:e+1}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{style:{color:"#102A43"},children:t.name||"Untitled Item"}),!t.isExpanded&&t.calories>0&&u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[t.amountConsumed!==1&&`${t.amountConsumed}x servings • `,t.calories," kcal"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[o&&u.jsx("button",{onClick:p=>{p.stopPropagation(),n(t.id)},className:"p-2 rounded-lg hover:bg-red-50 transition-colors flex items-center justify-center",style:{color:"#E53E3E"},children:u.jsx(rh,{className:"w-4 h-4"})}),t.isExpanded?u.jsx(rk,{className:"w-5 h-5",style:{color:"#102A43",opacity:.5}}):u.jsx(yc,{className:"w-5 h-5",style:{color:"#102A43",opacity:.5}})]})]}),u.jsx(Yh,{children:t.isExpanded&&u.jsx(mt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx(Gt,{children:"Food Name *"}),u.jsxs("div",{className:"flex gap-2 mt-1.5",children:[u.jsx(qt,{placeholder:"e.g., Grilled Chicken Breast",value:t.name,onChange:p=>r(t.id,{name:p.target.value}),className:"flex-1"}),u.jsxs("button",{onClick:h,disabled:c,className:"px-4 py-2 rounded-lg transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-60",style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:[c?u.jsx(mt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:u.jsx(zo,{className:"w-4 h-4"})}):u.jsx(tk,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline text-sm",children:"Scan"})]})]})]}),u.jsxs("div",{children:[u.jsx(Gt,{children:"Brand Name (optional)"}),u.jsx(qt,{placeholder:"e.g., Tyson, Nestle",value:t.brandName||"",onChange:p=>r(t.id,{brandName:p.target.value}),className:"mt-1.5"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"You can leave this empty if not applicable"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Gt,{children:"Serving Size"}),u.jsx(qt,{placeholder:"e.g., 1 cup (150g)",value:t.servingSize,onChange:p=>r(t.id,{servingSize:p.target.value}),className:"mt-1.5"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"From barcode or manual entry"})]}),u.jsxs("div",{children:[u.jsx(Gt,{children:"Amount Consumed (servings)"}),u.jsx(qt,{type:"number",step:"0.1",min:"0",placeholder:"1.0",value:t.amountConsumed.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{amountConsumed:x})},onBlur:p=>{p.target.value===""&&r(t.id,{amountConsumed:1})},className:"mt-1.5"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"e.g., 0.5, 1.2, 2.0"})]})]}),u.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#102A43",opacity:.7},children:u.jsx("strong",{children:"Nutrition per serving:"})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(Gt,{className:"text-xs",children:"Calories (kcal) *"}),u.jsx(qt,{type:"number",step:"1",min:"0",placeholder:"0",value:t.baseCalories.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseCalories:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseCalories:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Gt,{className:"text-xs",children:"Protein (g)"}),u.jsx(qt,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseProtein.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseProtein:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseProtein:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Gt,{className:"text-xs",children:"Carbs (g)"}),u.jsx(qt,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseCarbs.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseCarbs:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseCarbs:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Gt,{className:"text-xs",children:"Fat (g)"}),u.jsx(qt,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseFat.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseFat:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseFat:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Gt,{className:"text-xs",children:"Fiber (g)"}),u.jsx(qt,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseFiber.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseFiber:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseFiber:0})},className:"mt-1"})]})]})]}),t.amountConsumed>0&&t.baseCalories>0&&u.jsxs("div",{className:"p-3 rounded-lg border-2",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#1C7C54"},children:u.jsxs("strong",{children:["📊 Calculated for ",t.amountConsumed," serving(s):"]})}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Calories"}),u.jsx("p",{className:"text-sm",style:{color:"#1C7C54"},children:t.calories})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Protein"}),u.jsxs("p",{className:"text-sm",style:{color:"#F5A623"},children:[t.protein,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Carbs"}),u.jsxs("p",{className:"text-sm",style:{color:"#4DD4AC"},children:[t.carbs,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Fat"}),u.jsxs("p",{className:"text-sm",style:{color:"#6B47DC"},children:[t.fat,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Fiber"}),u.jsxs("p",{className:"text-sm",style:{color:"#1C7C54"},children:[t.fiber,"g"]})]})]})]}),u.jsx("button",{onClick:p=>{p.stopPropagation(),r(t.id,{isFavorite:!t.isFavorite}),Je.success(t.isFavorite?"Removed from favorites!":"Added to favorites!")},className:`px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 ${t.isFavorite?"bg-yellow-300 text-yellow":"bg-gray-200 text-gray-700"}`,children:t.isFavorite?"★ Favorite":"☆ Favorite"})]})})})]})}function HBe({onFoodDetected:t}){const[e,r]=k.useState(!1),[n,i]=k.useState(!1),[o,a]=k.useState(null),[s,l]=k.useState(!1),[c,f]=k.useState(""),[h,p]=k.useState([]);k.useEffect(()=>{(async()=>{const P=wr();if(P.currentUser){const I=await pM(P.currentUser.uid);p(I),console.log("📜 Loaded barcode history:",I.length,"products")}})()},[]);const g=()=>{r(!0),a(null)},x=async E=>{console.log("Barcode scanned:",E),r(!1),i(!0);try{const P=await LBe(E);if(P){const I={name:P.name,brandName:P.brandName,servingSize:P.servingSize,amountConsumed:P.amountConsumed,baseCalories:P.baseCalories,baseProtein:P.baseProtein,baseCarbs:P.baseCarbs,baseFat:P.baseFat,baseFiber:P.baseFiber,calories:P.calories,protein:P.protein,carbs:P.carbs,fat:P.fat,fiber:P.fiber};a(I),Je.success(`✓ Found: ${P.name}!`);const S=wr();if(S.currentUser){await wge(S.currentUser.uid,{barcode:E,product_name:P.name,brand_name:P.brandName,calories:P.calories,protein:P.protein,carbs:P.carbs,fats:P.fat,fiber:P.fiber,serving_size:P.servingSize});const T=await pM(S.currentUser.uid);p(T),console.log("💾 Saved to barcode history")}}else Je.error("Product not found or missing nutrition data. Use manual entry.",{duration:4e3,description:`Barcode: ${E}`}),r(!1)}catch(P){console.error("Error fetching product:",P),Je.error("Failed to fetch product data. Check your connection."),r(!1)}finally{i(!1)}},v=()=>{r(!1),a(null)},b=()=>{o&&(t(o),a(null),Je.success("Item added to your meal!"))},_=async()=>{if(!VBe(c)){Je.error("Invalid barcode format. Must be 8-14 digits.");return}i(!0);try{await x(c),f(""),l(!1)}catch(E){console.error("Manual lookup error:",E)}},C=E=>{const P={name:E.product_name,brandName:E.brand_name,servingSize:E.serving_size,amountConsumed:1,baseCalories:E.calories,baseProtein:E.protein,baseCarbs:E.carbs,baseFat:E.fats,baseFiber:E.fiber,calories:E.calories,protein:E.protein,carbs:E.carbs,fat:E.fats,fiber:E.fiber};t(P),Je.success(`✓ Added: ${E.product_name}!`)};return u.jsxs(u.Fragment,{children:[u.jsx(MBe,{isActive:e,onBarcodeDetected:x,onClose:v}),u.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:n?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(mt.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-4",children:u.jsx(zo,{className:"w-16 h-16",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:"Fetching Product Info..."}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Looking up nutrition data from our database"})]}):o?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:["✅ ",u.jsx("strong",{children:"Product Found:"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Product Name:"}),u.jsx("p",{style:{color:"#102A43"},children:o.name})]}),o.brandName&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Brand:"}),u.jsx("p",{style:{color:"#102A43"},children:o.brandName})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Serving Size:"}),u.jsx("p",{style:{color:"#102A43"},children:o.servingSize})]}),u.jsx("div",{className:"h-px",style:{backgroundColor:"#A8E6CF"}}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"#102A43"},children:"Calories:"}),u.jsxs("strong",{style:{color:"#102A43"},children:[o.calories," kcal"]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-2",children:[u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Protein"}),u.jsxs("p",{className:"text-sm",style:{color:"#F5A623"},children:[o.protein,"g"]})]}),u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Carbs"}),u.jsxs("p",{className:"text-sm",style:{color:"#4DD4AC"},children:[o.carbs,"g"]})]}),u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Fat"}),u.jsxs("p",{className:"text-sm",style:{color:"#6B47DC"},children:[o.fat,"g"]})]}),u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Fiber"}),u.jsxs("p",{className:"text-sm",style:{color:"#1C7C54"},children:[o.fiber,"g"]})]})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>a(null),className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Scan Another"}),u.jsxs("button",{onClick:b,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(Ys,{className:"w-5 h-5"}),"Add to Meal"]})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(tk,{className:"w-12 h-12",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:"Scan Product Barcode"}),u.jsx("p",{className:"mb-6 text-sm",style:{color:"#102A43",opacity:.6},children:"Point your camera at the barcode on the package"}),u.jsxs("div",{className:"flex gap-3 justify-center mb-6",children:[u.jsxs("button",{onClick:g,className:"px-8 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(my,{className:"w-5 h-5"}),"Start Scanning"]}),u.jsxs("button",{onClick:()=>l(!s),className:"px-6 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(Wre,{className:"w-5 h-5"}),"Manual Entry"]})]}),s&&u.jsxs(mt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 rounded-lg text-left",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43"},children:u.jsx("strong",{children:"Enter Barcode Manually:"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(qt,{type:"text",placeholder:"e.g., 012345678901",value:c,onChange:E=>f(E.target.value.replace(/\D/g,"")),onKeyDown:E=>{E.key==="Enter"&&_()},maxLength:14,className:"flex-1"}),u.jsx("button",{onClick:_,disabled:c.length<8,className:"px-4 py-2 rounded-lg text-white transition-all hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#1C7C54"},children:"Look Up"})]}),u.jsx("p",{className:"text-xs mt-2",style:{color:"#102A43",opacity:.6},children:"Enter 8-14 digit barcode (UPC, EAN, etc.)"})]}),u.jsxs("div",{className:"mt-8 p-4 rounded-lg text-left",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43"},children:u.jsx("strong",{children:"📱 Tips for better scanning:"})}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"#102A43",opacity:.8},children:[u.jsx("li",{children:"• Hold camera steady 4-8 inches from barcode"}),u.jsx("li",{children:"• Ensure good lighting (avoid shadows/glare)"}),u.jsx("li",{children:"• Keep barcode flat and fully visible"}),u.jsx("li",{children:"• Try different angles if not detecting"}),u.jsx("li",{children:"• Works best with UPC & EAN barcodes"}),u.jsx("li",{children:"• Database: 1.3M+ products with nutrition data"})]})]})]}),h.length>0&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h4",{style:{color:"#102A43"},children:"Recently Scanned"}),u.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"#E8F4F2",color:"#1C7C54"},children:[h.length," products"]})]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:h.map((E,P)=>u.jsx("div",{className:"p-3 rounded-lg border-2 hover:bg-gray-50 transition-all",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:E.product_name}),E.brand_name&&u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:E.brand_name}),u.jsxs("div",{className:"flex gap-3 mt-1 text-xs",style:{color:"#102A43",opacity:.7},children:[u.jsxs("span",{children:[E.calories," kcal"]}),u.jsxs("span",{children:["P: ",E.protein,"g"]}),u.jsxs("span",{children:["C: ",E.carbs,"g"]}),u.jsxs("span",{children:["F: ",E.fats,"g"]})]}),E.scan_count>1&&u.jsxs("p",{className:"text-xs mt-1",style:{color:"#1C7C54"},children:["Scanned ",E.scan_count,"x"]})]}),u.jsxs("button",{onClick:()=>C(E),className:"px-4 py-2 rounded-lg text-white transition-all hover:opacity-90 flex items-center gap-1",style:{backgroundColor:"#1C7C54"},children:[u.jsx(Ys,{className:"w-4 h-4"}),"Add"]})]})},P))})]})]})})]})}function qBe({onMealDetected:t}){const[e,r]=k.useState(null),[n,i]=k.useState(!1),[o,a]=k.useState(null),s=f=>{const h=f.target.files?.[0];if(h){const p=new FileReader;p.onloadend=()=>{r(p.result),l()},p.readAsDataURL(h)}},l=()=>{i(!0),setTimeout(()=>{a({name:"Grilled Chicken Salad",items:[{id:"1",name:"Grilled Chicken Breast",servingSize:"150g",amountConsumed:1,baseCalories:248,baseProtein:47,baseCarbs:0,baseFat:5,baseFiber:0,calories:248,protein:47,carbs:0,fat:5,fiber:0,isExpanded:!1},{id:"2",name:"Mixed Greens",servingSize:"2 cups",amountConsumed:1,baseCalories:20,baseProtein:2,baseCarbs:4,baseFat:0,baseFiber:2,calories:20,protein:2,carbs:4,fat:0,fiber:2,isExpanded:!1},{id:"3",name:"Cherry Tomatoes",servingSize:"1/2 cup",amountConsumed:1,baseCalories:27,baseProtein:1,baseCarbs:6,baseFat:0,baseFiber:2,calories:27,protein:1,carbs:6,fat:0,fiber:2,isExpanded:!1},{id:"4",name:"Olive Oil Dressing",servingSize:"2 tbsp",amountConsumed:1,baseCalories:125,baseProtein:0,baseCarbs:2,baseFat:14,baseFiber:0,calories:125,protein:0,carbs:2,fat:14,fiber:0,isExpanded:!1}]}),i(!1),Je.success("AI detected multiple items! Review and confirm.")},2500)},c=()=>{o&&(t(o),Je.success("Items added to your meal!"))};return u.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:e?u.jsxs("div",{children:[u.jsx("img",{src:e,alt:"Uploaded meal",className:"w-full h-64 object-cover rounded-xl mb-4"}),n?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(mt.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 mx-auto mb-4",children:u.jsx(zo,{className:"w-12 h-12",style:{color:"#1C7C54"}})}),u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:"Analyzing your meal..."}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"AI is detecting foods and calculating nutrition"})]}):o?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:["✨ ",u.jsxs("strong",{children:["AI Detected ",o.items.length," Items:"]})]}),u.jsx("ul",{className:"space-y-1 text-sm",style:{color:"#102A43"},children:o.items.map((f,h)=>u.jsxs("li",{children:["• ",f.name," (",f.portion,") - ",f.calories," kcal"]},h))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{r(null),a(null)},className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Retake Photo"}),u.jsxs("button",{onClick:c,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gy,{className:"w-5 h-5"}),"Use These Items"]})]})]}):null]}):u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"photo-upload",className:"border-2 border-dashed rounded-xl p-12 flex flex-col items-center justify-center cursor-pointer transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF"},children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#E8F4F2"},children:u.jsx(RU,{className:"w-10 h-10",style:{color:"#1C7C54"}})}),u.jsx("p",{className:"mb-2",style:{color:"#102A43"},children:"Drag & drop or click to upload"}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43",opacity:.6},children:"Take a photo of your meal"}),u.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",capture:"environment",onChange:s,className:"hidden"})]}),u.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43"},children:u.jsx("strong",{children:"📸 Photo Tips:"})}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"#102A43",opacity:.8},children:[u.jsx("li",{children:"• Good lighting helps AI detect foods better"}),u.jsx("li",{children:"• Capture the entire plate from above"}),u.jsx("li",{children:"• AI will identify each item separately"})]})]})]})})}function GBe({onMealParsed:t}){const[e,r]=k.useState(""),[n,i]=k.useState(!1),[o,a]=k.useState(null),s=()=>{if(!e.trim()){Je.error("Please describe your meal");return}i(!0),setTimeout(()=>{a({name:"Protein Shake",items:[{id:"1",name:"Almond Milk",servingSize:"1 cup",amountConsumed:1,baseCalories:30,baseProtein:1,baseCarbs:1,baseFat:2.5,baseFiber:1,calories:30,protein:1,carbs:1,fat:2.5,fiber:1,isExpanded:!1},{id:"2",name:"Whey Protein Powder",servingSize:"1 scoop (30g)",amountConsumed:1,baseCalories:120,baseProtein:24,baseCarbs:3,baseFat:1,baseFiber:1,calories:120,protein:24,carbs:3,fat:1,fiber:1,isExpanded:!1},{id:"3",name:"Banana",servingSize:"1 medium",amountConsumed:1,baseCalories:105,baseProtein:1,baseCarbs:27,baseFat:0,baseFiber:3,calories:105,protein:1,carbs:27,fat:0,fiber:3,isExpanded:!1},{id:"4",name:"Peanut Butter",servingSize:"1 tbsp",amountConsumed:1,baseCalories:95,baseProtein:4,baseCarbs:3,baseFat:8,baseFiber:1,calories:95,protein:4,carbs:3,fat:8,fiber:1,isExpanded:!1}]}),i(!1),Je.success("AI parsed your meal into items!")},1800)},l=()=>{o&&(t(o),Je.success("Items added to your meal!"))};return u.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx(Gt,{htmlFor:"ai-input",children:"Describe what you ate"}),u.jsx(Gb,{id:"ai-input",placeholder:"e.g., Protein shake with almond milk, 1 scoop whey, banana, and peanut butter",value:e,onChange:c=>r(c.target.value),rows:4,className:"mt-1.5",disabled:n})]}),u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43"},children:u.jsx("strong",{children:"💡 Examples:"})}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"#102A43",opacity:.8},children:[u.jsx("li",{children:'• "Chicken burrito with rice, beans, cheese, and guacamole"'}),u.jsx("li",{children:'• "Greek yogurt parfait with granola and mixed berries"'}),u.jsx("li",{children:'• "Grilled salmon with roasted vegetables and quinoa"'})]})]}),o?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:["🤖 ",u.jsxs("strong",{children:["AI Parsed ",o.items.length," Items:"]})]}),u.jsx("ul",{className:"space-y-2 text-sm",style:{color:"#102A43"},children:o.items.map((c,f)=>u.jsxs("li",{className:"flex justify-between",children:[u.jsxs("span",{children:[c.name," (",c.portion,")"]}),u.jsxs("span",{className:"opacity-70",children:[c.calories," kcal"]})]},f))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{a(null),r("")},className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Try Again"}),u.jsxs("button",{onClick:l,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gy,{className:"w-5 h-5"}),"Use These Items"]})]})]}):u.jsx("button",{onClick:s,disabled:n,className:"w-full py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-60",style:{backgroundColor:"#1C7C54"},children:n?u.jsxs(u.Fragment,{children:[u.jsx(mt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:u.jsx(zo,{className:"w-5 h-5"})}),"Analyzing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(NU,{className:"w-5 h-5"}),"Ask Food AI"]})})]})})}var $T={exports:{}},UT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yU;function KBe(){if(yU)return UT;yU=1;var t=pb();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function s(h,p){var g=p(),x=n({inst:{value:g,getSnapshot:p}}),v=x[0].inst,b=x[1];return o(function(){v.value=g,v.getSnapshot=p,l(v)&&b({inst:v})},[h,g,p]),i(function(){return l(v)&&b({inst:v}),h(function(){l(v)&&b({inst:v})})},[h]),a(g),g}function l(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!r(h,g)}catch{return!0}}function c(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return UT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,UT}var vU;function YBe(){return vU||(vU=1,$T.exports=KBe()),$T.exports}var XBe=YBe();function QBe(){return XBe.useSyncExternalStore(ZBe,()=>!0,()=>!1)}function ZBe(){return()=>{}}var YO="Avatar",[JBe]=qo(YO),[eVe,Aee]=JBe(YO),Cee=k.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,o]=k.useState("idle");return u.jsx(eVe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:u.jsx(xt.span,{...n,ref:e})})});Cee.displayName=YO;var Eee="AvatarImage",See=k.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...o}=t,a=Aee(Eee,r),s=tVe(n,o),l=cl(c=>{i(c),a.onImageLoadingStatusChange(c)});return sn(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?u.jsx(xt.img,{...o,ref:e,src:n}):null});See.displayName=Eee;var Tee="AvatarFallback",Iee=k.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,o=Aee(Tee,r),[a,s]=k.useState(n===void 0);return k.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),a&&o.imageLoadingStatus!=="loaded"?u.jsx(xt.span,{...i,ref:e}):null});Iee.displayName=Tee;function xU(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tVe(t,{referrerPolicy:e,crossOrigin:r}){const n=QBe(),i=k.useRef(null),o=n?(i.current||(i.current=new window.Image),i.current):null,[a,s]=k.useState(()=>xU(o,t));return sn(()=>{s(xU(o,t))},[o,t]),sn(()=>{const l=h=>()=>{s(h)};if(!o)return;const c=l("loaded"),f=l("error");return o.addEventListener("load",c),o.addEventListener("error",f),e&&(o.referrerPolicy=e),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",c),o.removeEventListener("error",f)}},[o,r,e]),a}var rVe=Cee,nVe=See,iVe=Iee;function r1({className:t,...e}){return u.jsx(rVe,{"data-slot":"avatar",className:St("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function n1({className:t,...e}){return u.jsx(nVe,{"data-slot":"avatar-image",className:St("aspect-square size-full",t),...e})}function i1({className:t,...e}){return u.jsx(iVe,{"data-slot":"avatar-fallback",className:St("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const oVe=xQ("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Bd({className:t,variant:e,asChild:r=!1,...n}){const i=r?Wq:"span";return u.jsx(i,{"data-slot":"badge",className:St(oVe({variant:e}),t),...n})}const aVe=t=>({text:t?"#E8F4F2":"#102A43",subtext:t?"#A8C0B0":"#2F4A56",bg:t?"#0F1C18":"#E8F4F2",card:t?"#1B2A25":"#FFFFFF",input:t?"#1E2D28":"#FFFFFF",primary:t?"#3DD68C":"#1C7C54",primaryHover:t?"#2EBB76":"#166B48",secondary:t?"#26433A":"#A8E6CF",accent:t?"#FF7C85":"#FFB6B9",border:t?"#22342E":"#DCEEEF",shadow:t?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.05)",error:t?"#FF6B6B":"#E53E3E",warning:t?"#FFB347":"#F5A623",success:"#4DD4AC",textPrimary:t?"#E8F4F2":"#102A43",textSecondary:t?"#A8C0B0":"#2F4A56",mint:t?"#26433A":"#A8E6CF",primaryLight:"#4DD4AC",cardHover:t?"#1E2D28":"#f9f9f9",inputBg:t?"#1E2D28":"#FFFFFF"});function sVe({onBack:t,userName:e,userEmail:r,isDemoMode:n=!1,onUpdateProfile:i,isDarkMode:o=!1,onToggleDarkMode:a}){const s=aVe(o),[l,c]=k.useState("overview"),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(!1),[b,_]=k.useState(!1),[C,E]=k.useState(!1),[P,I]=k.useState(!1),[S,T]=k.useState(new Set),[N,j]=k.useState(null),[B,M]=k.useState(!0);k.useEffect(()=>{(async()=>{const ut=wr().currentUser,_r=ut?.uid;if(!ut||!_r)return;const Vr=await Cge(_r);Vr&&j({score:Vr.score||0,change:0,tier:Vr.tier||"Starting Journey",history:Vr.history||[],mealsLogged:Vr.mealsLogged||0,workoutsCompleted:Vr.workoutsCompleted||0,streakDays:Vr.streakDays||0,penalties:Vr.penalties||0,joinDate:Vr.joinDate||"Unknown"}),M(!1)})()},[]);const[L,F]=k.useState(()=>localStorage.getItem("farefit_user_name")||e),[$,H]=k.useState(()=>localStorage.getItem("farefit_user_email")||r),[K,Z]=k.useState(()=>localStorage.getItem("farefit_user_avatar")||""),[q,re]=k.useState(K),[U,X]=k.useState(""),[ee,W]=k.useState(()=>{const le=localStorage.getItem("farefit_notifications");return le?JSON.parse(le):!0}),[Q,se]=k.useState(()=>localStorage.getItem("farefit_privacy")||"public"),[oe,ae]=k.useState(()=>localStorage.getItem("farefit_units")||"metric"),ve=[{id:"1",name:"Julia Martinez",username:"@fitjules",avatar:"",fareScore:842,tier:"FareFit Elite",change:6,streakDays:45},{id:"2",name:"Mike Chen",username:"@mike_gains",avatar:"",fareScore:720,tier:"Goal Crusher",change:-3,streakDays:21},{id:"3",name:"Sarah Johnson",username:"@sarahfit",avatar:"",fareScore:598,tier:"Consistent Tracker",change:12,streakDays:9}],[he,_e]=k.useState([]),[Pe,pe]=k.useState([]),[et,$e]=k.useState(!0);k.useEffect(()=>{(async()=>{if(n){const We=[{rank:1,name:"Julia Martinez",username:"@fitjules",avatar:"",fareScore:842,tier:"FareFit Elite",change:6},{rank:2,name:"Giovanni Rossi",username:"@gio_fit",avatar:"",fareScore:830,tier:"FareFit Elite",change:4},{rank:3,name:"Alex Thompson",username:"@alexmacros",avatar:"",fareScore:799,tier:"Goal Crusher",change:8},{rank:18,name:e,username:"@you",avatar:"",fareScore:615,tier:"Consistent Tracker",change:8,isCurrentUser:!0}];_e(We),pe(We.slice(0,3)),$e(!1);return}try{$e(!0),console.log("🏆 Fetching real leaderboards...");const[We,ut]=await Promise.all([Tge(50),Nge()]);_e(We),pe(ut),console.log(`✅ Leaderboards loaded: ${We.length} global, ${ut.length} friends`)}catch(We){console.error("❌ Error loading leaderboards:",We),_e([]),pe([])}finally{$e(!1)}})()},[n,e]);const nt=le=>{switch(le){case"FareFit Elite":return"#4DD4AC";case"Goal Crusher":return"#1C7C54";case"Consistent Tracker":return"#A8E6CF";case"Building Habits":return"#F5A623";case"Starting Journey":return"#E53E3E";default:return"#102A43"}},Ce=le=>le>=800?"#4DD4AC":le>=700?"#1C7C54":le>=550?"#A8E6CF":le>=400?"#F5A623":"#E53E3E",Re=le=>(le-300)/550*100,Be=()=>{if(!L.trim()){Je.error("Name cannot be empty");return}if(!$.trim()){Je.error("Email cannot be empty");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)){Je.error("Please enter a valid email address");return}localStorage.setItem("farefit_user_name",L),localStorage.setItem("farefit_user_email",$),localStorage.setItem("farefit_user_avatar",q),i&&i(L,$,q),Z(q),Je.success("Profile updated successfully!"),h(!1)},ze=le=>{const We=le.target.files?.[0];if(We){if(!We.type.startsWith("image/")){Je.error("Please select an image file");return}if(We.size>5*1024*1024){Je.error("Image size must be less than 5MB");return}const ut=new FileReader;ut.onloadend=()=>{re(ut.result)},ut.readAsDataURL(We)}},be=()=>{re(""),Je.info("Avatar removed")},tt=()=>{const le=`https://farefit.app/score/${e.toLowerCase().replace(/\s+/g,"")}`;navigator.clipboard.writeText(le),I(!0),Je.success("Link copied to clipboard!"),setTimeout(()=>I(!1),2e3)},Et=async()=>{if(!U.trim()){Je.error("Please enter a username");return}try{if(!wr().currentUser){Je.error("You must be logged in to add friends");return}Je.success(`Friend request sent to ${U}!`),X(""),v(!1)}catch(le){console.error("Error adding friend:",le),Je.error("Failed to send friend request")}},dr=(le,We)=>{if(S.has(le)){Je.info(`You already cheered for ${We} today!`);return}T(ut=>new Set(ut).add(le)),Je.success(`You cheered for ${We}! 🎉`)},jr=le=>{W(le),localStorage.setItem("farefit_notifications",JSON.stringify(le)),Je.success(le?"Notifications enabled":"Notifications disabled")},qr=le=>{se(le),localStorage.setItem("farefit_privacy",le);const We={public:"Your profile is now public",friends:"Your profile is now visible to friends only",private:"Your profile is now private"};Je.success(We[le])},ye=le=>{ae(le),localStorage.setItem("farefit_units",le),Je.success(`Units changed to ${le==="metric"?"Metric (kg, cm)":"Imperial (lbs, inches)"}`)},Ne=()=>{Je.error("Account deletion requires email verification. Check your inbox."),E(!1),_(!1)};return B?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:s.bg},children:u.jsx("div",{style:{color:s.textPrimary},children:"Loading..."})}):N?u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:s.bg},children:[u.jsx("div",{className:"border-b sticky top-0 z-10",style:{backgroundColor:s.card,borderColor:s.border},children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-full transition-colors flex items-center justify-center",style:{color:s.textPrimary,backgroundColor:o?"transparent":void 0},onMouseEnter:le=>le.currentTarget.style.backgroundColor=o?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",onMouseLeave:le=>le.currentTarget.style.backgroundColor="transparent",children:u.jsx(wa,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl",style:{color:s.textPrimary},children:"Your Account"}),u.jsx("p",{className:"text-sm",style:{color:s.textSecondary},children:"Manage your profile and track your consistency"})]})]}),u.jsx("button",{onClick:()=>_(!0),className:"p-2 rounded-full transition-colors flex items-center justify-center",style:{color:s.textPrimary,backgroundColor:o?"transparent":void 0},onMouseEnter:le=>le.currentTarget.style.backgroundColor=o?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",onMouseLeave:le=>le.currentTarget.style.backgroundColor="transparent",children:u.jsx(kU,{className:"w-6 h-6"})})]})}),u.jsx("div",{className:"flex-1 max-w-6xl mx-auto w-full px-4 py-6",children:u.jsxs(QJ,{value:l,onValueChange:c,className:"space-y-6",children:[u.jsxs(ZJ,{className:"grid w-full grid-cols-3 max-w-md mx-auto",children:[u.jsx(Vu,{value:"overview",children:"Overview"}),u.jsx(Vu,{value:"leaderboard",children:"Leaderboard"}),u.jsx(Vu,{value:"friends",children:"Friends"})]}),u.jsxs($u,{value:"overview",className:"space-y-6",children:[u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(r1,{className:"w-20 h-20",children:[u.jsx(n1,{src:K}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:L.split(" ").map(le=>le[0]).join("").toUpperCase()||"U"})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl mb-1",style:{color:"#102A43"},children:L}),u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43",opacity:.6},children:$}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ed,{className:"w-4 h-4",style:{color:"#102A43",opacity:.5}}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["Member since ",N.joinDate]})]})]})]}),u.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(lne,{className:"w-4 h-4"}),"Edit Profile"]})]})}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-xl mb-2",style:{color:"#102A43"},children:"Your FareScore"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Health Consistency Rating"})]}),u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsxs("div",{className:"relative w-64 h-64 mb-6",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"128",cy:"128",r:"110",fill:"none",stroke:"#E8F4F2",strokeWidth:"16"}),u.jsx("circle",{cx:"128",cy:"128",r:"110",fill:"none",stroke:Ce(N.score),strokeWidth:"16",strokeDasharray:`${2*Math.PI*110}`,strokeDashoffset:`${2*Math.PI*110*(1-Re(N.score)/100)}`,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease"}})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx(mt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-6xl mb-2",style:{color:Ce(N.score)},children:N.score}),u.jsx(Bd,{style:{backgroundColor:nt(N.tier),color:"white",fontSize:"14px",padding:"4px 12px"},children:N.tier})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[N.change>=0?u.jsx(Tm,{className:"w-5 h-5",style:{color:"#1C7C54"}}):u.jsx(xd,{className:"w-5 h-5",style:{color:"#E53E3E"}}),u.jsxs("span",{className:"text-lg",style:{color:N.change>=0?"#1C7C54":"#E53E3E"},children:[Math.abs(N.change)," points from last week"]})]}),u.jsxs("p",{className:"text-center max-w-md",style:{color:"#102A43",opacity:.7},children:["You've increased your FareScore by ",N.change," points in the past week. Great consistency!"]})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#E53E3E"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Starting Journey"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"300-399"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#F5A623"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Building Habits"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"400-549"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#A8E6CF"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Consistent Tracker"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"550-699"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#1C7C54"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Goal Crusher"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"700-799"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#4DD4AC"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"FareFit Elite"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"800-850"})]})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"mb-4 flex items-center gap-2",style:{color:"#102A43"},children:[u.jsx(ya,{className:"w-5 h-5"}),"Score History"]}),u.jsx("div",{className:"h-64",children:u.jsx(xh,{width:"100%",height:"100%",children:u.jsxs(Xy,{data:N.history,children:[u.jsx(dp,{strokeDasharray:"3 3",stroke:"#E8F4F2"}),u.jsx(Uc,{dataKey:"date",stroke:"#102A43",opacity:.6}),u.jsx(zc,{domain:[300,850],stroke:"#102A43",opacity:.6}),u.jsx(vi,{contentStyle:{backgroundColor:"white",border:"2px solid #A8E6CF",borderRadius:"8px"}}),u.jsx(mo,{type:"monotone",dataKey:"score",stroke:"#1C7C54",strokeWidth:3,dot:{fill:"#1C7C54",r:5},activeDot:{r:7}})]})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(ek,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Meals Logged"}),u.jsx("p",{className:"text-2xl",style:{color:"#1C7C54"},children:N.mealsLogged})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"This month"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(S_,{className:"w-6 h-6",style:{color:"#F5A623"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Workouts"}),u.jsx("p",{className:"text-2xl",style:{color:"#F5A623"},children:N.workoutsCompleted})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"This month"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(Ed,{className:"w-6 h-6",style:{color:"#4DD4AC"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Streak Days"}),u.jsx("p",{className:"text-2xl",style:{color:"#4DD4AC"},children:N.streakDays})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"Current streak"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#FFE8E8"},children:u.jsx(xd,{className:"w-6 h-6",style:{color:"#E53E3E"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Penalties"}),u.jsx("p",{className:"text-2xl",style:{color:"#E53E3E"},children:N.penalties})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"Missed logs"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsx("h4",{className:"mb-4",style:{color:"#102A43"},children:"How FareScore Works"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:"#E8F4F2"},children:u.jsx(Tm,{className:"w-4 h-4",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:u.jsx("strong",{children:"Increases Gradually"})}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Log meals (+1), complete workouts (+2), hit macro targets (+3), maintain streaks (+5)"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:"#FFE8E8"},children:u.jsx(xd,{className:"w-4 h-4",style:{color:"#E53E3E"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:u.jsx("strong",{children:"Decreases with Inactivity"})}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Miss daily logs (-2), break streaks (-5), inactive for a week (-10)"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:"#E8F4F2"},children:u.jsx(Ed,{className:"w-4 h-4",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:u.jsx("strong",{children:"Updates Daily"})}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Your score reflects consistency over time, not perfection. Small daily actions compound into big results."})]})]})]})]})]}),u.jsx($u,{value:"leaderboard",className:"space-y-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl flex items-center gap-2",style:{color:"#102A43"},children:[u.jsx(S_,{className:"w-6 h-6",style:{color:"#F5A623"}}),"Top FareScores"]}),u.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(wne,{className:"w-4 h-4"}),"Share"]})]}),u.jsx("div",{className:"space-y-3",children:et?u.jsx("div",{className:"text-center py-8",style:{color:s.textSecondary},children:"Loading leaderboard..."}):he.length===0?u.jsx("div",{className:"text-center py-8",style:{color:s.textSecondary},children:"No users found. Be the first!"}):he.map(le=>u.jsxs(mt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:le.rank*.05},className:"flex items-center gap-4 p-4 rounded-xl transition-all hover:shadow-md",style:{backgroundColor:le.isCurrentUser?"#E8F4F2":"#F7F9FA",border:le.isCurrentUser?"2px solid #1C7C54":"none"},children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:le.rank===1?"#F5A623":le.rank===2?"#A8A8A8":le.rank===3?"#CD7F32":"#E8F4F2",color:le.rank<=3?"white":"#102A43"},children:le.rank<=3?u.jsx(S_,{className:"w-6 h-6"}):`#${le.rank}`}),u.jsxs(r1,{className:"w-12 h-12",children:[u.jsx(n1,{src:le.avatar}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:le.name.split(" ").map(We=>We[0]).join("")})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{style:{color:"#102A43"},children:[le.name," ",le.isCurrentUser&&u.jsx("span",{className:"text-sm opacity-60",children:"(You)"})]}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:le.username})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl mb-1",style:{color:Ce(le.fareScore)},children:le.fareScore}),u.jsx(Bd,{style:{backgroundColor:nt(le.tier),color:"white",fontSize:"11px"},children:le.tier})]}),u.jsxs("div",{className:"flex items-center gap-1 w-20 justify-end",children:[le.change>=0?u.jsx(Tm,{className:"w-4 h-4",style:{color:"#1C7C54"}}):u.jsx(xd,{className:"w-4 h-4",style:{color:"#E53E3E"}}),u.jsx("span",{className:"text-sm",style:{color:le.change>=0?"#1C7C54":"#E53E3E"},children:Math.abs(le.change)})]})]},le.rank))}),he.length>10&&he[he.length-1]?.rank>10&&u.jsx("div",{className:"mt-6 pt-6 border-t",style:{borderColor:"#E8F4F2"},children:u.jsxs("p",{className:"text-center text-sm",style:{color:"#102A43",opacity:.6},children:["... and ",he[he.length-1].rank-6," more users"]})})]})}),u.jsx($u,{value:"friends",className:"space-y-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl flex items-center gap-2",style:{color:"#102A43"},children:[u.jsx(xD,{className:"w-6 h-6",style:{color:"#1C7C54"}}),"Friends Leaderboard (",Pe.length,")"]}),u.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-lg transition-all hover:opacity-90 flex items-center justify-center gap-2 text-white",style:{backgroundColor:"#1C7C54"},children:[u.jsx(vD,{className:"w-4 h-4"}),"Add Friend"]})]}),u.jsx("div",{className:"space-y-3",children:et?u.jsx("div",{className:"text-center py-8",style:{color:s.textSecondary},children:"Loading friends..."}):Pe.length===0?u.jsxs("div",{className:"text-center py-8 space-y-2",children:[u.jsx("div",{style:{color:s.textSecondary},children:"No friends added yet!"}),u.jsx("div",{className:"text-sm",style:{color:s.textSecondary,opacity:.7},children:'Click "Add Friend" to start building your fitness community'})]}):Pe.map(le=>u.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl transition-all hover:shadow-md",style:{backgroundColor:le.isCurrentUser?"#E8F5E8":"#F7F9FA"},children:[u.jsxs(r1,{className:"w-14 h-14",children:[u.jsx(n1,{src:le.avatar}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:le.name.split(" ").map(We=>We[0]).join("")})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:le.name}),u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43",opacity:.6},children:le.username}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ed,{className:"w-4 h-4",style:{color:"#102A43",opacity:.4}}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["Rank #",le.rank]})]})})]}),u.jsxs("div",{className:"text-right mr-4",children:[u.jsx("p",{className:"text-2xl mb-1",style:{color:Ce(le.fareScore)},children:le.fareScore}),u.jsxs("div",{className:"flex items-center gap-1 justify-end mb-1",children:[le.change>=0?u.jsx(Tm,{className:"w-3 h-3",style:{color:"#1C7C54"}}):u.jsx(xd,{className:"w-3 h-3",style:{color:"#E53E3E"}}),u.jsx("span",{className:"text-xs",style:{color:le.change>=0?"#1C7C54":"#E53E3E"},children:Math.abs(le.change)})]}),u.jsx(Bd,{style:{backgroundColor:nt(le.tier),color:"white",fontSize:"11px"},children:le.tier})]}),u.jsxs("button",{onClick:()=>dr(le.rank.toString(),le.name),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:S.has(le.rank.toString())?"#FFB6B9":"#A8E6CF",color:S.has(le.rank.toString())?"#FFB6B9":"#1C7C54",backgroundColor:S.has(le.rank.toString())?"#FFB6B920":"transparent"},children:[u.jsx($re,{className:"w-4 h-4",fill:S.has(le.rank.toString())?"#FFB6B9":"none"}),S.has(le.rank.toString())?"Cheered!":"Cheer"]})]},le.rank))}),ve.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(xD,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#102A43",opacity:.2}}),u.jsx("p",{className:"mb-2",style:{color:"#102A43",opacity:.6},children:"No friends yet"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.5},children:"Add friends to compare scores and support each other!"})]})]})})]})}),u.jsx(li,{open:f,onOpenChange:le=>{h(le),le&&re(K)},children:u.jsxs(ci,{className:"sm:max-w-md",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Edit Profile"}),u.jsx(lo,{style:{color:"#102A43",opacity:.6},children:"Update your profile information"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{style:{color:"#102A43"},children:"Profile Picture"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(r1,{className:"w-20 h-20",children:[u.jsx(n1,{src:q}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:L.split(" ").map(le=>le[0]).join("").toUpperCase()||"U"})]}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{htmlFor:"avatar-upload",className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 cursor-pointer text-sm flex items-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(my,{className:"w-4 h-4"}),q?"Change Photo":"Upload Photo"]}),u.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:ze,className:"hidden"}),q&&u.jsx("button",{type:"button",onClick:be,className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-red-50 text-sm",style:{borderColor:"#FFE8E8",color:"#E53E3E"},children:"Remove"})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"JPG, PNG or GIF. Max 5MB."})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{htmlFor:"name",style:{color:"#102A43"},children:"Name"}),u.jsx(qt,{id:"name",value:L,onChange:le=>F(le.target.value),placeholder:"Enter your name",style:{borderColor:"#A8E6CF"}})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{htmlFor:"email",style:{color:"#102A43"},children:"Email"}),u.jsx(qt,{id:"email",type:"email",value:$,onChange:le=>H(le.target.value),placeholder:"Enter your email",style:{borderColor:"#A8E6CF"}})]})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx("button",{onClick:Be,className:"px-6 py-2 rounded-lg transition-all hover:opacity-90 text-white",style:{backgroundColor:"#1C7C54"},children:"Save Changes"})]})]})}),u.jsx(li,{open:p,onOpenChange:g,children:u.jsxs(ci,{className:"sm:max-w-md",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Share Your FareScore"}),u.jsx(lo,{style:{color:"#102A43",opacity:.6},children:"Share your progress with friends and family"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-mint-50 rounded-xl p-6 text-center",children:[u.jsx("div",{className:"text-5xl mb-3",style:{color:Ce(N.score)},children:N.score}),u.jsx(Bd,{style:{backgroundColor:nt(N.tier),color:"white",fontSize:"14px",padding:"4px 12px"},children:N.tier}),u.jsxs("p",{className:"mt-3 text-sm",style:{color:"#102A43",opacity:.7},children:[e,"'s FareScore"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qt,{readOnly:!0,value:`https://farefit.app/score/${e.toLowerCase().replace(/\s+/g,"")}`,className:"flex-1",style:{borderColor:"#A8E6CF"}}),u.jsxs("button",{onClick:tt,className:"px-4 py-2 rounded-lg transition-all flex items-center gap-2 text-white",style:{backgroundColor:P?"#1C7C54":"#4DD4AC"},children:[P?u.jsx(gy,{className:"w-4 h-4"}):u.jsx(WT,{className:"w-4 h-4"}),P?"Copied!":"Copy"]})]})]})]})}),u.jsx(li,{open:x,onOpenChange:v,children:u.jsxs(ci,{className:"sm:max-w-md",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Add Friend"}),u.jsx(lo,{style:{color:"#102A43",opacity:.6},children:"Connect with friends to compare scores and support each other"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Gt,{htmlFor:"username",style:{color:"#102A43"},children:"Username or Email"}),u.jsx(qt,{id:"username",value:U,onChange:le=>X(le.target.value),placeholder:"@username or email@example.com",style:{borderColor:"#A8E6CF"},onKeyDown:le=>{le.key==="Enter"&&Et()}})]}),u.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"💡 Tip: Friends can see each other's FareScores and send cheers for motivation!"})})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsxs("button",{onClick:Et,className:"px-6 py-2 rounded-lg transition-all hover:opacity-90 text-white flex items-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(vD,{className:"w-4 h-4"}),"Send Request"]})]})]})}),u.jsx(li,{open:b,onOpenChange:_,children:u.jsxs(ci,{className:"sm:max-w-md",children:[u.jsxs(Fi,{children:[u.jsx(Li,{style:{color:"#102A43"},children:"Settings"}),u.jsx(lo,{style:{color:"#102A43",opacity:.6},children:"Manage your account preferences"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsx("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(CU,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Notifications"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Daily reminders and updates"})]})]}),u.jsx(Ha,{checked:ee,onCheckedChange:jr})]})}),u.jsx("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:o?"🌙":"☀️"}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Dark Mode"}),u.jsxs("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:["Switch to ",o?"light":"dark"," theme"]})]})]}),u.jsx(Ha,{checked:o,onCheckedChange:a})]})}),u.jsxs("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(th,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Privacy"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Who can see your profile"})]})]}),u.jsxs(cy,{value:Q,onValueChange:qr,children:[u.jsx(fy,{className:"w-full mt-2",style:{borderColor:"#A8E6CF"},children:u.jsx(uy,{})}),u.jsxs(dy,{children:[u.jsx(Mo,{value:"public",children:"Public - Everyone can see"}),u.jsx(Mo,{value:"friends",children:"Friends Only"}),u.jsx(Mo,{value:"private",children:"Private - Only you"})]})]})]}),u.jsxs("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(PU,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Units"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Measurement system"})]})]}),u.jsxs(cy,{value:oe,onValueChange:ye,children:[u.jsx(fy,{className:"w-full mt-2",style:{borderColor:"#A8E6CF"},children:u.jsx(uy,{})}),u.jsxs(dy,{children:[u.jsx(Mo,{value:"metric",children:"Metric (kg, cm)"}),u.jsx(Mo,{value:"imperial",children:"Imperial (lbs, inches)"})]})]})]}),u.jsx("div",{className:"border-t",style:{borderColor:"#E8F4F2"}}),u.jsxs("button",{className:"w-full px-4 py-3 rounded-lg border-2 transition-all hover:bg-red-50 flex items-center gap-3",style:{borderColor:"#FFE8E8",color:"#E53E3E"},onClick:()=>E(!0),children:[u.jsx(rh,{className:"w-5 h-5"}),u.jsx("span",{children:"Delete Account"})]})]})]})}),u.jsx(bQ,{open:C,onOpenChange:E,children:u.jsxs(_Q,{children:[u.jsxs(AQ,{children:[u.jsx(EQ,{style:{color:"#E53E3E"},children:"Delete Account?"}),u.jsxs(SQ,{children:["This action cannot be undone. This will permanently delete your account and remove all your data including:",u.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-1",style:{color:"#102A43"},children:[u.jsx("li",{children:"Your FareScore history"}),u.jsx("li",{children:"All logged meals and workouts"}),u.jsx("li",{children:"Progress tracking data"}),u.jsx("li",{children:"Friends and leaderboard connections"})]}),u.jsx("p",{className:"mt-3",style:{color:"#102A43",opacity:.8},children:"You will receive an email confirmation before deletion is finalized."})]})]}),u.jsxs(CQ,{children:[u.jsx(IQ,{style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx(TQ,{onClick:Ne,className:"text-white",style:{backgroundColor:"#E53E3E"},children:"Delete Account"})]})]})})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:s.bg},children:u.jsx("div",{style:{color:s.textPrimary},children:"No data found"})})}const Pi={STARTING_JOURNEY:{label:"Starting Journey",description:"Beginning your fitness journey - Every log counts!"},BUILDING_HABITS:{min:400,label:"Building Habits",description:"Developing consistency - Keep going!"},CONSISTENT_TRACKER:{min:550,label:"Consistent Tracker",description:"Staying on track most days - Great progress!"},GOAL_CRUSHER:{min:700,label:"Goal Crusher",description:"Crushing your goals with dedication!"},FAREFIT_ELITE:{min:800,label:"FareFit Elite",description:"Elite consistency - You're an inspiration!"}};function lVe(t){return t>=Pi.FAREFIT_ELITE.min?{label:Pi.FAREFIT_ELITE.label,description:Pi.FAREFIT_ELITE.description}:t>=Pi.GOAL_CRUSHER.min?{label:Pi.GOAL_CRUSHER.label,description:Pi.GOAL_CRUSHER.description}:t>=Pi.CONSISTENT_TRACKER.min?{label:Pi.CONSISTENT_TRACKER.label,description:Pi.CONSISTENT_TRACKER.description}:t>=Pi.BUILDING_HABITS.min?{label:Pi.BUILDING_HABITS.label,description:Pi.BUILDING_HABITS.description}:{label:Pi.STARTING_JOURNEY.label,description:Pi.STARTING_JOURNEY.description}}function cVe(t){return t>=800?"#4DD4AC":t>=700?"#1C7C54":t>=550?"#A8E6CF":t>=400?"#F5A623":"#E53E3E"}function uVe({fareScore:t,fareScoreChange:e,dailyScore:r,dailyBreakdown:n,onFareScoreClick:i,isDemoMode:o=!1}){const a=lVe(t),s=cVe(t),l=r,c=2*Math.PI*32,f=c-l/100*c,h=(t-300)/550*100,p=c-h/100*c;return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs(mt.button,{onClick:i,className:"relative overflow-hidden rounded-xl p-6 text-left transition-all hover:shadow-lg active:scale-[0.98]",style:{backgroundColor:"var(--bg-primary)",border:"2px solid var(--border-color)"},whileHover:{y:-2},whileTap:{scale:.98},children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(ya,{size:18,style:{color:"var(--accent-primary)"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"FareScore"})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Your consistency rating"})]}),u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded",style:{backgroundColor:e>=0?"var(--accent-light)":"#FFE8E8"},children:[e>=0?u.jsx(Tm,{size:14,style:{color:"var(--accent-primary)"}}):u.jsx(xd,{size:14,style:{color:"#E53E3E"}}),u.jsx("span",{className:"text-xs",style:{color:e>=0?"var(--accent-primary)":"#E53E3E"},children:Math.abs(e)})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:"var(--accent-light)",strokeWidth:"8",fill:"none"}),u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:s,strokeWidth:"8",fill:"none",strokeDasharray:c,strokeDashoffset:p,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-2xl",style:{color:s},children:t})})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx(Bd,{style:{backgroundColor:s,color:"white",fontSize:"12px",marginBottom:"8px"},children:a.label}),u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Range: 300-850"}),u.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--text-tertiary)"},children:[e>=0?"+":"",e," this week"]}),u.jsx("p",{className:"text-xs",style:{color:"var(--accent-primary)",opacity:.8},children:"Tap for details →"})]})]})]}),u.jsxs("div",{className:"relative overflow-hidden rounded-xl p-6",style:{backgroundColor:"var(--bg-primary)",border:"2px solid var(--border-color)"},children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Fo,{size:18,style:{color:"#F5A623"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Today's Score"})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Daily points progress"})]}),r===100&&u.jsx(Bd,{style:{backgroundColor:"#FFD700",color:"#102A43",fontSize:"11px"},children:"Perfect!"})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:"var(--accent-light)",strokeWidth:"8",fill:"none"}),u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:r===100?"#FFD700":r>=75?"#1C7C54":r>=50?"#4DD4AC":"#F5A623",strokeWidth:"8",fill:"none",strokeDasharray:c,strokeDashoffset:f,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl",style:{color:r===100?"#FFD700":r>=75?"#1C7C54":r>=50?"#4DD4AC":"#F5A623"},children:r}),u.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"/ 100"})]})})]}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("div",{className:"space-y-2",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Zl,{label:"Meals logged",points:n.mealsLogged.max,earned:n.mealsLogged.earned}),u.jsx(Zl,{label:"Workout done",points:n.workoutCompleted.max,earned:n.workoutCompleted.earned}),u.jsx(Zl,{label:"Macros hit",points:n.macrosHit.max,earned:n.macrosHit.earned}),u.jsx(Zl,{label:"Bonus",points:n.consistencyBonus.max,earned:n.consistencyBonus.earned})]}):u.jsxs(u.Fragment,{children:[u.jsx(Zl,{label:"Meals logged",points:30,earned:r>=20}),u.jsx(Zl,{label:"Workout done",points:30,earned:r>=50}),u.jsx(Zl,{label:"Macros hit",points:25,earned:r>=75}),u.jsx(Zl,{label:"Bonus",points:15,earned:r===100})]})})})]})]})]})}function Zl({label:t,points:e,earned:r}){const n=typeof r=="number"?r:r?e:0,i=n===e,o=n>0&&n<e;return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:i?"#1C7C54":o?"#4DD4AC":"var(--accent-light)"}}),u.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:n>0?.8:.5},children:t})]}),u.jsxs("span",{className:"text-xs",style:{color:i?"#1C7C54":o?"#4DD4AC":"var(--text-primary)",opacity:n>0?1:.4},children:[n,"/",e]})]})}function fVe(t){const e={total:0,mealsLogged:{earned:0,max:30},workoutCompleted:{earned:0,max:30},macrosHit:{earned:0,max:25},consistencyBonus:{earned:0,max:15}};t.loggedCalories>=500?e.mealsLogged.earned=20:t.loggedCalories>=200&&(e.mealsLogged.earned=10),t.workoutCompleted&&(e.workoutCompleted.earned=30);const r=Math.abs(t.loggedCalories-t.targetCalories),n=t.targetCalories>0?r/t.targetCalories*100:100,i=Math.abs(t.loggedProtein-t.targetProtein),o=t.targetProtein>0?i/t.targetProtein*100:100;n<=5&&o<=5?e.macrosHit.earned=25:n<=10&&o<=10?e.macrosHit.earned=20:n<=15&&o<=15?e.macrosHit.earned=15:n<=25&&o<=25&&(e.macrosHit.earned=10);const a=e.mealsLogged.earned+e.workoutCompleted.earned+e.macrosHit.earned;return a>=75?e.consistencyBonus.earned=15:a>=60&&(e.consistencyBonus.earned=10),e.total=e.mealsLogged.earned+e.workoutCompleted.earned+e.macrosHit.earned+e.consistencyBonus.earned,e}function dVe(){const[t,e]=k.useState(()=>localStorage.getItem("farefit_dark_mode")==="true");k.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const r=()=>{const Ce=!t;e(Ce),localStorage.setItem("farefit_dark_mode",String(Ce))},[n,i]=k.useState(!1),[o,a]=k.useState(null),[s,l]=k.useState("landing"),[c,f]=k.useState("dashboard"),[h,p]=k.useState(!1),[g,x]=k.useState(!1),[v,b]=k.useState(!1),[_,C]=k.useState(!1);k.useEffect(()=>{(async()=>{const Re=localStorage.getItem("farefit_user");if(Re){const Be=JSON.parse(Re);try{const be=(await o1(()=>Promise.resolve().then(()=>rA),void 0).then(tt=>tt.auth)).currentUser;if(be){const tt=await nA(be.uid);Be.onboardingComplete!==tt&&(console.log(`🔄 Syncing onboarding status: localStorage=${Be.onboardingComplete}, Firestore=${tt}`),Be.onboardingComplete=tt,localStorage.setItem("farefit_user",JSON.stringify(Be)))}}catch(ze){console.warn("⚠️ Could not verify onboarding status from Firestore:",ze)}a(Be),i(!0),Be.onboardingComplete&&oe&&await T(oe.uid),l(Be.onboardingComplete?"app":"onboarding")}})()},[]),k.useEffect(()=>{$I();const Ce=setInterval(()=>{const Re=new Date;Re.getHours()===0&&Re.getMinutes()===0&&$I()},6e4);return()=>clearInterval(Ce)},[]);const E=async(Ce,Re)=>{try{const Be=await yge(Ce,Re);if(!Be){alert("Login failed. Please check your credentials.");return}const ze=await nA(Be.uid);await mM(Be.uid);const be={email:Be.email||Ce,name:Be.displayName||Ce.split("@")[0],onboardingComplete:ze};a(be),i(!0),be.onboardingComplete&&await T(Be.uid),l(be.onboardingComplete?"app":"onboarding")}catch(Be){console.error("Login error:",Be),alert(Be.message||"Failed to login. Please try again.")}},P=async(Ce,Re,Be)=>{try{const ze=await gge(Ce,Re,Be);await Vq(ze.uid,Be,Ce);const be={email:ze.email||Ce,name:ze.displayName||Be,onboardingComplete:!1};localStorage.setItem(`farefit_user_${Ce}`,JSON.stringify(be)),localStorage.setItem("farefit_user",JSON.stringify(be)),a(be),i(!0),l("onboarding")}catch(ze){console.error("Signup error:",ze),alert(ze.message||"Failed to signup.")}},I=async()=>{try{const Ce=await vge();if(!Ce){alert("Google login failed. Please try again.");return}const Re=await nA(Ce.uid);await mM(Ce.uid);const Be={email:Ce.email,name:Ce.displayName||Ce.email.split("@")[0],onboardingComplete:Re};a(Be),i(!0),Be.onboardingComplete&&await T(Ce.uid),l(Be.onboardingComplete?"app":"onboarding")}catch(Ce){console.error("Google login failed:",Ce.message),alert(Ce.message||"Google login failed. Please try again.")}},S=async Ce=>{if(o)try{const Be=(await o1(()=>Promise.resolve().then(()=>rA),void 0).then(be=>be.auth)).currentUser;Be&&(await Age(Be.uid),console.log("✅ Onboarding marked complete in Firestore"));const ze={...o,onboardingComplete:!0,onboardingData:Ce};localStorage.setItem(`farefit_user_${o.email}`,JSON.stringify(ze)),localStorage.setItem("farefit_user",JSON.stringify(ze)),a(ze),l("app"),b(!0)}catch(Re){console.error("❌ Error completing onboarding:",Re);const Be={...o,onboardingComplete:!0,onboardingData:Ce};localStorage.setItem(`farefit_user_${o.email}`,JSON.stringify(Be)),localStorage.setItem("farefit_user",JSON.stringify(Be)),a(Be),l("app"),b(!0)}},T=async Ce=>{if(Ce)try{K(!0),console.log("📋 Loading user plan summary...");const Re=await Pge(Ce);$(Re),Re?console.log("✅ Plan summary loaded:",Re):console.log("📭 No active plan found for user")}catch(Re){console.error("❌ Error loading user plan:",Re)}finally{K(!1)}},N=async Ce=>{if(console.log("🎯 Plan generated successfully:",Ce.id),o)try{const Be=(await o1(()=>Promise.resolve().then(()=>rA),void 0).then(ze=>ze.auth)).currentUser;Be&&(await kge(Be.uid,{tdee:Ce.tdee,targetCalories:Ce.targetCalories,protein:Ce.macros.protein,carbs:Ce.macros.carbs,fat:Ce.macros.fat,fiber:Ce.macros.fiber,goalType:Ce.goalType,age:0,weight:0,height:0,gender:"male",activityLevel:"1.55"}),await T(Be.uid),console.log("✅ Fitness goals updated with plan data"))}catch(Re){console.error("❌ Error updating fitness goals:",Re)}},j=async()=>{try{await Epe(VI)}catch(Ce){console.error("Error signing out from Firebase:",Ce)}localStorage.removeItem("farefit_user"),a(null),i(!1),l("landing"),f("dashboard"),b(!1),C(!1)},B=(Ce,Re,Be)=>{if(!o)return;const ze={...o,name:Ce,email:Re};localStorage.setItem(`farefit_user_${Re}`,JSON.stringify(ze)),localStorage.setItem("farefit_user",JSON.stringify(ze)),a(ze)},[M,L]=k.useState(()=>{const Ce=localStorage.getItem("fitnessGoal");return Ce?JSON.parse(Ce):null}),[F,$]=k.useState(null),[H,K]=k.useState(!1),[Z,q]=k.useState(()=>{const Ce=localStorage.getItem("workoutData");if(!Ce)return null;try{const Re=JSON.parse(Ce);if(Re.exercises&&Re.exercises.length>0){const Be=Re.exercises[0];if(Be.sets&&Array.isArray(Be.sets)&&typeof Be.sets[0]=="object"){console.log("Migrating workout data from old format to new format");const ze=Re.exercises.map((tt,Et)=>{const dr=tt.sets.length,jr=tt.sets.reduce((Ne,le)=>Ne+le.weight,0)/dr,qr=Math.round(tt.sets.reduce((Ne,le)=>Ne+le.reps,0)/dr),ye=dr*qr*jr;return{id:(Date.now()+Et).toString(),name:tt.name,sets:dr,reps:qr,weight:jr,volume:ye,notes:"",startTime:new Date(Date.now()-(Re.exercises.length-Et)*10*6e4).toISOString(),endTime:new Date(Date.now()-(Re.exercises.length-Et-1)*10*6e4).toISOString()}}),be={workoutType:Re.type||Re.workoutType||"Workout",duration:Re.duration||45,caloriesBurned:Re.caloriesBurned||0,exercises:ze,date:Re.date||new Date().toISOString()};return localStorage.setItem("workoutData",JSON.stringify(be)),be}}return Re}catch(Re){return console.error("Error loading workout data:",Re),null}}),[re,U]=k.useState(()=>{const Ce=localStorage.getItem("loggedMacros");return Ce?JSON.parse(Ce):{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),X=Ce=>{U(Ce),localStorage.setItem("loggedMacros",JSON.stringify(Ce))},[ee,W]=k.useState(350),[Q,se]=k.useState(0),[oe,ae]=k.useState(null);k.useEffect(()=>{const Re=wr().onAuthStateChanged(Be=>{ae(Be),console.log("🔐 Auth state changed:",Be?`User: ${Be.uid}`:"No user")});return()=>Re()},[]),k.useEffect(()=>{if(!oe||_){console.log("🔥 Skipping FareScore listener:",{currentUser:!!oe,isDemoMode:_});return}const Ce=b4(),Re=zt(Ce,"FareScore",oe.uid);console.log("🔥 Setting up real-time FareScore listener for:",oe.uid);const Be=rq(Re,ze=>{if(ze.exists()){const be=ze.data();console.log("📊 Real-time FareScore update:",be),W(be.score||350),se(be.weeklyChange||0)}else console.log("❌ No FareScore document found, using default values"),W(350),se(0)},ze=>{console.error("❌ Error listening to FareScore changes:",ze),W(350),se(0)});return()=>{console.log("🔥 Cleaning up FareScore listener"),Be()}},[_,oe]);const he=M?fVe({workoutCompleted:Z!==null,loggedCalories:re.calories,targetCalories:M.targetCalories,loggedProtein:re.protein,targetProtein:M.protein,loggedCarbs:re.carbs,targetCarbs:M.carbs,loggedFat:re.fat,targetFat:M.fat}):{total:0,mealsLogged:{earned:0,max:30},workoutCompleted:{earned:0,max:30},macrosHit:{earned:0,max:25},consistencyBonus:{earned:0,max:15}},_e=he.total,Pe=()=>{const Ce={email:"demo@farefit.com",name:"Alex",onboardingComplete:!0,onboardingData:{sex:"male",birthday:new Date("1990-01-01"),height:175,heightUnit:"cm",weight:75,weightUnit:"kg",activityLevel:"moderately-active",goal:"lose-weight",notificationsEnabled:!0}},Re={goalType:"cut",age:34,weight:75,height:175,gender:"male",activityLevel:"moderately-active",tdee:2450,targetCalories:1950,protein:150,carbs:195,fat:54,fiber:27},Be={calories:1247,protein:98,carbs:112,fat:38,fiber:18},ze={workoutType:"Push Day 💪",duration:45,caloriesBurned:517,exercises:[{id:"1",name:"Bench Press",sets:3,reps:10,weight:135,volume:4050,notes:"Felt strong today",startTime:new Date(Date.now()-45*6e4).toISOString(),endTime:new Date(Date.now()-35*6e4).toISOString()},{id:"2",name:"Incline DB Press",sets:3,reps:12,weight:55,volume:1980,notes:"",startTime:new Date(Date.now()-30*6e4).toISOString(),endTime:new Date(Date.now()-20*6e4).toISOString()},{id:"3",name:"Lateral Raises",sets:4,reps:15,weight:20,volume:1200,notes:"Good pump",startTime:new Date(Date.now()-15*6e4).toISOString(),endTime:new Date(Date.now()-5*6e4).toISOString()}],date:new Date().toISOString()};localStorage.setItem("farefit_user",JSON.stringify(Ce)),localStorage.setItem("fitnessGoal",JSON.stringify(Re)),localStorage.setItem("loggedMacros",JSON.stringify(Be)),localStorage.setItem("workoutData",JSON.stringify(ze)),localStorage.setItem("fareScore","615"),a(Ce),L(Re),U(Be),q(ze),W(615),se(8),i(!0),l("app"),b(!0),C(!0)},pe=Ce=>{const Re={calories:re.calories+Ce.calories,protein:re.protein+Ce.protein,carbs:re.carbs+Ce.carbs,fat:re.fat+Ce.fat,fiber:re.fiber+Ce.fiber};X(Re)},et=()=>c==="progress"?"Progress":c==="help"?"Help":c==="privacy"?"Privacy":c==="terms"?"Terms":c==="fitness-goal"?"Fitness Goal":c==="coach-ai"?"Coach AI":c==="food-assistant"?"Food Assistant":c==="workout-detail"?"Workout Detail":c==="daily-timeline"?"Daily Timeline":"Dashboard",$e=Ce=>{L(Ce),localStorage.setItem("fitnessGoal",JSON.stringify(Ce))},nt=Ce=>{q(Ce),localStorage.setItem("workoutData",JSON.stringify(Ce))};return s==="landing"?u.jsx(w8e,{onGetStarted:()=>l("signup"),onLogin:()=>l("login"),onDemoLogin:Pe}):s==="login"?u.jsx(k$,{onLogin:E,onSignup:P,onBack:()=>l("landing"),initialMode:"login",onGoogleLogin:I}):s==="signup"?u.jsx(k$,{onLogin:E,onSignup:P,onBack:()=>l("landing"),initialMode:"signup"}):s==="onboarding"?u.jsx(H8e,{onComplete:S}):c==="progress"?u.jsxs(u.Fragment,{children:[u.jsx(W3e,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0)}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Progress"})]}):c==="help"?u.jsxs(u.Fragment,{children:[u.jsx(Z3e,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0)}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Help"})]}):c==="privacy"?u.jsxs(u.Fragment,{children:[u.jsx(EOe,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0)}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Privacy"})]}):c==="terms"?u.jsxs(u.Fragment,{children:[u.jsx(SOe,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0)}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Terms"})]}):c==="fitness-goal"?u.jsxs(u.Fragment,{children:[u.jsx(YRe,{onBack:()=>f("dashboard"),onSaveGoal:$e,onNavigate:f,onFeedbackClick:()=>p(!0),onPlanGenerated:N,userId:VI.currentUser?.uid}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Fitness Goal"})]}):c==="coach-ai"?u.jsxs(u.Fragment,{children:[u.jsx(XRe,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0)}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Coach AI"})]}):c==="meal-logging"?u.jsx(UBe,{onBack:()=>f("dashboard"),onMealLogged:pe}):c==="food-assistant"?u.jsxs(u.Fragment,{children:[u.jsx(y8e,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0),userGoal:M,loggedMacros:re}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Food Assistant"})]}):c==="workout-detail"?u.jsxs(u.Fragment,{children:[u.jsx(v8e,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0),onCoachAIClick:()=>f("coach-ai"),workoutData:Z,onSaveWorkout:nt}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Workout Detail"})]}):c==="daily-timeline"?u.jsxs(u.Fragment,{children:[u.jsx(b8e,{onBack:()=>f("dashboard"),onNavigate:f,onFeedbackClick:()=>p(!0),userGoal:M,loggedMacros:re}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:"Daily Timeline"})]}):c==="account"?u.jsx(sVe,{onBack:()=>f("dashboard"),userName:o?.name||"User",userEmail:o?.email||"",isDemoMode:_,onUpdateProfile:B,isDarkMode:t,onToggleDarkMode:r}):u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx(Une,{userName:o?.name,onLogout:j,onAccountClick:()=>f("account"),isDarkMode:t}),v&&u.jsx(tFe,{userName:o?.name||"there",onClose:()=>b(!1)}),u.jsx(Nle,{onCoachAIClick:()=>f("coach-ai"),userName:o?.name||o?.email?.split("@")[0],hasLoggedMeals:re.calories>0,hasLoggedWorkout:Z!==null,goalType:M?.goalType,macroProgress:M?{calories:re.calories,targetCalories:M.targetCalories,protein:re.protein,targetProtein:M.protein,carbs:re.carbs,targetCarbs:M.carbs,fat:re.fat,targetFat:M.fat}:void 0}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-16",children:[u.jsx(Ple,{onFitnessScoreClick:()=>x(!0),userName:o?.name||o?.email?.split("@")[0]}),u.jsx(uVe,{fareScore:ee,fareScoreChange:Q,dailyScore:_e,dailyBreakdown:he,onFareScoreClick:()=>f("account"),isDemoMode:_}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsx(Oge,{onFoodAIClick:()=>f("food-assistant"),onLogMealClick:()=>f("meal-logging"),userGoal:M,planSummary:F}),u.jsx(jge,{onViewTimeline:()=>f("daily-timeline"),onLogMealClick:()=>f("meal-logging")})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsx(Q0e,{onCoachAIClick:()=>f("coach-ai"),onViewWorkout:()=>f("workout-detail"),workoutData:Z}),u.jsx(Z0e,{onClick:()=>f("progress")})]}),u.jsx(eve,{onGoalSetupClick:()=>f("fitness-goal"),onCoachAIClick:()=>f("coach-ai"),onFoodAssistantClick:()=>f("food-assistant"),userGoal:M,planSummary:F})]}),!1,u.jsx(wl,{onNavigate:f,onFeedbackClick:()=>p(!0)}),u.jsx(Ua,{isOpen:h,onClose:()=>p(!1),currentPage:et()}),u.jsx(xJ,{isOpen:g,onClose:()=>x(!1)})]})}zte.createRoot(document.getElementById("root")).render(u.jsx(dVe,{}));
