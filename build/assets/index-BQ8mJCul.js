function zte(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O_={exports:{}},hm={},j_={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD;function Wte(){if(lD)return Ot;lD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(Q,ee,W){this.props=Q,this.context=ee,this.refs=y,this.updater=W||g}b.prototype.isReactComponent={},b.prototype.setState=function(Q,ee){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ee,"setState")},b.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function _(){}_.prototype=b.prototype;function C(Q,ee,W){this.props=Q,this.context=ee,this.refs=y,this.updater=W||g}var E=C.prototype=new _;E.constructor=C,x(E,b.prototype),E.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,T={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(Q,ee,W){var xe,Ne={},ie=null,se=null;if(ee!=null)for(xe in ee.ref!==void 0&&(se=ee.ref),ee.key!==void 0&&(ie=""+ee.key),ee)I.call(ee,xe)&&!N.hasOwnProperty(xe)&&(Ne[xe]=ee[xe]);var we=arguments.length-2;if(we===1)Ne.children=W;else if(1<we){for(var me=Array(we),re=0;re<we;re++)me[re]=arguments[re+2];Ne.children=me}if(Q&&Q.defaultProps)for(xe in we=Q.defaultProps,we)Ne[xe]===void 0&&(Ne[xe]=we[xe]);return{$$typeof:t,type:Q,key:ie,ref:se,props:Ne,_owner:T.current}}function j(Q,ee){return{$$typeof:t,type:Q.type,key:ee,ref:Q.ref,props:Q.props,_owner:Q._owner}}function B(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function M(Q){var ee={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(W){return ee[W]})}var L=/\/+/g;function F(Q,ee){return typeof Q=="object"&&Q!==null&&Q.key!=null?M(""+Q.key):ee.toString(36)}function $(Q,ee,W,xe,Ne){var ie=typeof Q;(ie==="undefined"||ie==="boolean")&&(Q=null);var se=!1;if(Q===null)se=!0;else switch(ie){case"string":case"number":se=!0;break;case"object":switch(Q.$$typeof){case t:case e:se=!0}}if(se)return se=Q,Ne=Ne(se),Q=xe===""?"."+F(se,0):xe,P(Ne)?(W="",Q!=null&&(W=Q.replace(L,"$&/")+"/"),$(Ne,ee,W,"",function(re){return re})):Ne!=null&&(B(Ne)&&(Ne=j(Ne,W+(!Ne.key||se&&se.key===Ne.key?"":(""+Ne.key).replace(L,"$&/")+"/")+Q)),ee.push(Ne)),1;if(se=0,xe=xe===""?".":xe+":",P(Q))for(var we=0;we<Q.length;we++){ie=Q[we];var me=xe+F(ie,we);se+=$(ie,ee,W,me,Ne)}else if(me=p(Q),typeof me=="function")for(Q=me.call(Q),we=0;!(ie=Q.next()).done;)ie=ie.value,me=xe+F(ie,we++),se+=$(ie,ee,W,me,Ne);else if(ie==="object")throw ee=String(Q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return se}function q(Q,ee,W){if(Q==null)return Q;var xe=[],Ne=0;return $(Q,xe,"","",function(ie){return ee.call(W,ie,Ne++)}),xe}function X(Q){if(Q._status===-1){var ee=Q._result;ee=ee(),ee.then(function(W){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=W)},function(W){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=W)}),Q._status===-1&&(Q._status=0,Q._result=ee)}if(Q._status===1)return Q._result.default;throw Q._result}var J={current:null},H={transition:null},oe={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:H,ReactCurrentOwner:T};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ot.Children={map:q,forEach:function(Q,ee,W){q(Q,function(){ee.apply(this,arguments)},W)},count:function(Q){var ee=0;return q(Q,function(){ee++}),ee},toArray:function(Q){return q(Q,function(ee){return ee})||[]},only:function(Q){if(!B(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Ot.Component=b,Ot.Fragment=r,Ot.Profiler=i,Ot.PureComponent=C,Ot.StrictMode=n,Ot.Suspense=l,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ot.act=z,Ot.cloneElement=function(Q,ee,W){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var xe=x({},Q.props),Ne=Q.key,ie=Q.ref,se=Q._owner;if(ee!=null){if(ee.ref!==void 0&&(ie=ee.ref,se=T.current),ee.key!==void 0&&(Ne=""+ee.key),Q.type&&Q.type.defaultProps)var we=Q.type.defaultProps;for(me in ee)I.call(ee,me)&&!N.hasOwnProperty(me)&&(xe[me]=ee[me]===void 0&&we!==void 0?we[me]:ee[me])}var me=arguments.length-2;if(me===1)xe.children=W;else if(1<me){we=Array(me);for(var re=0;re<me;re++)we[re]=arguments[re+2];xe.children=we}return{$$typeof:t,type:Q.type,key:Ne,ref:ie,props:xe,_owner:se}},Ot.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:o,_context:Q},Q.Consumer=Q},Ot.createElement=S,Ot.createFactory=function(Q){var ee=S.bind(null,Q);return ee.type=Q,ee},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(Q){return{$$typeof:s,render:Q}},Ot.isValidElement=B,Ot.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:X}},Ot.memo=function(Q,ee){return{$$typeof:c,type:Q,compare:ee===void 0?null:ee}},Ot.startTransition=function(Q){var ee=H.transition;H.transition={};try{Q()}finally{H.transition=ee}},Ot.unstable_act=z,Ot.useCallback=function(Q,ee){return J.current.useCallback(Q,ee)},Ot.useContext=function(Q){return J.current.useContext(Q)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(Q){return J.current.useDeferredValue(Q)},Ot.useEffect=function(Q,ee){return J.current.useEffect(Q,ee)},Ot.useId=function(){return J.current.useId()},Ot.useImperativeHandle=function(Q,ee,W){return J.current.useImperativeHandle(Q,ee,W)},Ot.useInsertionEffect=function(Q,ee){return J.current.useInsertionEffect(Q,ee)},Ot.useLayoutEffect=function(Q,ee){return J.current.useLayoutEffect(Q,ee)},Ot.useMemo=function(Q,ee){return J.current.useMemo(Q,ee)},Ot.useReducer=function(Q,ee,W){return J.current.useReducer(Q,ee,W)},Ot.useRef=function(Q){return J.current.useRef(Q)},Ot.useState=function(Q){return J.current.useState(Q)},Ot.useSyncExternalStore=function(Q,ee,W){return J.current.useSyncExternalStore(Q,ee,W)},Ot.useTransition=function(){return J.current.useTransition()},Ot.version="18.3.1",Ot}var cD;function hb(){return cD||(cD=1,j_.exports=Wte()),j_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD;function Hte(){if(uD)return hm;uD=1;var t=hb(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var d,f={},p=null,g=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(f[d]=l[d]);if(s&&s.defaultProps)for(d in l=s.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:s,key:p,ref:g,props:f,_owner:i.current}}return hm.Fragment=r,hm.jsx=a,hm.jsxs=a,hm}var dD;function qte(){return dD||(dD=1,O_.exports=Hte()),O_.exports}var u=qte(),pv={},R_={exports:{}},Pi={},D_={exports:{}},M_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD;function Gte(){return fD||(fD=1,(function(t){function e(H,oe){var z=H.length;H.push(oe);e:for(;0<z;){var Q=z-1>>>1,ee=H[Q];if(0<i(ee,oe))H[Q]=oe,H[z]=ee,z=Q;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var oe=H[0],z=H.pop();if(z!==oe){H[0]=z;e:for(var Q=0,ee=H.length,W=ee>>>1;Q<W;){var xe=2*(Q+1)-1,Ne=H[xe],ie=xe+1,se=H[ie];if(0>i(Ne,z))ie<ee&&0>i(se,Ne)?(H[Q]=se,H[ie]=z,Q=ie):(H[Q]=Ne,H[xe]=z,Q=xe);else if(ie<ee&&0>i(se,z))H[Q]=se,H[ie]=z,Q=ie;else break e}}return oe}function i(H,oe){var z=H.sortIndex-oe.sortIndex;return z!==0?z:H.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,p=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var oe=r(c);oe!==null;){if(oe.callback===null)n(c);else if(oe.startTime<=H)n(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=r(c)}}function P(H){if(y=!1,E(H),!x)if(r(l)!==null)x=!0,X(I);else{var oe=r(c);oe!==null&&J(P,oe.startTime-H)}}function I(H,oe){x=!1,y&&(y=!1,_(S),S=-1),g=!0;var z=p;try{for(E(oe),f=r(l);f!==null&&(!(f.expirationTime>oe)||H&&!M());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var ee=Q(f.expirationTime<=oe);oe=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(l)&&n(l),E(oe)}else n(l);f=r(l)}if(f!==null)var W=!0;else{var xe=r(c);xe!==null&&J(P,xe.startTime-oe),W=!1}return W}finally{f=null,p=z,g=!1}}var T=!1,N=null,S=-1,j=5,B=-1;function M(){return!(t.unstable_now()-B<j)}function L(){if(N!==null){var H=t.unstable_now();B=H;var oe=!0;try{oe=N(!0,H)}finally{oe?F():(T=!1,N=null)}}else T=!1}var F;if(typeof C=="function")F=function(){C(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=L,F=function(){q.postMessage(null)}}else F=function(){b(L,0)};function X(H){N=H,T||(T=!0,F())}function J(H,oe){S=b(function(){H(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,X(I))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var z=p;p=oe;try{return H()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,oe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var z=p;p=H;try{return oe()}finally{p=z}},t.unstable_scheduleCallback=function(H,oe,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,H={id:d++,callback:oe,priorityLevel:H,startTime:z,expirationTime:ee,sortIndex:-1},z>Q?(H.sortIndex=z,e(c,H),r(l)===null&&H===r(c)&&(y?(_(S),S=-1):y=!0,J(P,z-Q))):(H.sortIndex=ee,e(l,H),x||g||(x=!0,X(I))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var oe=p;return function(){var z=p;p=oe;try{return H.apply(this,arguments)}finally{p=z}}}})(M_)),M_}var hD;function Kte(){return hD||(hD=1,D_.exports=Gte()),D_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function Yte(){if(pD)return Pi;pD=1;var t=hb(),e=Kte();function r(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,v=1;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(h,m){a(h,m),a(h+"Capture",m)}function a(h,m){for(i[h]=m,h=0;h<m.length;h++)n.add(m[h])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(h){return l.call(f,h)?!0:l.call(d,h)?!1:c.test(h)?f[h]=!0:(d[h]=!0,!1)}function g(h,m,v,A){if(v!==null&&v.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return A?!1:v!==null?!v.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,m,v,A){if(m===null||typeof m>"u"||g(h,m,v,A))return!0;if(A)return!1;if(v!==null)switch(v.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(h,m,v,A,O,R,U){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=A,this.attributeNamespace=O,this.mustUseProperty=v,this.propertyName=h,this.type=m,this.sanitizeURL=R,this.removeEmptyString=U}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];b[m]=new y(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(_,C);b[m]=new y(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(_,C);b[m]=new y(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(_,C);b[m]=new y(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,m,v,A){var O=b.hasOwnProperty(m)?b[m]:null;(O!==null?O.type!==0:A||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,v,O,A)&&(v=null),A||O===null?p(m)&&(v===null?h.removeAttribute(m):h.setAttribute(m,""+v)):O.mustUseProperty?h[O.propertyName]=v===null?O.type===3?!1:"":v:(m=O.attributeName,A=O.attributeNamespace,v===null?h.removeAttribute(m):(O=O.type,v=O===3||O===4&&v===!0?"":""+v,A?h.setAttributeNS(A,m,v):h.setAttribute(m,v))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),H=Symbol.iterator;function oe(h){return h===null||typeof h!="object"?null:(h=H&&h[H]||h["@@iterator"],typeof h=="function"?h:null)}var z=Object.assign,Q;function ee(h){if(Q===void 0)try{throw Error()}catch(v){var m=v.stack.trim().match(/\n( *(at )?)/);Q=m&&m[1]||""}return`
`+Q+h}var W=!1;function xe(h,m){if(!h||W)return"";W=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ye){var A=ye}Reflect.construct(h,[],m)}else{try{m.call()}catch(ye){A=ye}h.call(m.prototype)}else{try{throw Error()}catch(ye){A=ye}h()}}catch(ye){if(ye&&A&&typeof ye.stack=="string"){for(var O=ye.stack.split(`
`),R=A.stack.split(`
`),U=O.length-1,Z=R.length-1;1<=U&&0<=Z&&O[U]!==R[Z];)Z--;for(;1<=U&&0<=Z;U--,Z--)if(O[U]!==R[Z]){if(U!==1||Z!==1)do if(U--,Z--,0>Z||O[U]!==R[Z]){var ne=`
`+O[U].replace(" at new "," at ");return h.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",h.displayName)),ne}while(1<=U&&0<=Z);break}}}finally{W=!1,Error.prepareStackTrace=v}return(h=h?h.displayName||h.name:"")?ee(h):""}function Ne(h){switch(h.tag){case 5:return ee(h.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return h=xe(h.type,!1),h;case 11:return h=xe(h.type.render,!1),h;case 1:return h=xe(h.type,!0),h;default:return""}}function ie(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case N:return"Fragment";case T:return"Portal";case j:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case M:return(h.displayName||"Context")+".Consumer";case B:return(h._context.displayName||"Context")+".Provider";case L:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case q:return m=h.displayName||null,m!==null?m:ie(h.type)||"Memo";case X:m=h._payload,h=h._init;try{return ie(h(m))}catch{}}return null}function se(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(m);case 8:return m===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function we(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function me(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function re(h){var m=me(h)?"checked":"value",v=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),A=""+h[m];if(!h.hasOwnProperty(m)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var O=v.get,R=v.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return O.call(this)},set:function(U){A=""+U,R.call(this,U)}}),Object.defineProperty(h,m,{enumerable:v.enumerable}),{getValue:function(){return A},setValue:function(U){A=""+U},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function le(h){h._valueTracker||(h._valueTracker=re(h))}function G(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var v=m.getValue(),A="";return h&&(A=me(h)?h.checked?"true":"false":h.value),h=A,h!==v?(m.setValue(h),!0):!1}function ge(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Ee(h,m){var v=m.checked;return z({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??h._wrapperState.initialChecked})}function $e(h,m){var v=m.defaultValue==null?"":m.defaultValue,A=m.checked!=null?m.checked:m.defaultChecked;v=we(m.value!=null?m.value:v),h._wrapperState={initialChecked:A,initialValue:v,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function We(h,m){m=m.checked,m!=null&&E(h,"checked",m,!1)}function ut(h,m){We(h,m);var v=we(m.value),A=m.type;if(v!=null)A==="number"?(v===0&&h.value===""||h.value!=v)&&(h.value=""+v):h.value!==""+v&&(h.value=""+v);else if(A==="submit"||A==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?_t(h,m.type,v):m.hasOwnProperty("defaultValue")&&_t(h,m.type,we(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function ft(h,m,v){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var A=m.type;if(!(A!=="submit"&&A!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,v||m===h.value||(h.value=m),h.defaultValue=m}v=h.name,v!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,v!==""&&(h.name=v)}function _t(h,m,v){(m!=="number"||ge(h.ownerDocument)!==h)&&(v==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+v&&(h.defaultValue=""+v))}var gt=Array.isArray;function Cr(h,m,v,A){if(h=h.options,m){m={};for(var O=0;O<v.length;O++)m["$"+v[O]]=!0;for(v=0;v<h.length;v++)O=m.hasOwnProperty("$"+h[v].value),h[v].selected!==O&&(h[v].selected=O),O&&A&&(h[v].defaultSelected=!0)}else{for(v=""+we(v),m=null,O=0;O<h.length;O++){if(h[O].value===v){h[O].selected=!0,A&&(h[O].defaultSelected=!0);return}m!==null||h[O].disabled||(m=h[O])}m!==null&&(m.selected=!0)}}function Qr(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function di(h,m){var v=m.value;if(v==null){if(v=m.children,m=m.defaultValue,v!=null){if(m!=null)throw Error(r(92));if(gt(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),v=m}h._wrapperState={initialValue:we(v)}}function Se(h,m){var v=we(m.value),A=we(m.defaultValue);v!=null&&(v=""+v,v!==h.value&&(h.value=v),m.defaultValue==null&&h.defaultValue!==v&&(h.defaultValue=v)),A!=null&&(h.defaultValue=""+A)}function Ve(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function ue(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?ue(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var ce,Le=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,v,A,O){MSApp.execUnsafeLocalFunction(function(){return h(m,v,A,O)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(ce=ce||document.createElement("div"),ce.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ce.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function rt(h,m){if(m){var v=h.firstChild;if(v&&v===h.lastChild&&v.nodeType===3){v.nodeValue=m;return}}h.textContent=m}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(h){fr.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),Vt[m]=Vt[h]})});function Dr(h,m,v){return m==null||typeof m=="boolean"||m===""?"":v||typeof m!="number"||m===0||Vt.hasOwnProperty(h)&&Vt[h]?(""+m).trim():m+"px"}function Ei(h,m){h=h.style;for(var v in m)if(m.hasOwnProperty(v)){var A=v.indexOf("--")===0,O=Dr(v,m[v],A);v==="float"&&(v="cssFloat"),A?h.setProperty(v,O):h[v]=O}}var fi=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ar(h,m){if(m){if(fi[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function qi(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cn=null;function Nd(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Cs=null,Es=null,zr=null;function Ep(h){if(h=Zp(h)){if(typeof Cs!="function")throw Error(r(280));var m=h.stateNode;m&&(m=N0(m),Cs(h.stateNode,h.type,m))}}function Nl(h){Es?zr?zr.push(h):zr=[h]:Es=h}function Il(){if(Es){var h=Es,m=zr;if(zr=Es=null,Ep(h),m)for(h=0;h<m.length;h++)Ep(m[h])}}function r0(h,m){return h(m)}function n0(){}var Na=!1;function i0(h,m,v){if(Na)return h(m,v);Na=!0;try{return r0(h,m,v)}finally{Na=!1,(Es!==null||zr!==null)&&(n0(),Il())}}function Yc(h,m){var v=h.stateNode;if(v===null)return null;var A=N0(v);if(A===null)return null;v=A[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(h=h.type,A=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!A;break e;default:h=!1}if(h)return null;if(v&&typeof v!="function")throw Error(r(231,m,typeof v));return v}var kl=!1;if(s)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{kl=!1}function o0(h,m,v,A,O,R,U,Z,ne){var ye=Array.prototype.slice.call(arguments,3);try{m.apply(v,ye)}catch(ke){this.onError(ke)}}var Ss=!1,Ia=null,Id=!1,wo=null,a0={onError:function(h){Ss=!0,Ia=h}};function s0(h,m,v,A,O,R,U,Z,ne){Ss=!1,Ia=null,o0.apply(a0,arguments)}function Sp(h,m,v,A,O,R,U,Z,ne){if(s0.apply(this,arguments),Ss){if(Ss){var ye=Ia;Ss=!1,Ia=null}else throw Error(r(198));Id||(Id=!0,wo=ye)}}function Yo(h){var m=h,v=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(v=m.return),h=m.return;while(h)}return m.tag===3?v:null}function Tp(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function l0(h){if(Yo(h)!==h)throw Error(r(188))}function c0(h){var m=h.alternate;if(!m){if(m=Yo(h),m===null)throw Error(r(188));return m!==h?null:h}for(var v=h,A=m;;){var O=v.return;if(O===null)break;var R=O.alternate;if(R===null){if(A=O.return,A!==null){v=A;continue}break}if(O.child===R.child){for(R=O.child;R;){if(R===v)return l0(O),h;if(R===A)return l0(O),m;R=R.sibling}throw Error(r(188))}if(v.return!==A.return)v=O,A=R;else{for(var U=!1,Z=O.child;Z;){if(Z===v){U=!0,v=O,A=R;break}if(Z===A){U=!0,A=O,v=R;break}Z=Z.sibling}if(!U){for(Z=R.child;Z;){if(Z===v){U=!0,v=R,A=O;break}if(Z===A){U=!0,A=R,v=O;break}Z=Z.sibling}if(!U)throw Error(r(189))}}if(v.alternate!==A)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?h:m}function u0(h){return h=c0(h),h!==null?Xc(h):null}function Xc(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Xc(h);if(m!==null)return m;h=h.sibling}return null}var Np=e.unstable_scheduleCallback,kd=e.unstable_cancelCallback,Qc=e.unstable_shouldYield,Ts=e.unstable_requestPaint,Er=e.unstable_now,c2=e.unstable_getCurrentPriorityLevel,Pd=e.unstable_ImmediatePriority,Ip=e.unstable_UserBlockingPriority,Zc=e.unstable_NormalPriority,kp=e.unstable_LowPriority,Od=e.unstable_IdlePriority,Jc=null,Gi=null;function d0(h){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Jc,h,void 0,(h.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:eu,ka=Math.log,_o=Math.LN2;function eu(h){return h>>>=0,h===0?32:31-(ka(h)/_o|0)|0}var Pa=64,Ol=4194304;function Xt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ns(h,m){var v=h.pendingLanes;if(v===0)return 0;var A=0,O=h.suspendedLanes,R=h.pingedLanes,U=v&268435455;if(U!==0){var Z=U&~O;Z!==0?A=Xt(Z):(R&=U,R!==0&&(A=Xt(R)))}else U=v&~O,U!==0?A=Xt(U):R!==0&&(A=Xt(R));if(A===0)return 0;if(m!==0&&m!==A&&(m&O)===0&&(O=A&-A,R=m&-m,O>=R||O===16&&(R&4194240)!==0))return m;if((A&4)!==0&&(A|=v&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=A;0<m;)v=31-Ki(m),O=1<<v,A|=h[v],m&=~O;return A}function tu(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(h,m){for(var v=h.suspendedLanes,A=h.pingedLanes,O=h.expirationTimes,R=h.pendingLanes;0<R;){var U=31-Ki(R),Z=1<<U,ne=O[U];ne===-1?((Z&v)===0||(Z&A)!==0)&&(O[U]=tu(Z,m)):ne<=m&&(h.expiredLanes|=Z),R&=~Z}}function Pp(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Op(){var h=Pa;return Pa<<=1,(Pa&4194240)===0&&(Pa=64),h}function jp(h){for(var m=[],v=0;31>v;v++)m.push(h);return m}function nu(h,m,v){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Ki(m),h[m]=v}function u2(h,m){var v=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<v;){var O=31-Ki(v),R=1<<O;m[O]=0,A[O]=-1,h[O]=-1,v&=~R}}function Rp(h,m){var v=h.entangledLanes|=m;for(h=h.entanglements;v;){var A=31-Ki(v),O=1<<A;O&m|h[A]&m&&(h[A]|=m),v&=~O}}var Lt=0;function Oa(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Dp,jd,Mp,Fp,Lp,ja=!1,Rd=[],Ra=null,Da=null,Ln=null,iu=new Map,Is=new Map,Yi=[],f0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(h,m){switch(h){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":iu.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(m.pointerId)}}function Xo(h,m,v,A,O,R){return h===null||h.nativeEvent!==R?(h={blockedOn:m,domEventName:v,eventSystemFlags:A,nativeEvent:R,targetContainers:[O]},m!==null&&(m=Zp(m),m!==null&&jd(m)),h):(h.eventSystemFlags|=A,m=h.targetContainers,O!==null&&m.indexOf(O)===-1&&m.push(O),h)}function h0(h,m,v,A,O){switch(m){case"focusin":return Ra=Xo(Ra,h,m,v,A,O),!0;case"dragenter":return Da=Xo(Da,h,m,v,A,O),!0;case"mouseover":return Ln=Xo(Ln,h,m,v,A,O),!0;case"pointerover":var R=O.pointerId;return iu.set(R,Xo(iu.get(R)||null,h,m,v,A,O)),!0;case"gotpointercapture":return R=O.pointerId,Is.set(R,Xo(Is.get(R)||null,h,m,v,A,O)),!0}return!1}function Dd(h){var m=lu(h.target);if(m!==null){var v=Yo(m);if(v!==null){if(m=v.tag,m===13){if(m=Tp(v),m!==null){h.blockedOn=m,Lp(h.priority,function(){Mp(v)});return}}else if(m===3&&v.stateNode.current.memoizedState.isDehydrated){h.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}h.blockedOn=null}function hr(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var v=Md(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(v===null){v=h.nativeEvent;var A=new v.constructor(v.type,v);Cn=A,v.target.dispatchEvent(A),Cn=null}else return m=Zp(v),m!==null&&jd(m),h.blockedOn=v,!1;m.shift()}return!0}function p0(h,m,v){hr(h)&&v.delete(m)}function d2(){ja=!1,Ra!==null&&hr(Ra)&&(Ra=null),Da!==null&&hr(Da)&&(Da=null),Ln!==null&&hr(Ln)&&(Ln=null),iu.forEach(p0),Is.forEach(p0)}function Rl(h,m){h.blockedOn===m&&(h.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,d2)))}function Dl(h){function m(O){return Rl(O,h)}if(0<Rd.length){Rl(Rd[0],h);for(var v=1;v<Rd.length;v++){var A=Rd[v];A.blockedOn===h&&(A.blockedOn=null)}}for(Ra!==null&&Rl(Ra,h),Da!==null&&Rl(Da,h),Ln!==null&&Rl(Ln,h),iu.forEach(m),Is.forEach(m),v=0;v<Yi.length;v++)A=Yi[v],A.blockedOn===h&&(A.blockedOn=null);for(;0<Yi.length&&(v=Yi[0],v.blockedOn===null);)Dd(v),v.blockedOn===null&&Yi.shift()}var ks=P.ReactCurrentBatchConfig,Ps=!0;function Ma(h,m,v,A){var O=Lt,R=ks.transition;ks.transition=null;try{Lt=1,Bp(h,m,v,A)}finally{Lt=O,ks.transition=R}}function m0(h,m,v,A){var O=Lt,R=ks.transition;ks.transition=null;try{Lt=4,Bp(h,m,v,A)}finally{Lt=O,ks.transition=R}}function Bp(h,m,v,A){if(Ps){var O=Md(h,m,v,A);if(O===null)_2(h,m,A,Fa,v),jl(h,A);else if(h0(O,h,m,v,A))A.stopPropagation();else if(jl(h,A),m&4&&-1<f0.indexOf(h)){for(;O!==null;){var R=Zp(O);if(R!==null&&Dp(R),R=Md(h,m,v,A),R===null&&_2(h,m,A,Fa,v),R===O)break;O=R}O!==null&&A.stopPropagation()}else _2(h,m,A,null,v)}}var Fa=null;function Md(h,m,v,A){if(Fa=null,h=Nd(A),h=lu(h),h!==null)if(m=Yo(h),m===null)h=null;else if(v=m.tag,v===13){if(h=Tp(m),h!==null)return h;h=null}else if(v===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return Fa=h,null}function Fd(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c2()){case Pd:return 1;case Ip:return 4;case Zc:case kp:return 16;case Od:return 536870912;default:return 16}default:return 16}}var Xi=null,Ld=null,Os=null;function g0(){if(Os)return Os;var h,m=Ld,v=m.length,A,O="value"in Xi?Xi.value:Xi.textContent,R=O.length;for(h=0;h<v&&m[h]===O[h];h++);var U=v-h;for(A=1;A<=U&&m[v-A]===O[R-A];A++);return Os=O.slice(h,1<A?1-A:void 0)}function ou(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function La(){return!0}function Vp(){return!1}function Xn(h){function m(v,A,O,R,U){this._reactName=v,this._targetInst=O,this.type=A,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var Z in h)h.hasOwnProperty(Z)&&(v=h[Z],this[Z]=v?v(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?La:Vp,this.isPropagationStopped=Vp,this}return z(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),m}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=Xn(Ba),Ml=z({},Ba,{view:0,detail:0}),Bd=Xn(Ml),Vd,$d,Qi,su=z({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ct,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Qi&&(Qi&&h.type==="mousemove"?(Vd=h.screenX-Qi.screenX,$d=h.screenY-Qi.screenY):$d=Vd=0,Qi=h),Vd)},movementY:function(h){return"movementY"in h?h.movementY:$d}}),$p=Xn(su),y0=z({},su,{dataTransfer:0}),v0=Xn(y0),Ud=z({},Ml,{relatedTarget:0}),Bn=Xn(Ud),x0=z({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),b0=Xn(x0),Fl=z({},Ba,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),w=Xn(Fl),D=z({},Ba,{data:0}),V=Xn(D),K={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function De(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=ve[h])?!!m[h]:!1}function Ct(){return De}var Gr=z({},Ml,{key:function(h){if(h.key){var m=K[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=ou(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?fe[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ct,charCode:function(h){return h.type==="keypress"?ou(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ou(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),sr=Xn(Gr),Zr=z({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Xn(Zr),js=z({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ct}),Va=Xn(js),$a=z({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),zd=Xn($a),Up=z({},su,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Fee=Xn(Up),Lee=[9,13,27,32],f2=s&&"CompositionEvent"in window,zp=null;s&&"documentMode"in document&&(zp=document.documentMode);var Bee=s&&"TextEvent"in window&&!zp,ej=s&&(!f2||zp&&8<zp&&11>=zp),tj=" ",rj=!1;function nj(h,m){switch(h){case"keyup":return Lee.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ij(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Wd=!1;function Vee(h,m){switch(h){case"compositionend":return ij(m);case"keypress":return m.which!==32?null:(rj=!0,tj);case"textInput":return h=m.data,h===tj&&rj?null:h;default:return null}}function $ee(h,m){if(Wd)return h==="compositionend"||!f2&&nj(h,m)?(h=g0(),Os=Ld=Xi=null,Wd=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ej&&m.locale!=="ko"?null:m.data;default:return null}}var Uee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oj(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!Uee[h.type]:m==="textarea"}function aj(h,m,v,A){Nl(A),m=E0(m,"onChange"),0<m.length&&(v=new au("onChange","change",null,v,A),h.push({event:v,listeners:m}))}var Wp=null,Hp=null;function zee(h){Cj(h,0)}function w0(h){var m=Yd(h);if(G(m))return h}function Wee(h,m){if(h==="change")return m}var sj=!1;if(s){var h2;if(s){var p2="oninput"in document;if(!p2){var lj=document.createElement("div");lj.setAttribute("oninput","return;"),p2=typeof lj.oninput=="function"}h2=p2}else h2=!1;sj=h2&&(!document.documentMode||9<document.documentMode)}function cj(){Wp&&(Wp.detachEvent("onpropertychange",uj),Hp=Wp=null)}function uj(h){if(h.propertyName==="value"&&w0(Hp)){var m=[];aj(m,Hp,h,Nd(h)),i0(zee,m)}}function Hee(h,m,v){h==="focusin"?(cj(),Wp=m,Hp=v,Wp.attachEvent("onpropertychange",uj)):h==="focusout"&&cj()}function qee(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return w0(Hp)}function Gee(h,m){if(h==="click")return w0(m)}function Kee(h,m){if(h==="input"||h==="change")return w0(m)}function Yee(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Qo=typeof Object.is=="function"?Object.is:Yee;function qp(h,m){if(Qo(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var v=Object.keys(h),A=Object.keys(m);if(v.length!==A.length)return!1;for(A=0;A<v.length;A++){var O=v[A];if(!l.call(m,O)||!Qo(h[O],m[O]))return!1}return!0}function dj(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function fj(h,m){var v=dj(h);h=0;for(var A;v;){if(v.nodeType===3){if(A=h+v.textContent.length,h<=m&&A>=m)return{node:v,offset:m-h};h=A}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=dj(v)}}function hj(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?hj(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function pj(){for(var h=window,m=ge();m instanceof h.HTMLIFrameElement;){try{var v=typeof m.contentWindow.location.href=="string"}catch{v=!1}if(v)h=m.contentWindow;else break;m=ge(h.document)}return m}function m2(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function Xee(h){var m=pj(),v=h.focusedElem,A=h.selectionRange;if(m!==v&&v&&v.ownerDocument&&hj(v.ownerDocument.documentElement,v)){if(A!==null&&m2(v)){if(m=A.start,h=A.end,h===void 0&&(h=m),"selectionStart"in v)v.selectionStart=m,v.selectionEnd=Math.min(h,v.value.length);else if(h=(m=v.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var O=v.textContent.length,R=Math.min(A.start,O);A=A.end===void 0?R:Math.min(A.end,O),!h.extend&&R>A&&(O=A,A=R,R=O),O=fj(v,R);var U=fj(v,A);O&&U&&(h.rangeCount!==1||h.anchorNode!==O.node||h.anchorOffset!==O.offset||h.focusNode!==U.node||h.focusOffset!==U.offset)&&(m=m.createRange(),m.setStart(O.node,O.offset),h.removeAllRanges(),R>A?(h.addRange(m),h.extend(U.node,U.offset)):(m.setEnd(U.node,U.offset),h.addRange(m)))}}for(m=[],h=v;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<m.length;v++)h=m[v],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Qee=s&&"documentMode"in document&&11>=document.documentMode,Hd=null,g2=null,Gp=null,y2=!1;function mj(h,m,v){var A=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;y2||Hd==null||Hd!==ge(A)||(A=Hd,"selectionStart"in A&&m2(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Gp&&qp(Gp,A)||(Gp=A,A=E0(g2,"onSelect"),0<A.length&&(m=new au("onSelect","select",null,m,v),h.push({event:m,listeners:A}),m.target=Hd)))}function _0(h,m){var v={};return v[h.toLowerCase()]=m.toLowerCase(),v["Webkit"+h]="webkit"+m,v["Moz"+h]="moz"+m,v}var qd={animationend:_0("Animation","AnimationEnd"),animationiteration:_0("Animation","AnimationIteration"),animationstart:_0("Animation","AnimationStart"),transitionend:_0("Transition","TransitionEnd")},v2={},gj={};s&&(gj=document.createElement("div").style,"AnimationEvent"in window||(delete qd.animationend.animation,delete qd.animationiteration.animation,delete qd.animationstart.animation),"TransitionEvent"in window||delete qd.transitionend.transition);function A0(h){if(v2[h])return v2[h];if(!qd[h])return h;var m=qd[h],v;for(v in m)if(m.hasOwnProperty(v)&&v in gj)return v2[h]=m[v];return h}var yj=A0("animationend"),vj=A0("animationiteration"),xj=A0("animationstart"),bj=A0("transitionend"),wj=new Map,_j="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(h,m){wj.set(h,m),o(m,[h])}for(var x2=0;x2<_j.length;x2++){var b2=_j[x2],Zee=b2.toLowerCase(),Jee=b2[0].toUpperCase()+b2.slice(1);Ll(Zee,"on"+Jee)}Ll(yj,"onAnimationEnd"),Ll(vj,"onAnimationIteration"),Ll(xj,"onAnimationStart"),Ll("dblclick","onDoubleClick"),Ll("focusin","onFocus"),Ll("focusout","onBlur"),Ll(bj,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ete=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kp));function Aj(h,m,v){var A=h.type||"unknown-event";h.currentTarget=v,Sp(A,m,void 0,h),h.currentTarget=null}function Cj(h,m){m=(m&4)!==0;for(var v=0;v<h.length;v++){var A=h[v],O=A.event;A=A.listeners;e:{var R=void 0;if(m)for(var U=A.length-1;0<=U;U--){var Z=A[U],ne=Z.instance,ye=Z.currentTarget;if(Z=Z.listener,ne!==R&&O.isPropagationStopped())break e;Aj(O,Z,ye),R=ne}else for(U=0;U<A.length;U++){if(Z=A[U],ne=Z.instance,ye=Z.currentTarget,Z=Z.listener,ne!==R&&O.isPropagationStopped())break e;Aj(O,Z,ye),R=ne}}}if(Id)throw h=wo,Id=!1,wo=null,h}function Sr(h,m){var v=m[N2];v===void 0&&(v=m[N2]=new Set);var A=h+"__bubble";v.has(A)||(Ej(m,h,2,!1),v.add(A))}function w2(h,m,v){var A=0;m&&(A|=4),Ej(v,h,A,m)}var C0="_reactListening"+Math.random().toString(36).slice(2);function Yp(h){if(!h[C0]){h[C0]=!0,n.forEach(function(v){v!=="selectionchange"&&(ete.has(v)||w2(v,!1,h),w2(v,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[C0]||(m[C0]=!0,w2("selectionchange",!1,m))}}function Ej(h,m,v,A){switch(Fd(m)){case 1:var O=Ma;break;case 4:O=m0;break;default:O=Bp}v=O.bind(null,m,v,h),O=void 0,!kl||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(O=!0),A?O!==void 0?h.addEventListener(m,v,{capture:!0,passive:O}):h.addEventListener(m,v,!0):O!==void 0?h.addEventListener(m,v,{passive:O}):h.addEventListener(m,v,!1)}function _2(h,m,v,A,O){var R=A;if((m&1)===0&&(m&2)===0&&A!==null)e:for(;;){if(A===null)return;var U=A.tag;if(U===3||U===4){var Z=A.stateNode.containerInfo;if(Z===O||Z.nodeType===8&&Z.parentNode===O)break;if(U===4)for(U=A.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===O||ne.nodeType===8&&ne.parentNode===O))return;U=U.return}for(;Z!==null;){if(U=lu(Z),U===null)return;if(ne=U.tag,ne===5||ne===6){A=R=U;continue e}Z=Z.parentNode}}A=A.return}i0(function(){var ye=R,ke=Nd(v),Pe=[];e:{var Ie=wj.get(h);if(Ie!==void 0){var ze=au,Ke=h;switch(h){case"keypress":if(ou(v)===0)break e;case"keydown":case"keyup":ze=sr;break;case"focusin":Ke="focus",ze=Bn;break;case"focusout":Ke="blur",ze=Bn;break;case"beforeblur":case"afterblur":ze=Bn;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=$p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Va;break;case yj:case vj:case xj:ze=b0;break;case bj:ze=zd;break;case"scroll":ze=Bd;break;case"wheel":ze=Fee;break;case"copy":case"cut":case"paste":ze=w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=Zi}var Qe=(m&4)!==0,Kr=!Qe&&h==="scroll",de=Qe?Ie!==null?Ie+"Capture":null:Ie;Qe=[];for(var ae=ye,pe;ae!==null;){pe=ae;var je=pe.stateNode;if(pe.tag===5&&je!==null&&(pe=je,de!==null&&(je=Yc(ae,de),je!=null&&Qe.push(Xp(ae,je,pe)))),Kr)break;ae=ae.return}0<Qe.length&&(Ie=new ze(Ie,Ke,null,v,ke),Pe.push({event:Ie,listeners:Qe}))}}if((m&7)===0){e:{if(Ie=h==="mouseover"||h==="pointerover",ze=h==="mouseout"||h==="pointerout",Ie&&v!==Cn&&(Ke=v.relatedTarget||v.fromElement)&&(lu(Ke)||Ke[Rs]))break e;if((ze||Ie)&&(Ie=ke.window===ke?ke:(Ie=ke.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,ze?(Ke=v.relatedTarget||v.toElement,ze=ye,Ke=Ke?lu(Ke):null,Ke!==null&&(Kr=Yo(Ke),Ke!==Kr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(ze=null,Ke=ye),ze!==Ke)){if(Qe=$p,je="onMouseLeave",de="onMouseEnter",ae="mouse",(h==="pointerout"||h==="pointerover")&&(Qe=Zi,je="onPointerLeave",de="onPointerEnter",ae="pointer"),Kr=ze==null?Ie:Yd(ze),pe=Ke==null?Ie:Yd(Ke),Ie=new Qe(je,ae+"leave",ze,v,ke),Ie.target=Kr,Ie.relatedTarget=pe,je=null,lu(ke)===ye&&(Qe=new Qe(de,ae+"enter",Ke,v,ke),Qe.target=pe,Qe.relatedTarget=Kr,je=Qe),Kr=je,ze&&Ke)t:{for(Qe=ze,de=Ke,ae=0,pe=Qe;pe;pe=Gd(pe))ae++;for(pe=0,je=de;je;je=Gd(je))pe++;for(;0<ae-pe;)Qe=Gd(Qe),ae--;for(;0<pe-ae;)de=Gd(de),pe--;for(;ae--;){if(Qe===de||de!==null&&Qe===de.alternate)break t;Qe=Gd(Qe),de=Gd(de)}Qe=null}else Qe=null;ze!==null&&Sj(Pe,Ie,ze,Qe,!1),Ke!==null&&Kr!==null&&Sj(Pe,Kr,Ke,Qe,!0)}}e:{if(Ie=ye?Yd(ye):window,ze=Ie.nodeName&&Ie.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ie.type==="file")var Je=Wee;else if(oj(Ie))if(sj)Je=Kee;else{Je=qee;var ot=Hee}else(ze=Ie.nodeName)&&ze.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(Je=Gee);if(Je&&(Je=Je(h,ye))){aj(Pe,Je,v,ke);break e}ot&&ot(h,Ie,ye),h==="focusout"&&(ot=Ie._wrapperState)&&ot.controlled&&Ie.type==="number"&&_t(Ie,"number",Ie.value)}switch(ot=ye?Yd(ye):window,h){case"focusin":(oj(ot)||ot.contentEditable==="true")&&(Hd=ot,g2=ye,Gp=null);break;case"focusout":Gp=g2=Hd=null;break;case"mousedown":y2=!0;break;case"contextmenu":case"mouseup":case"dragend":y2=!1,mj(Pe,v,ke);break;case"selectionchange":if(Qee)break;case"keydown":case"keyup":mj(Pe,v,ke)}var at;if(f2)e:{switch(h){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Wd?nj(h,v)&&(vt="onCompositionEnd"):h==="keydown"&&v.keyCode===229&&(vt="onCompositionStart");vt&&(ej&&v.locale!=="ko"&&(Wd||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Wd&&(at=g0()):(Xi=ke,Ld="value"in Xi?Xi.value:Xi.textContent,Wd=!0)),ot=E0(ye,vt),0<ot.length&&(vt=new V(vt,h,null,v,ke),Pe.push({event:vt,listeners:ot}),at?vt.data=at:(at=ij(v),at!==null&&(vt.data=at)))),(at=Bee?Vee(h,v):$ee(h,v))&&(ye=E0(ye,"onBeforeInput"),0<ye.length&&(ke=new V("onBeforeInput","beforeinput",null,v,ke),Pe.push({event:ke,listeners:ye}),ke.data=at))}Cj(Pe,m)})}function Xp(h,m,v){return{instance:h,listener:m,currentTarget:v}}function E0(h,m){for(var v=m+"Capture",A=[];h!==null;){var O=h,R=O.stateNode;O.tag===5&&R!==null&&(O=R,R=Yc(h,v),R!=null&&A.unshift(Xp(h,R,O)),R=Yc(h,m),R!=null&&A.push(Xp(h,R,O))),h=h.return}return A}function Gd(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Sj(h,m,v,A,O){for(var R=m._reactName,U=[];v!==null&&v!==A;){var Z=v,ne=Z.alternate,ye=Z.stateNode;if(ne!==null&&ne===A)break;Z.tag===5&&ye!==null&&(Z=ye,O?(ne=Yc(v,R),ne!=null&&U.unshift(Xp(v,ne,Z))):O||(ne=Yc(v,R),ne!=null&&U.push(Xp(v,ne,Z)))),v=v.return}U.length!==0&&h.push({event:m,listeners:U})}var tte=/\r\n?/g,rte=/\u0000|\uFFFD/g;function Tj(h){return(typeof h=="string"?h:""+h).replace(tte,`
`).replace(rte,"")}function S0(h,m,v){if(m=Tj(m),Tj(h)!==m&&v)throw Error(r(425))}function T0(){}var A2=null,C2=null;function E2(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var S2=typeof setTimeout=="function"?setTimeout:void 0,nte=typeof clearTimeout=="function"?clearTimeout:void 0,Nj=typeof Promise=="function"?Promise:void 0,ite=typeof queueMicrotask=="function"?queueMicrotask:typeof Nj<"u"?function(h){return Nj.resolve(null).then(h).catch(ote)}:S2;function ote(h){setTimeout(function(){throw h})}function T2(h,m){var v=m,A=0;do{var O=v.nextSibling;if(h.removeChild(v),O&&O.nodeType===8)if(v=O.data,v==="/$"){if(A===0){h.removeChild(O),Dl(m);return}A--}else v!=="$"&&v!=="$?"&&v!=="$!"||A++;v=O}while(v);Dl(m)}function Bl(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function Ij(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var v=h.data;if(v==="$"||v==="$!"||v==="$?"){if(m===0)return h;m--}else v==="/$"&&m++}h=h.previousSibling}return null}var Kd=Math.random().toString(36).slice(2),Ua="__reactFiber$"+Kd,Qp="__reactProps$"+Kd,Rs="__reactContainer$"+Kd,N2="__reactEvents$"+Kd,ate="__reactListeners$"+Kd,ste="__reactHandles$"+Kd;function lu(h){var m=h[Ua];if(m)return m;for(var v=h.parentNode;v;){if(m=v[Rs]||v[Ua]){if(v=m.alternate,m.child!==null||v!==null&&v.child!==null)for(h=Ij(h);h!==null;){if(v=h[Ua])return v;h=Ij(h)}return m}h=v,v=h.parentNode}return null}function Zp(h){return h=h[Ua]||h[Rs],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Yd(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function N0(h){return h[Qp]||null}var I2=[],Xd=-1;function Vl(h){return{current:h}}function Tr(h){0>Xd||(h.current=I2[Xd],I2[Xd]=null,Xd--)}function mr(h,m){Xd++,I2[Xd]=h.current,h.current=m}var $l={},Qn=Vl($l),Si=Vl(!1),cu=$l;function Qd(h,m){var v=h.type.contextTypes;if(!v)return $l;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var O={},R;for(R in v)O[R]=m[R];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=O),O}function Ti(h){return h=h.childContextTypes,h!=null}function I0(){Tr(Si),Tr(Qn)}function kj(h,m,v){if(Qn.current!==$l)throw Error(r(168));mr(Qn,m),mr(Si,v)}function Pj(h,m,v){var A=h.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return v;A=A.getChildContext();for(var O in A)if(!(O in m))throw Error(r(108,se(h)||"Unknown",O));return z({},v,A)}function k0(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||$l,cu=Qn.current,mr(Qn,h),mr(Si,Si.current),!0}function Oj(h,m,v){var A=h.stateNode;if(!A)throw Error(r(169));v?(h=Pj(h,m,cu),A.__reactInternalMemoizedMergedChildContext=h,Tr(Si),Tr(Qn),mr(Qn,h)):Tr(Si),mr(Si,v)}var Ds=null,P0=!1,k2=!1;function jj(h){Ds===null?Ds=[h]:Ds.push(h)}function lte(h){P0=!0,jj(h)}function Ul(){if(!k2&&Ds!==null){k2=!0;var h=0,m=Lt;try{var v=Ds;for(Lt=1;h<v.length;h++){var A=v[h];do A=A(!0);while(A!==null)}Ds=null,P0=!1}catch(O){throw Ds!==null&&(Ds=Ds.slice(h+1)),Np(Pd,Ul),O}finally{Lt=m,k2=!1}}return null}var Zd=[],Jd=0,O0=null,j0=0,Ao=[],Co=0,uu=null,Ms=1,Fs="";function du(h,m){Zd[Jd++]=j0,Zd[Jd++]=O0,O0=h,j0=m}function Rj(h,m,v){Ao[Co++]=Ms,Ao[Co++]=Fs,Ao[Co++]=uu,uu=h;var A=Ms;h=Fs;var O=32-Ki(A)-1;A&=~(1<<O),v+=1;var R=32-Ki(m)+O;if(30<R){var U=O-O%5;R=(A&(1<<U)-1).toString(32),A>>=U,O-=U,Ms=1<<32-Ki(m)+O|v<<O|A,Fs=R+h}else Ms=1<<R|v<<O|A,Fs=h}function P2(h){h.return!==null&&(du(h,1),Rj(h,1,0))}function O2(h){for(;h===O0;)O0=Zd[--Jd],Zd[Jd]=null,j0=Zd[--Jd],Zd[Jd]=null;for(;h===uu;)uu=Ao[--Co],Ao[Co]=null,Fs=Ao[--Co],Ao[Co]=null,Ms=Ao[--Co],Ao[Co]=null}var Ji=null,eo=null,Or=!1,Zo=null;function Dj(h,m){var v=No(5,null,null,0);v.elementType="DELETED",v.stateNode=m,v.return=h,m=h.deletions,m===null?(h.deletions=[v],h.flags|=16):m.push(v)}function Mj(h,m){switch(h.tag){case 5:var v=h.type;return m=m.nodeType!==1||v.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,Ji=h,eo=Bl(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,Ji=h,eo=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(v=uu!==null?{id:Ms,overflow:Fs}:null,h.memoizedState={dehydrated:m,treeContext:v,retryLane:1073741824},v=No(18,null,null,0),v.stateNode=m,v.return=h,h.child=v,Ji=h,eo=null,!0):!1;default:return!1}}function j2(h){return(h.mode&1)!==0&&(h.flags&128)===0}function R2(h){if(Or){var m=eo;if(m){var v=m;if(!Mj(h,m)){if(j2(h))throw Error(r(418));m=Bl(v.nextSibling);var A=Ji;m&&Mj(h,m)?Dj(A,v):(h.flags=h.flags&-4097|2,Or=!1,Ji=h)}}else{if(j2(h))throw Error(r(418));h.flags=h.flags&-4097|2,Or=!1,Ji=h}}}function Fj(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Ji=h}function R0(h){if(h!==Ji)return!1;if(!Or)return Fj(h),Or=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!E2(h.type,h.memoizedProps)),m&&(m=eo)){if(j2(h))throw Lj(),Error(r(418));for(;m;)Dj(h,m),m=Bl(m.nextSibling)}if(Fj(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var v=h.data;if(v==="/$"){if(m===0){eo=Bl(h.nextSibling);break e}m--}else v!=="$"&&v!=="$!"&&v!=="$?"||m++}h=h.nextSibling}eo=null}}else eo=Ji?Bl(h.stateNode.nextSibling):null;return!0}function Lj(){for(var h=eo;h;)h=Bl(h.nextSibling)}function ef(){eo=Ji=null,Or=!1}function D2(h){Zo===null?Zo=[h]:Zo.push(h)}var cte=P.ReactCurrentBatchConfig;function Jp(h,m,v){if(h=v.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(r(309));var A=v.stateNode}if(!A)throw Error(r(147,h));var O=A,R=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===R?m.ref:(m=function(U){var Z=O.refs;U===null?delete Z[R]:Z[R]=U},m._stringRef=R,m)}if(typeof h!="string")throw Error(r(284));if(!v._owner)throw Error(r(290,h))}return h}function D0(h,m){throw h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function Bj(h){var m=h._init;return m(h._payload)}function Vj(h){function m(de,ae){if(h){var pe=de.deletions;pe===null?(de.deletions=[ae],de.flags|=16):pe.push(ae)}}function v(de,ae){if(!h)return null;for(;ae!==null;)m(de,ae),ae=ae.sibling;return null}function A(de,ae){for(de=new Map;ae!==null;)ae.key!==null?de.set(ae.key,ae):de.set(ae.index,ae),ae=ae.sibling;return de}function O(de,ae){return de=Xl(de,ae),de.index=0,de.sibling=null,de}function R(de,ae,pe){return de.index=pe,h?(pe=de.alternate,pe!==null?(pe=pe.index,pe<ae?(de.flags|=2,ae):pe):(de.flags|=2,ae)):(de.flags|=1048576,ae)}function U(de){return h&&de.alternate===null&&(de.flags|=2),de}function Z(de,ae,pe,je){return ae===null||ae.tag!==6?(ae=S_(pe,de.mode,je),ae.return=de,ae):(ae=O(ae,pe),ae.return=de,ae)}function ne(de,ae,pe,je){var Je=pe.type;return Je===N?ke(de,ae,pe.props.children,je,pe.key):ae!==null&&(ae.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===X&&Bj(Je)===ae.type)?(je=O(ae,pe.props),je.ref=Jp(de,ae,pe),je.return=de,je):(je=ov(pe.type,pe.key,pe.props,null,de.mode,je),je.ref=Jp(de,ae,pe),je.return=de,je)}function ye(de,ae,pe,je){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=T_(pe,de.mode,je),ae.return=de,ae):(ae=O(ae,pe.children||[]),ae.return=de,ae)}function ke(de,ae,pe,je,Je){return ae===null||ae.tag!==7?(ae=xu(pe,de.mode,je,Je),ae.return=de,ae):(ae=O(ae,pe),ae.return=de,ae)}function Pe(de,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=S_(""+ae,de.mode,pe),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return pe=ov(ae.type,ae.key,ae.props,null,de.mode,pe),pe.ref=Jp(de,null,ae),pe.return=de,pe;case T:return ae=T_(ae,de.mode,pe),ae.return=de,ae;case X:var je=ae._init;return Pe(de,je(ae._payload),pe)}if(gt(ae)||oe(ae))return ae=xu(ae,de.mode,pe,null),ae.return=de,ae;D0(de,ae)}return null}function Ie(de,ae,pe,je){var Je=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Je!==null?null:Z(de,ae,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case I:return pe.key===Je?ne(de,ae,pe,je):null;case T:return pe.key===Je?ye(de,ae,pe,je):null;case X:return Je=pe._init,Ie(de,ae,Je(pe._payload),je)}if(gt(pe)||oe(pe))return Je!==null?null:ke(de,ae,pe,je,null);D0(de,pe)}return null}function ze(de,ae,pe,je,Je){if(typeof je=="string"&&je!==""||typeof je=="number")return de=de.get(pe)||null,Z(ae,de,""+je,Je);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case I:return de=de.get(je.key===null?pe:je.key)||null,ne(ae,de,je,Je);case T:return de=de.get(je.key===null?pe:je.key)||null,ye(ae,de,je,Je);case X:var ot=je._init;return ze(de,ae,pe,ot(je._payload),Je)}if(gt(je)||oe(je))return de=de.get(pe)||null,ke(ae,de,je,Je,null);D0(ae,je)}return null}function Ke(de,ae,pe,je){for(var Je=null,ot=null,at=ae,vt=ae=0,Tn=null;at!==null&&vt<pe.length;vt++){at.index>vt?(Tn=at,at=null):Tn=at.sibling;var Ht=Ie(de,at,pe[vt],je);if(Ht===null){at===null&&(at=Tn);break}h&&at&&Ht.alternate===null&&m(de,at),ae=R(Ht,ae,vt),ot===null?Je=Ht:ot.sibling=Ht,ot=Ht,at=Tn}if(vt===pe.length)return v(de,at),Or&&du(de,vt),Je;if(at===null){for(;vt<pe.length;vt++)at=Pe(de,pe[vt],je),at!==null&&(ae=R(at,ae,vt),ot===null?Je=at:ot.sibling=at,ot=at);return Or&&du(de,vt),Je}for(at=A(de,at);vt<pe.length;vt++)Tn=ze(at,de,vt,pe[vt],je),Tn!==null&&(h&&Tn.alternate!==null&&at.delete(Tn.key===null?vt:Tn.key),ae=R(Tn,ae,vt),ot===null?Je=Tn:ot.sibling=Tn,ot=Tn);return h&&at.forEach(function(Ql){return m(de,Ql)}),Or&&du(de,vt),Je}function Qe(de,ae,pe,je){var Je=oe(pe);if(typeof Je!="function")throw Error(r(150));if(pe=Je.call(pe),pe==null)throw Error(r(151));for(var ot=Je=null,at=ae,vt=ae=0,Tn=null,Ht=pe.next();at!==null&&!Ht.done;vt++,Ht=pe.next()){at.index>vt?(Tn=at,at=null):Tn=at.sibling;var Ql=Ie(de,at,Ht.value,je);if(Ql===null){at===null&&(at=Tn);break}h&&at&&Ql.alternate===null&&m(de,at),ae=R(Ql,ae,vt),ot===null?Je=Ql:ot.sibling=Ql,ot=Ql,at=Tn}if(Ht.done)return v(de,at),Or&&du(de,vt),Je;if(at===null){for(;!Ht.done;vt++,Ht=pe.next())Ht=Pe(de,Ht.value,je),Ht!==null&&(ae=R(Ht,ae,vt),ot===null?Je=Ht:ot.sibling=Ht,ot=Ht);return Or&&du(de,vt),Je}for(at=A(de,at);!Ht.done;vt++,Ht=pe.next())Ht=ze(at,de,vt,Ht.value,je),Ht!==null&&(h&&Ht.alternate!==null&&at.delete(Ht.key===null?vt:Ht.key),ae=R(Ht,ae,vt),ot===null?Je=Ht:ot.sibling=Ht,ot=Ht);return h&&at.forEach(function(Ute){return m(de,Ute)}),Or&&du(de,vt),Je}function Kr(de,ae,pe,je){if(typeof pe=="object"&&pe!==null&&pe.type===N&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case I:e:{for(var Je=pe.key,ot=ae;ot!==null;){if(ot.key===Je){if(Je=pe.type,Je===N){if(ot.tag===7){v(de,ot.sibling),ae=O(ot,pe.props.children),ae.return=de,de=ae;break e}}else if(ot.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===X&&Bj(Je)===ot.type){v(de,ot.sibling),ae=O(ot,pe.props),ae.ref=Jp(de,ot,pe),ae.return=de,de=ae;break e}v(de,ot);break}else m(de,ot);ot=ot.sibling}pe.type===N?(ae=xu(pe.props.children,de.mode,je,pe.key),ae.return=de,de=ae):(je=ov(pe.type,pe.key,pe.props,null,de.mode,je),je.ref=Jp(de,ae,pe),je.return=de,de=je)}return U(de);case T:e:{for(ot=pe.key;ae!==null;){if(ae.key===ot)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){v(de,ae.sibling),ae=O(ae,pe.children||[]),ae.return=de,de=ae;break e}else{v(de,ae);break}else m(de,ae);ae=ae.sibling}ae=T_(pe,de.mode,je),ae.return=de,de=ae}return U(de);case X:return ot=pe._init,Kr(de,ae,ot(pe._payload),je)}if(gt(pe))return Ke(de,ae,pe,je);if(oe(pe))return Qe(de,ae,pe,je);D0(de,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ae!==null&&ae.tag===6?(v(de,ae.sibling),ae=O(ae,pe),ae.return=de,de=ae):(v(de,ae),ae=S_(pe,de.mode,je),ae.return=de,de=ae),U(de)):v(de,ae)}return Kr}var tf=Vj(!0),$j=Vj(!1),M0=Vl(null),F0=null,rf=null,M2=null;function F2(){M2=rf=F0=null}function L2(h){var m=M0.current;Tr(M0),h._currentValue=m}function B2(h,m,v){for(;h!==null;){var A=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),h===v)break;h=h.return}}function nf(h,m){F0=h,M2=rf=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(Ni=!0),h.firstContext=null)}function Eo(h){var m=h._currentValue;if(M2!==h)if(h={context:h,memoizedValue:m,next:null},rf===null){if(F0===null)throw Error(r(308));rf=h,F0.dependencies={lanes:0,firstContext:h}}else rf=rf.next=h;return m}var fu=null;function V2(h){fu===null?fu=[h]:fu.push(h)}function Uj(h,m,v,A){var O=m.interleaved;return O===null?(v.next=v,V2(m)):(v.next=O.next,O.next=v),m.interleaved=v,Ls(h,A)}function Ls(h,m){h.lanes|=m;var v=h.alternate;for(v!==null&&(v.lanes|=m),v=h,h=h.return;h!==null;)h.childLanes|=m,v=h.alternate,v!==null&&(v.childLanes|=m),v=h,h=h.return;return v.tag===3?v.stateNode:null}var zl=!1;function $2(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zj(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Bs(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Wl(h,m,v){var A=h.updateQueue;if(A===null)return null;if(A=A.shared,(zt&2)!==0){var O=A.pending;return O===null?m.next=m:(m.next=O.next,O.next=m),A.pending=m,Ls(h,v)}return O=A.interleaved,O===null?(m.next=m,V2(A)):(m.next=O.next,O.next=m),A.interleaved=m,Ls(h,v)}function L0(h,m,v){if(m=m.updateQueue,m!==null&&(m=m.shared,(v&4194240)!==0)){var A=m.lanes;A&=h.pendingLanes,v|=A,m.lanes=v,Rp(h,v)}}function Wj(h,m){var v=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,v===A)){var O=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var U={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?O=R=U:R=R.next=U,v=v.next}while(v!==null);R===null?O=R=m:R=R.next=m}else O=R=m;v={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:R,shared:A.shared,effects:A.effects},h.updateQueue=v;return}h=v.lastBaseUpdate,h===null?v.firstBaseUpdate=m:h.next=m,v.lastBaseUpdate=m}function B0(h,m,v,A){var O=h.updateQueue;zl=!1;var R=O.firstBaseUpdate,U=O.lastBaseUpdate,Z=O.shared.pending;if(Z!==null){O.shared.pending=null;var ne=Z,ye=ne.next;ne.next=null,U===null?R=ye:U.next=ye,U=ne;var ke=h.alternate;ke!==null&&(ke=ke.updateQueue,Z=ke.lastBaseUpdate,Z!==U&&(Z===null?ke.firstBaseUpdate=ye:Z.next=ye,ke.lastBaseUpdate=ne))}if(R!==null){var Pe=O.baseState;U=0,ke=ye=ne=null,Z=R;do{var Ie=Z.lane,ze=Z.eventTime;if((A&Ie)===Ie){ke!==null&&(ke=ke.next={eventTime:ze,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Ke=h,Qe=Z;switch(Ie=m,ze=v,Qe.tag){case 1:if(Ke=Qe.payload,typeof Ke=="function"){Pe=Ke.call(ze,Pe,Ie);break e}Pe=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Qe.payload,Ie=typeof Ke=="function"?Ke.call(ze,Pe,Ie):Ke,Ie==null)break e;Pe=z({},Pe,Ie);break e;case 2:zl=!0}}Z.callback!==null&&Z.lane!==0&&(h.flags|=64,Ie=O.effects,Ie===null?O.effects=[Z]:Ie.push(Z))}else ze={eventTime:ze,lane:Ie,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ke===null?(ye=ke=ze,ne=Pe):ke=ke.next=ze,U|=Ie;if(Z=Z.next,Z===null){if(Z=O.shared.pending,Z===null)break;Ie=Z,Z=Ie.next,Ie.next=null,O.lastBaseUpdate=Ie,O.shared.pending=null}}while(!0);if(ke===null&&(ne=Pe),O.baseState=ne,O.firstBaseUpdate=ye,O.lastBaseUpdate=ke,m=O.shared.interleaved,m!==null){O=m;do U|=O.lane,O=O.next;while(O!==m)}else R===null&&(O.shared.lanes=0);mu|=U,h.lanes=U,h.memoizedState=Pe}}function Hj(h,m,v){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var A=h[m],O=A.callback;if(O!==null){if(A.callback=null,A=v,typeof O!="function")throw Error(r(191,O));O.call(A)}}}var em={},za=Vl(em),tm=Vl(em),rm=Vl(em);function hu(h){if(h===em)throw Error(r(174));return h}function U2(h,m){switch(mr(rm,m),mr(tm,h),mr(za,em),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Ae(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=Ae(m,h)}Tr(za),mr(za,m)}function of(){Tr(za),Tr(tm),Tr(rm)}function qj(h){hu(rm.current);var m=hu(za.current),v=Ae(m,h.type);m!==v&&(mr(tm,h),mr(za,v))}function z2(h){tm.current===h&&(Tr(za),Tr(tm))}var Mr=Vl(0);function V0(h){for(var m=h;m!==null;){if(m.tag===13){var v=m.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var W2=[];function H2(){for(var h=0;h<W2.length;h++)W2[h]._workInProgressVersionPrimary=null;W2.length=0}var $0=P.ReactCurrentDispatcher,q2=P.ReactCurrentBatchConfig,pu=0,Fr=null,cn=null,En=null,U0=!1,nm=!1,im=0,ute=0;function Zn(){throw Error(r(321))}function G2(h,m){if(m===null)return!1;for(var v=0;v<m.length&&v<h.length;v++)if(!Qo(h[v],m[v]))return!1;return!0}function K2(h,m,v,A,O,R){if(pu=R,Fr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,$0.current=h===null||h.memoizedState===null?pte:mte,h=v(A,O),nm){R=0;do{if(nm=!1,im=0,25<=R)throw Error(r(301));R+=1,En=cn=null,m.updateQueue=null,$0.current=gte,h=v(A,O)}while(nm)}if($0.current=H0,m=cn!==null&&cn.next!==null,pu=0,En=cn=Fr=null,U0=!1,m)throw Error(r(300));return h}function Y2(){var h=im!==0;return im=0,h}function Wa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Fr.memoizedState=En=h:En=En.next=h,En}function So(){if(cn===null){var h=Fr.alternate;h=h!==null?h.memoizedState:null}else h=cn.next;var m=En===null?Fr.memoizedState:En.next;if(m!==null)En=m,cn=h;else{if(h===null)throw Error(r(310));cn=h,h={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},En===null?Fr.memoizedState=En=h:En=En.next=h}return En}function om(h,m){return typeof m=="function"?m(h):m}function X2(h){var m=So(),v=m.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var A=cn,O=A.baseQueue,R=v.pending;if(R!==null){if(O!==null){var U=O.next;O.next=R.next,R.next=U}A.baseQueue=O=R,v.pending=null}if(O!==null){R=O.next,A=A.baseState;var Z=U=null,ne=null,ye=R;do{var ke=ye.lane;if((pu&ke)===ke)ne!==null&&(ne=ne.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),A=ye.hasEagerState?ye.eagerState:h(A,ye.action);else{var Pe={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};ne===null?(Z=ne=Pe,U=A):ne=ne.next=Pe,Fr.lanes|=ke,mu|=ke}ye=ye.next}while(ye!==null&&ye!==R);ne===null?U=A:ne.next=Z,Qo(A,m.memoizedState)||(Ni=!0),m.memoizedState=A,m.baseState=U,m.baseQueue=ne,v.lastRenderedState=A}if(h=v.interleaved,h!==null){O=h;do R=O.lane,Fr.lanes|=R,mu|=R,O=O.next;while(O!==h)}else O===null&&(v.lanes=0);return[m.memoizedState,v.dispatch]}function Q2(h){var m=So(),v=m.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var A=v.dispatch,O=v.pending,R=m.memoizedState;if(O!==null){v.pending=null;var U=O=O.next;do R=h(R,U.action),U=U.next;while(U!==O);Qo(R,m.memoizedState)||(Ni=!0),m.memoizedState=R,m.baseQueue===null&&(m.baseState=R),v.lastRenderedState=R}return[R,A]}function Gj(){}function Kj(h,m){var v=Fr,A=So(),O=m(),R=!Qo(A.memoizedState,O);if(R&&(A.memoizedState=O,Ni=!0),A=A.queue,Z2(Qj.bind(null,v,A,h),[h]),A.getSnapshot!==m||R||En!==null&&En.memoizedState.tag&1){if(v.flags|=2048,am(9,Xj.bind(null,v,A,O,m),void 0,null),Sn===null)throw Error(r(349));(pu&30)!==0||Yj(v,m,O)}return O}function Yj(h,m,v){h.flags|=16384,h={getSnapshot:m,value:v},m=Fr.updateQueue,m===null?(m={lastEffect:null,stores:null},Fr.updateQueue=m,m.stores=[h]):(v=m.stores,v===null?m.stores=[h]:v.push(h))}function Xj(h,m,v,A){m.value=v,m.getSnapshot=A,Zj(m)&&Jj(h)}function Qj(h,m,v){return v(function(){Zj(m)&&Jj(h)})}function Zj(h){var m=h.getSnapshot;h=h.value;try{var v=m();return!Qo(h,v)}catch{return!0}}function Jj(h){var m=Ls(h,1);m!==null&&ra(m,h,1,-1)}function eR(h){var m=Wa();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:h},m.queue=h,h=h.dispatch=hte.bind(null,Fr,h),[m.memoizedState,h]}function am(h,m,v,A){return h={tag:h,create:m,destroy:v,deps:A,next:null},m=Fr.updateQueue,m===null?(m={lastEffect:null,stores:null},Fr.updateQueue=m,m.lastEffect=h.next=h):(v=m.lastEffect,v===null?m.lastEffect=h.next=h:(A=v.next,v.next=h,h.next=A,m.lastEffect=h)),h}function tR(){return So().memoizedState}function z0(h,m,v,A){var O=Wa();Fr.flags|=h,O.memoizedState=am(1|m,v,void 0,A===void 0?null:A)}function W0(h,m,v,A){var O=So();A=A===void 0?null:A;var R=void 0;if(cn!==null){var U=cn.memoizedState;if(R=U.destroy,A!==null&&G2(A,U.deps)){O.memoizedState=am(m,v,R,A);return}}Fr.flags|=h,O.memoizedState=am(1|m,v,R,A)}function rR(h,m){return z0(8390656,8,h,m)}function Z2(h,m){return W0(2048,8,h,m)}function nR(h,m){return W0(4,2,h,m)}function iR(h,m){return W0(4,4,h,m)}function oR(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function aR(h,m,v){return v=v!=null?v.concat([h]):null,W0(4,4,oR.bind(null,m,h),v)}function J2(){}function sR(h,m){var v=So();m=m===void 0?null:m;var A=v.memoizedState;return A!==null&&m!==null&&G2(m,A[1])?A[0]:(v.memoizedState=[h,m],h)}function lR(h,m){var v=So();m=m===void 0?null:m;var A=v.memoizedState;return A!==null&&m!==null&&G2(m,A[1])?A[0]:(h=h(),v.memoizedState=[h,m],h)}function cR(h,m,v){return(pu&21)===0?(h.baseState&&(h.baseState=!1,Ni=!0),h.memoizedState=v):(Qo(v,m)||(v=Op(),Fr.lanes|=v,mu|=v,h.baseState=!0),m)}function dte(h,m){var v=Lt;Lt=v!==0&&4>v?v:4,h(!0);var A=q2.transition;q2.transition={};try{h(!1),m()}finally{Lt=v,q2.transition=A}}function uR(){return So().memoizedState}function fte(h,m,v){var A=Kl(h);if(v={lane:A,action:v,hasEagerState:!1,eagerState:null,next:null},dR(h))fR(m,v);else if(v=Uj(h,m,v,A),v!==null){var O=pi();ra(v,h,A,O),hR(v,m,A)}}function hte(h,m,v){var A=Kl(h),O={lane:A,action:v,hasEagerState:!1,eagerState:null,next:null};if(dR(h))fR(m,O);else{var R=h.alternate;if(h.lanes===0&&(R===null||R.lanes===0)&&(R=m.lastRenderedReducer,R!==null))try{var U=m.lastRenderedState,Z=R(U,v);if(O.hasEagerState=!0,O.eagerState=Z,Qo(Z,U)){var ne=m.interleaved;ne===null?(O.next=O,V2(m)):(O.next=ne.next,ne.next=O),m.interleaved=O;return}}catch{}finally{}v=Uj(h,m,O,A),v!==null&&(O=pi(),ra(v,h,A,O),hR(v,m,A))}}function dR(h){var m=h.alternate;return h===Fr||m!==null&&m===Fr}function fR(h,m){nm=U0=!0;var v=h.pending;v===null?m.next=m:(m.next=v.next,v.next=m),h.pending=m}function hR(h,m,v){if((v&4194240)!==0){var A=m.lanes;A&=h.pendingLanes,v|=A,m.lanes=v,Rp(h,v)}}var H0={readContext:Eo,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},pte={readContext:Eo,useCallback:function(h,m){return Wa().memoizedState=[h,m===void 0?null:m],h},useContext:Eo,useEffect:rR,useImperativeHandle:function(h,m,v){return v=v!=null?v.concat([h]):null,z0(4194308,4,oR.bind(null,m,h),v)},useLayoutEffect:function(h,m){return z0(4194308,4,h,m)},useInsertionEffect:function(h,m){return z0(4,2,h,m)},useMemo:function(h,m){var v=Wa();return m=m===void 0?null:m,h=h(),v.memoizedState=[h,m],h},useReducer:function(h,m,v){var A=Wa();return m=v!==void 0?v(m):m,A.memoizedState=A.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},A.queue=h,h=h.dispatch=fte.bind(null,Fr,h),[A.memoizedState,h]},useRef:function(h){var m=Wa();return h={current:h},m.memoizedState=h},useState:eR,useDebugValue:J2,useDeferredValue:function(h){return Wa().memoizedState=h},useTransition:function(){var h=eR(!1),m=h[0];return h=dte.bind(null,h[1]),Wa().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,v){var A=Fr,O=Wa();if(Or){if(v===void 0)throw Error(r(407));v=v()}else{if(v=m(),Sn===null)throw Error(r(349));(pu&30)!==0||Yj(A,m,v)}O.memoizedState=v;var R={value:v,getSnapshot:m};return O.queue=R,rR(Qj.bind(null,A,R,h),[h]),A.flags|=2048,am(9,Xj.bind(null,A,R,v,m),void 0,null),v},useId:function(){var h=Wa(),m=Sn.identifierPrefix;if(Or){var v=Fs,A=Ms;v=(A&~(1<<32-Ki(A)-1)).toString(32)+v,m=":"+m+"R"+v,v=im++,0<v&&(m+="H"+v.toString(32)),m+=":"}else v=ute++,m=":"+m+"r"+v.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},mte={readContext:Eo,useCallback:sR,useContext:Eo,useEffect:Z2,useImperativeHandle:aR,useInsertionEffect:nR,useLayoutEffect:iR,useMemo:lR,useReducer:X2,useRef:tR,useState:function(){return X2(om)},useDebugValue:J2,useDeferredValue:function(h){var m=So();return cR(m,cn.memoizedState,h)},useTransition:function(){var h=X2(om)[0],m=So().memoizedState;return[h,m]},useMutableSource:Gj,useSyncExternalStore:Kj,useId:uR,unstable_isNewReconciler:!1},gte={readContext:Eo,useCallback:sR,useContext:Eo,useEffect:Z2,useImperativeHandle:aR,useInsertionEffect:nR,useLayoutEffect:iR,useMemo:lR,useReducer:Q2,useRef:tR,useState:function(){return Q2(om)},useDebugValue:J2,useDeferredValue:function(h){var m=So();return cn===null?m.memoizedState=h:cR(m,cn.memoizedState,h)},useTransition:function(){var h=Q2(om)[0],m=So().memoizedState;return[h,m]},useMutableSource:Gj,useSyncExternalStore:Kj,useId:uR,unstable_isNewReconciler:!1};function Jo(h,m){if(h&&h.defaultProps){m=z({},m),h=h.defaultProps;for(var v in h)m[v]===void 0&&(m[v]=h[v]);return m}return m}function e_(h,m,v,A){m=h.memoizedState,v=v(A,m),v=v==null?m:z({},m,v),h.memoizedState=v,h.lanes===0&&(h.updateQueue.baseState=v)}var q0={isMounted:function(h){return(h=h._reactInternals)?Yo(h)===h:!1},enqueueSetState:function(h,m,v){h=h._reactInternals;var A=pi(),O=Kl(h),R=Bs(A,O);R.payload=m,v!=null&&(R.callback=v),m=Wl(h,R,O),m!==null&&(ra(m,h,O,A),L0(m,h,O))},enqueueReplaceState:function(h,m,v){h=h._reactInternals;var A=pi(),O=Kl(h),R=Bs(A,O);R.tag=1,R.payload=m,v!=null&&(R.callback=v),m=Wl(h,R,O),m!==null&&(ra(m,h,O,A),L0(m,h,O))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var v=pi(),A=Kl(h),O=Bs(v,A);O.tag=2,m!=null&&(O.callback=m),m=Wl(h,O,A),m!==null&&(ra(m,h,A,v),L0(m,h,A))}};function pR(h,m,v,A,O,R,U){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,R,U):m.prototype&&m.prototype.isPureReactComponent?!qp(v,A)||!qp(O,R):!0}function mR(h,m,v){var A=!1,O=$l,R=m.contextType;return typeof R=="object"&&R!==null?R=Eo(R):(O=Ti(m)?cu:Qn.current,A=m.contextTypes,R=(A=A!=null)?Qd(h,O):$l),m=new m(v,R),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=q0,h.stateNode=m,m._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=O,h.__reactInternalMemoizedMaskedChildContext=R),m}function gR(h,m,v,A){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(v,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(v,A),m.state!==h&&q0.enqueueReplaceState(m,m.state,null)}function t_(h,m,v,A){var O=h.stateNode;O.props=v,O.state=h.memoizedState,O.refs={},$2(h);var R=m.contextType;typeof R=="object"&&R!==null?O.context=Eo(R):(R=Ti(m)?cu:Qn.current,O.context=Qd(h,R)),O.state=h.memoizedState,R=m.getDerivedStateFromProps,typeof R=="function"&&(e_(h,m,R,v),O.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(m=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),m!==O.state&&q0.enqueueReplaceState(O,O.state,null),B0(h,v,O,A),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308)}function af(h,m){try{var v="",A=m;do v+=Ne(A),A=A.return;while(A);var O=v}catch(R){O=`
Error generating stack: `+R.message+`
`+R.stack}return{value:h,source:m,stack:O,digest:null}}function r_(h,m,v){return{value:h,source:null,stack:v??null,digest:m??null}}function n_(h,m){try{console.error(m.value)}catch(v){setTimeout(function(){throw v})}}var yte=typeof WeakMap=="function"?WeakMap:Map;function yR(h,m,v){v=Bs(-1,v),v.tag=3,v.payload={element:null};var A=m.value;return v.callback=function(){J0||(J0=!0,v_=A),n_(h,m)},v}function vR(h,m,v){v=Bs(-1,v),v.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var O=m.value;v.payload=function(){return A(O)},v.callback=function(){n_(h,m)}}var R=h.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){n_(h,m),typeof A!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})}),v}function xR(h,m,v){var A=h.pingCache;if(A===null){A=h.pingCache=new yte;var O=new Set;A.set(m,O)}else O=A.get(m),O===void 0&&(O=new Set,A.set(m,O));O.has(v)||(O.add(v),h=Pte.bind(null,h,m,v),m.then(h,h))}function bR(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function wR(h,m,v,A,O){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(m=Bs(-1,1),m.tag=2,Wl(v,m,1))),v.lanes|=1),h):(h.flags|=65536,h.lanes=O,h)}var vte=P.ReactCurrentOwner,Ni=!1;function hi(h,m,v,A){m.child=h===null?$j(m,null,v,A):tf(m,h.child,v,A)}function _R(h,m,v,A,O){v=v.render;var R=m.ref;return nf(m,O),A=K2(h,m,v,A,R,O),v=Y2(),h!==null&&!Ni?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~O,Vs(h,m,O)):(Or&&v&&P2(m),m.flags|=1,hi(h,m,A,O),m.child)}function AR(h,m,v,A,O){if(h===null){var R=v.type;return typeof R=="function"&&!E_(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(m.tag=15,m.type=R,CR(h,m,R,A,O)):(h=ov(v.type,null,A,m,m.mode,O),h.ref=m.ref,h.return=m,m.child=h)}if(R=h.child,(h.lanes&O)===0){var U=R.memoizedProps;if(v=v.compare,v=v!==null?v:qp,v(U,A)&&h.ref===m.ref)return Vs(h,m,O)}return m.flags|=1,h=Xl(R,A),h.ref=m.ref,h.return=m,m.child=h}function CR(h,m,v,A,O){if(h!==null){var R=h.memoizedProps;if(qp(R,A)&&h.ref===m.ref)if(Ni=!1,m.pendingProps=A=R,(h.lanes&O)!==0)(h.flags&131072)!==0&&(Ni=!0);else return m.lanes=h.lanes,Vs(h,m,O)}return i_(h,m,v,A,O)}function ER(h,m,v){var A=m.pendingProps,O=A.children,R=h!==null?h.memoizedState:null;if(A.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(lf,to),to|=v;else{if((v&1073741824)===0)return h=R!==null?R.baseLanes|v:v,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,mr(lf,to),to|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=R!==null?R.baseLanes:v,mr(lf,to),to|=A}else R!==null?(A=R.baseLanes|v,m.memoizedState=null):A=v,mr(lf,to),to|=A;return hi(h,m,O,v),m.child}function SR(h,m){var v=m.ref;(h===null&&v!==null||h!==null&&h.ref!==v)&&(m.flags|=512,m.flags|=2097152)}function i_(h,m,v,A,O){var R=Ti(v)?cu:Qn.current;return R=Qd(m,R),nf(m,O),v=K2(h,m,v,A,R,O),A=Y2(),h!==null&&!Ni?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~O,Vs(h,m,O)):(Or&&A&&P2(m),m.flags|=1,hi(h,m,v,O),m.child)}function TR(h,m,v,A,O){if(Ti(v)){var R=!0;k0(m)}else R=!1;if(nf(m,O),m.stateNode===null)K0(h,m),mR(m,v,A),t_(m,v,A,O),A=!0;else if(h===null){var U=m.stateNode,Z=m.memoizedProps;U.props=Z;var ne=U.context,ye=v.contextType;typeof ye=="object"&&ye!==null?ye=Eo(ye):(ye=Ti(v)?cu:Qn.current,ye=Qd(m,ye));var ke=v.getDerivedStateFromProps,Pe=typeof ke=="function"||typeof U.getSnapshotBeforeUpdate=="function";Pe||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==A||ne!==ye)&&gR(m,U,A,ye),zl=!1;var Ie=m.memoizedState;U.state=Ie,B0(m,A,U,O),ne=m.memoizedState,Z!==A||Ie!==ne||Si.current||zl?(typeof ke=="function"&&(e_(m,v,ke,A),ne=m.memoizedState),(Z=zl||pR(m,v,Z,A,Ie,ne,ye))?(Pe||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(m.flags|=4194308)):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=ne),U.props=A,U.state=ne,U.context=ye,A=Z):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{U=m.stateNode,zj(h,m),Z=m.memoizedProps,ye=m.type===m.elementType?Z:Jo(m.type,Z),U.props=ye,Pe=m.pendingProps,Ie=U.context,ne=v.contextType,typeof ne=="object"&&ne!==null?ne=Eo(ne):(ne=Ti(v)?cu:Qn.current,ne=Qd(m,ne));var ze=v.getDerivedStateFromProps;(ke=typeof ze=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==Pe||Ie!==ne)&&gR(m,U,A,ne),zl=!1,Ie=m.memoizedState,U.state=Ie,B0(m,A,U,O);var Ke=m.memoizedState;Z!==Pe||Ie!==Ke||Si.current||zl?(typeof ze=="function"&&(e_(m,v,ze,A),Ke=m.memoizedState),(ye=zl||pR(m,v,ye,A,Ie,Ke,ne)||!1)?(ke||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(A,Ke,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(A,Ke,ne)),typeof U.componentDidUpdate=="function"&&(m.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===h.memoizedProps&&Ie===h.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&Ie===h.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=Ke),U.props=A,U.state=Ke,U.context=ne,A=ye):(typeof U.componentDidUpdate!="function"||Z===h.memoizedProps&&Ie===h.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&Ie===h.memoizedState||(m.flags|=1024),A=!1)}return o_(h,m,v,A,R,O)}function o_(h,m,v,A,O,R){SR(h,m);var U=(m.flags&128)!==0;if(!A&&!U)return O&&Oj(m,v,!1),Vs(h,m,R);A=m.stateNode,vte.current=m;var Z=U&&typeof v.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,h!==null&&U?(m.child=tf(m,h.child,null,R),m.child=tf(m,null,Z,R)):hi(h,m,Z,R),m.memoizedState=A.state,O&&Oj(m,v,!0),m.child}function NR(h){var m=h.stateNode;m.pendingContext?kj(h,m.pendingContext,m.pendingContext!==m.context):m.context&&kj(h,m.context,!1),U2(h,m.containerInfo)}function IR(h,m,v,A,O){return ef(),D2(O),m.flags|=256,hi(h,m,v,A),m.child}var a_={dehydrated:null,treeContext:null,retryLane:0};function s_(h){return{baseLanes:h,cachePool:null,transitions:null}}function kR(h,m,v){var A=m.pendingProps,O=Mr.current,R=!1,U=(m.flags&128)!==0,Z;if((Z=U)||(Z=h!==null&&h.memoizedState===null?!1:(O&2)!==0),Z?(R=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(O|=1),mr(Mr,O&1),h===null)return R2(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(U=A.children,h=A.fallback,R?(A=m.mode,R=m.child,U={mode:"hidden",children:U},(A&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=av(U,A,0,null),h=xu(h,A,v,null),R.return=m,h.return=m,R.sibling=h,m.child=R,m.child.memoizedState=s_(v),m.memoizedState=a_,h):l_(m,U));if(O=h.memoizedState,O!==null&&(Z=O.dehydrated,Z!==null))return xte(h,m,U,A,Z,O,v);if(R){R=A.fallback,U=m.mode,O=h.child,Z=O.sibling;var ne={mode:"hidden",children:A.children};return(U&1)===0&&m.child!==O?(A=m.child,A.childLanes=0,A.pendingProps=ne,m.deletions=null):(A=Xl(O,ne),A.subtreeFlags=O.subtreeFlags&14680064),Z!==null?R=Xl(Z,R):(R=xu(R,U,v,null),R.flags|=2),R.return=m,A.return=m,A.sibling=R,m.child=A,A=R,R=m.child,U=h.child.memoizedState,U=U===null?s_(v):{baseLanes:U.baseLanes|v,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=h.childLanes&~v,m.memoizedState=a_,A}return R=h.child,h=R.sibling,A=Xl(R,{mode:"visible",children:A.children}),(m.mode&1)===0&&(A.lanes=v),A.return=m,A.sibling=null,h!==null&&(v=m.deletions,v===null?(m.deletions=[h],m.flags|=16):v.push(h)),m.child=A,m.memoizedState=null,A}function l_(h,m){return m=av({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function G0(h,m,v,A){return A!==null&&D2(A),tf(m,h.child,null,v),h=l_(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function xte(h,m,v,A,O,R,U){if(v)return m.flags&256?(m.flags&=-257,A=r_(Error(r(422))),G0(h,m,U,A)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(R=A.fallback,O=m.mode,A=av({mode:"visible",children:A.children},O,0,null),R=xu(R,O,U,null),R.flags|=2,A.return=m,R.return=m,A.sibling=R,m.child=A,(m.mode&1)!==0&&tf(m,h.child,null,U),m.child.memoizedState=s_(U),m.memoizedState=a_,R);if((m.mode&1)===0)return G0(h,m,U,null);if(O.data==="$!"){if(A=O.nextSibling&&O.nextSibling.dataset,A)var Z=A.dgst;return A=Z,R=Error(r(419)),A=r_(R,A,void 0),G0(h,m,U,A)}if(Z=(U&h.childLanes)!==0,Ni||Z){if(A=Sn,A!==null){switch(U&-U){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(A.suspendedLanes|U))!==0?0:O,O!==0&&O!==R.retryLane&&(R.retryLane=O,Ls(h,O),ra(A,h,O,-1))}return C_(),A=r_(Error(r(421))),G0(h,m,U,A)}return O.data==="$?"?(m.flags|=128,m.child=h.child,m=Ote.bind(null,h),O._reactRetry=m,null):(h=R.treeContext,eo=Bl(O.nextSibling),Ji=m,Or=!0,Zo=null,h!==null&&(Ao[Co++]=Ms,Ao[Co++]=Fs,Ao[Co++]=uu,Ms=h.id,Fs=h.overflow,uu=m),m=l_(m,A.children),m.flags|=4096,m)}function PR(h,m,v){h.lanes|=m;var A=h.alternate;A!==null&&(A.lanes|=m),B2(h.return,m,v)}function c_(h,m,v,A,O){var R=h.memoizedState;R===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:v,tailMode:O}:(R.isBackwards=m,R.rendering=null,R.renderingStartTime=0,R.last=A,R.tail=v,R.tailMode=O)}function OR(h,m,v){var A=m.pendingProps,O=A.revealOrder,R=A.tail;if(hi(h,m,A.children,v),A=Mr.current,(A&2)!==0)A=A&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&PR(h,v,m);else if(h.tag===19)PR(h,v,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(mr(Mr,A),(m.mode&1)===0)m.memoizedState=null;else switch(O){case"forwards":for(v=m.child,O=null;v!==null;)h=v.alternate,h!==null&&V0(h)===null&&(O=v),v=v.sibling;v=O,v===null?(O=m.child,m.child=null):(O=v.sibling,v.sibling=null),c_(m,!1,O,v,R);break;case"backwards":for(v=null,O=m.child,m.child=null;O!==null;){if(h=O.alternate,h!==null&&V0(h)===null){m.child=O;break}h=O.sibling,O.sibling=v,v=O,O=h}c_(m,!0,v,null,R);break;case"together":c_(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function K0(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Vs(h,m,v){if(h!==null&&(m.dependencies=h.dependencies),mu|=m.lanes,(v&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,v=Xl(h,h.pendingProps),m.child=v,v.return=m;h.sibling!==null;)h=h.sibling,v=v.sibling=Xl(h,h.pendingProps),v.return=m;v.sibling=null}return m.child}function bte(h,m,v){switch(m.tag){case 3:NR(m),ef();break;case 5:qj(m);break;case 1:Ti(m.type)&&k0(m);break;case 4:U2(m,m.stateNode.containerInfo);break;case 10:var A=m.type._context,O=m.memoizedProps.value;mr(M0,A._currentValue),A._currentValue=O;break;case 13:if(A=m.memoizedState,A!==null)return A.dehydrated!==null?(mr(Mr,Mr.current&1),m.flags|=128,null):(v&m.child.childLanes)!==0?kR(h,m,v):(mr(Mr,Mr.current&1),h=Vs(h,m,v),h!==null?h.sibling:null);mr(Mr,Mr.current&1);break;case 19:if(A=(v&m.childLanes)!==0,(h.flags&128)!==0){if(A)return OR(h,m,v);m.flags|=128}if(O=m.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),mr(Mr,Mr.current),A)break;return null;case 22:case 23:return m.lanes=0,ER(h,m,v)}return Vs(h,m,v)}var jR,u_,RR,DR;jR=function(h,m){for(var v=m.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},u_=function(){},RR=function(h,m,v,A){var O=h.memoizedProps;if(O!==A){h=m.stateNode,hu(za.current);var R=null;switch(v){case"input":O=Ee(h,O),A=Ee(h,A),R=[];break;case"select":O=z({},O,{value:void 0}),A=z({},A,{value:void 0}),R=[];break;case"textarea":O=Qr(h,O),A=Qr(h,A),R=[];break;default:typeof O.onClick!="function"&&typeof A.onClick=="function"&&(h.onclick=T0)}ar(v,A);var U;v=null;for(ye in O)if(!A.hasOwnProperty(ye)&&O.hasOwnProperty(ye)&&O[ye]!=null)if(ye==="style"){var Z=O[ye];for(U in Z)Z.hasOwnProperty(U)&&(v||(v={}),v[U]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(i.hasOwnProperty(ye)?R||(R=[]):(R=R||[]).push(ye,null));for(ye in A){var ne=A[ye];if(Z=O?.[ye],A.hasOwnProperty(ye)&&ne!==Z&&(ne!=null||Z!=null))if(ye==="style")if(Z){for(U in Z)!Z.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(v||(v={}),v[U]="");for(U in ne)ne.hasOwnProperty(U)&&Z[U]!==ne[U]&&(v||(v={}),v[U]=ne[U])}else v||(R||(R=[]),R.push(ye,v)),v=ne;else ye==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Z=Z?Z.__html:void 0,ne!=null&&Z!==ne&&(R=R||[]).push(ye,ne)):ye==="children"?typeof ne!="string"&&typeof ne!="number"||(R=R||[]).push(ye,""+ne):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(ye)?(ne!=null&&ye==="onScroll"&&Sr("scroll",h),R||Z===ne||(R=[])):(R=R||[]).push(ye,ne))}v&&(R=R||[]).push("style",v);var ye=R;(m.updateQueue=ye)&&(m.flags|=4)}},DR=function(h,m,v,A){v!==A&&(m.flags|=4)};function sm(h,m){if(!Or)switch(h.tailMode){case"hidden":m=h.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?h.tail=null:v.sibling=null;break;case"collapsed":v=h.tail;for(var A=null;v!==null;)v.alternate!==null&&(A=v),v=v.sibling;A===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function Jn(h){var m=h.alternate!==null&&h.alternate.child===h.child,v=0,A=0;if(m)for(var O=h.child;O!==null;)v|=O.lanes|O.childLanes,A|=O.subtreeFlags&14680064,A|=O.flags&14680064,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)v|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=A,h.childLanes=v,m}function wte(h,m,v){var A=m.pendingProps;switch(O2(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(m),null;case 1:return Ti(m.type)&&I0(),Jn(m),null;case 3:return A=m.stateNode,of(),Tr(Si),Tr(Qn),H2(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(R0(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Zo!==null&&(w_(Zo),Zo=null))),u_(h,m),Jn(m),null;case 5:z2(m);var O=hu(rm.current);if(v=m.type,h!==null&&m.stateNode!=null)RR(h,m,v,A,O),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(r(166));return Jn(m),null}if(h=hu(za.current),R0(m)){A=m.stateNode,v=m.type;var R=m.memoizedProps;switch(A[Ua]=m,A[Qp]=R,h=(m.mode&1)!==0,v){case"dialog":Sr("cancel",A),Sr("close",A);break;case"iframe":case"object":case"embed":Sr("load",A);break;case"video":case"audio":for(O=0;O<Kp.length;O++)Sr(Kp[O],A);break;case"source":Sr("error",A);break;case"img":case"image":case"link":Sr("error",A),Sr("load",A);break;case"details":Sr("toggle",A);break;case"input":$e(A,R),Sr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!R.multiple},Sr("invalid",A);break;case"textarea":di(A,R),Sr("invalid",A)}ar(v,R),O=null;for(var U in R)if(R.hasOwnProperty(U)){var Z=R[U];U==="children"?typeof Z=="string"?A.textContent!==Z&&(R.suppressHydrationWarning!==!0&&S0(A.textContent,Z,h),O=["children",Z]):typeof Z=="number"&&A.textContent!==""+Z&&(R.suppressHydrationWarning!==!0&&S0(A.textContent,Z,h),O=["children",""+Z]):i.hasOwnProperty(U)&&Z!=null&&U==="onScroll"&&Sr("scroll",A)}switch(v){case"input":le(A),ft(A,R,!0);break;case"textarea":le(A),Ve(A);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(A.onclick=T0)}A=O,m.updateQueue=A,A!==null&&(m.flags|=4)}else{U=O.nodeType===9?O:O.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ue(v)),h==="http://www.w3.org/1999/xhtml"?v==="script"?(h=U.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof A.is=="string"?h=U.createElement(v,{is:A.is}):(h=U.createElement(v),v==="select"&&(U=h,A.multiple?U.multiple=!0:A.size&&(U.size=A.size))):h=U.createElementNS(h,v),h[Ua]=m,h[Qp]=A,jR(h,m,!1,!1),m.stateNode=h;e:{switch(U=qi(v,A),v){case"dialog":Sr("cancel",h),Sr("close",h),O=A;break;case"iframe":case"object":case"embed":Sr("load",h),O=A;break;case"video":case"audio":for(O=0;O<Kp.length;O++)Sr(Kp[O],h);O=A;break;case"source":Sr("error",h),O=A;break;case"img":case"image":case"link":Sr("error",h),Sr("load",h),O=A;break;case"details":Sr("toggle",h),O=A;break;case"input":$e(h,A),O=Ee(h,A),Sr("invalid",h);break;case"option":O=A;break;case"select":h._wrapperState={wasMultiple:!!A.multiple},O=z({},A,{value:void 0}),Sr("invalid",h);break;case"textarea":di(h,A),O=Qr(h,A),Sr("invalid",h);break;default:O=A}ar(v,O),Z=O;for(R in Z)if(Z.hasOwnProperty(R)){var ne=Z[R];R==="style"?Ei(h,ne):R==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Le(h,ne)):R==="children"?typeof ne=="string"?(v!=="textarea"||ne!=="")&&rt(h,ne):typeof ne=="number"&&rt(h,""+ne):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?ne!=null&&R==="onScroll"&&Sr("scroll",h):ne!=null&&E(h,R,ne,U))}switch(v){case"input":le(h),ft(h,A,!1);break;case"textarea":le(h),Ve(h);break;case"option":A.value!=null&&h.setAttribute("value",""+we(A.value));break;case"select":h.multiple=!!A.multiple,R=A.value,R!=null?Cr(h,!!A.multiple,R,!1):A.defaultValue!=null&&Cr(h,!!A.multiple,A.defaultValue,!0);break;default:typeof O.onClick=="function"&&(h.onclick=T0)}switch(v){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Jn(m),null;case 6:if(h&&m.stateNode!=null)DR(h,m,h.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(r(166));if(v=hu(rm.current),hu(za.current),R0(m)){if(A=m.stateNode,v=m.memoizedProps,A[Ua]=m,(R=A.nodeValue!==v)&&(h=Ji,h!==null))switch(h.tag){case 3:S0(A.nodeValue,v,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&S0(A.nodeValue,v,(h.mode&1)!==0)}R&&(m.flags|=4)}else A=(v.nodeType===9?v:v.ownerDocument).createTextNode(A),A[Ua]=m,m.stateNode=A}return Jn(m),null;case 13:if(Tr(Mr),A=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Or&&eo!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Lj(),ef(),m.flags|=98560,R=!1;else if(R=R0(m),A!==null&&A.dehydrated!==null){if(h===null){if(!R)throw Error(r(318));if(R=m.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ua]=m}else ef(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Jn(m),R=!1}else Zo!==null&&(w_(Zo),Zo=null),R=!0;if(!R)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=v,m):(A=A!==null,A!==(h!==null&&h.memoizedState!==null)&&A&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Mr.current&1)!==0?un===0&&(un=3):C_())),m.updateQueue!==null&&(m.flags|=4),Jn(m),null);case 4:return of(),u_(h,m),h===null&&Yp(m.stateNode.containerInfo),Jn(m),null;case 10:return L2(m.type._context),Jn(m),null;case 17:return Ti(m.type)&&I0(),Jn(m),null;case 19:if(Tr(Mr),R=m.memoizedState,R===null)return Jn(m),null;if(A=(m.flags&128)!==0,U=R.rendering,U===null)if(A)sm(R,!1);else{if(un!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(U=V0(h),U!==null){for(m.flags|=128,sm(R,!1),A=U.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),m.subtreeFlags=0,A=v,v=m.child;v!==null;)R=v,h=A,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=h,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,h=U.dependencies,R.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),v=v.sibling;return mr(Mr,Mr.current&1|2),m.child}h=h.sibling}R.tail!==null&&Er()>cf&&(m.flags|=128,A=!0,sm(R,!1),m.lanes=4194304)}else{if(!A)if(h=V0(U),h!==null){if(m.flags|=128,A=!0,v=h.updateQueue,v!==null&&(m.updateQueue=v,m.flags|=4),sm(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!Or)return Jn(m),null}else 2*Er()-R.renderingStartTime>cf&&v!==1073741824&&(m.flags|=128,A=!0,sm(R,!1),m.lanes=4194304);R.isBackwards?(U.sibling=m.child,m.child=U):(v=R.last,v!==null?v.sibling=U:m.child=U,R.last=U)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=Er(),m.sibling=null,v=Mr.current,mr(Mr,A?v&1|2:v&1),m):(Jn(m),null);case 22:case 23:return A_(),A=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(m.flags|=8192),A&&(m.mode&1)!==0?(to&1073741824)!==0&&(Jn(m),m.subtreeFlags&6&&(m.flags|=8192)):Jn(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function _te(h,m){switch(O2(m),m.tag){case 1:return Ti(m.type)&&I0(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return of(),Tr(Si),Tr(Qn),H2(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return z2(m),null;case 13:if(Tr(Mr),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));ef()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Tr(Mr),null;case 4:return of(),null;case 10:return L2(m.type._context),null;case 22:case 23:return A_(),null;case 24:return null;default:return null}}var Y0=!1,ei=!1,Ate=typeof WeakSet=="function"?WeakSet:Set,qe=null;function sf(h,m){var v=h.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(A){Wr(h,m,A)}else v.current=null}function d_(h,m,v){try{v()}catch(A){Wr(h,m,A)}}var MR=!1;function Cte(h,m){if(A2=Ps,h=pj(),m2(h)){if("selectionStart"in h)var v={start:h.selectionStart,end:h.selectionEnd};else e:{v=(v=h.ownerDocument)&&v.defaultView||window;var A=v.getSelection&&v.getSelection();if(A&&A.rangeCount!==0){v=A.anchorNode;var O=A.anchorOffset,R=A.focusNode;A=A.focusOffset;try{v.nodeType,R.nodeType}catch{v=null;break e}var U=0,Z=-1,ne=-1,ye=0,ke=0,Pe=h,Ie=null;t:for(;;){for(var ze;Pe!==v||O!==0&&Pe.nodeType!==3||(Z=U+O),Pe!==R||A!==0&&Pe.nodeType!==3||(ne=U+A),Pe.nodeType===3&&(U+=Pe.nodeValue.length),(ze=Pe.firstChild)!==null;)Ie=Pe,Pe=ze;for(;;){if(Pe===h)break t;if(Ie===v&&++ye===O&&(Z=U),Ie===R&&++ke===A&&(ne=U),(ze=Pe.nextSibling)!==null)break;Pe=Ie,Ie=Pe.parentNode}Pe=ze}v=Z===-1||ne===-1?null:{start:Z,end:ne}}else v=null}v=v||{start:0,end:0}}else v=null;for(C2={focusedElem:h,selectionRange:v},Ps=!1,qe=m;qe!==null;)if(m=qe,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,qe=h;else for(;qe!==null;){m=qe;try{var Ke=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Qe=Ke.memoizedProps,Kr=Ke.memoizedState,de=m.stateNode,ae=de.getSnapshotBeforeUpdate(m.elementType===m.type?Qe:Jo(m.type,Qe),Kr);de.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var pe=m.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(je){Wr(m,m.return,je)}if(h=m.sibling,h!==null){h.return=m.return,qe=h;break}qe=m.return}return Ke=MR,MR=!1,Ke}function lm(h,m,v){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var O=A=A.next;do{if((O.tag&h)===h){var R=O.destroy;O.destroy=void 0,R!==void 0&&d_(m,v,R)}O=O.next}while(O!==A)}}function X0(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&h)===h){var A=v.create;v.destroy=A()}v=v.next}while(v!==m)}}function f_(h){var m=h.ref;if(m!==null){var v=h.stateNode;switch(h.tag){case 5:h=v;break;default:h=v}typeof m=="function"?m(h):m.current=h}}function FR(h){var m=h.alternate;m!==null&&(h.alternate=null,FR(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[Ua],delete m[Qp],delete m[N2],delete m[ate],delete m[ste])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function LR(h){return h.tag===5||h.tag===3||h.tag===4}function BR(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||LR(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function h_(h,m,v){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?v.nodeType===8?v.parentNode.insertBefore(h,m):v.insertBefore(h,m):(v.nodeType===8?(m=v.parentNode,m.insertBefore(h,v)):(m=v,m.appendChild(h)),v=v._reactRootContainer,v!=null||m.onclick!==null||(m.onclick=T0));else if(A!==4&&(h=h.child,h!==null))for(h_(h,m,v),h=h.sibling;h!==null;)h_(h,m,v),h=h.sibling}function p_(h,m,v){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?v.insertBefore(h,m):v.appendChild(h);else if(A!==4&&(h=h.child,h!==null))for(p_(h,m,v),h=h.sibling;h!==null;)p_(h,m,v),h=h.sibling}var Vn=null,ea=!1;function Hl(h,m,v){for(v=v.child;v!==null;)VR(h,m,v),v=v.sibling}function VR(h,m,v){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Jc,v)}catch{}switch(v.tag){case 5:ei||sf(v,m);case 6:var A=Vn,O=ea;Vn=null,Hl(h,m,v),Vn=A,ea=O,Vn!==null&&(ea?(h=Vn,v=v.stateNode,h.nodeType===8?h.parentNode.removeChild(v):h.removeChild(v)):Vn.removeChild(v.stateNode));break;case 18:Vn!==null&&(ea?(h=Vn,v=v.stateNode,h.nodeType===8?T2(h.parentNode,v):h.nodeType===1&&T2(h,v),Dl(h)):T2(Vn,v.stateNode));break;case 4:A=Vn,O=ea,Vn=v.stateNode.containerInfo,ea=!0,Hl(h,m,v),Vn=A,ea=O;break;case 0:case 11:case 14:case 15:if(!ei&&(A=v.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){O=A=A.next;do{var R=O,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&d_(v,m,U),O=O.next}while(O!==A)}Hl(h,m,v);break;case 1:if(!ei&&(sf(v,m),A=v.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=v.memoizedProps,A.state=v.memoizedState,A.componentWillUnmount()}catch(Z){Wr(v,m,Z)}Hl(h,m,v);break;case 21:Hl(h,m,v);break;case 22:v.mode&1?(ei=(A=ei)||v.memoizedState!==null,Hl(h,m,v),ei=A):Hl(h,m,v);break;default:Hl(h,m,v)}}function $R(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var v=h.stateNode;v===null&&(v=h.stateNode=new Ate),m.forEach(function(A){var O=jte.bind(null,h,A);v.has(A)||(v.add(A),A.then(O,O))})}}function ta(h,m){var v=m.deletions;if(v!==null)for(var A=0;A<v.length;A++){var O=v[A];try{var R=h,U=m,Z=U;e:for(;Z!==null;){switch(Z.tag){case 5:Vn=Z.stateNode,ea=!1;break e;case 3:Vn=Z.stateNode.containerInfo,ea=!0;break e;case 4:Vn=Z.stateNode.containerInfo,ea=!0;break e}Z=Z.return}if(Vn===null)throw Error(r(160));VR(R,U,O),Vn=null,ea=!1;var ne=O.alternate;ne!==null&&(ne.return=null),O.return=null}catch(ye){Wr(O,m,ye)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)UR(m,h),m=m.sibling}function UR(h,m){var v=h.alternate,A=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(ta(m,h),Ha(h),A&4){try{lm(3,h,h.return),X0(3,h)}catch(Qe){Wr(h,h.return,Qe)}try{lm(5,h,h.return)}catch(Qe){Wr(h,h.return,Qe)}}break;case 1:ta(m,h),Ha(h),A&512&&v!==null&&sf(v,v.return);break;case 5:if(ta(m,h),Ha(h),A&512&&v!==null&&sf(v,v.return),h.flags&32){var O=h.stateNode;try{rt(O,"")}catch(Qe){Wr(h,h.return,Qe)}}if(A&4&&(O=h.stateNode,O!=null)){var R=h.memoizedProps,U=v!==null?v.memoizedProps:R,Z=h.type,ne=h.updateQueue;if(h.updateQueue=null,ne!==null)try{Z==="input"&&R.type==="radio"&&R.name!=null&&We(O,R),qi(Z,U);var ye=qi(Z,R);for(U=0;U<ne.length;U+=2){var ke=ne[U],Pe=ne[U+1];ke==="style"?Ei(O,Pe):ke==="dangerouslySetInnerHTML"?Le(O,Pe):ke==="children"?rt(O,Pe):E(O,ke,Pe,ye)}switch(Z){case"input":ut(O,R);break;case"textarea":Se(O,R);break;case"select":var Ie=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!R.multiple;var ze=R.value;ze!=null?Cr(O,!!R.multiple,ze,!1):Ie!==!!R.multiple&&(R.defaultValue!=null?Cr(O,!!R.multiple,R.defaultValue,!0):Cr(O,!!R.multiple,R.multiple?[]:"",!1))}O[Qp]=R}catch(Qe){Wr(h,h.return,Qe)}}break;case 6:if(ta(m,h),Ha(h),A&4){if(h.stateNode===null)throw Error(r(162));O=h.stateNode,R=h.memoizedProps;try{O.nodeValue=R}catch(Qe){Wr(h,h.return,Qe)}}break;case 3:if(ta(m,h),Ha(h),A&4&&v!==null&&v.memoizedState.isDehydrated)try{Dl(m.containerInfo)}catch(Qe){Wr(h,h.return,Qe)}break;case 4:ta(m,h),Ha(h);break;case 13:ta(m,h),Ha(h),O=h.child,O.flags&8192&&(R=O.memoizedState!==null,O.stateNode.isHidden=R,!R||O.alternate!==null&&O.alternate.memoizedState!==null||(y_=Er())),A&4&&$R(h);break;case 22:if(ke=v!==null&&v.memoizedState!==null,h.mode&1?(ei=(ye=ei)||ke,ta(m,h),ei=ye):ta(m,h),Ha(h),A&8192){if(ye=h.memoizedState!==null,(h.stateNode.isHidden=ye)&&!ke&&(h.mode&1)!==0)for(qe=h,ke=h.child;ke!==null;){for(Pe=qe=ke;qe!==null;){switch(Ie=qe,ze=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:lm(4,Ie,Ie.return);break;case 1:sf(Ie,Ie.return);var Ke=Ie.stateNode;if(typeof Ke.componentWillUnmount=="function"){A=Ie,v=Ie.return;try{m=A,Ke.props=m.memoizedProps,Ke.state=m.memoizedState,Ke.componentWillUnmount()}catch(Qe){Wr(A,v,Qe)}}break;case 5:sf(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){HR(Pe);continue}}ze!==null?(ze.return=Ie,qe=ze):HR(Pe)}ke=ke.sibling}e:for(ke=null,Pe=h;;){if(Pe.tag===5){if(ke===null){ke=Pe;try{O=Pe.stateNode,ye?(R=O.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Z=Pe.stateNode,ne=Pe.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Z.style.display=Dr("display",U))}catch(Qe){Wr(h,h.return,Qe)}}}else if(Pe.tag===6){if(ke===null)try{Pe.stateNode.nodeValue=ye?"":Pe.memoizedProps}catch(Qe){Wr(h,h.return,Qe)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===h)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===h)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===h)break e;ke===Pe&&(ke=null),Pe=Pe.return}ke===Pe&&(ke=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:ta(m,h),Ha(h),A&4&&$R(h);break;case 21:break;default:ta(m,h),Ha(h)}}function Ha(h){var m=h.flags;if(m&2){try{e:{for(var v=h.return;v!==null;){if(LR(v)){var A=v;break e}v=v.return}throw Error(r(160))}switch(A.tag){case 5:var O=A.stateNode;A.flags&32&&(rt(O,""),A.flags&=-33);var R=BR(h);p_(h,R,O);break;case 3:case 4:var U=A.stateNode.containerInfo,Z=BR(h);h_(h,Z,U);break;default:throw Error(r(161))}}catch(ne){Wr(h,h.return,ne)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function Ete(h,m,v){qe=h,zR(h)}function zR(h,m,v){for(var A=(h.mode&1)!==0;qe!==null;){var O=qe,R=O.child;if(O.tag===22&&A){var U=O.memoizedState!==null||Y0;if(!U){var Z=O.alternate,ne=Z!==null&&Z.memoizedState!==null||ei;Z=Y0;var ye=ei;if(Y0=U,(ei=ne)&&!ye)for(qe=O;qe!==null;)U=qe,ne=U.child,U.tag===22&&U.memoizedState!==null?qR(O):ne!==null?(ne.return=U,qe=ne):qR(O);for(;R!==null;)qe=R,zR(R),R=R.sibling;qe=O,Y0=Z,ei=ye}WR(h)}else(O.subtreeFlags&8772)!==0&&R!==null?(R.return=O,qe=R):WR(h)}}function WR(h){for(;qe!==null;){var m=qe;if((m.flags&8772)!==0){var v=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ei||X0(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!ei)if(v===null)A.componentDidMount();else{var O=m.elementType===m.type?v.memoizedProps:Jo(m.type,v.memoizedProps);A.componentDidUpdate(O,v.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var R=m.updateQueue;R!==null&&Hj(m,R,A);break;case 3:var U=m.updateQueue;if(U!==null){if(v=null,m.child!==null)switch(m.child.tag){case 5:v=m.child.stateNode;break;case 1:v=m.child.stateNode}Hj(m,U,v)}break;case 5:var Z=m.stateNode;if(v===null&&m.flags&4){v=Z;var ne=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&v.focus();break;case"img":ne.src&&(v.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ye=m.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var Pe=ke.dehydrated;Pe!==null&&Dl(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ei||m.flags&512&&f_(m)}catch(Ie){Wr(m,m.return,Ie)}}if(m===h){qe=null;break}if(v=m.sibling,v!==null){v.return=m.return,qe=v;break}qe=m.return}}function HR(h){for(;qe!==null;){var m=qe;if(m===h){qe=null;break}var v=m.sibling;if(v!==null){v.return=m.return,qe=v;break}qe=m.return}}function qR(h){for(;qe!==null;){var m=qe;try{switch(m.tag){case 0:case 11:case 15:var v=m.return;try{X0(4,m)}catch(ne){Wr(m,v,ne)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var O=m.return;try{A.componentDidMount()}catch(ne){Wr(m,O,ne)}}var R=m.return;try{f_(m)}catch(ne){Wr(m,R,ne)}break;case 5:var U=m.return;try{f_(m)}catch(ne){Wr(m,U,ne)}}}catch(ne){Wr(m,m.return,ne)}if(m===h){qe=null;break}var Z=m.sibling;if(Z!==null){Z.return=m.return,qe=Z;break}qe=m.return}}var Ste=Math.ceil,Q0=P.ReactCurrentDispatcher,m_=P.ReactCurrentOwner,To=P.ReactCurrentBatchConfig,zt=0,Sn=null,Jr=null,$n=0,to=0,lf=Vl(0),un=0,cm=null,mu=0,Z0=0,g_=0,um=null,Ii=null,y_=0,cf=1/0,$s=null,J0=!1,v_=null,ql=null,ev=!1,Gl=null,tv=0,dm=0,x_=null,rv=-1,nv=0;function pi(){return(zt&6)!==0?Er():rv!==-1?rv:rv=Er()}function Kl(h){return(h.mode&1)===0?1:(zt&2)!==0&&$n!==0?$n&-$n:cte.transition!==null?(nv===0&&(nv=Op()),nv):(h=Lt,h!==0||(h=window.event,h=h===void 0?16:Fd(h.type)),h)}function ra(h,m,v,A){if(50<dm)throw dm=0,x_=null,Error(r(185));nu(h,v,A),((zt&2)===0||h!==Sn)&&(h===Sn&&((zt&2)===0&&(Z0|=v),un===4&&Yl(h,$n)),ki(h,A),v===1&&zt===0&&(m.mode&1)===0&&(cf=Er()+500,P0&&Ul()))}function ki(h,m){var v=h.callbackNode;ru(h,m);var A=Ns(h,h===Sn?$n:0);if(A===0)v!==null&&kd(v),h.callbackNode=null,h.callbackPriority=0;else if(m=A&-A,h.callbackPriority!==m){if(v!=null&&kd(v),m===1)h.tag===0?lte(KR.bind(null,h)):jj(KR.bind(null,h)),ite(function(){(zt&6)===0&&Ul()}),v=null;else{switch(Oa(A)){case 1:v=Pd;break;case 4:v=Ip;break;case 16:v=Zc;break;case 536870912:v=Od;break;default:v=Zc}v=rD(v,GR.bind(null,h))}h.callbackPriority=m,h.callbackNode=v}}function GR(h,m){if(rv=-1,nv=0,(zt&6)!==0)throw Error(r(327));var v=h.callbackNode;if(uf()&&h.callbackNode!==v)return null;var A=Ns(h,h===Sn?$n:0);if(A===0)return null;if((A&30)!==0||(A&h.expiredLanes)!==0||m)m=iv(h,A);else{m=A;var O=zt;zt|=2;var R=XR();(Sn!==h||$n!==m)&&($s=null,cf=Er()+500,yu(h,m));do try{Ite();break}catch(Z){YR(h,Z)}while(!0);F2(),Q0.current=R,zt=O,Jr!==null?m=0:(Sn=null,$n=0,m=un)}if(m!==0){if(m===2&&(O=Pp(h),O!==0&&(A=O,m=b_(h,O))),m===1)throw v=cm,yu(h,0),Yl(h,A),ki(h,Er()),v;if(m===6)Yl(h,A);else{if(O=h.current.alternate,(A&30)===0&&!Tte(O)&&(m=iv(h,A),m===2&&(R=Pp(h),R!==0&&(A=R,m=b_(h,R))),m===1))throw v=cm,yu(h,0),Yl(h,A),ki(h,Er()),v;switch(h.finishedWork=O,h.finishedLanes=A,m){case 0:case 1:throw Error(r(345));case 2:vu(h,Ii,$s);break;case 3:if(Yl(h,A),(A&130023424)===A&&(m=y_+500-Er(),10<m)){if(Ns(h,0)!==0)break;if(O=h.suspendedLanes,(O&A)!==A){pi(),h.pingedLanes|=h.suspendedLanes&O;break}h.timeoutHandle=S2(vu.bind(null,h,Ii,$s),m);break}vu(h,Ii,$s);break;case 4:if(Yl(h,A),(A&4194240)===A)break;for(m=h.eventTimes,O=-1;0<A;){var U=31-Ki(A);R=1<<U,U=m[U],U>O&&(O=U),A&=~R}if(A=O,A=Er()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*Ste(A/1960))-A,10<A){h.timeoutHandle=S2(vu.bind(null,h,Ii,$s),A);break}vu(h,Ii,$s);break;case 5:vu(h,Ii,$s);break;default:throw Error(r(329))}}}return ki(h,Er()),h.callbackNode===v?GR.bind(null,h):null}function b_(h,m){var v=um;return h.current.memoizedState.isDehydrated&&(yu(h,m).flags|=256),h=iv(h,m),h!==2&&(m=Ii,Ii=v,m!==null&&w_(m)),h}function w_(h){Ii===null?Ii=h:Ii.push.apply(Ii,h)}function Tte(h){for(var m=h;;){if(m.flags&16384){var v=m.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var A=0;A<v.length;A++){var O=v[A],R=O.getSnapshot;O=O.value;try{if(!Qo(R(),O))return!1}catch{return!1}}}if(v=m.child,m.subtreeFlags&16384&&v!==null)v.return=m,m=v;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Yl(h,m){for(m&=~g_,m&=~Z0,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var v=31-Ki(m),A=1<<v;h[v]=-1,m&=~A}}function KR(h){if((zt&6)!==0)throw Error(r(327));uf();var m=Ns(h,0);if((m&1)===0)return ki(h,Er()),null;var v=iv(h,m);if(h.tag!==0&&v===2){var A=Pp(h);A!==0&&(m=A,v=b_(h,A))}if(v===1)throw v=cm,yu(h,0),Yl(h,m),ki(h,Er()),v;if(v===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,vu(h,Ii,$s),ki(h,Er()),null}function __(h,m){var v=zt;zt|=1;try{return h(m)}finally{zt=v,zt===0&&(cf=Er()+500,P0&&Ul())}}function gu(h){Gl!==null&&Gl.tag===0&&(zt&6)===0&&uf();var m=zt;zt|=1;var v=To.transition,A=Lt;try{if(To.transition=null,Lt=1,h)return h()}finally{Lt=A,To.transition=v,zt=m,(zt&6)===0&&Ul()}}function A_(){to=lf.current,Tr(lf)}function yu(h,m){h.finishedWork=null,h.finishedLanes=0;var v=h.timeoutHandle;if(v!==-1&&(h.timeoutHandle=-1,nte(v)),Jr!==null)for(v=Jr.return;v!==null;){var A=v;switch(O2(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&I0();break;case 3:of(),Tr(Si),Tr(Qn),H2();break;case 5:z2(A);break;case 4:of();break;case 13:Tr(Mr);break;case 19:Tr(Mr);break;case 10:L2(A.type._context);break;case 22:case 23:A_()}v=v.return}if(Sn=h,Jr=h=Xl(h.current,null),$n=to=m,un=0,cm=null,g_=Z0=mu=0,Ii=um=null,fu!==null){for(m=0;m<fu.length;m++)if(v=fu[m],A=v.interleaved,A!==null){v.interleaved=null;var O=A.next,R=v.pending;if(R!==null){var U=R.next;R.next=O,A.next=U}v.pending=A}fu=null}return h}function YR(h,m){do{var v=Jr;try{if(F2(),$0.current=H0,U0){for(var A=Fr.memoizedState;A!==null;){var O=A.queue;O!==null&&(O.pending=null),A=A.next}U0=!1}if(pu=0,En=cn=Fr=null,nm=!1,im=0,m_.current=null,v===null||v.return===null){un=1,cm=m,Jr=null;break}e:{var R=h,U=v.return,Z=v,ne=m;if(m=$n,Z.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ye=ne,ke=Z,Pe=ke.tag;if((ke.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var Ie=ke.alternate;Ie?(ke.updateQueue=Ie.updateQueue,ke.memoizedState=Ie.memoizedState,ke.lanes=Ie.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var ze=bR(U);if(ze!==null){ze.flags&=-257,wR(ze,U,Z,R,m),ze.mode&1&&xR(R,ye,m),m=ze,ne=ye;var Ke=m.updateQueue;if(Ke===null){var Qe=new Set;Qe.add(ne),m.updateQueue=Qe}else Ke.add(ne);break e}else{if((m&1)===0){xR(R,ye,m),C_();break e}ne=Error(r(426))}}else if(Or&&Z.mode&1){var Kr=bR(U);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),wR(Kr,U,Z,R,m),D2(af(ne,Z));break e}}R=ne=af(ne,Z),un!==4&&(un=2),um===null?um=[R]:um.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,m&=-m,R.lanes|=m;var de=yR(R,ne,m);Wj(R,de);break e;case 1:Z=ne;var ae=R.type,pe=R.stateNode;if((R.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(ql===null||!ql.has(pe)))){R.flags|=65536,m&=-m,R.lanes|=m;var je=vR(R,Z,m);Wj(R,je);break e}}R=R.return}while(R!==null)}ZR(v)}catch(Je){m=Je,Jr===v&&v!==null&&(Jr=v=v.return);continue}break}while(!0)}function XR(){var h=Q0.current;return Q0.current=H0,h===null?H0:h}function C_(){(un===0||un===3||un===2)&&(un=4),Sn===null||(mu&268435455)===0&&(Z0&268435455)===0||Yl(Sn,$n)}function iv(h,m){var v=zt;zt|=2;var A=XR();(Sn!==h||$n!==m)&&($s=null,yu(h,m));do try{Nte();break}catch(O){YR(h,O)}while(!0);if(F2(),zt=v,Q0.current=A,Jr!==null)throw Error(r(261));return Sn=null,$n=0,un}function Nte(){for(;Jr!==null;)QR(Jr)}function Ite(){for(;Jr!==null&&!Qc();)QR(Jr)}function QR(h){var m=tD(h.alternate,h,to);h.memoizedProps=h.pendingProps,m===null?ZR(h):Jr=m,m_.current=null}function ZR(h){var m=h;do{var v=m.alternate;if(h=m.return,(m.flags&32768)===0){if(v=wte(v,m,to),v!==null){Jr=v;return}}else{if(v=_te(v,m),v!==null){v.flags&=32767,Jr=v;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{un=6,Jr=null;return}}if(m=m.sibling,m!==null){Jr=m;return}Jr=m=h}while(m!==null);un===0&&(un=5)}function vu(h,m,v){var A=Lt,O=To.transition;try{To.transition=null,Lt=1,kte(h,m,v,A)}finally{To.transition=O,Lt=A}return null}function kte(h,m,v,A){do uf();while(Gl!==null);if((zt&6)!==0)throw Error(r(327));v=h.finishedWork;var O=h.finishedLanes;if(v===null)return null;if(h.finishedWork=null,h.finishedLanes=0,v===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var R=v.lanes|v.childLanes;if(u2(h,R),h===Sn&&(Jr=Sn=null,$n=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||ev||(ev=!0,rD(Zc,function(){return uf(),null})),R=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||R){R=To.transition,To.transition=null;var U=Lt;Lt=1;var Z=zt;zt|=4,m_.current=null,Cte(h,v),UR(v,h),Xee(C2),Ps=!!A2,C2=A2=null,h.current=v,Ete(v),Ts(),zt=Z,Lt=U,To.transition=R}else h.current=v;if(ev&&(ev=!1,Gl=h,tv=O),R=h.pendingLanes,R===0&&(ql=null),d0(v.stateNode),ki(h,Er()),m!==null)for(A=h.onRecoverableError,v=0;v<m.length;v++)O=m[v],A(O.value,{componentStack:O.stack,digest:O.digest});if(J0)throw J0=!1,h=v_,v_=null,h;return(tv&1)!==0&&h.tag!==0&&uf(),R=h.pendingLanes,(R&1)!==0?h===x_?dm++:(dm=0,x_=h):dm=0,Ul(),null}function uf(){if(Gl!==null){var h=Oa(tv),m=To.transition,v=Lt;try{if(To.transition=null,Lt=16>h?16:h,Gl===null)var A=!1;else{if(h=Gl,Gl=null,tv=0,(zt&6)!==0)throw Error(r(331));var O=zt;for(zt|=4,qe=h.current;qe!==null;){var R=qe,U=R.child;if((qe.flags&16)!==0){var Z=R.deletions;if(Z!==null){for(var ne=0;ne<Z.length;ne++){var ye=Z[ne];for(qe=ye;qe!==null;){var ke=qe;switch(ke.tag){case 0:case 11:case 15:lm(8,ke,R)}var Pe=ke.child;if(Pe!==null)Pe.return=ke,qe=Pe;else for(;qe!==null;){ke=qe;var Ie=ke.sibling,ze=ke.return;if(FR(ke),ke===ye){qe=null;break}if(Ie!==null){Ie.return=ze,qe=Ie;break}qe=ze}}}var Ke=R.alternate;if(Ke!==null){var Qe=Ke.child;if(Qe!==null){Ke.child=null;do{var Kr=Qe.sibling;Qe.sibling=null,Qe=Kr}while(Qe!==null)}}qe=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,qe=U;else e:for(;qe!==null;){if(R=qe,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:lm(9,R,R.return)}var de=R.sibling;if(de!==null){de.return=R.return,qe=de;break e}qe=R.return}}var ae=h.current;for(qe=ae;qe!==null;){U=qe;var pe=U.child;if((U.subtreeFlags&2064)!==0&&pe!==null)pe.return=U,qe=pe;else e:for(U=ae;qe!==null;){if(Z=qe,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:X0(9,Z)}}catch(Je){Wr(Z,Z.return,Je)}if(Z===U){qe=null;break e}var je=Z.sibling;if(je!==null){je.return=Z.return,qe=je;break e}qe=Z.return}}if(zt=O,Ul(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Jc,h)}catch{}A=!0}return A}finally{Lt=v,To.transition=m}}return!1}function JR(h,m,v){m=af(v,m),m=yR(h,m,1),h=Wl(h,m,1),m=pi(),h!==null&&(nu(h,1,m),ki(h,m))}function Wr(h,m,v){if(h.tag===3)JR(h,h,v);else for(;m!==null;){if(m.tag===3){JR(m,h,v);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ql===null||!ql.has(A))){h=af(v,h),h=vR(m,h,1),m=Wl(m,h,1),h=pi(),m!==null&&(nu(m,1,h),ki(m,h));break}}m=m.return}}function Pte(h,m,v){var A=h.pingCache;A!==null&&A.delete(m),m=pi(),h.pingedLanes|=h.suspendedLanes&v,Sn===h&&($n&v)===v&&(un===4||un===3&&($n&130023424)===$n&&500>Er()-y_?yu(h,0):g_|=v),ki(h,m)}function eD(h,m){m===0&&((h.mode&1)===0?m=1:(m=Ol,Ol<<=1,(Ol&130023424)===0&&(Ol=4194304)));var v=pi();h=Ls(h,m),h!==null&&(nu(h,m,v),ki(h,v))}function Ote(h){var m=h.memoizedState,v=0;m!==null&&(v=m.retryLane),eD(h,v)}function jte(h,m){var v=0;switch(h.tag){case 13:var A=h.stateNode,O=h.memoizedState;O!==null&&(v=O.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(m),eD(h,v)}var tD;tD=function(h,m,v){if(h!==null)if(h.memoizedProps!==m.pendingProps||Si.current)Ni=!0;else{if((h.lanes&v)===0&&(m.flags&128)===0)return Ni=!1,bte(h,m,v);Ni=(h.flags&131072)!==0}else Ni=!1,Or&&(m.flags&1048576)!==0&&Rj(m,j0,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;K0(h,m),h=m.pendingProps;var O=Qd(m,Qn.current);nf(m,v),O=K2(null,m,A,h,O,v);var R=Y2();return m.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Ti(A)?(R=!0,k0(m)):R=!1,m.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,$2(m),O.updater=q0,m.stateNode=O,O._reactInternals=m,t_(m,A,h,v),m=o_(null,m,A,!0,R,v)):(m.tag=0,Or&&R&&P2(m),hi(null,m,O,v),m=m.child),m;case 16:A=m.elementType;e:{switch(K0(h,m),h=m.pendingProps,O=A._init,A=O(A._payload),m.type=A,O=m.tag=Dte(A),h=Jo(A,h),O){case 0:m=i_(null,m,A,h,v);break e;case 1:m=TR(null,m,A,h,v);break e;case 11:m=_R(null,m,A,h,v);break e;case 14:m=AR(null,m,A,Jo(A.type,h),v);break e}throw Error(r(306,A,""))}return m;case 0:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),i_(h,m,A,O,v);case 1:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),TR(h,m,A,O,v);case 3:e:{if(NR(m),h===null)throw Error(r(387));A=m.pendingProps,R=m.memoizedState,O=R.element,zj(h,m),B0(m,A,null,v);var U=m.memoizedState;if(A=U.element,R.isDehydrated)if(R={element:A,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},m.updateQueue.baseState=R,m.memoizedState=R,m.flags&256){O=af(Error(r(423)),m),m=IR(h,m,A,v,O);break e}else if(A!==O){O=af(Error(r(424)),m),m=IR(h,m,A,v,O);break e}else for(eo=Bl(m.stateNode.containerInfo.firstChild),Ji=m,Or=!0,Zo=null,v=$j(m,null,A,v),m.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(ef(),A===O){m=Vs(h,m,v);break e}hi(h,m,A,v)}m=m.child}return m;case 5:return qj(m),h===null&&R2(m),A=m.type,O=m.pendingProps,R=h!==null?h.memoizedProps:null,U=O.children,E2(A,O)?U=null:R!==null&&E2(A,R)&&(m.flags|=32),SR(h,m),hi(h,m,U,v),m.child;case 6:return h===null&&R2(m),null;case 13:return kR(h,m,v);case 4:return U2(m,m.stateNode.containerInfo),A=m.pendingProps,h===null?m.child=tf(m,null,A,v):hi(h,m,A,v),m.child;case 11:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),_R(h,m,A,O,v);case 7:return hi(h,m,m.pendingProps,v),m.child;case 8:return hi(h,m,m.pendingProps.children,v),m.child;case 12:return hi(h,m,m.pendingProps.children,v),m.child;case 10:e:{if(A=m.type._context,O=m.pendingProps,R=m.memoizedProps,U=O.value,mr(M0,A._currentValue),A._currentValue=U,R!==null)if(Qo(R.value,U)){if(R.children===O.children&&!Si.current){m=Vs(h,m,v);break e}}else for(R=m.child,R!==null&&(R.return=m);R!==null;){var Z=R.dependencies;if(Z!==null){U=R.child;for(var ne=Z.firstContext;ne!==null;){if(ne.context===A){if(R.tag===1){ne=Bs(-1,v&-v),ne.tag=2;var ye=R.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?ne.next=ne:(ne.next=ke.next,ke.next=ne),ye.pending=ne}}R.lanes|=v,ne=R.alternate,ne!==null&&(ne.lanes|=v),B2(R.return,v,m),Z.lanes|=v;break}ne=ne.next}}else if(R.tag===10)U=R.type===m.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(r(341));U.lanes|=v,Z=U.alternate,Z!==null&&(Z.lanes|=v),B2(U,v,m),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===m){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}hi(h,m,O.children,v),m=m.child}return m;case 9:return O=m.type,A=m.pendingProps.children,nf(m,v),O=Eo(O),A=A(O),m.flags|=1,hi(h,m,A,v),m.child;case 14:return A=m.type,O=Jo(A,m.pendingProps),O=Jo(A.type,O),AR(h,m,A,O,v);case 15:return CR(h,m,m.type,m.pendingProps,v);case 17:return A=m.type,O=m.pendingProps,O=m.elementType===A?O:Jo(A,O),K0(h,m),m.tag=1,Ti(A)?(h=!0,k0(m)):h=!1,nf(m,v),mR(m,A,O),t_(m,A,O,v),o_(null,m,A,!0,h,v);case 19:return OR(h,m,v);case 22:return ER(h,m,v)}throw Error(r(156,m.tag))};function rD(h,m){return Np(h,m)}function Rte(h,m,v,A){this.tag=h,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(h,m,v,A){return new Rte(h,m,v,A)}function E_(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Dte(h){if(typeof h=="function")return E_(h)?1:0;if(h!=null){if(h=h.$$typeof,h===L)return 11;if(h===q)return 14}return 2}function Xl(h,m){var v=h.alternate;return v===null?(v=No(h.tag,m,h.key,h.mode),v.elementType=h.elementType,v.type=h.type,v.stateNode=h.stateNode,v.alternate=h,h.alternate=v):(v.pendingProps=m,v.type=h.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=h.flags&14680064,v.childLanes=h.childLanes,v.lanes=h.lanes,v.child=h.child,v.memoizedProps=h.memoizedProps,v.memoizedState=h.memoizedState,v.updateQueue=h.updateQueue,m=h.dependencies,v.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},v.sibling=h.sibling,v.index=h.index,v.ref=h.ref,v}function ov(h,m,v,A,O,R){var U=2;if(A=h,typeof h=="function")E_(h)&&(U=1);else if(typeof h=="string")U=5;else e:switch(h){case N:return xu(v.children,O,R,m);case S:U=8,O|=8;break;case j:return h=No(12,v,m,O|2),h.elementType=j,h.lanes=R,h;case F:return h=No(13,v,m,O),h.elementType=F,h.lanes=R,h;case $:return h=No(19,v,m,O),h.elementType=$,h.lanes=R,h;case J:return av(v,O,R,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case B:U=10;break e;case M:U=9;break e;case L:U=11;break e;case q:U=14;break e;case X:U=16,A=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return m=No(U,v,m,O),m.elementType=h,m.type=A,m.lanes=R,m}function xu(h,m,v,A){return h=No(7,h,A,m),h.lanes=v,h}function av(h,m,v,A){return h=No(22,h,A,m),h.elementType=J,h.lanes=v,h.stateNode={isHidden:!1},h}function S_(h,m,v){return h=No(6,h,null,m),h.lanes=v,h}function T_(h,m,v){return m=No(4,h.children!==null?h.children:[],h.key,m),m.lanes=v,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function Mte(h,m,v,A,O){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jp(0),this.expirationTimes=jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jp(0),this.identifierPrefix=A,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function N_(h,m,v,A,O,R,U,Z,ne){return h=new Mte(h,m,v,Z,ne),m===1?(m=1,R===!0&&(m|=8)):m=0,R=No(3,null,null,m),h.current=R,R.stateNode=h,R.memoizedState={element:A,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},$2(R),h}function Fte(h,m,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:A==null?null:""+A,children:h,containerInfo:m,implementation:v}}function nD(h){if(!h)return $l;h=h._reactInternals;e:{if(Yo(h)!==h||h.tag!==1)throw Error(r(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Ti(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(h.tag===1){var v=h.type;if(Ti(v))return Pj(h,v,m)}return m}function iD(h,m,v,A,O,R,U,Z,ne){return h=N_(v,A,!0,h,O,R,U,Z,ne),h.context=nD(null),v=h.current,A=pi(),O=Kl(v),R=Bs(A,O),R.callback=m??null,Wl(v,R,O),h.current.lanes=O,nu(h,O,A),ki(h,A),h}function sv(h,m,v,A){var O=m.current,R=pi(),U=Kl(O);return v=nD(v),m.context===null?m.context=v:m.pendingContext=v,m=Bs(R,U),m.payload={element:h},A=A===void 0?null:A,A!==null&&(m.callback=A),h=Wl(O,m,U),h!==null&&(ra(h,O,U,R),L0(h,O,U)),U}function lv(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function oD(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var v=h.retryLane;h.retryLane=v!==0&&v<m?v:m}}function I_(h,m){oD(h,m),(h=h.alternate)&&oD(h,m)}function Lte(){return null}var aD=typeof reportError=="function"?reportError:function(h){console.error(h)};function k_(h){this._internalRoot=h}cv.prototype.render=k_.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(r(409));sv(h,m,null,null)},cv.prototype.unmount=k_.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;gu(function(){sv(null,h,null,null)}),m[Rs]=null}};function cv(h){this._internalRoot=h}cv.prototype.unstable_scheduleHydration=function(h){if(h){var m=Fp();h={blockedOn:null,target:h,priority:m};for(var v=0;v<Yi.length&&m!==0&&m<Yi[v].priority;v++);Yi.splice(v,0,h),v===0&&Dd(h)}};function P_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function uv(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function sD(){}function Bte(h,m,v,A,O){if(O){if(typeof A=="function"){var R=A;A=function(){var ye=lv(U);R.call(ye)}}var U=iD(m,A,h,0,null,!1,!1,"",sD);return h._reactRootContainer=U,h[Rs]=U.current,Yp(h.nodeType===8?h.parentNode:h),gu(),U}for(;O=h.lastChild;)h.removeChild(O);if(typeof A=="function"){var Z=A;A=function(){var ye=lv(ne);Z.call(ye)}}var ne=N_(h,0,!1,null,null,!1,!1,"",sD);return h._reactRootContainer=ne,h[Rs]=ne.current,Yp(h.nodeType===8?h.parentNode:h),gu(function(){sv(m,ne,v,A)}),ne}function dv(h,m,v,A,O){var R=v._reactRootContainer;if(R){var U=R;if(typeof O=="function"){var Z=O;O=function(){var ne=lv(U);Z.call(ne)}}sv(m,U,h,O)}else U=Bte(v,m,h,O,A);return lv(U)}Dp=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var v=Xt(m.pendingLanes);v!==0&&(Rp(m,v|1),ki(m,Er()),(zt&6)===0&&(cf=Er()+500,Ul()))}break;case 13:gu(function(){var A=Ls(h,1);if(A!==null){var O=pi();ra(A,h,1,O)}}),I_(h,1)}},jd=function(h){if(h.tag===13){var m=Ls(h,134217728);if(m!==null){var v=pi();ra(m,h,134217728,v)}I_(h,134217728)}},Mp=function(h){if(h.tag===13){var m=Kl(h),v=Ls(h,m);if(v!==null){var A=pi();ra(v,h,m,A)}I_(h,m)}},Fp=function(){return Lt},Lp=function(h,m){var v=Lt;try{return Lt=h,m()}finally{Lt=v}},Cs=function(h,m,v){switch(m){case"input":if(ut(h,v),m=v.name,v.type==="radio"&&m!=null){for(v=h;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<v.length;m++){var A=v[m];if(A!==h&&A.form===h.form){var O=N0(A);if(!O)throw Error(r(90));G(A),ut(A,O)}}}break;case"textarea":Se(h,v);break;case"select":m=v.value,m!=null&&Cr(h,!!v.multiple,m,!1)}},r0=__,n0=gu;var Vte={usingClientEntryPoint:!1,Events:[Zp,Yd,N0,Nl,Il,__]},fm={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$te={bundleType:fm.bundleType,version:fm.version,rendererPackageName:fm.rendererPackageName,rendererConfig:fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=u0(h),h===null?null:h.stateNode},findFiberByHostInstance:fm.findFiberByHostInstance||Lte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fv.isDisabled&&fv.supportsFiber)try{Jc=fv.inject($te),Gi=fv}catch{}}return Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vte,Pi.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(m))throw Error(r(200));return Fte(h,m,null,v)},Pi.createRoot=function(h,m){if(!P_(h))throw Error(r(299));var v=!1,A="",O=aD;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),m=N_(h,1,!1,null,null,v,!1,A,O),h[Rs]=m.current,Yp(h.nodeType===8?h.parentNode:h),new k_(m)},Pi.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=u0(m),h=h===null?null:h.stateNode,h},Pi.flushSync=function(h){return gu(h)},Pi.hydrate=function(h,m,v){if(!uv(m))throw Error(r(200));return dv(null,h,m,!0,v)},Pi.hydrateRoot=function(h,m,v){if(!P_(h))throw Error(r(405));var A=v!=null&&v.hydratedSources||null,O=!1,R="",U=aD;if(v!=null&&(v.unstable_strictMode===!0&&(O=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onRecoverableError!==void 0&&(U=v.onRecoverableError)),m=iD(m,null,h,1,v??null,O,!1,R,U),h[Rs]=m.current,Yp(h),A)for(h=0;h<A.length;h++)v=A[h],O=v._getVersion,O=O(v._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[v,O]:m.mutableSourceEagerHydrationData.push(v,O);return new cv(m)},Pi.render=function(h,m,v){if(!uv(m))throw Error(r(200));return dv(null,h,m,!1,v)},Pi.unmountComponentAtNode=function(h){if(!uv(h))throw Error(r(40));return h._reactRootContainer?(gu(function(){dv(null,null,h,!1,function(){h._reactRootContainer=null,h[Rs]=null})}),!0):!1},Pi.unstable_batchedUpdates=__,Pi.unstable_renderSubtreeIntoContainer=function(h,m,v,A){if(!uv(v))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return dv(h,m,v,!1,A)},Pi.version="18.3.1-next-f1338f8080-20240426",Pi}var mD;function CU(){if(mD)return R_.exports;mD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R_.exports=Yte(),R_.exports}var gD;function Xte(){if(gD)return pv;gD=1;var t=CU();return pv.createRoot=t.createRoot,pv.hydrateRoot=t.hydrateRoot,pv}var Qte=Xte();const Zte="modulepreload",Jte=function(t){return"/"+t},yD={},Ou=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=a(r.map(c=>{if(c=Jte(c),c in yD)return;yD[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Zte,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};var k=hb();const te=Yt(k),EU=zte({__proto__:null,default:te},[k]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tre=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),vD=t=>{const e=tre(t);return e.charAt(0).toUpperCase()+e.slice(1)},SU=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a,...s},l)=>k.createElement("svg",{ref:l,...rre,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:SU("lucide",i),...s},[...a.map(([c,d])=>k.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const r=k.forwardRef(({className:n,...i},o)=>k.createElement(nre,{ref:o,iconNode:e,className:SU(`lucide-${ere(vD(t))}`,`lucide-${t}`,n),...i}));return r.displayName=vD(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ore=Fe("activity",ire);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],ol=Fe("apple",are);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],_f=Fe("arrow-down",sre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ea=Fe("arrow-left",lre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ure=Fe("arrow-right",cre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Om=Fe("arrow-up",dre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],TU=Fe("award",fre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],pP=Fe("barcode",hre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],NU=Fe("bell",pre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],IU=Fe("brain",mre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],yre=Fe("bug",gre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],xre=Fe("calculator",vre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jm=Fe("calendar",bre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xu=Fe("camera",wre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gd=Fe("check",_re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Cre=Fe("chef-hat",Are);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],al=Fe("chevron-down",Ere);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kU=Fe("chevron-left",Sre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S1=Fe("chevron-right",Tre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pb=Fe("chevron-up",Nre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kre=Fe("circle-alert",Ire);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mP=Fe("circle-check-big",Pre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PU=Fe("circle-check",Ore);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Rre=Fe("circle-user",jre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],OU=Fe("circle-x",Dre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Af=Fe("clock",Mre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JT=Fe("copy",Fre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bre=Fe("credit-card",Lre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],xD=Fe("download",Vre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],oh=Fe("dumbbell",$re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bD=Fe("eye-off",Ure);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eN=Fe("eye",zre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wD=Fe("file-text",Wre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],mb=Fe("flame",Hre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]],Gre=Fe("flashlight",qre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Yre=Fe("grip-vertical",Kre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qre=Fe("heart",Xre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jre=Fe("info",Zre);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],tne=Fe("keyboard",ene);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],nne=Fe("lightbulb",rne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ah=Fe("lock",ine);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ane=Fe("log-out",one);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gg=Fe("mail",sne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],T1=Fe("message-circle",lne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],jU=Fe("message-square",cne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],dne=Fe("mic",une);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M5 12h14",key:"1ays0h"}]],hne=Fe("minus",fne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],mne=Fe("moon",pne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],yne=Fe("party-popper",gne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],xne=Fe("pen-line",vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wne=Fe("pen",bne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ga=Fe("plus",_ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cne=Fe("refresh-cw",Ane);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sne=Fe("rotate-ccw",Ene);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],RU=Fe("ruler",Tne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N1=Fe("save",Nne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],kne=Fe("scale",Ine);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],One=Fe("search",Pne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gP=Fe("send",jne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DU=Fe("settings",Rne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Mne=Fe("share-2",Dne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],If=Fe("shield",Fne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Wo=Fe("sparkles",Lne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],MU=Fe("square-pen",Bne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yP=Fe("star",Vne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Yh=Fe("target",$ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],zne=Fe("toggle-left",Une);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],Hne=Fe("toggle-right",Wne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sh=Fe("trash-2",qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Kne=Fe("trending-down",Gne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],wa=Fe("trending-up",Yne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FU=Fe("triangle-alert",Xne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],F_=Fe("trophy",Qne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],LU=Fe("upload",Zne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_D=Fe("user-plus",Jne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wf=Fe("user",eie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],AD=Fe("users",tie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],nie=Fe("utensils",rie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],oie=Fe("weight",iie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zs=Fe("x",aie);function sie({userName:t,onLogout:e,onAccountClick:r,isDarkMode:n=!1}){const[i,o]=k.useState(!1);return u.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[u.jsx("h1",{className:"text-white tracking-wide",children:"FareFit"}),t&&e?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[u.jsx(Wf,{className:"w-4 h-4"}),u.jsx("span",{children:t}),u.jsx(al,{className:"w-4 h-4"})]}),i&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),u.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-xl shadow-lg py-2 z-20 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[r&&u.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--farefit-text)"},children:[u.jsx(Rre,{className:"w-4 h-4"}),"My Account"]}),u.jsxs("button",{onClick:()=>{e(),o(!1)},className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--farefit-text)"},children:[u.jsx(ane,{className:"w-4 h-4"}),"Logout"]})]})]})]}):u.jsxs("button",{className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[u.jsx("span",{children:"Need help?"}),u.jsx(al,{className:"w-4 h-4"})]})]})})}const vP=k.createContext({});function xP(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const bP=typeof window<"u",BU=bP?k.useLayoutEffect:k.useEffect,gb=k.createContext(null);function wP(t,e){t.indexOf(e)===-1&&t.push(e)}function _P(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const sl=(t,e,r)=>r>e?e:r<t?t:r;let AP=()=>{};const ll={},VU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $U(t){return typeof t=="object"&&t!==null}const UU=t=>/^0[^.\s]+$/u.test(t);function CP(t){let e;return()=>(e===void 0&&(e=t()),e)}const Uo=t=>t,lie=(t,e)=>r=>e(t(r)),yy=(...t)=>t.reduce(lie),yg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class EP{constructor(){this.subscriptions=[]}add(e){return wP(this.subscriptions,e),()=>_P(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=t=>t*1e3,Lo=t=>t/1e3;function zU(t,e){return e?t*(1e3/e):0}const WU=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,cie=1e-7,uie=12;function die(t,e,r,n,i){let o,a,s=0;do a=e+(r-e)/2,o=WU(a,n,i)-t,o>0?r=a:e=a;while(Math.abs(o)>cie&&++s<uie);return a}function vy(t,e,r,n){if(t===e&&r===n)return Uo;const i=o=>die(o,0,1,t,r);return o=>o===0||o===1?o:WU(i(o),e,n)}const HU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qU=t=>e=>1-t(1-e),GU=vy(.33,1.53,.69,.99),SP=qU(GU),KU=HU(SP),YU=t=>(t*=2)<1?.5*SP(t):.5*(2-Math.pow(2,-10*(t-1))),TP=t=>1-Math.sin(Math.acos(t)),XU=qU(TP),QU=HU(TP),fie=vy(.42,0,1,1),hie=vy(0,0,.58,1),ZU=vy(.42,0,.58,1),pie=t=>Array.isArray(t)&&typeof t[0]!="number",JU=t=>Array.isArray(t)&&typeof t[0]=="number",mie={linear:Uo,easeIn:fie,easeInOut:ZU,easeOut:hie,circIn:TP,circInOut:QU,circOut:XU,backIn:SP,backInOut:KU,backOut:GU,anticipate:YU},gie=t=>typeof t=="string",CD=t=>{if(JU(t)){AP(t.length===4);const[e,r,n,i]=t;return vy(e,r,n,i)}else if(gie(t))return mie[t];return t},mv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yie(t,e){let r=new Set,n=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(s)}const c={schedule:(d,f=!1,p=!1)=>{const x=p&&i?r:n;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(s=d,i){o=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,o&&(o=!1,c.process(d))}};return c}const vie=40;function ez(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,a=mv.reduce((E,P)=>(E[P]=yie(o),E),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:x}=a,y=()=>{const E=ll.useManualTiming?i.timestamp:performance.now();r=!1,ll.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,vie),1)),i.timestamp=E,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),x.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(y))},b=()=>{r=!0,n=!0,i.isProcessing||t(y)};return{schedule:mv.reduce((E,P)=>{const I=a[P];return E[P]=(T,N=!1,S=!1)=>(r||b(),I.schedule(T,N,S)),E},{}),cancel:E=>{for(let P=0;P<mv.length;P++)a[mv[P]].cancel(E)},state:i,steps:a}}const{schedule:jr,cancel:Ac,state:qn,steps:L_}=ez(typeof requestAnimationFrame<"u"?requestAnimationFrame:Uo,!0);let o1;function xie(){o1=void 0}const Bi={now:()=>(o1===void 0&&Bi.set(qn.isProcessing||ll.useManualTiming?qn.timestamp:performance.now()),o1),set:t=>{o1=t,queueMicrotask(xie)}},tz=t=>e=>typeof e=="string"&&e.startsWith(t),NP=tz("--"),bie=tz("var(--"),IP=t=>bie(t)?wie.test(t.split("/*")[0].trim()):!1,wie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vg={...Xh,transform:t=>sl(0,1,t)},gv={...Xh,default:1},Km=t=>Math.round(t*1e5)/1e5,kP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _ie(t){return t==null}const Aie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PP=(t,e)=>r=>!!(typeof r=="string"&&Aie.test(r)&&r.startsWith(t)||e&&!_ie(r)&&Object.prototype.hasOwnProperty.call(r,e)),rz=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,o,a,s]=n.match(kP);return{[t]:parseFloat(i),[e]:parseFloat(o),[r]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},Cie=t=>sl(0,255,t),B_={...Xh,transform:t=>Math.round(Cie(t))},Ru={test:PP("rgb","red"),parse:rz("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+B_.transform(t)+", "+B_.transform(e)+", "+B_.transform(r)+", "+Km(vg.transform(n))+")"};function Eie(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const tN={test:PP("#"),parse:Eie,transform:Ru.transform},xy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ic=xy("deg"),rs=xy("%"),yt=xy("px"),Sie=xy("vh"),Tie=xy("vw"),ED={...rs,parse:t=>rs.parse(t)/100,transform:t=>rs.transform(t*100)},kf={test:PP("hsl","hue"),parse:rz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+rs.transform(Km(e))+", "+rs.transform(Km(r))+", "+Km(vg.transform(n))+")"},nn={test:t=>Ru.test(t)||tN.test(t)||kf.test(t),parse:t=>Ru.test(t)?Ru.parse(t):kf.test(t)?kf.parse(t):tN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ru.transform(t):kf.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},Nie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Iie(t){return isNaN(t)&&typeof t=="string"&&(t.match(kP)?.length||0)+(t.match(Nie)?.length||0)>0}const nz="number",iz="color",kie="var",Pie="var(",SD="${}",Oie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(Oie,l=>(nn.test(l)?(n.color.push(o),i.push(iz),r.push(nn.parse(l))):l.startsWith(Pie)?(n.var.push(o),i.push(kie),r.push(l)):(n.number.push(o),i.push(nz),r.push(parseFloat(l))),++o,SD)).split(SD);return{values:r,split:s,indexes:n,types:i}}function oz(t){return xg(t).values}function az(t){const{split:e,types:r}=xg(t),n=e.length;return i=>{let o="";for(let a=0;a<n;a++)if(o+=e[a],i[a]!==void 0){const s=r[a];s===nz?o+=Km(i[a]):s===iz?o+=nn.transform(i[a]):o+=i[a]}return o}}const jie=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function Rie(t){const e=oz(t);return az(t)(e.map(jie))}const Cc={test:Iie,parse:oz,createTransformer:az,getAnimatableNone:Rie};function V_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Die({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,o=0,a=0;if(!e)i=o=a=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=V_(l,s,t+1/3),o=V_(l,s,t),a=V_(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function I1(t,e){return r=>r>0?e:t}const Lr=(t,e,r)=>t+(e-t)*r,$_=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Mie=[tN,Ru,kf],Fie=t=>Mie.find(e=>e.test(t));function TD(t){const e=Fie(t);if(!e)return!1;let r=e.parse(t);return e===kf&&(r=Die(r)),r}const ND=(t,e)=>{const r=TD(t),n=TD(e);if(!r||!n)return I1(t,e);const i={...r};return o=>(i.red=$_(r.red,n.red,o),i.green=$_(r.green,n.green,o),i.blue=$_(r.blue,n.blue,o),i.alpha=Lr(r.alpha,n.alpha,o),Ru.transform(i))},rN=new Set(["none","hidden"]);function Lie(t,e){return rN.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Bie(t,e){return r=>Lr(t,e,r)}function OP(t){return typeof t=="number"?Bie:typeof t=="string"?IP(t)?I1:nn.test(t)?ND:Uie:Array.isArray(t)?sz:typeof t=="object"?nn.test(t)?ND:Vie:I1}function sz(t,e){const r=[...t],n=r.length,i=t.map((o,a)=>OP(o)(o,e[a]));return o=>{for(let a=0;a<n;a++)r[a]=i[a](o);return r}}function Vie(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=OP(t[i])(t[i],e[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}}function $ie(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][n[o]],s=t.values[a]??0;r[i]=s,n[o]++}return r}const Uie=(t,e)=>{const r=Cc.createTransformer(e),n=xg(t),i=xg(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?rN.has(t)&&!i.values.length||rN.has(e)&&!n.values.length?Lie(t,e):yy(sz($ie(n,i),i.values),r):I1(t,e)};function lz(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Lr(t,e,r):OP(t)(t,e)}const zie=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>jr.update(e,r),stop:()=>Ac(e),now:()=>qn.isProcessing?qn.timestamp:Bi.now()}},cz=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let o=0;o<i;o++)n+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},k1=2e4;function jP(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<k1;)e+=r,n=t.next(e);return e>=k1?1/0:e}function Wie(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(jP(n),k1);return{type:"keyframes",ease:o=>n.next(i*o).value/e,duration:Lo(i)}}const Hie=5;function uz(t,e,r){const n=Math.max(e-Hie,0);return zU(r-t(n),e-n)}const Hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U_=.001;function qie({duration:t=Hr.duration,bounce:e=Hr.bounce,velocity:r=Hr.velocity,mass:n=Hr.mass}){let i,o,a=1-e;a=sl(Hr.minDamping,Hr.maxDamping,a),t=sl(Hr.minDuration,Hr.maxDuration,Lo(t)),a<1?(i=c=>{const d=c*a,f=d*t,p=d-r,g=nN(c,a),x=Math.exp(-f);return U_-p/g*x},o=c=>{const f=c*a*t,p=f*r+r,g=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-f),y=nN(Math.pow(c,2),a);return(-i(c)+U_>0?-1:1)*((p-g)*x)/y}):(i=c=>{const d=Math.exp(-c*t),f=(c-r)*t+1;return-U_+d*f},o=c=>{const d=Math.exp(-c*t),f=(r-c)*(t*t);return d*f});const s=5/t,l=Kie(i,o,s);if(t=ts(t),isNaN(l))return{stiffness:Hr.stiffness,damping:Hr.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const Gie=12;function Kie(t,e,r){let n=r;for(let i=1;i<Gie;i++)n=n-t(n)/e(n);return n}function nN(t,e){return t*Math.sqrt(1-e*e)}const Yie=["duration","bounce"],Xie=["stiffness","damping","mass"];function ID(t,e){return e.some(r=>t[r]!==void 0)}function Qie(t){let e={velocity:Hr.velocity,stiffness:Hr.stiffness,damping:Hr.damping,mass:Hr.mass,isResolvedFromDuration:!1,...t};if(!ID(t,Xie)&&ID(t,Yie))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,o=2*sl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Hr.mass,stiffness:i,damping:o}}else{const r=qie(t);e={...e,...r,mass:Hr.mass},e.isResolvedFromDuration=!0}return e}function P1(t=Hr.visualDuration,e=Hr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const o=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=Qie({...r,velocity:-Lo(r.velocity||0)}),x=p||0,y=c/(2*Math.sqrt(l*d)),b=a-o,_=Lo(Math.sqrt(l/d)),C=Math.abs(b)<5;n||(n=C?Hr.restSpeed.granular:Hr.restSpeed.default),i||(i=C?Hr.restDelta.granular:Hr.restDelta.default);let E;if(y<1){const I=nN(_,y);E=T=>{const N=Math.exp(-y*_*T);return a-N*((x+y*_*b)/I*Math.sin(I*T)+b*Math.cos(I*T))}}else if(y===1)E=I=>a-Math.exp(-_*I)*(b+(x+_*b)*I);else{const I=_*Math.sqrt(y*y-1);E=T=>{const N=Math.exp(-y*_*T),S=Math.min(I*T,300);return a-N*((x+y*_*b)*Math.sinh(S)+I*b*Math.cosh(S))/I}}const P={calculatedDuration:g&&f||null,next:I=>{const T=E(I);if(g)s.done=I>=f;else{let N=I===0?x:0;y<1&&(N=I===0?ts(x):uz(E,I,T));const S=Math.abs(N)<=n,j=Math.abs(a-T)<=i;s.done=S&&j}return s.value=s.done?a:T,s},toString:()=>{const I=Math.min(jP(P),k1),T=cz(N=>P.next(I*N).value,I,30);return I+"ms "+T},toTransition:()=>{}};return P}P1.applyToOptions=t=>{const e=Wie(t,100,P1);return t.ease=e.ease,t.duration=ts(e.duration),t.type="keyframes",t};function iN({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=S=>s!==void 0&&S<s||l!==void 0&&S>l,x=S=>s===void 0?l:l===void 0||Math.abs(s-S)<Math.abs(l-S)?s:l;let y=r*e;const b=f+y,_=a===void 0?b:a(b);_!==b&&(y=_-f);const C=S=>-y*Math.exp(-S/n),E=S=>_+C(S),P=S=>{const j=C(S),B=E(S);p.done=Math.abs(j)<=c,p.value=p.done?_:B};let I,T;const N=S=>{g(p.value)&&(I=S,T=P1({keyframes:[p.value,x(p.value)],velocity:uz(E,S,p.value),damping:i,stiffness:o,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:S=>{let j=!1;return!T&&I===void 0&&(j=!0,P(S),N(S)),I!==void 0&&S>=I?T.next(S-I):(!j&&P(S),p)}}}function Zie(t,e,r){const n=[],i=r||ll.mix||lz,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Uo:e;s=yy(l,s)}n.push(s)}return n}function Jie(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const o=t.length;if(AP(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Zie(e,n,i),l=s.length,c=d=>{if(a&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=yg(t[f],t[f+1],d);return s[f](p)};return r?d=>c(sl(t[0],t[o-1],d)):c}function eoe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=yg(0,e,n);t.push(Lr(r,1,i))}}function toe(t){const e=[0];return eoe(e,t.length-1),e}function roe(t,e){return t.map(r=>r*e)}function noe(t,e){return t.map(()=>e||ZU).splice(0,t.length-1)}function Ym({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=pie(n)?n.map(CD):CD(n),o={done:!1,value:e[0]},a=roe(r&&r.length===e.length?r:toe(e),t),s=Jie(a,e,{ease:Array.isArray(i)?i:noe(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const ioe=t=>t!==null;function RP(t,{repeat:e,repeatType:r="loop"},n,i=1){const o=t.filter(ioe),s=i<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!s||n===void 0?o[s]:n}const ooe={decay:iN,inertia:iN,tween:Ym,keyframes:Ym,spring:P1};function dz(t){typeof t.type=="string"&&(t.type=ooe[t.type])}class DP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const aoe=t=>t/100;class MP extends DP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Bi.now()&&this.tick(Bi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;dz(e);const{type:r=Ym,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:s}=e;const l=r||Ym;l!==Ym&&typeof s[0]!="number"&&(this.mixKeyframes=yy(aoe,lz(s[0],s[1])),s=[0,100]);const c=l({...e,keyframes:s});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=jP(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,P=n;if(f){const S=Math.min(this.currentTime,i)/s;let j=Math.floor(S),B=S%1;!B&&S>=1&&(B=1),B===1&&j--,j=Math.min(j,f+1),!!(j%2)&&(p==="reverse"?(B=1-B,g&&(B-=g/s)):p==="mirror"&&(P=a)),E=sl(0,1,B)*s}const I=C?{done:!1,value:d[0]}:P.next(E);o&&(I.value=o(I.value));let{done:T}=I;!C&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&x!==iN&&(I.value=RP(d,this.options,b,this.speed)),y&&y(I.value),N&&this.finish(),I}then(e,r){return this.finished.then(e,r)}get duration(){return Lo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Lo(e)}get time(){return Lo(this.currentTime)}set time(e){e=ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Lo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=zie,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function soe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Du=t=>t*180/Math.PI,oN=t=>{const e=Du(Math.atan2(t[1],t[0]));return aN(e)},loe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:oN,rotateZ:oN,skewX:t=>Du(Math.atan(t[1])),skewY:t=>Du(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},aN=t=>(t=t%360,t<0&&(t+=360),t),kD=oN,PD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),coe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PD,scaleY:OD,scale:t=>(PD(t)+OD(t))/2,rotateX:t=>aN(Du(Math.atan2(t[6],t[5]))),rotateY:t=>aN(Du(Math.atan2(-t[2],t[0]))),rotateZ:kD,rotate:kD,skewX:t=>Du(Math.atan(t[4])),skewY:t=>Du(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function sN(t){return t.includes("scale")?1:0}function lN(t,e){if(!t||t==="none")return sN(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=coe,i=r;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=loe,i=s}if(!i)return sN(e);const o=n[e],a=i[1].split(",").map(doe);return typeof o=="function"?o(a):a[o]}const uoe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return lN(r,e)};function doe(t){return parseFloat(t.trim())}const Qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zh=new Set(Qh),jD=t=>t===Xh||t===yt,foe=new Set(["x","y","z"]),hoe=Qh.filter(t=>!foe.has(t));function poe(t){const e=[];return hoe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Hu={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lN(e,"x"),y:(t,{transform:e})=>lN(e,"y")};Hu.translateX=Hu.x;Hu.translateY=Hu.y;const qu=new Set;let cN=!1,uN=!1,dN=!1;function fz(){if(uN){const t=Array.from(qu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=poe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([o,a])=>{n.getValue(o)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}uN=!1,cN=!1,qu.forEach(t=>t.complete(dN)),qu.clear()}function hz(){qu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uN=!0)})}function moe(){dN=!0,hz(),fz(),dN=!1}class FP{constructor(e,r,n,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(qu.add(this),cN||(cN=!0,jr.read(hz),jr.resolveKeyframes(fz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const o=i?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const s=n.readValue(r,a);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}soe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qu.delete(this)}cancel(){this.state==="scheduled"&&(qu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const goe=t=>t.startsWith("--");function yoe(t,e,r){goe(e)?t.style.setProperty(e,r):t.style[e]=r}const voe=CP(()=>window.ScrollTimeline!==void 0),xoe={};function boe(t,e){const r=CP(t);return()=>xoe[e]??r()}const pz=boe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rm=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,RD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rm([0,.65,.55,1]),circOut:Rm([.55,0,1,.45]),backIn:Rm([.31,.01,.66,-.59]),backOut:Rm([.33,1.53,.69,.99])};function mz(t,e){if(t)return typeof t=="function"?pz()?cz(t,e):"ease-out":JU(t)?Rm(t):Array.isArray(t)?t.map(r=>mz(r,e)||RD.easeOut):RD[t]}function woe(t,e,r,{delay:n=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeOut",times:l}={},c=void 0){const d={[e]:r};l&&(d.offset=l);const f=mz(s,i);Array.isArray(f)&&(d.easing=f);const p={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function gz(t){return typeof t=="function"&&"applyToOptions"in t}function _oe({type:t,...e}){return gz(t)&&pz()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Aoe extends DP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,AP(typeof e.type!="string");const c=_oe(e);this.animation=woe(r,n,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=RP(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(d):yoe(r,n,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Lo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Lo(e)}get time(){return Lo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&voe()?(this.animation.timeline=e,Uo):r(this)}}const yz={anticipate:YU,backInOut:KU,circInOut:QU};function Coe(t){return t in yz}function Eoe(t){typeof t.ease=="string"&&Coe(t.ease)&&(t.ease=yz[t.ease])}const DD=10;class Soe extends Aoe{constructor(e){Eoe(e),dz(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:o,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const s=new MP({...a,autoplay:!1}),l=ts(this.finishedTime??this.time);r.setWithVelocity(s.sample(l-DD).value,s.sample(l).value,DD),s.stop()}}const MD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cc.test(t)||t==="0")&&!t.startsWith("url("));function Toe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Noe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=MD(i,e),s=MD(o,e);return!a||!s?!1:Toe(t)||(r==="spring"||gz(r))&&n}function fN(t){t.duration=0,t.type="keyframes"}const Ioe=new Set(["opacity","clipPath","filter","transform"]),koe=CP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Poe(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return koe()&&r&&Ioe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&o!==0&&a!=="inertia"}const Ooe=40;class joe extends DP{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:s,name:l,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bi.now();const p={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:o,repeatType:a,name:l,motionValue:c,element:d,...f},g=d?.KeyframeResolver||FP;this.keyframeResolver=new g(s,(x,y,b)=>this.onKeyframesResolved(x,y,p,!b),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:s,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Bi.now(),Noe(e,o,a,s)||((ll.instantAnimations||!l)&&d?.(RP(e,n,r)),e[0]=e[e.length-1],fN(n),n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ooe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},g=!c&&Poe(p)?new Soe({...p,element:p.motionValue.owner.current}):new MP(p);g.finished.then(()=>this.notifyFinished()).catch(Uo),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),moe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Roe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Doe(t){const e=Roe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function vz(t,e,r=1){const[n,i]=Doe(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const a=o.trim();return VU(a)?parseFloat(a):a}return IP(i)?vz(i,e,r+1):i}function LP(t,e){return t?.[e]??t?.default??t}const xz=new Set(["width","height","top","left","right","bottom",...Qh]),Moe={test:t=>t==="auto",parse:t=>t},bz=t=>e=>e.test(t),wz=[Xh,yt,rs,ic,Tie,Sie,Moe],FD=t=>wz.find(bz(t));function Foe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UU(t):!0}const Loe=new Set(["brightness","contrast","saturate","opacity"]);function Boe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(kP)||[];if(!n)return t;const i=r.replace(n,"");let o=Loe.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+i+")"}const Voe=/\b([a-z-]*)\(.*?\)/gu,hN={...Cc,getAnimatableNone:t=>{const e=t.match(Voe);return e?e.map(Boe).join(" "):t}},LD={...Xh,transform:Math.round},$oe={rotate:ic,rotateX:ic,rotateY:ic,rotateZ:ic,scale:gv,scaleX:gv,scaleY:gv,scaleZ:gv,skew:ic,skewX:ic,skewY:ic,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:vg,originX:ED,originY:ED,originZ:yt},BP={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt,...$oe,zIndex:LD,fillOpacity:vg,strokeOpacity:vg,numOctaves:LD},Uoe={...BP,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:hN,WebkitFilter:hN},_z=t=>Uoe[t];function Az(t,e){let r=_z(t);return r!==hN&&(r=Cc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const zoe=new Set(["auto","none","0"]);function Woe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const o=t[n];typeof o=="string"&&!zoe.has(o)&&xg(o).values.length&&(i=t[n]),n++}if(i&&r)for(const o of e)t[o]=Az(r,i)}class Hoe extends FP{constructor(e,r,n,i,o){super(e,r,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),IP(c))){const d=vz(c,r.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!xz.has(n)||e.length!==2)return;const[i,o]=e,a=FD(i),s=FD(o);if(a!==s)if(jD(a)&&jD(s))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Hu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Foe(e[i]))&&n.push(i);n.length&&Woe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,a=n[o];n[o]=Hu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,l])=>{e.getValue(s).set(l)}),this.resolveNoneKeyframes()}}function qoe(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Cz=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ez(t){return $U(t)&&"offsetHeight"in t}const BD=30,Goe=t=>!isNaN(parseFloat(t));class Koe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Bi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Goe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new EP);const n=this.events[e].add(r);return e==="change"?()=>{n(),jr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BD);return zU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(t,e){return new Koe(t,e)}const{schedule:VP}=ez(queueMicrotask,!1),sa={x:!1,y:!1};function Sz(){return sa.x||sa.y}function Yoe(t){return t==="x"||t==="y"?sa[t]?null:(sa[t]=!0,()=>{sa[t]=!1}):sa.x||sa.y?null:(sa.x=sa.y=!0,()=>{sa.x=sa.y=!1})}function Tz(t,e){const r=qoe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function VD(t){return!(t.pointerType==="touch"||Sz())}function Xoe(t,e,r={}){const[n,i,o]=Tz(t,r),a=s=>{if(!VD(s))return;const{target:l}=s,c=e(l,s);if(typeof c!="function"||!l)return;const d=f=>{VD(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const Nz=(t,e)=>e?t===e?!0:Nz(t,e.parentElement):!1,$P=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Qoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zoe(t){return Qoe.has(t.tagName)||t.tabIndex!==-1}const a1=new WeakSet;function $D(t){return e=>{e.key==="Enter"&&t(e)}}function z_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Joe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=$D(()=>{if(a1.has(r))return;z_(r,"down");const i=$D(()=>{z_(r,"up")}),o=()=>z_(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function UD(t){return $P(t)&&!Sz()}function eae(t,e,r={}){const[n,i,o]=Tz(t,r),a=s=>{const l=s.currentTarget;if(!UD(s))return;a1.add(l);const c=e(l,s),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),a1.has(l)&&a1.delete(l),UD(g)&&typeof c=="function"&&c(g,{success:x})},f=g=>{d(g,l===window||l===document||r.useGlobalTarget||Nz(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return n.forEach(s=>{(r.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),Ez(s)&&(s.addEventListener("focus",c=>Joe(c,i)),!Zoe(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function Iz(t){return $U(t)&&"ownerSVGElement"in t}function tae(t){return Iz(t)&&t.tagName==="svg"}const si=t=>!!(t&&t.getVelocity),rae=[...wz,nn,Cc],nae=t=>rae.find(bz(t)),UP=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function zD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iae(...t){return e=>{let r=!1;const n=t.map(i=>{const o=zD(i,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():zD(t[i],null)}}}}function oae(...t){return k.useCallback(iae(...t),t)}class aae extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=Ez(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sae({children:t,isPresent:e,anchorX:r,root:n}){const i=k.useId(),o=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=k.useContext(UP),l=oae(o,t?.ref);return k.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:p,right:g}=a.current;if(e||!o.current||!c||!d)return;const x=r==="left"?`left: ${p}`:`right: ${g}`;o.current.dataset.motionPopId=i;const y=document.createElement("style");s&&(y.nonce=s);const b=n??document.head;return b.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(y)&&b.removeChild(y)}},[e]),u.jsx(aae,{isPresent:e,childRef:o,sizeRef:a,children:k.cloneElement(t,{ref:l})})}const lae=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:a,anchorX:s,root:l})=>{const c=xP(cae),d=k.useId();let f=!0,p=k.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:r,custom:i,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;n&&n()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[r,c,n]);return o&&f&&(p={...p}),k.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[r]),k.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(t=u.jsx(sae,{isPresent:r,anchorX:s,root:l,children:t})),u.jsx(gb.Provider,{value:p,children:t})};function cae(){return new Map}function kz(t=!0){const e=k.useContext(gb);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,o=k.useId();k.useEffect(()=>{if(t)return i(o)},[t]);const a=k.useCallback(()=>t&&n&&n(o),[o,n,t]);return!r&&n?[!1,a]:[!0]}const yv=t=>t.key||"";function WD(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const yd=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:s="left",root:l})=>{const[c,d]=kz(a),f=k.useMemo(()=>WD(t),[t]),p=a&&!c?[]:f.map(yv),g=k.useRef(!0),x=k.useRef(f),y=xP(()=>new Map),[b,_]=k.useState(f),[C,E]=k.useState(f);BU(()=>{g.current=!1,x.current=f;for(let T=0;T<C.length;T++){const N=yv(C[T]);p.includes(N)?y.delete(N):y.get(N)!==!0&&y.set(N,!1)}},[C,p.length,p.join("-")]);const P=[];if(f!==b){let T=[...f];for(let N=0;N<C.length;N++){const S=C[N],j=yv(S);p.includes(j)||(T.splice(N,0,S),P.push(S))}return o==="wait"&&P.length&&(T=P),E(WD(T)),_(f),null}const{forceRender:I}=k.useContext(vP);return u.jsx(u.Fragment,{children:C.map(T=>{const N=yv(T),S=a&&!c?!1:f===C||p.includes(N),j=()=>{if(y.has(N))y.set(N,!0);else return;let B=!0;y.forEach(M=>{M||(B=!1)}),B&&(I?.(),E(x.current),a&&d?.(),n&&n())};return u.jsx(lae,{isPresent:S,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:S?void 0:j,anchorX:s,children:T},N)})})},Pz=k.createContext({strict:!1}),HD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ch={};for(const t in HD)ch[t]={isEnabled:e=>HD[t].some(r=>!!e[r])};function uae(t){for(const e in t)ch[e]={...ch[e],...t[e]}}const dae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function O1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dae.has(t)}let Oz=t=>!O1(t);function fae(t){typeof t=="function"&&(Oz=e=>e.startsWith("on")?!O1(e):t(e))}try{fae(require("@emotion/is-prop-valid").default)}catch{}function hae(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Oz(i)||r===!0&&O1(i)||!e&&!O1(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const yb=k.createContext({});function vb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bg(t){return typeof t=="string"||Array.isArray(t)}const zP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WP=["initial",...zP];function xb(t){return vb(t.animate)||WP.some(e=>bg(t[e]))}function jz(t){return!!(xb(t)||t.variants)}function pae(t,e){if(xb(t)){const{initial:r,animate:n}=t;return{initial:r===!1||bg(r)?r:void 0,animate:bg(n)?n:void 0}}return t.inherit!==!1?e:{}}function mae(t){const{initial:e,animate:r}=pae(t,k.useContext(yb));return k.useMemo(()=>({initial:e,animate:r}),[qD(e),qD(r)])}function qD(t){return Array.isArray(t)?t.join(" "):t}const wg={};function gae(t){for(const e in t)wg[e]=t[e],NP(e)&&(wg[e].isCSSVariable=!0)}function Rz(t,{layout:e,layoutId:r}){return Zh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!wg[t]||t==="opacity")}const yae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vae=Qh.length;function xae(t,e,r){let n="",i=!0;for(let o=0;o<vae;o++){const a=Qh[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||r){const c=Cz(s,BP[a]);if(!l){i=!1;const d=yae[a]||a;n+=`${d}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function HP(t,e,r){const{style:n,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const c=e[l];if(Zh.has(l)){a=!0;continue}else if(NP(l)){i[l]=c;continue}else{const d=Cz(c,BP[l]);l.startsWith("origin")?(s=!0,o[l]=d):n[l]=d}}if(e.transform||(a||r?n.transform=xae(e,t.transform,r):n.transform&&(n.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:d=0}=o;n.transformOrigin=`${l} ${c} ${d}`}}const qP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dz(t,e,r){for(const n in e)!si(e[n])&&!Rz(n,r)&&(t[n]=e[n])}function bae({transformTemplate:t},e){return k.useMemo(()=>{const r=qP();return HP(r,e,t),Object.assign({},r.vars,r.style)},[e])}function wae(t,e){const r=t.style||{},n={};return Dz(n,r,t),Object.assign(n,bae(t,e)),n}function _ae(t,e){const r={},n=wae(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Aae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cae={offset:"strokeDashoffset",array:"strokeDasharray"};function Eae(t,e,r=1,n=0,i=!0){t.pathLength=1;const o=i?Aae:Cae;t[o.offset]=yt.transform(-n);const a=yt.transform(e),s=yt.transform(r);t[o.array]=`${a} ${s}`}function Mz(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...s},l,c,d){if(HP(t,s,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&Eae(f,i,o,a,!1)}const Fz=()=>({...qP(),attrs:{}}),Lz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sae(t,e,r,n){const i=k.useMemo(()=>{const o=Fz();return Mz(o,e,Lz(n),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Dz(o,t.style,t),i.style={...o,...i.style}}return i}const Tae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GP(t){return typeof t!="string"||t.includes("-")?!1:!!(Tae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nae(t,e,r,{latestValues:n},i,o=!1){const s=(GP(t)?Sae:_ae)(e,n,i,t),l=hae(e,typeof t=="string",o),c=t!==k.Fragment?{...l,...s,ref:r}:{},{children:d}=e,f=k.useMemo(()=>si(d)?d.get():d,[d]);return k.createElement(t,{...c,children:f})}function GD(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function KP(t,e,r,n){if(typeof e=="function"){const[i,o]=GD(n);e=e(r!==void 0?r:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=GD(n);e=e(r!==void 0?r:t.custom,i,o)}return e}function s1(t){return si(t)?t.get():t}function Iae({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:kae(r,n,i,t),renderState:e()}}function kae(t,e,r,n){const i={},o=n(t,{});for(const p in o)i[p]=s1(o[p]);let{initial:a,animate:s}=t;const l=xb(t),c=jz(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?s:a;if(f&&typeof f!="boolean"&&!vb(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=KP(t,p[g]);if(x){const{transitionEnd:y,transition:b,..._}=x;for(const C in _){let E=_[C];if(Array.isArray(E)){const P=d?E.length-1:0;E=E[P]}E!==null&&(i[C]=E)}for(const C in y)i[C]=y[C]}}}return i}const Bz=t=>(e,r)=>{const n=k.useContext(yb),i=k.useContext(gb),o=()=>Iae(t,e,n,i);return r?o():xP(o)};function YP(t,e,r){const{style:n}=t,i={};for(const o in n)(si(n[o])||e.style&&si(e.style[o])||Rz(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(i[o]=n[o]);return i}const Pae=Bz({scrapeMotionValuesFromProps:YP,createRenderState:qP});function Vz(t,e,r){const n=YP(t,e,r);for(const i in t)if(si(t[i])||si(e[i])){const o=Qh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=t[i]}return n}const Oae=Bz({scrapeMotionValuesFromProps:Vz,createRenderState:Fz}),jae=Symbol.for("motionComponentSymbol");function Pf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Rae(t,e,r){return k.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Pf(r)&&(r.current=n))},[e])}const XP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dae="framerAppearId",$z="data-"+XP(Dae),Uz=k.createContext({});function Mae(t,e,r,n,i){const{visualElement:o}=k.useContext(yb),a=k.useContext(Pz),s=k.useContext(gb),l=k.useContext(UP).reducedMotion,c=k.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:o,props:r,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=k.useContext(Uz);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Fae(c.current,r,i,f);const p=k.useRef(!1);k.useInsertionEffect(()=>{d&&p.current&&d.update(r,s)});const g=r[$z],x=k.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return BU(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function Fae(t,e,r,n){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:zz(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&Pf(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}function zz(t){if(t)return t.options.allowProjection!==!1?t.projection:zz(t.parent)}function W_(t,{forwardMotionProps:e=!1}={},r,n){r&&uae(r);const i=GP(t)?Oae:Pae;function o(s,l){let c;const d={...k.useContext(UP),...s,layoutId:Lae(s)},{isStatic:f}=d,p=mae(s),g=i(s,f);if(!f&&bP){Bae();const x=Vae(d);c=x.MeasureLayout,p.visualElement=Mae(t,g,d,n,x.ProjectionNode)}return u.jsxs(yb.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...d}):null,Nae(t,s,Rae(g,p.visualElement,l),g,f,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=k.forwardRef(o);return a[jae]=t,a}function Lae({layoutId:t}){const e=k.useContext(vP).id;return e&&t!==void 0?e+"-"+t:t}function Bae(t,e){k.useContext(Pz).strict}function Vae(t){const{drag:e,layout:r}=ch;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function $ae(t,e){if(typeof Proxy>"u")return W_;const r=new Map,n=(o,a)=>W_(o,a,t,e),i=(o,a)=>n(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?n:(r.has(a)||r.set(a,W_(a,void 0,t,e)),r.get(a))})}function Wz({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Uae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zae(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function H_(t){return t===void 0||t===1}function pN({scale:t,scaleX:e,scaleY:r}){return!H_(t)||!H_(e)||!H_(r)}function Tu(t){return pN(t)||Hz(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Hz(t){return KD(t.x)||KD(t.y)}function KD(t){return t&&t!=="0%"}function j1(t,e,r){const n=t-r,i=e*n;return r+i}function YD(t,e,r,n,i){return i!==void 0&&(t=j1(t,i,n)),j1(t,r,n)+e}function mN(t,e=0,r=1,n,i){t.min=YD(t.min,e,r,n,i),t.max=YD(t.max,e,r,n,i)}function qz(t,{x:e,y:r}){mN(t.x,e.translate,e.scale,e.originPoint),mN(t.y,r.translate,r.scale,r.originPoint)}const XD=.999999999999,QD=1.0000000000001;function Wae(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=r[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&jf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,qz(t,a)),n&&Tu(o.latestValues)&&jf(t,o.latestValues))}e.x<QD&&e.x>XD&&(e.x=1),e.y<QD&&e.y>XD&&(e.y=1)}function Of(t,e){t.min=t.min+e,t.max=t.max+e}function ZD(t,e,r,n,i=.5){const o=Lr(t.min,t.max,i);mN(t,e,r,o,n)}function jf(t,e){ZD(t.x,e.x,e.scaleX,e.scale,e.originX),ZD(t.y,e.y,e.scaleY,e.scale,e.originY)}function Gz(t,e){return Wz(zae(t.getBoundingClientRect(),e))}function Hae(t,e,r){const n=Gz(t,r),{scroll:i}=e;return i&&(Of(n.x,i.offset.x),Of(n.y,i.offset.y)),n}const JD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rf=()=>({x:JD(),y:JD()}),e6=()=>({min:0,max:0}),Yr=()=>({x:e6(),y:e6()}),gN={current:null},Kz={current:!1};function qae(){if(Kz.current=!0,!!bP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gN.current=t.matches;t.addEventListener("change",e),e()}else gN.current=!1}const Gae=new WeakMap;function Kae(t,e,r){for(const n in e){const i=e[n],o=r[n];if(si(i))t.addValue(n,i);else if(si(o))t.addValue(n,lh(i,{owner:t}));else if(o!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,lh(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const t6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yae{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=FP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Bi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,jr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=xb(r),this.isVariantNode=jz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&si(g)&&g.set(l[p])}}mount(e){this.current=e,Gae.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Kz.current||qae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gN.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ac(this.notifyUpdate),Ac(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Zh.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&jr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ch){const r=ch[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<t6.length;n++){const i=t6[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Kae(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=lh(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(VU(n)||UU(n))?n=parseFloat(n):!nae(n)&&Cc.test(r)&&(n=Az(e,r)),this.setBaseTarget(e,si(n)?n.get():n)),si(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=KP(this.props,r,this.presenceContext?.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!si(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new EP),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){VP.render(this.render)}}class Yz extends Yae{constructor(){super(...arguments),this.KeyframeResolver=Hoe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;si(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Xz(t,{style:e,vars:r},n,i){const o=t.style;let a;for(a in e)o[a]=e[a];i?.applyProjectionStyles(o,n);for(a in r)o.setProperty(a,r[a])}function Xae(t){return window.getComputedStyle(t)}class Qae extends Yz{constructor(){super(...arguments),this.type="html",this.renderInstance=Xz}readValueFromInstance(e,r){if(Zh.has(r))return this.projection?.isProjecting?sN(r):uoe(e,r);{const n=Xae(e),i=(NP(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Gz(e,r)}build(e,r,n){HP(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return YP(e,r,n)}}const Qz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zae(t,e,r,n){Xz(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Qz.has(i)?i:XP(i),e.attrs[i])}class Jae extends Yz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Zh.has(r)){const n=_z(r);return n&&n.default||0}return r=Qz.has(r)?r:XP(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Vz(e,r,n)}build(e,r,n){Mz(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Zae(e,r,n,i)}mount(e){this.isSVGTag=Lz(e.tagName),super.mount(e)}}const ese=(t,e)=>GP(t)?new Jae(e):new Qae(e,{allowProjection:t!==k.Fragment});function Hf(t,e,r){const n=t.getProps();return KP(n,e,r!==void 0?r:n.custom,t)}const yN=t=>Array.isArray(t);function tse(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,lh(r))}function rse(t){return yN(t)?t[t.length-1]||0:t}function nse(t,e){const r=Hf(t,e);let{transitionEnd:n={},transition:i={},...o}=r||{};o={...o,...n};for(const a in o){const s=rse(o[a]);tse(t,a,s)}}function ise(t){return!!(si(t)&&t.add)}function vN(t,e){const r=t.getValue("willChange");if(ise(r))return r.add(e);if(!r&&ll.WillChange){const n=new ll.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Zz(t){return t.props[$z]}const ose=t=>t!==null;function ase(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(ose),o=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[o]}const sse={type:"spring",stiffness:500,damping:25,restSpeed:10},lse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cse={type:"keyframes",duration:.8},use={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dse=(t,{keyframes:e})=>e.length>2?cse:Zh.has(t)?t.startsWith("scale")?lse(e[1]):sse:use;function fse({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const QP=(t,e,r,n={},i,o)=>a=>{const s=LP(n,t)||{},l=s.delay||n.delay||0;let{elapsed:c=0}=n;c=c-ts(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};fse(s)||Object.assign(d,dse(t,d)),d.duration&&(d.duration=ts(d.duration)),d.repeatDelay&&(d.repeatDelay=ts(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(fN(d),d.delay===0&&(f=!0)),(ll.instantAnimations||ll.skipAnimations)&&(f=!0,fN(d),d.delay=0),d.allowFlatten=!s.type&&!s.ease,f&&!o&&e.get()!==void 0){const p=ase(d.keyframes,s);if(p!==void 0){jr.update(()=>{d.onUpdate(p),d.onComplete()});return}}return s.isSync?new MP(d):new joe(d)};function hse({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Jz(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...s}=e;n&&(o=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in s){const f=t.getValue(d,t.latestValues[d]??null),p=s[d];if(p===void 0||c&&hse(c,d))continue;const g={delay:r,...LP(o||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=Zz(t);if(_){const C=window.MotionHandoffAnimation(_,d,jr);C!==null&&(g.startTime=C,y=!0)}}vN(t,d),f.start(QP(d,f,p,t.shouldReduceMotion&&xz.has(d)?{type:!1}:g,t,y));const b=f.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{jr.update(()=>{a&&nse(t,a)})}),l}function eW(t,e,r,n=0,i=1){const o=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),a=t.size,s=(a-1)*n;return typeof r=="function"?r(o,a):i===1?o*n:s-o*n}function xN(t,e,r={}){const n=Hf(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const o=n?()=>Promise.all(Jz(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return pse(t,e,l,c,d,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[o,a]:[a,o];return l().then(()=>c())}else return Promise.all([o(),a(r.delay)])}function pse(t,e,r=0,n=0,i=0,o=1,a){const s=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),s.push(xN(l,e,{...a,delay:r+(typeof n=="function"?0:n)+eW(t.variantChildren,l,n,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(s)}function mse(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>xN(t,o,r));n=Promise.all(i)}else if(typeof e=="string")n=xN(t,e,r);else{const i=typeof e=="function"?Hf(t,e,r.custom):e;n=Promise.all(Jz(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function tW(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const gse=WP.length;function rW(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?rW(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<gse;r++){const n=WP[r],i=t.props[n];(bg(i)||i===!1)&&(e[n]=i)}return e}const yse=[...zP].reverse(),vse=zP.length;function xse(t){return e=>Promise.all(e.map(({animation:r,options:n})=>mse(t,r,n)))}function bse(t){let e=xse(t),r=r6(),n=!0;const i=l=>(c,d)=>{const f=Hf(t,d,l==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;c={...c,...x,...g}}return c};function o(l){e=l(t)}function a(l){const{props:c}=t,d=rW(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let b=0;b<vse;b++){const _=yse[b],C=r[_],E=c[_]!==void 0?c[_]:d[_],P=bg(E),I=_===l?C.isActive:null;I===!1&&(x=b);let T=E===d[_]&&E!==c[_]&&P;if(T&&n&&t.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...g},!C.isActive&&I===null||!E&&!C.prevProp||vb(E)||typeof E=="boolean")continue;const N=wse(C.prevProp,E);let S=N||_===l&&C.isActive&&!T&&P||b>x&&P,j=!1;const B=Array.isArray(E)?E:[E];let M=B.reduce(i(_),{});I===!1&&(M={});const{prevResolvedValues:L={}}=C,F={...L,...M},$=J=>{S=!0,p.has(J)&&(j=!0,p.delete(J)),C.needsAnimating[J]=!0;const H=t.getValue(J);H&&(H.liveStyle=!1)};for(const J in F){const H=M[J],oe=L[J];if(g.hasOwnProperty(J))continue;let z=!1;yN(H)&&yN(oe)?z=!tW(H,oe):z=H!==oe,z?H!=null?$(J):p.add(J):H!==void 0&&p.has(J)?$(J):C.protectedKeys[J]=!0}C.prevProp=E,C.prevResolvedValues=M,C.isActive&&(g={...g,...M}),n&&t.blockInitialAnimation&&(S=!1);const q=T&&N;S&&(!q||j)&&f.push(...B.map(J=>{const H={type:_};if(typeof J=="string"&&n&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,z=Hf(oe,J);if(oe.enteringChildren&&z){const{delayChildren:Q}=z.transition||{};H.delay=eW(oe.enteringChildren,t,Q)}}return{animation:J,options:H}}))}if(p.size){const b={};if(typeof c.initial!="boolean"){const _=Hf(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(b.transition=_.transition)}p.forEach(_=>{const C=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),b[_]=C??null}),f.push({animation:b})}let y=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(f):Promise.resolve()}function s(l,c){if(r[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),r[l].isActive=c;const d=a(l);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>r,reset:()=>{r=r6()}}}function wse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tW(e,t):!1}function bu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r6(){return{animate:bu(!0),whileInView:bu(),whileHover:bu(),whileTap:bu(),whileDrag:bu(),whileFocus:bu(),exit:bu()}}class Rc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _se extends Rc{constructor(e){super(e),e.animationState||(e.animationState=bse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ase=0;class Cse extends Rc{constructor(){super(...arguments),this.id=Ase++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ese={animation:{Feature:_se},exit:{Feature:Cse}};function _g(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function by(t){return{point:{x:t.pageX,y:t.pageY}}}const Sse=t=>e=>$P(e)&&t(e,by(e));function Xm(t,e,r,n){return _g(t,e,Sse(r),n)}const nW=1e-4,Tse=1-nW,Nse=1+nW,iW=.01,Ise=0-iW,kse=0+iW;function xi(t){return t.max-t.min}function Pse(t,e,r){return Math.abs(t-e)<=r}function n6(t,e,r,n=.5){t.origin=n,t.originPoint=Lr(e.min,e.max,t.origin),t.scale=xi(r)/xi(e),t.translate=Lr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Tse&&t.scale<=Nse||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ise&&t.translate<=kse||isNaN(t.translate))&&(t.translate=0)}function Qm(t,e,r,n){n6(t.x,e.x,r.x,n?n.originX:void 0),n6(t.y,e.y,r.y,n?n.originY:void 0)}function i6(t,e,r){t.min=r.min+e.min,t.max=t.min+xi(e)}function Ose(t,e,r){i6(t.x,e.x,r.x),i6(t.y,e.y,r.y)}function o6(t,e,r){t.min=e.min-r.min,t.max=t.min+xi(e)}function Zm(t,e,r){o6(t.x,e.x,r.x),o6(t.y,e.y,r.y)}function jo(t){return[t("x"),t("y")]}const oW=({current:t})=>t?t.ownerDocument.defaultView:null,a6=(t,e)=>Math.abs(t-e);function jse(t,e){const r=a6(t.x,e.x),n=a6(t.y,e.y);return Math.sqrt(r**2+n**2)}class aW{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=G_(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=jse(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:y}=p,{timestamp:b}=qn;this.history.push({...y,timestamp:b});const{onStart:_,onMove:C}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=q_(g,this.transformPagePoint),jr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=G_(p.type==="pointercancel"?this.lastMoveEventInfo:q_(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,_),y&&y(p,_)},!$P(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const s=by(e),l=q_(s,this.transformPagePoint),{point:c}=l,{timestamp:d}=qn;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=r;f&&f(e,G_(l,this.history)),this.removeListeners=yy(Xm(this.contextWindow,"pointermove",this.handlePointerMove),Xm(this.contextWindow,"pointerup",this.handlePointerUp),Xm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ac(this.updatePoint)}}function q_(t,e){return e?{point:e(t.point)}:t}function s6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function G_({point:t},e){return{point:t,delta:s6(t,sW(e)),offset:s6(t,Rse(e)),velocity:Dse(e,.1)}}function Rse(t){return t[0]}function sW(t){return t[t.length-1]}function Dse(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=sW(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>ts(e)));)r--;if(!n)return{x:0,y:0};const o=Lo(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Mse(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Lr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Lr(r,t,n.max):Math.min(t,r)),t}function l6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Fse(t,{top:e,left:r,bottom:n,right:i}){return{x:l6(t.x,r,i),y:l6(t.y,e,n)}}function c6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Lse(t,e){return{x:c6(t.x,e.x),y:c6(t.y,e.y)}}function Bse(t,e){let r=.5;const n=xi(t),i=xi(e);return i>n?r=yg(e.min,e.max-n,t.min):n>i&&(r=yg(t.min,t.max-i,e.min)),sl(0,1,r)}function Vse(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const bN=.35;function $se(t=bN){return t===!1?t=0:t===!0&&(t=bN),{x:u6(t,"left","right"),y:u6(t,"top","bottom")}}function u6(t,e,r){return{min:d6(t,e),max:d6(t,r)}}function d6(t,e){return typeof t=="number"?t:t[e]||0}const Use=new WeakMap;class zse{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(by(f).point)},a=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:y}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yoe(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jo(_=>{let C=this.getAxisMotionValue(_).get()||0;if(rs.test(C)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[_];P&&(C=xi(P)*(parseFloat(C)/100))}}this.originPoint[_]=C}),y&&jr.postRender(()=>y(f,p)),vN(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(x&&this.currentDirection===null){this.currentDirection=Wse(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),b&&b(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>jo(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new aW(e,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:oW(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&jr.postRender(()=>s(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!vv(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Mse(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Pf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Fse(n.layoutBox,e):this.constraints=!1,this.elastic=$se(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&jo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Vse(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Pf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Hae(n,i.root,this.visualElement.getTransformPagePoint());let a=Lse(i.layout.layoutBox,o);if(r){const s=r(Uae(a));this.hasMutatedConstraints=!!s,s&&(a=Wz(s))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=jo(d=>{if(!vv(d,r,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return vN(this.visualElement,e),n.start(QP(e,n,0,r,this.visualElement,!1))}stopAnimation(){jo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){jo(r=>{const{drag:n}=this.getProps();if(!vv(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[r];o.set(e[r]-Lr(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Pf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jo(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=Bse({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jo(a=>{if(!vv(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];s.set(Lr(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Use.set(this.visualElement,this);const e=this.visualElement.current,r=Xm(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Pf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),jr.read(n);const a=_g(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jo(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=bN,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function vv(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Wse(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Hse extends Rc{constructor(e){super(e),this.removeGroupControls=Uo,this.removeListeners=Uo,this.controls=new zse(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uo}unmount(){this.removeGroupControls(),this.removeListeners()}}const f6=t=>(e,r)=>{t&&jr.postRender(()=>t(e,r))};class qse extends Rc{constructor(){super(...arguments),this.removePointerDownListener=Uo}onPointerDown(e){this.session=new aW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:f6(e),onStart:f6(r),onMove:n,onEnd:(o,a)=>{delete this.session,i&&jr.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Xm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const l1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(yt.test(t))t=parseFloat(t);else return t;const r=h6(t,e.target.x),n=h6(t,e.target.y);return`${r}% ${n}%`}},Gse={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Cc.parse(t);if(i.length>5)return n;const o=Cc.createTransformer(t),a=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const c=Lr(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),o(i)}};let K_=!1;class Kse extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;gae(Yse),o&&(r.group&&r.group.add(o),n&&n.register&&i&&n.register(o),K_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),l1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:o}=this.props,{projection:a}=n;return a&&(a.isPresent=o,K_=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||jr.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),VP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;K_=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lW(t){const[e,r]=kz(),n=k.useContext(vP);return u.jsx(Kse,{...t,layoutGroup:n,switchLayoutGroup:k.useContext(Uz),isPresent:e,safeToRemove:r})}const Yse={borderRadius:{...pm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pm,borderTopRightRadius:pm,borderBottomLeftRadius:pm,borderBottomRightRadius:pm,boxShadow:Gse};function Xse(t,e,r){const n=si(t)?t:lh(t);return n.start(QP("",n,e,r)),n.animation}const Qse=(t,e)=>t.depth-e.depth;class Zse{constructor(){this.children=[],this.isDirty=!1}add(e){wP(this.children,e),this.isDirty=!0}remove(e){_P(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qse),this.isDirty=!1,this.children.forEach(e)}}function Jse(t,e){const r=Bi.now(),n=({timestamp:i})=>{const o=i-r;o>=e&&(Ac(n),t(o-e))};return jr.setup(n,!0),()=>Ac(n)}const cW=["TopLeft","TopRight","BottomLeft","BottomRight"],ele=cW.length,p6=t=>typeof t=="string"?parseFloat(t):t,m6=t=>typeof t=="number"||yt.test(t);function tle(t,e,r,n,i,o){i?(t.opacity=Lr(0,r.opacity??1,rle(n)),t.opacityExit=Lr(e.opacity??1,0,nle(n))):o&&(t.opacity=Lr(e.opacity??1,r.opacity??1,n));for(let a=0;a<ele;a++){const s=`border${cW[a]}Radius`;let l=g6(e,s),c=g6(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||m6(l)===m6(c)?(t[s]=Math.max(Lr(p6(l),p6(c),n),0),(rs.test(c)||rs.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||r.rotate)&&(t.rotate=Lr(e.rotate||0,r.rotate||0,n))}function g6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rle=uW(0,.5,XU),nle=uW(.5,.95,Uo);function uW(t,e,r){return n=>n<t?0:n>e?1:r(yg(t,e,n))}function y6(t,e){t.min=e.min,t.max=e.max}function Io(t,e){y6(t.x,e.x),y6(t.y,e.y)}function v6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function x6(t,e,r,n,i){return t-=e,t=j1(t,1/r,n),i!==void 0&&(t=j1(t,1/i,n)),t}function ile(t,e=0,r=1,n=.5,i,o=t,a=t){if(rs.test(e)&&(e=parseFloat(e),e=Lr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=Lr(o.min,o.max,n);t===o&&(s-=e),t.min=x6(t.min,e,r,s,i),t.max=x6(t.max,e,r,s,i)}function b6(t,e,[r,n,i],o,a){ile(t,e[r],e[n],e[i],e.scale,o,a)}const ole=["x","scaleX","originX"],ale=["y","scaleY","originY"];function w6(t,e,r,n){b6(t.x,e,ole,r?r.x:void 0,n?n.x:void 0),b6(t.y,e,ale,r?r.y:void 0,n?n.y:void 0)}function _6(t){return t.translate===0&&t.scale===1}function dW(t){return _6(t.x)&&_6(t.y)}function A6(t,e){return t.min===e.min&&t.max===e.max}function sle(t,e){return A6(t.x,e.x)&&A6(t.y,e.y)}function C6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fW(t,e){return C6(t.x,e.x)&&C6(t.y,e.y)}function E6(t){return xi(t.x)/xi(t.y)}function S6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lle{constructor(){this.members=[]}add(e){wP(this.members,e),e.scheduleRender()}remove(e){if(_P(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cle(t,e,r){let n="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=r?.z||0;if((i||o||a)&&(n=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:x}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(n+=`scale(${s}, ${l})`),n||"none"}const Y_=["","X","Y","Z"],ule=1e3;let dle=0;function X_(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function hW(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Zz(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",jr,!(i||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&hW(n)}function pW({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},s=e?.()){this.id=dle++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ple),this.nodes.forEach(vle),this.nodes.forEach(xle),this.nodes.forEach(mle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zse)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new EP),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Iz(a)&&!tae(a),this.instance=a;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),t){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;jr.read(()=>{f=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=Jse(p,250),l1.hasAnimatedSinceResize&&(l1.hasAnimatedSinceResize=!1,this.nodes.forEach(I6)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||Cle,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),_=!this.targetLayout||!fW(this.targetLayout,g),C=!f&&p;if(this.options.layoutRoot||this.resumeFrom||C||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...LP(x,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,C)}else f||I6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ble),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(N6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yle),this.nodes.forEach(fle),this.nodes.forEach(hle)):this.nodes.forEach(N6),this.clearAllSnapshots();const s=Bi.now();qn.delta=sl(0,1e3/60,s-qn.timestamp),qn.timestamp=s,qn.isProcessing=!0,L_.update.process(qn),L_.preRender.process(qn),L_.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gle),this.sharedNodes.forEach(wle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xi(this.snapshot.measuredBox.x)&&!xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!dW(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(s||Tu(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),Ele(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Yr();const s=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Sle))){const{scroll:c}=this.root;c&&(Of(s.x,c.offset.x),Of(s.y,c.offset.y))}return s}removeElementScroll(a){const s=Yr();if(Io(s,a),this.scroll?.wasRoot)return s;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Io(s,a),Of(s.x,d.offset.x),Of(s.y,d.offset.y))}return s}applyTransform(a,s=!1){const l=Yr();Io(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Tu(d.latestValues)&&jf(l,d.latestValues)}return Tu(this.latestValues)&&jf(l,this.latestValues),l}removeTransform(a){const s=Yr();Io(s,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Tu(c.latestValues))continue;pN(c.latestValues)&&c.updateSnapshot();const d=Yr(),f=c.measurePageBox();Io(d,f),w6(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Tu(this.latestValues)&&w6(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),Zm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ose(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Io(this.target,this.layout.layoutBox),qz(this.target,this.targetDelta)):Io(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),Zm(this.relativeTargetOrigin,this.target,p.target),Io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pN(this.parent.latestValues)||Hz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),s=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Io(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Wae(this.layoutCorrected,this.treeScale,this.path,s),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Yr());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v6(this.prevProjectionDelta.x,this.projectionDelta.x),v6(this.prevProjectionDelta.y,this.projectionDelta.y)),Qm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!S6(this.projectionDelta.x,this.prevProjectionDelta.x)||!S6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rf(),this.projectionDelta=Rf(),this.projectionDeltaWithTransform=Rf()}setAnimationOrigin(a,s=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Rf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=Yr(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,b=this.getStack(),_=!b||b.members.length<=1,C=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(Ale));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const I=P/1e3;k6(f.x,a.x,I),k6(f.y,a.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zm(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_le(this.relativeTarget,this.relativeTargetOrigin,p,I),E&&sle(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Yr()),Io(E,this.relativeTarget)),y&&(this.animationValues=d,tle(d,c,this.latestValues,I,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jr.update(()=>{l1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lh(0)),this.currentAnimation=Xse(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ule),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:d}=a;if(!(!s||!l||!c)){if(this!==a&&this.layout&&c&&mW(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Yr();const f=xi(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const p=xi(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}Io(s,l),jf(s,d),Qm(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lle),this.sharedNodes.get(a).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&X_("z",a,c,this.animationValues);for(let d=0;d<Y_.length;d++)X_(`rotate${Y_[d]}`,a,c,this.animationValues),X_(`skew${Y_[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=s1(s?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=s1(s?.pointerEvents)||""),this.hasProjected&&!Tu(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=cle(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),a.transform=f;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in wg){if(d[x]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:_}=wg[x],C=f==="none"?d[x]:y(d[x],c);if(b){const E=b.length;for(let P=0;P<E;P++)a[b[P]]=C}else _?this.options.visualElement.renderState.vars[x]=C:a[x]=C}this.options.layoutId&&(a.pointerEvents=c===this?s1(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(T6),this.root.sharedNodes.clear()}}}function fle(t){t.updateLayout()}function hle(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?jo(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=xi(f);f.min=r[d].min,f.max=f.min+p}):mW(i,e.layoutBox,r)&&jo(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=xi(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Rf();Qm(a,r,e.layoutBox);const s=Rf();o?Qm(s,t.applyTransform(n,!0),e.measuredBox):Qm(s,r,e.layoutBox);const l=!dW(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=Yr();Zm(g,e.layoutBox,f.layoutBox);const x=Yr();Zm(x,r,p.layoutBox),fW(g,x)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ple(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gle(t){t.clearSnapshot()}function T6(t){t.clearMeasurements()}function N6(t){t.isLayoutDirty=!1}function yle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vle(t){t.resolveTargetDelta()}function xle(t){t.calcProjection()}function ble(t){t.resetSkewAndRotation()}function wle(t){t.removeLeadSnapshot()}function k6(t,e,r){t.translate=Lr(e.translate,0,r),t.scale=Lr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function P6(t,e,r,n){t.min=Lr(e.min,r.min,n),t.max=Lr(e.max,r.max,n)}function _le(t,e,r,n){P6(t.x,e.x,r.x,n),P6(t.y,e.y,r.y,n)}function Ale(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cle={duration:.45,ease:[.4,0,.1,1]},O6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j6=O6("applewebkit/")&&!O6("chrome/")?Math.round:Uo;function R6(t){t.min=j6(t.min),t.max=j6(t.max)}function Ele(t){R6(t.x),R6(t.y)}function mW(t,e,r){return t==="position"||t==="preserve-aspect"&&!Pse(E6(e),E6(r),.2)}function Sle(t){return t!==t.root&&t.scroll?.wasRoot}const Tle=pW({attachResizeListener:(t,e)=>_g(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q_={current:void 0},gW=pW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Q_.current){const t=new Tle({});t.mount(window),t.setOptions({layoutScroll:!0}),Q_.current=t}return Q_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nle={pan:{Feature:qse},drag:{Feature:Hse,ProjectionNode:gW,MeasureLayout:lW}};function D6(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,o=n[i];o&&jr.postRender(()=>o(e,by(e)))}class Ile extends Rc{mount(){const{current:e}=this.node;e&&(this.unmount=Xoe(e,(r,n)=>(D6(this.node,n,"Start"),i=>D6(this.node,i,"End"))))}unmount(){}}class kle extends Rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yy(_g(this.node.current,"focus",()=>this.onFocus()),_g(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M6(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),o=n[i];o&&jr.postRender(()=>o(e,by(e)))}class Ple extends Rc{mount(){const{current:e}=this.node;e&&(this.unmount=eae(e,(r,n)=>(M6(this.node,n,"Start"),(i,{success:o})=>M6(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wN=new WeakMap,Z_=new WeakMap,Ole=t=>{const e=wN.get(t.target);e&&e(t)},jle=t=>{t.forEach(Ole)};function Rle({root:t,...e}){const r=t||document;Z_.has(r)||Z_.set(r,{});const n=Z_.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jle,{root:t,...e})),n[i]}function Dle(t,e,r){const n=Rle(e);return wN.set(t,r),n.observe(t),()=>{wN.delete(t),n.unobserve(t)}}const Mle={some:0,all:1};class Fle extends Rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:o}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Mle[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Dle(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Lle(e,r))&&this.startObserver()}unmount(){}}function Lle({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Ble={inView:{Feature:Fle},tap:{Feature:Ple},focus:{Feature:kle},hover:{Feature:Ile}},Vle={layout:{ProjectionNode:gW,MeasureLayout:lW}},$le={...Ese,...Ble,...Nle,...Vle},it=$ae($le,ese);function Ule(t){const e=new Date().getHours();return!t.hasLoggedMeals&&!t.hasLoggedWorkout?zle(e):e>=5&&e<12?Wle(t):e>=12&&e<17?Hle(t):e>=17&&e<22?qle(t):Gle(t)}function zle(t){return t>=5&&t<12?{message:"Good morning! Start your day by logging your breakfast.",emoji:"🌅",type:"reminder"}:t>=12&&t<17?{message:"Welcome! Track your first meal to start your fitness journey.",emoji:"🎯",type:"reminder"}:t>=17&&t<22?{message:"Ready to get started? Log your dinner and today's workout!",emoji:"💪",type:"reminder"}:{message:"Start fresh tomorrow! Set up your goals and get ready to track.",emoji:"🌙",type:"motivational"}}function Wle(t){const{hasLoggedMeals:e,goalType:r,macroProgress:n}=t;if(!e){const i=[{message:"Good morning! Don't forget to log your breakfast to stay on track.",emoji:"☀️",type:"reminder"},{message:"Rise and shine! Start your day by tracking your morning meal.",emoji:"🌅",type:"reminder"},{message:"Morning! Fuel up and log it — breakfast is your most important meal.",emoji:"🍳",type:"reminder"}];return i[Math.floor(Math.random()*i.length)]}return r==="bulk"&&n&&n.protein<n.targetProtein*.3?{message:"Great start! Consider adding a protein shake to hit your muscle-building goals.",emoji:"💪",type:"suggestion"}:r==="cut"&&n&&n.calories<n.targetCalories*.25?{message:"Good morning! You're off to a light start — perfect for your cutting goals.",emoji:"🎯",type:"achievement"}:{message:"Morning routine looking good! Keep up the momentum throughout the day.",emoji:"🔥",type:"motivational"}}function Hle(t){const{hasLoggedMeals:e,hasLoggedWorkout:r,goalType:n,macroProgress:i}=t;if(!e)return{message:"Haven't tracked anything yet? It's not too late — log your lunch now!",emoji:"🍽️",type:"reminder"};if(!r){const o=[{message:"Great time for a workout! Even 30 minutes can make a difference.",emoji:"🏋️",type:"suggestion"},{message:"Afternoon energy dip? A quick workout can boost your mood and metabolism.",emoji:"⚡",type:"suggestion"}];return o[Math.floor(Math.random()*o.length)]}if(i){const o=i.protein/i.targetProtein*100,a=i.calories/i.targetCalories*100;if(o>=80&&o<100)return{message:"You're close to your protein goal — want to add a shake?",emoji:"🥤",type:"suggestion"};if(a>100&&n==="cut")return{message:"You've exceeded your calorie target. Consider a lighter dinner tonight.",emoji:"⚖️",type:"suggestion"};if(a<50&&(n==="bulk"||n==="maintain"))return{message:"You're running low on calories! Make sure to fuel up properly.",emoji:"🍱",type:"reminder"}}return{message:"Afternoon check-in: You're doing great! Stay consistent.",emoji:"✨",type:"motivational"}}function qle(t){const{hasLoggedMeals:e,hasLoggedWorkout:r,goalType:n,macroProgress:i}=t;if(!r){const o=[{message:"Evening workout time! Get moving before the day ends.",emoji:"🌆",type:"reminder"},{message:"No workout logged yet? A quick session now can help you sleep better!",emoji:"💤",type:"suggestion"}];return o[Math.floor(Math.random()*o.length)]}if(!e)return{message:"Don't forget to log your dinner! Tracking is key to progress.",emoji:"🌙",type:"reminder"};if(i){const o=i.protein/i.targetProtein*100,a=i.calories/i.targetCalories*100;if(o>=90&&o<=110&&a>=90&&a<=110)return{message:"Perfect day! You've hit your macro targets like a pro! 🎉",emoji:"🏆",type:"achievement"};if(o<70)return{message:"Low on protein today. Add some lean meat or a protein shake with dinner!",emoji:"🥩",type:"suggestion"};if(a<70&&n==="bulk")return{message:"You need more calories to bulk effectively! Time for a substantial dinner.",emoji:"🍗",type:"reminder"}}return{message:"Evening wind-down: Review your progress and plan for tomorrow!",emoji:"📊",type:"motivational"}}function Gle(t){const{hasLoggedMeals:e,macroProgress:r}=t;if(!e)return{message:"Late night? Log what you ate today so you don't forget tomorrow!",emoji:"🌙",type:"reminder"};if(r&&r.calories>r.targetCalories*1.2)return{message:"Over target today? Don't stress! Tomorrow is a fresh start.",emoji:"💙",type:"motivational"};const n=[{message:"Great job tracking today! Get some rest and crush it tomorrow.",emoji:"😴",type:"motivational"},{message:"Late night? Avoid heavy snacking and stay hydrated before bed!",emoji:"💧",type:"suggestion"},{message:"Time to rest! Recovery is just as important as training.",emoji:"🛌",type:"motivational"}];return n[Math.floor(Math.random()*n.length)]}function Kle({onCoachAIClick:t,userName:e,hasLoggedMeals:r=!1,hasLoggedWorkout:n=!1,goalType:i,macroProgress:o}){const a=k.useMemo(()=>Ule({hasLoggedMeals:r,hasLoggedWorkout:n,goalType:i,macroProgress:o}),[e,r,n,i,o]),s=()=>{switch(a.type){case"achievement":return["#FFB6B9","#FF8FA3"];case"reminder":return["#1C7C54","#16a34a"];case"suggestion":return["#A8E6CF","#1C7C54"];case"motivational":return["#22c55e","#16a34a"];default:return["#1C7C54","#16a34a"]}},[l,c]=s();return u.jsx(it.div,{className:"px-4 sm:px-6 lg:px-8 py-4 shadow-[0_0_15px_rgba(0,0,0,0.05)]",animate:{background:[`linear-gradient(90deg, ${l}, ${c})`,`linear-gradient(90deg, ${c}, ${l})`]},transition:{repeat:1/0,duration:5,ease:"easeInOut"},children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx(it.div,{animate:{rotate:[0,10,-10,10,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},children:u.jsx("span",{className:"text-2xl flex-shrink-0",children:a.emoji})}),u.jsx("p",{className:"text-white text-sm sm:text-base",children:a.message})]}),t&&u.jsxs("button",{onClick:t,className:"text-sm text-white/90 hover:text-white underline decoration-white/50 hover:decoration-white transition-all flex items-center gap-1.5 whitespace-nowrap flex-shrink-0 hover:-translate-y-0.5 active:translate-y-0",children:[u.jsx(T1,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Ask Coach AI"}),u.jsx("span",{className:"sm:hidden",children:"Ask AI"})]})]})})}function Yle({onFitnessScoreClick:t,userName:e="there"}){const r=()=>{const n=new Date().getHours();return n<12?"Good morning":n<18?"Good afternoon":"Good evening"};return u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{style:{color:"var(--text-primary)"},children:[r(),", ",e]}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Let's start your journey today!"})]}),u.jsxs("button",{onClick:t,className:"hidden items-center gap-3 hover:opacity-80 transition-all hover:-translate-y-0.5 active:translate-y-0",children:[u.jsxs("div",{className:"relative w-20 h-20",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"40",cy:"40",r:"32",stroke:"var(--accent-light)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"40",cy:"40",r:"32",stroke:"var(--accent-primary)",strokeWidth:"6",fill:"none",strokeDasharray:`${0/100*201} 201`,strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",style:{color:"var(--text-primary)"},children:"0"})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Fitness"}),u.jsx("p",{style:{color:"var(--text-primary)"},children:"Score"})]})]})]})}const Xle=()=>{};var F6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Qle=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],a=t[r++],s=t[r++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},vW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let p=(s&15)<<2|c>>6,g=c&63;l||(g=64,a||(p=64)),n.push(r[d],r[f],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||s==null||c==null||f==null)throw new Zle;const p=o<<2|s>>4;if(n.push(p),c!==64){const g=s<<4&240|c>>2;if(n.push(g),f!==64){const x=c<<6&192|f;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jle=function(t){const e=yW(t);return vW.encodeByteArray(e,!0)},R1=function(t){return Jle(t).replace(/\./g,"")},xW=function(t){try{return vW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=()=>ece().__FIREBASE_DEFAULTS__,rce=()=>{if(typeof process>"u"||typeof F6>"u")return;const t=F6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xW(t[1]);return e&&JSON.parse(e)},bb=()=>{try{return Xle()||tce()||rce()||nce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bW=t=>bb()?.emulatorHosts?.[t],wW=t=>{const e=bW(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},_W=()=>bb()?.config,AW=t=>bb()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[R1(JSON.stringify(r)),R1(JSON.stringify(a)),""].join(".")}const Jm={};function oce(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jm))Jm[e]?t.emulator.push(e):t.prod.push(e);return t}function ace(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let L6=!1;function JP(t,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||Jm[t]===e||Jm[t]||L6)return;Jm[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",o=oce().prod.length>0;function a(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{L6=!0,a()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=ace(n),g=r("text"),x=document.getElementById(g)||document.createElement("span"),y=r("learnmore"),b=document.getElementById(y)||document.createElement("a"),_=r("preprendIcon"),C=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;s(E),d(b,y);const P=c();l(C,_),E.append(C,x,b,P),document.body.appendChild(E)}o?(x.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function lce(){const t=bb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fce(){const t=li();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hce(){return!lce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pce(){try{return typeof indexedDB=="object"}catch{return!1}}function mce(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce="FirebaseError";class vs extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=gce,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wy.prototype.create)}}class wy{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?yce(o,n):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new vs(i,s,n)}}function yce(t,e){return t.replace(vce,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const vce=/\{\$([^}]+)}/g;function xce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],a=e[i];if(B6(o)&&B6(a)){if(!Qu(o,a))return!1}else if(o!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function B6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Dm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Mm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function bce(t,e){const r=new wce(t,e);return r.subscribe.bind(r)}class wce{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");_ce(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=J_),i.error===void 0&&(i.error=J_),i.complete===void 0&&(i.complete=J_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _ce(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function J_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){return t&&t._delegate?t._delegate:t}class Ec{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ace=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ice;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ece(e))try{this.getOrInitializeService({instanceIdentifier:Nu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Nu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nu){return this.instances.has(e)}getOptions(e=Nu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cce(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Nu){return this.component?this.component.multipleInstances?e:Nu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Cce(t){return t===Nu?void 0:t}function Ece(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Ace(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const Tce={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Nce=Dt.INFO,Ice={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},kce=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Ice[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e4{constructor(e){this.name=e,this._logLevel=Nce,this._logHandler=kce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const Pce=(t,e)=>e.some(r=>t instanceof r);let V6,$6;function Oce(){return V6||(V6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jce(){return $6||($6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EW=new WeakMap,_N=new WeakMap,SW=new WeakMap,eA=new WeakMap,t4=new WeakMap;function Rce(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(pc(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&EW.set(r,t)}).catch(()=>{}),t4.set(e,t),e}function Dce(t){if(_N.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});_N.set(t,e)}let AN={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _N.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SW.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return pc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mce(t){AN=t(AN)}function Fce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(tA(this),e,...r);return SW.set(n,e.sort?e.sort():[e]),pc(n)}:jce().includes(t)?function(...e){return t.apply(tA(this),e),pc(EW.get(this))}:function(...e){return pc(t.apply(tA(this),e))}}function Lce(t){return typeof t=="function"?Fce(t):(t instanceof IDBTransaction&&Dce(t),Pce(t,Oce())?new Proxy(t,AN):t)}function pc(t){if(t instanceof IDBRequest)return Rce(t);if(eA.has(t))return eA.get(t);const e=Lce(t);return e!==t&&(eA.set(t,e),t4.set(e,t)),e}const tA=t=>t4.get(t);function Bce(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=pc(a);return n&&a.addEventListener("upgradeneeded",l=>{n(pc(a.result),l.oldVersion,l.newVersion,pc(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const Vce=["get","getKey","getAll","getAllKeys","count"],$ce=["put","add","delete","clear"],rA=new Map;function U6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rA.get(e))return rA.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=$ce.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Vce.includes(r)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return rA.set(e,o),o}Mce(t=>({...t,get:(e,r,n)=>U6(e,r)||t.get(e,r,n),has:(e,r)=>!!U6(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(zce(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function zce(t){return t.getComponent()?.type==="VERSION"}const CN="@firebase/app",z6="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new e4("@firebase/app"),Wce="@firebase/app-compat",Hce="@firebase/analytics-compat",qce="@firebase/analytics",Gce="@firebase/app-check-compat",Kce="@firebase/app-check",Yce="@firebase/auth",Xce="@firebase/auth-compat",Qce="@firebase/database",Zce="@firebase/data-connect",Jce="@firebase/database-compat",eue="@firebase/functions",tue="@firebase/functions-compat",rue="@firebase/installations",nue="@firebase/installations-compat",iue="@firebase/messaging",oue="@firebase/messaging-compat",aue="@firebase/performance",sue="@firebase/performance-compat",lue="@firebase/remote-config",cue="@firebase/remote-config-compat",uue="@firebase/storage",due="@firebase/storage-compat",fue="@firebase/firestore",hue="@firebase/ai",pue="@firebase/firestore-compat",mue="firebase",gue="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="[DEFAULT]",yue={[CN]:"fire-core",[Wce]:"fire-core-compat",[qce]:"fire-analytics",[Hce]:"fire-analytics-compat",[Kce]:"fire-app-check",[Gce]:"fire-app-check-compat",[Yce]:"fire-auth",[Xce]:"fire-auth-compat",[Qce]:"fire-rtdb",[Zce]:"fire-data-connect",[Jce]:"fire-rtdb-compat",[eue]:"fire-fn",[tue]:"fire-fn-compat",[rue]:"fire-iid",[nue]:"fire-iid-compat",[iue]:"fire-fcm",[oue]:"fire-fcm-compat",[aue]:"fire-perf",[sue]:"fire-perf-compat",[lue]:"fire-rc",[cue]:"fire-rc-compat",[uue]:"fire-gcs",[due]:"fire-gcs-compat",[fue]:"fire-fst",[pue]:"fire-fst-compat",[hue]:"fire-vertex","fire-js":"fire-js",[mue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map,vue=new Map,SN=new Map;function W6(t,e){try{t.container.addComponent(e)}catch(r){cl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Zu(t){const e=t.name;if(SN.has(e))return cl.debug(`There were multiple attempts to register component ${e}.`),!1;SN.set(e,t);for(const r of D1.values())W6(r,t);for(const r of vue.values())W6(r,t);return!0}function wb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mc=new wy("app","Firebase",xue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=gue;function TW(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:EN,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw mc.create("bad-app-name",{appName:String(i)});if(r||(r=_W()),!r)throw mc.create("no-options");const o=D1.get(i);if(o){if(Qu(r,o.options)&&Qu(n,o.config))return o;throw mc.create("duplicate-app",{appName:i})}const a=new Sce(i);for(const l of SN.values())a.addComponent(l);const s=new bue(r,n,a);return D1.set(i,s),s}function r4(t=EN){const e=D1.get(t);if(!e&&t===EN&&_W())return TW();if(!e)throw mc.create("no-app",{appName:t});return e}function ns(t,e,r){let n=yue[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cl.warn(a.join(" "));return}Zu(new Ec(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue="firebase-heartbeat-database",_ue=1,Ag="firebase-heartbeat-store";let nA=null;function NW(){return nA||(nA=Bce(wue,_ue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ag)}catch(r){console.warn(r)}}}}).catch(t=>{throw mc.create("idb-open",{originalErrorMessage:t.message})})),nA}async function Aue(t){try{const r=(await NW()).transaction(Ag),n=await r.objectStore(Ag).get(IW(t));return await r.done,n}catch(e){if(e instanceof vs)cl.warn(e.message);else{const r=mc.create("idb-get",{originalErrorMessage:e?.message});cl.warn(r.message)}}}async function H6(t,e){try{const n=(await NW()).transaction(Ag,"readwrite");await n.objectStore(Ag).put(e,IW(t)),await n.done}catch(r){if(r instanceof vs)cl.warn(r.message);else{const n=mc.create("idb-set",{originalErrorMessage:r?.message});cl.warn(n.message)}}}function IW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue=1024,Eue=30;class Sue{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Nue(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=q6();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Eue){const i=Iue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q6(),{heartbeatsToSend:r,unsentEntries:n}=Tue(this._heartbeatsCache.heartbeats),i=R1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return cl.warn(e),""}}}function q6(){return new Date().toISOString().substring(0,10)}function Tue(t,e=Cue){const r=[];let n=t.slice();for(const i of t){const o=r.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),G6(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),G6(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Nue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pce()?mce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Aue(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return H6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return H6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function G6(t){return R1(JSON.stringify({version:2,heartbeats:t})).length}function Iue(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(t){Zu(new Ec("platform-logger",e=>new Uce(e),"PRIVATE")),Zu(new Ec("heartbeat",e=>new Sue(e),"PRIVATE")),ns(CN,z6,t),ns(CN,z6,"esm2020"),ns("fire-js","")}kue("");var K6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gc,kW;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function j(){}j.prototype=S.prototype,N.F=S.prototype,N.prototype=new j,N.prototype.constructor=N,N.D=function(B,M,L){for(var F=Array(arguments.length-2),$=2;$<arguments.length;$++)F[$-2]=arguments[$];return S.prototype[M].apply(B,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,S,j){j||(j=0);const B=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)B[M]=S.charCodeAt(j++)|S.charCodeAt(j++)<<8|S.charCodeAt(j++)<<16|S.charCodeAt(j++)<<24;else for(M=0;M<16;++M)B[M]=S[j++]|S[j++]<<8|S[j++]<<16|S[j++]<<24;S=N.g[0],j=N.g[1],M=N.g[2];let L=N.g[3],F;F=S+(L^j&(M^L))+B[0]+3614090360&4294967295,S=j+(F<<7&4294967295|F>>>25),F=L+(M^S&(j^M))+B[1]+3905402710&4294967295,L=S+(F<<12&4294967295|F>>>20),F=M+(j^L&(S^j))+B[2]+606105819&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(S^M&(L^S))+B[3]+3250441966&4294967295,j=M+(F<<22&4294967295|F>>>10),F=S+(L^j&(M^L))+B[4]+4118548399&4294967295,S=j+(F<<7&4294967295|F>>>25),F=L+(M^S&(j^M))+B[5]+1200080426&4294967295,L=S+(F<<12&4294967295|F>>>20),F=M+(j^L&(S^j))+B[6]+2821735955&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(S^M&(L^S))+B[7]+4249261313&4294967295,j=M+(F<<22&4294967295|F>>>10),F=S+(L^j&(M^L))+B[8]+1770035416&4294967295,S=j+(F<<7&4294967295|F>>>25),F=L+(M^S&(j^M))+B[9]+2336552879&4294967295,L=S+(F<<12&4294967295|F>>>20),F=M+(j^L&(S^j))+B[10]+4294925233&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(S^M&(L^S))+B[11]+2304563134&4294967295,j=M+(F<<22&4294967295|F>>>10),F=S+(L^j&(M^L))+B[12]+1804603682&4294967295,S=j+(F<<7&4294967295|F>>>25),F=L+(M^S&(j^M))+B[13]+4254626195&4294967295,L=S+(F<<12&4294967295|F>>>20),F=M+(j^L&(S^j))+B[14]+2792965006&4294967295,M=L+(F<<17&4294967295|F>>>15),F=j+(S^M&(L^S))+B[15]+1236535329&4294967295,j=M+(F<<22&4294967295|F>>>10),F=S+(M^L&(j^M))+B[1]+4129170786&4294967295,S=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(S^j))+B[6]+3225465664&4294967295,L=S+(F<<9&4294967295|F>>>23),F=M+(S^j&(L^S))+B[11]+643717713&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^S&(M^L))+B[0]+3921069994&4294967295,j=M+(F<<20&4294967295|F>>>12),F=S+(M^L&(j^M))+B[5]+3593408605&4294967295,S=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(S^j))+B[10]+38016083&4294967295,L=S+(F<<9&4294967295|F>>>23),F=M+(S^j&(L^S))+B[15]+3634488961&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^S&(M^L))+B[4]+3889429448&4294967295,j=M+(F<<20&4294967295|F>>>12),F=S+(M^L&(j^M))+B[9]+568446438&4294967295,S=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(S^j))+B[14]+3275163606&4294967295,L=S+(F<<9&4294967295|F>>>23),F=M+(S^j&(L^S))+B[3]+4107603335&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^S&(M^L))+B[8]+1163531501&4294967295,j=M+(F<<20&4294967295|F>>>12),F=S+(M^L&(j^M))+B[13]+2850285829&4294967295,S=j+(F<<5&4294967295|F>>>27),F=L+(j^M&(S^j))+B[2]+4243563512&4294967295,L=S+(F<<9&4294967295|F>>>23),F=M+(S^j&(L^S))+B[7]+1735328473&4294967295,M=L+(F<<14&4294967295|F>>>18),F=j+(L^S&(M^L))+B[12]+2368359562&4294967295,j=M+(F<<20&4294967295|F>>>12),F=S+(j^M^L)+B[5]+4294588738&4294967295,S=j+(F<<4&4294967295|F>>>28),F=L+(S^j^M)+B[8]+2272392833&4294967295,L=S+(F<<11&4294967295|F>>>21),F=M+(L^S^j)+B[11]+1839030562&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^S)+B[14]+4259657740&4294967295,j=M+(F<<23&4294967295|F>>>9),F=S+(j^M^L)+B[1]+2763975236&4294967295,S=j+(F<<4&4294967295|F>>>28),F=L+(S^j^M)+B[4]+1272893353&4294967295,L=S+(F<<11&4294967295|F>>>21),F=M+(L^S^j)+B[7]+4139469664&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^S)+B[10]+3200236656&4294967295,j=M+(F<<23&4294967295|F>>>9),F=S+(j^M^L)+B[13]+681279174&4294967295,S=j+(F<<4&4294967295|F>>>28),F=L+(S^j^M)+B[0]+3936430074&4294967295,L=S+(F<<11&4294967295|F>>>21),F=M+(L^S^j)+B[3]+3572445317&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^S)+B[6]+76029189&4294967295,j=M+(F<<23&4294967295|F>>>9),F=S+(j^M^L)+B[9]+3654602809&4294967295,S=j+(F<<4&4294967295|F>>>28),F=L+(S^j^M)+B[12]+3873151461&4294967295,L=S+(F<<11&4294967295|F>>>21),F=M+(L^S^j)+B[15]+530742520&4294967295,M=L+(F<<16&4294967295|F>>>16),F=j+(M^L^S)+B[2]+3299628645&4294967295,j=M+(F<<23&4294967295|F>>>9),F=S+(M^(j|~L))+B[0]+4096336452&4294967295,S=j+(F<<6&4294967295|F>>>26),F=L+(j^(S|~M))+B[7]+1126891415&4294967295,L=S+(F<<10&4294967295|F>>>22),F=M+(S^(L|~j))+B[14]+2878612391&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~S))+B[5]+4237533241&4294967295,j=M+(F<<21&4294967295|F>>>11),F=S+(M^(j|~L))+B[12]+1700485571&4294967295,S=j+(F<<6&4294967295|F>>>26),F=L+(j^(S|~M))+B[3]+2399980690&4294967295,L=S+(F<<10&4294967295|F>>>22),F=M+(S^(L|~j))+B[10]+4293915773&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~S))+B[1]+2240044497&4294967295,j=M+(F<<21&4294967295|F>>>11),F=S+(M^(j|~L))+B[8]+1873313359&4294967295,S=j+(F<<6&4294967295|F>>>26),F=L+(j^(S|~M))+B[15]+4264355552&4294967295,L=S+(F<<10&4294967295|F>>>22),F=M+(S^(L|~j))+B[6]+2734768916&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~S))+B[13]+1309151649&4294967295,j=M+(F<<21&4294967295|F>>>11),F=S+(M^(j|~L))+B[4]+4149444226&4294967295,S=j+(F<<6&4294967295|F>>>26),F=L+(j^(S|~M))+B[11]+3174756917&4294967295,L=S+(F<<10&4294967295|F>>>22),F=M+(S^(L|~j))+B[2]+718787259&4294967295,M=L+(F<<15&4294967295|F>>>17),F=j+(L^(M|~S))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+L&4294967295}n.prototype.v=function(N,S){S===void 0&&(S=N.length);const j=S-this.blockSize,B=this.C;let M=this.h,L=0;for(;L<S;){if(M==0)for(;L<=j;)i(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<S;)if(B[M++]=N.charCodeAt(L++),M==this.blockSize){i(this,B),M=0;break}}else for(;L<S;)if(B[M++]=N[L++],M==this.blockSize){i(this,B),M=0;break}}this.h=M,this.o+=S},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var j=N.length-8;j<N.length;++j)N[j]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,j=0;j<4;++j)for(let B=0;B<32;B+=8)N[S++]=this.g[j]>>>B&255;return N};function o(N,S){var j=s;return Object.prototype.hasOwnProperty.call(j,N)?j[N]:j[N]=S(N)}function a(N,S){this.h=S;const j=[];let B=!0;for(let M=N.length-1;M>=0;M--){const L=N[M]|0;B&&L==S||(j[M]=L,B=!1)}this.g=j}var s={};function l(N){return-128<=N&&N<128?o(N,function(S){return new a([S|0],S<0?-1:0)}):new a([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return f;if(N<0)return b(c(-N));const S=[];let j=1;for(let B=0;N>=j;B++)S[B]=N/j|0,j*=4294967296;return new a(S,0)}function d(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return b(d(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=c(Math.pow(S,8));let B=f;for(let L=0;L<N.length;L+=8){var M=Math.min(8,N.length-L);const F=parseInt(N.substring(L,L+M),S);M<8?(M=c(Math.pow(S,M)),B=B.j(M).add(c(F))):(B=B.j(j),B=B.add(c(F)))}return B}var f=l(0),p=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();let N=0,S=1;for(let j=0;j<this.g.length;j++){const B=this.i(j);N+=(B>=0?B:4294967296+B)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(y(this))return"-"+b(this).toString(N);const S=c(Math.pow(N,6));var j=this;let B="";for(;;){const M=P(j,S).g;j=_(j,M.j(S));let L=((j.g.length>0?j.g[0]:j.h)>>>0).toString(N);if(j=M,x(j))return L+B;for(;L.length<6;)L="0"+L;B=L+B}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function y(N){return N.h==-1}t.l=function(N){return N=_(this,N),y(N)?-1:x(N)?0:1};function b(N){const S=N.g.length,j=[];for(let B=0;B<S;B++)j[B]=~N.g[B];return new a(j,~N.h).add(p)}t.abs=function(){return y(this)?b(this):this},t.add=function(N){const S=Math.max(this.g.length,N.g.length),j=[];let B=0;for(let M=0;M<=S;M++){let L=B+(this.i(M)&65535)+(N.i(M)&65535),F=(L>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);B=F>>>16,L&=65535,F&=65535,j[M]=F<<16|L}return new a(j,j[j.length-1]&-2147483648?-1:0)};function _(N,S){return N.add(b(S))}t.j=function(N){if(x(this)||x(N))return f;if(y(this))return y(N)?b(this).j(b(N)):b(b(this).j(N));if(y(N))return b(this.j(b(N)));if(this.l(g)<0&&N.l(g)<0)return c(this.m()*N.m());const S=this.g.length+N.g.length,j=[];for(var B=0;B<2*S;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(let M=0;M<N.g.length;M++){const L=this.i(B)>>>16,F=this.i(B)&65535,$=N.i(M)>>>16,q=N.i(M)&65535;j[2*B+2*M]+=F*q,C(j,2*B+2*M),j[2*B+2*M+1]+=L*q,C(j,2*B+2*M+1),j[2*B+2*M+1]+=F*$,C(j,2*B+2*M+1),j[2*B+2*M+2]+=L*$,C(j,2*B+2*M+2)}for(N=0;N<S;N++)j[N]=j[2*N+1]<<16|j[2*N];for(N=S;N<2*S;N++)j[N]=0;return new a(j,0)};function C(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function E(N,S){this.g=N,this.h=S}function P(N,S){if(x(S))throw Error("division by zero");if(x(N))return new E(f,f);if(y(N))return S=P(b(N),S),new E(b(S.g),b(S.h));if(y(S))return S=P(N,b(S)),new E(b(S.g),S.h);if(N.g.length>30){if(y(N)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var j=p,B=S;B.l(N)<=0;)j=I(j),B=I(B);var M=T(j,1),L=T(B,1);for(B=T(B,2),j=T(j,2);!x(B);){var F=L.add(B);F.l(N)<=0&&(M=M.add(j),L=F),B=T(B,1),j=T(j,1)}return S=_(N,M.j(S)),new E(M,S)}for(M=f;N.l(S)>=0;){for(j=Math.max(1,Math.floor(N.m()/S.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),L=c(j),F=L.j(S);y(F)||F.l(N)>0;)j-=B,L=c(j),F=L.j(S);x(L)&&(L=p),M=M.add(L),N=_(N,F)}return new E(M,N)}t.B=function(N){return P(this,N).h},t.and=function(N){const S=Math.max(this.g.length,N.g.length),j=[];for(let B=0;B<S;B++)j[B]=this.i(B)&N.i(B);return new a(j,this.h&N.h)},t.or=function(N){const S=Math.max(this.g.length,N.g.length),j=[];for(let B=0;B<S;B++)j[B]=this.i(B)|N.i(B);return new a(j,this.h|N.h)},t.xor=function(N){const S=Math.max(this.g.length,N.g.length),j=[];for(let B=0;B<S;B++)j[B]=this.i(B)^N.i(B);return new a(j,this.h^N.h)};function I(N){const S=N.g.length+1,j=[];for(let B=0;B<S;B++)j[B]=N.i(B)<<1|N.i(B-1)>>>31;return new a(j,N.h)}function T(N,S){const j=S>>5;S%=32;const B=N.g.length-j,M=[];for(let L=0;L<B;L++)M[L]=S>0?N.i(L+j)>>>S|N.i(L+j+1)<<32-S:N.i(L+j);return new a(M,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,kW=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,gc=a}).apply(typeof K6<"u"?K6:typeof self<"u"?self:typeof window<"u"?window:{});var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PW,Fm,OW,c1,TN,jW,RW,DW;(function(){var t,e=Object.defineProperty;function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof xv=="object"&&xv];for(var D=0;D<w.length;++D){var V=w[D];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(w,D){if(D)e:{var V=n;w=w.split(".");for(var K=0;K<w.length-1;K++){var fe=w[K];if(!(fe in V))break e;V=V[fe]}w=w[w.length-1],K=V[w],D=D(K),D!=K&&D!=null&&e(V,w,{configurable:!0,writable:!0,value:D})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(D){var V=[],K;for(K in D)Object.prototype.hasOwnProperty.call(D,K)&&V.push([K,D[K]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(w){var D=typeof w;return D=="object"&&w!=null||D=="function"}function l(w,D,V){return w.call.apply(w.bind,arguments)}function c(w,D,V){return c=l,c.apply(null,arguments)}function d(w,D){var V=Array.prototype.slice.call(arguments,1);return function(){var K=V.slice();return K.push.apply(K,arguments),w.apply(this,K)}}function f(w,D){function V(){}V.prototype=D.prototype,w.Z=D.prototype,w.prototype=new V,w.prototype.constructor=w,w.Ob=function(K,fe,ve){for(var De=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)De[Ct-2]=arguments[Ct];return D.prototype[fe].apply(K,De)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function g(w){const D=w.length;if(D>0){const V=Array(D);for(let K=0;K<D;K++)V[K]=w[K];return V}return[]}function x(w,D){for(let K=1;K<arguments.length;K++){const fe=arguments[K];var V=typeof fe;if(V=V!="object"?V:fe?Array.isArray(fe)?"array":V:"null",V=="array"||V=="object"&&typeof fe.length=="number"){V=w.length||0;const ve=fe.length||0;w.length=V+ve;for(let De=0;De<ve;De++)w[V+De]=fe[De]}else w.push(fe)}}class y{constructor(D,V){this.i=D,this.j=V,this.h=0,this.g=null}get(){let D;return this.h>0?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function b(w){a.setTimeout(()=>{throw w},0)}function _(){var w=N;let D=null;return w.g&&(D=w.g,w.g=w.g.next,w.g||(w.h=null),D.next=null),D}class C{constructor(){this.h=this.g=null}add(D,V){const K=E.get();K.set(D,V),this.h?this.h.next=K:this.g=K,this.h=K}}var E=new y(()=>new P,w=>w.reset());class P{constructor(){this.next=this.g=this.h=null}set(D,V){this.h=D,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let I,T=!1,N=new C,S=()=>{const w=Promise.resolve(void 0);I=()=>{w.then(j)}};function j(){for(var w;w=_();){try{w.h.call(w.g)}catch(V){b(V)}var D=E;D.j(w),D.h<100&&(D.h++,w.next=D.g,D.g=w)}T=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(w,D){this.type=w,this.g=this.target=D,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,D=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const V=()=>{};a.addEventListener("test",V,D),a.removeEventListener("test",V,D)}catch{}return w})();function F(w){return/^[\s\xa0]*$/.test(w)}function $(w,D){M.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,D)}f($,M),$.prototype.init=function(w,D){const V=this.type=w.type,K=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=D,D=w.relatedTarget,D||(V=="mouseover"?D=w.fromElement:V=="mouseout"&&(D=w.toElement)),this.relatedTarget=D,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),X=0;function J(w,D,V,K,fe){this.listener=w,this.proxy=null,this.src=D,this.type=V,this.capture=!!K,this.ha=fe,this.key=++X,this.da=this.fa=!1}function H(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function oe(w,D,V){for(const K in w)D.call(V,w[K],K,w)}function z(w,D){for(const V in w)D.call(void 0,w[V],V,w)}function Q(w){const D={};for(const V in w)D[V]=w[V];return D}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(w,D){let V,K;for(let fe=1;fe<arguments.length;fe++){K=arguments[fe];for(V in K)w[V]=K[V];for(let ve=0;ve<ee.length;ve++)V=ee[ve],Object.prototype.hasOwnProperty.call(K,V)&&(w[V]=K[V])}}function xe(w){this.src=w,this.g={},this.h=0}xe.prototype.add=function(w,D,V,K,fe){const ve=w.toString();w=this.g[ve],w||(w=this.g[ve]=[],this.h++);const De=ie(w,D,K,fe);return De>-1?(D=w[De],V||(D.fa=!1)):(D=new J(D,this.src,ve,!!K,fe),D.fa=V,w.push(D)),D};function Ne(w,D){const V=D.type;if(V in w.g){var K=w.g[V],fe=Array.prototype.indexOf.call(K,D,void 0),ve;(ve=fe>=0)&&Array.prototype.splice.call(K,fe,1),ve&&(H(D),w.g[V].length==0&&(delete w.g[V],w.h--))}}function ie(w,D,V,K){for(let fe=0;fe<w.length;++fe){const ve=w[fe];if(!ve.da&&ve.listener==D&&ve.capture==!!V&&ve.ha==K)return fe}return-1}var se="closure_lm_"+(Math.random()*1e6|0),we={};function me(w,D,V,K,fe){if(Array.isArray(D)){for(let ve=0;ve<D.length;ve++)me(w,D[ve],V,K,fe);return null}return V=ft(V),w&&w[q]?w.J(D,V,s(K)?!!K.capture:!1,fe):re(w,D,V,!1,K,fe)}function re(w,D,V,K,fe,ve){if(!D)throw Error("Invalid event type");const De=s(fe)?!!fe.capture:!!fe;let Ct=We(w);if(Ct||(w[se]=Ct=new xe(w)),V=Ct.add(D,V,K,De,ve),V.proxy)return V;if(K=le(),V.proxy=K,K.src=w,K.listener=V,w.addEventListener)L||(fe=De),fe===void 0&&(fe=!1),w.addEventListener(D.toString(),K,fe);else if(w.attachEvent)w.attachEvent(Ee(D.toString()),K);else if(w.addListener&&w.removeListener)w.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return V}function le(){function w(V){return D.call(w.src,w.listener,V)}const D=$e;return w}function G(w,D,V,K,fe){if(Array.isArray(D))for(var ve=0;ve<D.length;ve++)G(w,D[ve],V,K,fe);else K=s(K)?!!K.capture:!!K,V=ft(V),w&&w[q]?(w=w.i,ve=String(D).toString(),ve in w.g&&(D=w.g[ve],V=ie(D,V,K,fe),V>-1&&(H(D[V]),Array.prototype.splice.call(D,V,1),D.length==0&&(delete w.g[ve],w.h--)))):w&&(w=We(w))&&(D=w.g[D.toString()],w=-1,D&&(w=ie(D,V,K,fe)),(V=w>-1?D[w]:null)&&ge(V))}function ge(w){if(typeof w!="number"&&w&&!w.da){var D=w.src;if(D&&D[q])Ne(D.i,w);else{var V=w.type,K=w.proxy;D.removeEventListener?D.removeEventListener(V,K,w.capture):D.detachEvent?D.detachEvent(Ee(V),K):D.addListener&&D.removeListener&&D.removeListener(K),(V=We(D))?(Ne(V,w),V.h==0&&(V.src=null,D[se]=null)):H(w)}}}function Ee(w){return w in we?we[w]:we[w]="on"+w}function $e(w,D){if(w.da)w=!0;else{D=new $(D,this);const V=w.listener,K=w.ha||w.src;w.fa&&ge(w),w=V.call(K,D)}return w}function We(w){return w=w[se],w instanceof xe?w:null}var ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(w){return typeof w=="function"?w:(w[ut]||(w[ut]=function(D){return w.handleEvent(D)}),w[ut])}function _t(){B.call(this),this.i=new xe(this),this.M=this,this.G=null}f(_t,B),_t.prototype[q]=!0,_t.prototype.removeEventListener=function(w,D,V,K){G(this,w,D,V,K)};function gt(w,D){var V,K=w.G;if(K)for(V=[];K;K=K.G)V.push(K);if(w=w.M,K=D.type||D,typeof D=="string")D=new M(D,w);else if(D instanceof M)D.target=D.target||w;else{var fe=D;D=new M(K,w),W(D,fe)}fe=!0;let ve,De;if(V)for(De=V.length-1;De>=0;De--)ve=D.g=V[De],fe=Cr(ve,K,!0,D)&&fe;if(ve=D.g=w,fe=Cr(ve,K,!0,D)&&fe,fe=Cr(ve,K,!1,D)&&fe,V)for(De=0;De<V.length;De++)ve=D.g=V[De],fe=Cr(ve,K,!1,D)&&fe}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var w=this.i;for(const D in w.g){const V=w.g[D];for(let K=0;K<V.length;K++)H(V[K]);delete w.g[D],w.h--}}this.G=null},_t.prototype.J=function(w,D,V,K){return this.i.add(String(w),D,!1,V,K)},_t.prototype.K=function(w,D,V,K){return this.i.add(String(w),D,!0,V,K)};function Cr(w,D,V,K){if(D=w.i.g[String(D)],!D)return!0;D=D.concat();let fe=!0;for(let ve=0;ve<D.length;++ve){const De=D[ve];if(De&&!De.da&&De.capture==V){const Ct=De.listener,Gr=De.ha||De.src;De.fa&&Ne(w.i,De),fe=Ct.call(Gr,K)!==!1&&fe}}return fe&&!K.defaultPrevented}function Qr(w,D){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=c(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(D)>2147483647?-1:a.setTimeout(w,D||0)}function di(w){w.g=Qr(()=>{w.g=null,w.i&&(w.i=!1,di(w))},w.l);const D=w.h;w.h=null,w.m.apply(null,D)}class Se extends B{constructor(D,V){super(),this.m=D,this.l=V,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(w){B.call(this),this.h=w,this.g={}}f(Ve,B);var ue=[];function Ae(w){oe(w.g,function(D,V){this.g.hasOwnProperty(V)&&ge(D)},w),w.g={}}Ve.prototype.N=function(){Ve.Z.N.call(this),Ae(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=a.JSON.stringify,Le=a.JSON.parse,rt=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Vt(){}function fr(){}var Dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ei(){M.call(this,"d")}f(Ei,M);function fi(){M.call(this,"c")}f(fi,M);var ar={},qi=null;function Cn(){return qi=qi||new _t}ar.Ia="serverreachability";function Nd(w){M.call(this,ar.Ia,w)}f(Nd,M);function Cs(w){const D=Cn();gt(D,new Nd(D))}ar.STAT_EVENT="statevent";function Es(w,D){M.call(this,ar.STAT_EVENT,w),this.stat=D}f(Es,M);function zr(w){const D=Cn();gt(D,new Es(D,w))}ar.Ja="timingevent";function Ep(w,D){M.call(this,ar.Ja,w),this.size=D}f(Ep,M);function Nl(w,D){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},D)}function Il(){this.g=!0}Il.prototype.ua=function(){this.g=!1};function r0(w,D,V,K,fe,ve){w.info(function(){if(w.g)if(ve){var De="",Ct=ve.split("&");for(let sr=0;sr<Ct.length;sr++){var Gr=Ct[sr].split("=");if(Gr.length>1){const Zr=Gr[0];Gr=Gr[1];const Zi=Zr.split("_");De=Zi.length>=2&&Zi[1]=="type"?De+(Zr+"="+Gr+"&"):De+(Zr+"=redacted&")}}}else De=null;else De=ve;return"XMLHTTP REQ ("+K+") [attempt "+fe+"]: "+D+`
`+V+`
`+De})}function n0(w,D,V,K,fe,ve,De){w.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+fe+"]: "+D+`
`+V+`
`+ve+" "+De})}function Na(w,D,V,K){w.info(function(){return"XMLHTTP TEXT ("+D+"): "+Yc(w,V)+(K?" "+K:"")})}function i0(w,D){w.info(function(){return"TIMEOUT: "+D})}Il.prototype.info=function(){};function Yc(w,D){if(!w.g)return D;if(!D)return null;try{const ve=JSON.parse(D);if(ve){for(w=0;w<ve.length;w++)if(Array.isArray(ve[w])){var V=ve[w];if(!(V.length<2)){var K=V[1];if(Array.isArray(K)&&!(K.length<1)){var fe=K[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(let De=1;De<K.length;De++)K[De]=""}}}}return ce(ve)}catch{return D}}var kl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},o0;function Ss(){}f(Ss,Vt),Ss.prototype.g=function(){return new XMLHttpRequest},o0=new Ss;function Ia(w){return encodeURIComponent(String(w))}function Id(w){var D=1;w=w.split(":");const V=[];for(;D>0&&w.length;)V.push(w.shift()),D--;return w.length&&V.push(w.join(":")),V}function wo(w,D,V,K){this.j=w,this.i=D,this.l=V,this.S=K||1,this.V=new Ve(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new a0}function a0(){this.i=null,this.g="",this.h=!1}var s0={},Sp={};function Yo(w,D,V){w.M=1,w.A=Ns(_o(D)),w.u=V,w.R=!0,Tp(w,null)}function Tp(w,D){w.F=Date.now(),Xc(w),w.B=_o(w.A);var V=w.B,K=w.S;Array.isArray(K)||(K=[String(K)]),Fp(V.i,"t",K),w.C=0,V=w.j.L,w.h=new a0,w.g=y0(w.j,V?D:null,!w.u),w.P>0&&(w.O=new Se(c(w.Y,w,w.g),w.P)),D=w.V,V=w.g,K=w.ba;var fe="readystatechange";Array.isArray(fe)||(fe&&(ue[0]=fe.toString()),fe=ue);for(let ve=0;ve<fe.length;ve++){const De=me(V,fe[ve],K||D.handleEvent,!1,D.h||D);if(!De)break;D.g[De.key]=De}D=w.J?Q(w.J):{},w.u?(w.v||(w.v="POST"),D["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,D)):(w.v="GET",w.g.ea(w.B,w.v,null,D)),Cs(),r0(w.i,w.v,w.B,w.l,w.S,w.u)}wo.prototype.ba=function(w){w=w.target;const D=this.O;D&&Ma(w)==3?D.j():this.Y(w)},wo.prototype.Y=function(w){try{if(w==this.g)e:{const Ct=Ma(this.g),Gr=this.g.ya(),sr=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||m0(this.g)))){this.K||Ct!=4||Gr==7||(Gr==8||sr<=0?Cs(3):Cs(2)),kd(this);var D=this.g.ca();this.X=D;var V=l0(this);if(this.o=D==200,n0(this.i,this.v,this.B,this.l,this.S,Ct,D),this.o){if(this.U&&!this.L){t:{if(this.g){var K,fe=this.g;if((K=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(K)){var ve=K;break t}}ve=null}if(w=ve)Na(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,w);else{this.o=!1,this.m=3,zr(12),Ts(this),Qc(this);break e}}if(this.R){w=!0;let Zr;for(;!this.K&&this.C<V.length;)if(Zr=u0(this,V),Zr==Sp){Ct==4&&(this.m=4,zr(14),w=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==s0){this.m=4,zr(15),Na(this.i,this.l,V,"[Invalid Chunk]"),w=!1;break}else Na(this.i,this.l,Zr,null),Er(this,Zr);if(c0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||V.length!=0||this.h.h||(this.m=1,zr(16),w=!1),this.o=this.o&&w,!w)Na(this.i,this.l,V,"[Invalid Chunked Response]"),Ts(this),Qc(this);else if(V.length>0&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.aa&&!De.P&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),au(De),De.P=!0,zr(11))}}else Na(this.i,this.l,V,null),Er(this,V);Ct==4&&Ts(this),this.o&&!this.K&&(Ct==4?Vd(this.j,this):(this.o=!1,Xc(this)))}else Bp(this.g),D==400&&V.indexOf("Unknown SID")>0?(this.m=3,zr(12)):(this.m=0,zr(13)),Ts(this),Qc(this)}}}catch{}finally{}};function l0(w){if(!c0(w))return w.g.la();const D=m0(w.g);if(D==="")return"";let V="";const K=D.length,fe=Ma(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return Ts(w),Qc(w),"";w.h.i=new a.TextDecoder}for(let ve=0;ve<K;ve++)w.h.h=!0,V+=w.h.i.decode(D[ve],{stream:!(fe&&ve==K-1)});return D.length=0,w.h.g+=V,w.C=0,w.h.g}function c0(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function u0(w,D){var V=w.C,K=D.indexOf(`
`,V);return K==-1?Sp:(V=Number(D.substring(V,K)),isNaN(V)?s0:(K+=1,K+V>D.length?Sp:(D=D.slice(K,K+V),w.C=K+V,D)))}wo.prototype.cancel=function(){this.K=!0,Ts(this)};function Xc(w){w.T=Date.now()+w.H,Np(w,w.H)}function Np(w,D){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Nl(c(w.aa,w),D)}function kd(w){w.D&&(a.clearTimeout(w.D),w.D=null)}wo.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(i0(this.i,this.B),this.M!=2&&(Cs(),zr(17)),Ts(this),this.m=2,Qc(this)):Np(this,this.T-w)};function Qc(w){w.j.I==0||w.K||Vd(w.j,w)}function Ts(w){kd(w);var D=w.O;D&&typeof D.dispose=="function"&&D.dispose(),w.O=null,Ae(w.V),w.g&&(D=w.g,w.g=null,D.abort(),D.dispose())}function Er(w,D){try{var V=w.j;if(V.I!=0&&(V.g==w||kp(V.h,w))){if(!w.L&&kp(V.h,w)&&V.I==3){try{var K=V.Ba.g.parse(D)}catch{K=null}if(Array.isArray(K)&&K.length==3){var fe=K;if(fe[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<w.F)Bd(V),Xi(V);else break e;Ba(V),zr(18)}}else V.xa=fe[1],0<V.xa-V.K&&fe[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=Nl(c(V.Va,V),6e3));Zc(V.h)<=1&&V.ta&&(V.ta=void 0)}else Qi(V,11)}else if((w.L||V.g==w)&&Bd(V),!F(D))for(fe=V.Ba.g.parse(D),D=0;D<fe.length;D++){let sr=fe[D];const Zr=sr[0];if(!(Zr<=V.K))if(V.K=Zr,sr=sr[1],V.I==2)if(sr[0]=="c"){V.M=sr[1],V.ba=sr[2];const Zi=sr[3];Zi!=null&&(V.ka=Zi,V.j.info("VER="+V.ka));const js=sr[4];js!=null&&(V.za=js,V.j.info("SVER="+V.za));const Va=sr[5];Va!=null&&typeof Va=="number"&&Va>0&&(K=1.5*Va,V.O=K,V.j.info("backChannelRequestTimeoutMs_="+K)),K=V;const $a=w.g;if($a){const zd=$a.g?$a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zd){var ve=K.h;ve.g||zd.indexOf("spdy")==-1&&zd.indexOf("quic")==-1&&zd.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(Od(ve,ve.h),ve.h=null))}if(K.G){const Up=$a.g?$a.g.getResponseHeader("X-HTTP-Session-Id"):null;Up&&(K.wa=Up,Xt(K.J,K.G,Up))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-w.F,V.j.info("Handshake RTT: "+V.T+"ms")),K=V;var De=w;if(K.na=$p(K,K.L?K.ba:null,K.W),De.L){Jc(K.h,De);var Ct=De,Gr=K.O;Gr&&(Ct.H=Gr),Ct.D&&(kd(Ct),Xc(Ct)),K.g=De}else Xn(K);V.i.length>0&&Os(V)}else sr[0]!="stop"&&sr[0]!="close"||Qi(V,7);else V.I==3&&(sr[0]=="stop"||sr[0]=="close"?sr[0]=="stop"?Qi(V,7):Fd(V):sr[0]!="noop"&&V.l&&V.l.qa(sr),V.A=0)}}Cs(4)}catch{}}var c2=class{constructor(w,D){this.g=w,this.map=D}};function Pd(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ip(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Zc(w){return w.h?1:w.g?w.g.size:0}function kp(w,D){return w.h?w.h==D:w.g?w.g.has(D):!1}function Od(w,D){w.g?w.g.add(D):w.h=D}function Jc(w,D){w.h&&w.h==D?w.h=null:w.g&&w.g.has(D)&&w.g.delete(D)}Pd.prototype.cancel=function(){if(this.i=Gi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Gi(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let D=w.i;for(const V of w.g.values())D=D.concat(V.G);return D}return g(w.i)}var d0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ki(w,D){if(w){w=w.split("&");for(let V=0;V<w.length;V++){const K=w[V].indexOf("=");let fe,ve=null;K>=0?(fe=w[V].substring(0,K),ve=w[V].substring(K+1)):fe=w[V],D(fe,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function ka(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let D;w instanceof ka?(this.l=w.l,eu(this,w.j),this.o=w.o,this.g=w.g,Pa(this,w.u),this.h=w.h,Ol(this,Lp(w.i)),this.m=w.m):w&&(D=String(w).match(d0))?(this.l=!1,eu(this,D[1]||"",!0),this.o=tu(D[2]||""),this.g=tu(D[3]||"",!0),Pa(this,D[4]),this.h=tu(D[5]||"",!0),Ol(this,D[6]||"",!0),this.m=tu(D[7]||"")):(this.l=!1,this.i=new Lt(null,this.l))}ka.prototype.toString=function(){const w=[];var D=this.j;D&&w.push(ru(D,Op,!0),":");var V=this.g;return(V||D=="file")&&(w.push("//"),(D=this.o)&&w.push(ru(D,Op,!0),"@"),w.push(Ia(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&w.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&w.push("/"),w.push(ru(V,V.charAt(0)=="/"?nu:jp,!0))),(V=this.i.toString())&&w.push("?",V),(V=this.m)&&w.push("#",ru(V,Rp)),w.join("")},ka.prototype.resolve=function(w){const D=_o(this);let V=!!w.j;V?eu(D,w.j):V=!!w.o,V?D.o=w.o:V=!!w.g,V?D.g=w.g:V=w.u!=null;var K=w.h;if(V)Pa(D,w.u);else if(V=!!w.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var fe=D.h.lastIndexOf("/");fe!=-1&&(K=D.h.slice(0,fe+1)+K)}if(fe=K,fe==".."||fe==".")K="";else if(fe.indexOf("./")!=-1||fe.indexOf("/.")!=-1){K=fe.lastIndexOf("/",0)==0,fe=fe.split("/");const ve=[];for(let De=0;De<fe.length;){const Ct=fe[De++];Ct=="."?K&&De==fe.length&&ve.push(""):Ct==".."?((ve.length>1||ve.length==1&&ve[0]!="")&&ve.pop(),K&&De==fe.length&&ve.push("")):(ve.push(Ct),K=!0)}K=ve.join("/")}else K=fe}return V?D.h=K:V=w.i.toString()!=="",V?Ol(D,Lp(w.i)):V=!!w.m,V&&(D.m=w.m),D};function _o(w){return new ka(w)}function eu(w,D,V){w.j=V?tu(D,!0):D,w.j&&(w.j=w.j.replace(/:$/,""))}function Pa(w,D){if(D){if(D=Number(D),isNaN(D)||D<0)throw Error("Bad port number "+D);w.u=D}else w.u=null}function Ol(w,D,V){D instanceof Lt?(w.i=D,Rd(w.i,w.l)):(V||(D=ru(D,u2)),w.i=new Lt(D,w.l))}function Xt(w,D,V){w.i.set(D,V)}function Ns(w){return Xt(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function tu(w,D){return w?D?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function ru(w,D,V){return typeof w=="string"?(w=encodeURI(w).replace(D,Pp),V&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Pp(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Op=/[#\/\?@]/g,jp=/[#\?:]/g,nu=/[#\?]/g,u2=/[#\?@]/g,Rp=/#/g;function Lt(w,D){this.h=this.g=null,this.i=w||null,this.j=!!D}function Oa(w){w.g||(w.g=new Map,w.h=0,w.i&&Ki(w.i,function(D,V){w.add(decodeURIComponent(D.replace(/\+/g," ")),V)}))}t=Lt.prototype,t.add=function(w,D){Oa(this),this.i=null,w=ja(this,w);let V=this.g.get(w);return V||this.g.set(w,V=[]),V.push(D),this.h+=1,this};function Dp(w,D){Oa(w),D=ja(w,D),w.g.has(D)&&(w.i=null,w.h-=w.g.get(D).length,w.g.delete(D))}function jd(w,D){return Oa(w),D=ja(w,D),w.g.has(D)}t.forEach=function(w,D){Oa(this),this.g.forEach(function(V,K){V.forEach(function(fe){w.call(D,fe,K,this)},this)},this)};function Mp(w,D){Oa(w);let V=[];if(typeof D=="string")jd(w,D)&&(V=V.concat(w.g.get(ja(w,D))));else for(w=Array.from(w.g.values()),D=0;D<w.length;D++)V=V.concat(w[D]);return V}t.set=function(w,D){return Oa(this),this.i=null,w=ja(this,w),jd(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[D]),this.h+=1,this},t.get=function(w,D){return w?(w=Mp(this,w),w.length>0?String(w[0]):D):D};function Fp(w,D,V){Dp(w,D),V.length>0&&(w.i=null,w.g.set(ja(w,D),g(V)),w.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],D=Array.from(this.g.keys());for(let K=0;K<D.length;K++){var V=D[K];const fe=Ia(V);V=Mp(this,V);for(let ve=0;ve<V.length;ve++){let De=fe;V[ve]!==""&&(De+="="+Ia(V[ve])),w.push(De)}}return this.i=w.join("&")};function Lp(w){const D=new Lt;return D.i=w.i,w.g&&(D.g=new Map(w.g),D.h=w.h),D}function ja(w,D){return D=String(D),w.j&&(D=D.toLowerCase()),D}function Rd(w,D){D&&!w.j&&(Oa(w),w.i=null,w.g.forEach(function(V,K){const fe=K.toLowerCase();K!=fe&&(Dp(this,K),Fp(this,fe,V))},w)),w.j=D}function Ra(w,D){const V=new Il;if(a.Image){const K=new Image;K.onload=d(Ln,V,"TestLoadImage: loaded",!0,D,K),K.onerror=d(Ln,V,"TestLoadImage: error",!1,D,K),K.onabort=d(Ln,V,"TestLoadImage: abort",!1,D,K),K.ontimeout=d(Ln,V,"TestLoadImage: timeout",!1,D,K),a.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=w}else D(!1)}function Da(w,D){const V=new Il,K=new AbortController,fe=setTimeout(()=>{K.abort(),Ln(V,"TestPingServer: timeout",!1,D)},1e4);fetch(w,{signal:K.signal}).then(ve=>{clearTimeout(fe),ve.ok?Ln(V,"TestPingServer: ok",!0,D):Ln(V,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(fe),Ln(V,"TestPingServer: error",!1,D)})}function Ln(w,D,V,K,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),K(V)}catch{}}function iu(){this.g=new rt}function Is(w){this.i=w.Sb||null,this.h=w.ab||!1}f(Is,Vt),Is.prototype.g=function(){return new Yi(this.i,this.h)};function Yi(w,D){_t.call(this),this.H=w,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Yi,_t),t=Yi.prototype,t.open=function(w,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=D,this.readyState=1,Xo(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const D={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(D.body=w),(this.H||a).fetch(new Request(this.D,D)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jl(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;f0(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function f0(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var D=w.value?w.value:new Uint8Array(0);(D=this.B.decode(D,{stream:!w.done}))&&(this.response=this.responseText+=D)}w.done?jl(this):Xo(this),this.readyState==3&&f0(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,jl(this))},t.Na=function(w){this.g&&(this.response=w,jl(this))},t.ga=function(){this.g&&jl(this)};function jl(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Xo(w)}t.setRequestHeader=function(w,D){this.A.append(w,D)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],D=this.h.entries();for(var V=D.next();!V.done;)V=V.value,w.push(V[0]+": "+V[1]),V=D.next();return w.join(`\r
`)};function Xo(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function h0(w){let D="";return oe(w,function(V,K){D+=K,D+=":",D+=V,D+=`\r
`}),D}function Dd(w,D,V){e:{for(K in V){var K=!1;break e}K=!0}K||(V=h0(V),typeof w=="string"?V!=null&&Ia(V):Xt(w,D,V))}function hr(w){_t.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(hr,_t);var p0=/^https?$/i,d2=["POST","PUT"];t=hr.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,D,V,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);D=D?D.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():o0.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(D,String(w),!0),this.B=!1}catch(ve){Rl(this,ve);return}if(w=V||"",V=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var fe in K)V.set(fe,K[fe]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ve of K.keys())V.set(ve,K.get(ve));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(V.keys()).find(ve=>ve.toLowerCase()=="content-type"),fe=a.FormData&&w instanceof a.FormData,!(Array.prototype.indexOf.call(d2,D,void 0)>=0)||K||fe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,De]of V)this.g.setRequestHeader(ve,De);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(ve){Rl(this,ve)}};function Rl(w,D){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=D,w.o=5,Dl(w),Ps(w)}function Dl(w){w.A||(w.A=!0,gt(w,"complete"),gt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,gt(this,"complete"),gt(this,"abort"),Ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),hr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},t.Xa=function(){ks(this)};function ks(w){if(w.h&&typeof o<"u"){if(w.v&&Ma(w)==4)setTimeout(w.Ca.bind(w),0);else if(gt(w,"readystatechange"),Ma(w)==4){w.h=!1;try{const ve=w.ca();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var V;if(!(V=D)){var K;if(K=ve===0){let De=String(w.D).match(d0)[1]||null;!De&&a.self&&a.self.location&&(De=a.self.location.protocol.slice(0,-1)),K=!p0.test(De?De.toLowerCase():"")}V=K}if(V)gt(w,"complete"),gt(w,"success");else{w.o=6;try{var fe=Ma(w)>2?w.g.statusText:""}catch{fe=""}w.l=fe+" ["+w.ca()+"]",Dl(w)}}finally{Ps(w)}}}}function Ps(w,D){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const V=w.g;w.g=null,D||gt(w,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ma(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Ma(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var D=this.g.responseText;return w&&D.indexOf(w)==0&&(D=D.substring(w.length)),Le(D)}};function m0(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Bp(w){const D={};w=(w.g&&Ma(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<w.length;K++){if(F(w[K]))continue;var V=Id(w[K]);const fe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ve=D[fe]||[];D[fe]=ve,ve.push(V)}z(D,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(w,D,V){return V&&V.internalChannelParams&&V.internalChannelParams[w]||D}function Md(w){this.za=0,this.i=[],this.j=new Il,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fa("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fa("baseRetryDelayMs",5e3,w),this.Za=Fa("retryDelaySeedMs",1e4,w),this.Ta=Fa("forwardChannelMaxRetries",2,w),this.va=Fa("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Pd(w&&w.concurrentRequestLimit),this.Ba=new iu,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Md.prototype,t.ka=8,t.I=1,t.connect=function(w,D,V,K){zr(0),this.W=w,this.H=D||{},V&&K!==void 0&&(this.H.OSID=V,this.H.OAID=K),this.F=this.X,this.J=$p(this,null,this.W),Os(this)};function Fd(w){if(Ld(w),w.I==3){var D=w.V++,V=_o(w.J);if(Xt(V,"SID",w.M),Xt(V,"RID",D),Xt(V,"TYPE","terminate"),La(w,V),D=new wo(w,w.j,D),D.M=2,D.A=Ns(_o(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(D.A.toString(),"")}catch{}!V&&a.Image&&(new Image().src=D.A,V=!0),V||(D.g=y0(D.j,null),D.g.ea(D.A)),D.F=Date.now(),Xc(D)}su(w)}function Xi(w){w.g&&(au(w),w.g.cancel(),w.g=null)}function Ld(w){Xi(w),w.v&&(a.clearTimeout(w.v),w.v=null),Bd(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&a.clearTimeout(w.m),w.m=null)}function Os(w){if(!Ip(w.h)&&!w.m){w.m=!0;var D=w.Ea;I||S(),T||(I(),T=!0),N.add(D,w),w.D=0}}function g0(w,D){return Zc(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=D.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Nl(c(w.Ea,w,D),$d(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const fe=new wo(this,this.j,w);let ve=this.o;if(this.U&&(ve?(ve=Q(ve),W(ve,this.U)):ve=this.U),this.u!==null||this.R||(fe.J=ve,ve=null),this.S)e:{for(var D=0,V=0;V<this.i.length;V++){t:{var K=this.i[V];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(D+=K,D>4096){D=V;break e}if(D===4096||V===this.i.length-1){D=V+1;break e}}D=1e3}else D=1e3;D=Vp(this,fe,D),V=_o(this.J),Xt(V,"RID",w),Xt(V,"CVER",22),this.G&&Xt(V,"X-HTTP-Session-Id",this.G),La(this,V),ve&&(this.R?D="headers="+Ia(h0(ve))+"&"+D:this.u&&Dd(V,this.u,ve)),Od(this.h,fe),this.Ra&&Xt(V,"TYPE","init"),this.S?(Xt(V,"$req",D),Xt(V,"SID","null"),fe.U=!0,Yo(fe,V,null)):Yo(fe,V,D),this.I=2}}else this.I==3&&(w?ou(this,w):this.i.length==0||Ip(this.h)||ou(this))};function ou(w,D){var V;D?V=D.l:V=w.V++;const K=_o(w.J);Xt(K,"SID",w.M),Xt(K,"RID",V),Xt(K,"AID",w.K),La(w,K),w.u&&w.o&&Dd(K,w.u,w.o),V=new wo(w,w.j,V,w.D+1),w.u===null&&(V.J=w.o),D&&(w.i=D.G.concat(w.i)),D=Vp(w,V,1e3),V.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),Od(w.h,V),Yo(V,K,D)}function La(w,D){w.H&&oe(w.H,function(V,K){Xt(D,K,V)}),w.l&&oe({},function(V,K){Xt(D,K,V)})}function Vp(w,D,V){V=Math.min(w.i.length,V);const K=w.l?c(w.l.Ka,w.l,w):null;e:{var fe=w.i;let Ct=-1;for(;;){const Gr=["count="+V];Ct==-1?V>0?(Ct=fe[0].g,Gr.push("ofs="+Ct)):Ct=0:Gr.push("ofs="+Ct);let sr=!0;for(let Zr=0;Zr<V;Zr++){var ve=fe[Zr].g;const Zi=fe[Zr].map;if(ve-=Ct,ve<0)Ct=Math.max(0,fe[Zr].g-100),sr=!1;else try{ve="req"+ve+"_"||"";try{var De=Zi instanceof Map?Zi:Object.entries(Zi);for(const[js,Va]of De){let $a=Va;s(Va)&&($a=ce(Va)),Gr.push(ve+js+"="+encodeURIComponent($a))}}catch(js){throw Gr.push(ve+"type="+encodeURIComponent("_badmap")),js}}catch{K&&K(Zi)}}if(sr){De=Gr.join("&");break e}}De=void 0}return w=w.i.splice(0,V),D.G=w,De}function Xn(w){if(!w.g&&!w.v){w.Y=1;var D=w.Da;I||S(),T||(I(),T=!0),N.add(D,w),w.A=0}}function Ba(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Nl(c(w.Da,w),$d(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,Ml(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Nl(c(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zr(10),Xi(this),Ml(this))};function au(w){w.B!=null&&(a.clearTimeout(w.B),w.B=null)}function Ml(w){w.g=new wo(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var D=_o(w.na);Xt(D,"RID","rpc"),Xt(D,"SID",w.M),Xt(D,"AID",w.K),Xt(D,"CI",w.F?"0":"1"),!w.F&&w.ia&&Xt(D,"TO",w.ia),Xt(D,"TYPE","xmlhttp"),La(w,D),w.u&&w.o&&Dd(D,w.u,w.o),w.O&&(w.g.H=w.O);var V=w.g;w=w.ba,V.M=1,V.A=Ns(_o(D)),V.u=null,V.R=!0,Tp(V,w)}t.Va=function(){this.C!=null&&(this.C=null,Xi(this),Ba(this),zr(19))};function Bd(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Vd(w,D){var V=null;if(w.g==D){Bd(w),au(w),w.g=null;var K=2}else if(kp(w.h,D))V=D.G,Jc(w.h,D),K=1;else return;if(w.I!=0){if(D.o)if(K==1){V=D.u?D.u.length:0,D=Date.now()-D.F;var fe=w.D;K=Cn(),gt(K,new Ep(K,V)),Os(w)}else Xn(w);else if(fe=D.m,fe==3||fe==0&&D.X>0||!(K==1&&g0(w,D)||K==2&&Ba(w)))switch(V&&V.length>0&&(D=w.h,D.i=D.i.concat(V)),fe){case 1:Qi(w,5);break;case 4:Qi(w,10);break;case 3:Qi(w,6);break;default:Qi(w,2)}}}function $d(w,D){let V=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(V*=2),V*D}function Qi(w,D){if(w.j.info("Error code "+D),D==2){var V=c(w.bb,w),K=w.Ua;const fe=!K;K=new ka(K||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eu(K,"https"),Ns(K),fe?Ra(K.toString(),V):Da(K.toString(),V)}else zr(2);w.I=0,w.l&&w.l.pa(D),su(w),Ld(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),zr(2)):(this.j.info("Failed to ping google.com"),zr(1))};function su(w){if(w.I=0,w.ja=[],w.l){const D=Gi(w.h);(D.length!=0||w.i.length!=0)&&(x(w.ja,D),x(w.ja,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.oa()}}function $p(w,D,V){var K=V instanceof ka?_o(V):new ka(V);if(K.g!="")D&&(K.g=D+"."+K.g),Pa(K,K.u);else{var fe=a.location;K=fe.protocol,D=D?D+"."+fe.hostname:fe.hostname,fe=+fe.port;const ve=new ka(null);K&&eu(ve,K),D&&(ve.g=D),fe&&Pa(ve,fe),V&&(ve.h=V),K=ve}return V=w.G,D=w.wa,V&&D&&Xt(K,V,D),Xt(K,"VER",w.ka),La(w,K),K}function y0(w,D,V){if(D&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return D=w.Aa&&!w.ma?new hr(new Is({ab:V})):new hr(w.ma),D.Fa(w.L),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function v0(){}t=v0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ud(){}Ud.prototype.g=function(w,D){return new Bn(w,D)};function Bn(w,D){_t.call(this),this.g=new Md(D),this.l=w,this.h=D&&D.messageUrlParams||null,w=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(w?w["X-WebChannel-Content-Type"]=D.messageContentType:w={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.sa&&(w?w["X-WebChannel-Client-Profile"]=D.sa:w={"X-WebChannel-Client-Profile":D.sa}),this.g.U=w,(w=D&&D.Qb)&&!F(w)&&(this.g.u=w),this.A=D&&D.supportsCrossDomainXhr||!1,this.v=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!F(D)&&(this.g.G=D,w=this.h,w!==null&&D in w&&(w=this.h,D in w&&delete w[D])),this.j=new Fl(this)}f(Bn,_t),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Fd(this.g)},Bn.prototype.o=function(w){var D=this.g;if(typeof w=="string"){var V={};V.__data__=w,w=V}else this.v&&(V={},V.__data__=ce(w),w=V);D.i.push(new c2(D.Ya++,w)),D.I==3&&Os(D)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Fd(this.g),delete this.g,Bn.Z.N.call(this)};function x0(w){Ei.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var D=w.__sm__;if(D){e:{for(const V in D){w=V;break e}w=void 0}(this.i=w)&&(w=this.i,D=D!==null&&w in D?D[w]:void 0),this.data=D}else this.data=w}f(x0,Ei);function b0(){fi.call(this),this.status=1}f(b0,fi);function Fl(w){this.g=w}f(Fl,v0),Fl.prototype.ra=function(){gt(this.g,"a")},Fl.prototype.qa=function(w){gt(this.g,new x0(w))},Fl.prototype.pa=function(w){gt(this.g,new b0)},Fl.prototype.oa=function(){gt(this.g,"b")},Ud.prototype.createWebChannel=Ud.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,DW=function(){return new Ud},RW=function(){return Cn()},jW=ar,TN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,c1=kl,Pl.COMPLETE="complete",OW=Pl,fr.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Fm=fr,hr.prototype.listenOnce=hr.prototype.K,hr.prototype.getLastError=hr.prototype.Ha,hr.prototype.getLastErrorCode=hr.prototype.ya,hr.prototype.getStatus=hr.prototype.ca,hr.prototype.getResponseJson=hr.prototype.La,hr.prototype.getResponseText=hr.prototype.la,hr.prototype.send=hr.prototype.ea,hr.prototype.setWithCredentials=hr.prototype.Fa,PW=hr}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});const Y6="@firebase/firestore",X6="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new e4("@firebase/firestore");function Cf(){return Ju.logLevel}function He(t,...e){if(Ju.logLevel<=Dt.DEBUG){const r=e.map(n4);Ju.debug(`Firestore (${Jh}): ${t}`,...r)}}function ul(t,...e){if(Ju.logLevel<=Dt.ERROR){const r=e.map(n4);Ju.error(`Firestore (${Jh}): ${t}`,...r)}}function ed(t,...e){if(Ju.logLevel<=Dt.WARN){const r=e.map(n4);Ju.warn(`Firestore (${Jh}): ${t}`,...r)}}function n4(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,MW(t,n,r)}function MW(t,e,r){let n=`FIRESTORE (${Jh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ul(n),new Error(n)}function ir(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||MW(e,i,n)}function St(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends vs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ii.UNAUTHENTICATED)))}shutdown(){}}class Pue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Oue{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ir(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Js,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=o;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},s=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>s(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Js)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ir(typeof n.accessToken=="string",31837,{l:n}),new FW(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ir(e===null||typeof e=="string",2055,{h:e}),new ii(e)}}class jue{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rue{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new jue(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(ii.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Due{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ir(this.o===void 0,3512);const n=o=>{o.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,He("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(ir(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Q6(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Mue(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Mt(t,e){return t<e?-1:t>e?1:0}function NN(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),o=e.charAt(n);if(i!==o)return iA(i)===iA(o)?Mt(i,o):iA(i)?1:-1}return Mt(t.length,e.length)}const Fue=55296,Lue=57343;function iA(t){const e=t.charCodeAt(0);return e>=Fue&&e<=Lue}function uh(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="__name__";class Ka{constructor(e,r,n){r===void 0?r=0:r>e.length&&mt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&mt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=Ka.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Mt(e.length,r.length)}static compareSegments(e,r){const n=Ka.isNumericId(e),i=Ka.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ka.extractNumericId(e).compare(Ka.extractNumericId(r)):NN(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gc.fromString(e.substring(4,e.length-2))}}class br extends Ka{construct(e,r,n){return new br(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new br(r)}static emptyPath(){return new br([])}}const Bue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Ka{construct(e,r,n){return new jn(e,r,n)}static isValidIdentifier(e){return Bue.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z6}static keyField(){return new jn([Z6])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Be(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(n+=s,i++):(o(),i++)}if(o(),a)throw new Be(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(r)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(br.fromString(e))}static fromName(e){return new et(br.fromString(e).popFirst(5))}static empty(){return new et(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&br.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return br.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new br(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t,e,r){if(!r)throw new Be(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VW(t,e,r,n){if(e===!0&&n===!0)throw new Be(Ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function J6(t){if(!et.isDocumentKey(t))throw new Be(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e5(t){if(et.isDocumentKey(t))throw new Be(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $W(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ab(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mt(12329,{type:typeof t})}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ab(t);throw new Be(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Vue(t,e){if(e<=0)throw new Be(Ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const r={typeString:t};return e&&(r.value=e),r}function Ay(t,e){if(!$W(t))throw new Be(Ce.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new Be(Ce.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=-62135596800,r5=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*r5);return new Rt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<t5)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r5}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ay(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:an("string",Rt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Rt(0,0))}static max(){return new At(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function $ue(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=At.fromTimestamp(n===1e9?new Rt(r+1,0):new Rt(r,n));return new Sc(i,et.empty(),e)}function Uue(t){return new Sc(t.readTime,t.key,Cg)}class Sc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Sc(At.min(),et.empty(),Cg)}static max(){return new Sc(At.max(),et.empty(),Cg)}}function zue(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=et.comparator(t.documentKey,e.documentKey),r!==0?r:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==Wue)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Te(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Te.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Te.reject(r)}static resolve(e){return new Te(((r,n)=>{r(e)}))}static reject(e){return new Te(((r,n)=>{n(e)}))}static waitFor(e){return new Te(((r,n)=>{let i=0,o=0,a=!1;e.forEach((s=>{++i,s.next((()=>{++o,a&&o===i&&r()}),(l=>n(l)))})),a=!0,o===i&&r()}))}static or(e){let r=Te.resolve(!1);for(const n of e)r=r.next((i=>i?Te.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,o)=>{n.push(r.call(this,i,o))})),this.waitFor(n)}static mapArray(e,r){return new Te(((n,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;r(e[c]).next((d=>{a[c]=d,++s,s===o&&n(a)}),(d=>i(d)))}}))}static doWhile(e,r){return new Te(((n,i)=>{const o=()=>{e()===!0?r().next((()=>{o()}),i):n()};o()}))}}function que(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function tp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=-1;function Eb(t){return t==null}function M1(t){return t===0&&1/t==-1/0}function Gue(t){return typeof t=="number"&&Number.isInteger(t)&&!M1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="";function Kue(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=n5(e)),e=Yue(t.get(r),e);return n5(e)}function Yue(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case UW:r+="";break;default:r+=o}}return r}function n5(t){return t+UW+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Dc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function zW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,r){this.comparator=e,this.root=r||Kn.EMPTY}insert(e,r){return new Ur(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bv(this.root,e,this.comparator,!0)}}class bv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Kn.RED,this.left=i??Kn.EMPTY,this.right=o??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Kn(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new Kn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new o5(this.data.getIterator())}getIteratorFrom(e){return new o5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new _n(this.comparator);return r.data=e,r}}class o5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new uo([])}unionWith(e){let r=new _n(jn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new uo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WW("Invalid base64 string: "+o):o}})(e);return new Mn(r)}static fromUint8Array(e){const r=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new Mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Xue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tc(t){if(ir(!!t,39018),typeof t=="string"){let e=0;const r=Xue.exec(t);if(ir(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Xr(t.seconds),nanos:Xr(t.nanos)}}function Xr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nc(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW="server_timestamp",qW="__type__",GW="__previous_value__",KW="__local_write_time__";function o4(t){return(t?.mapValue?.fields||{})[qW]?.stringValue===HW}function Sb(t){const e=t.mapValue.fields[GW];return o4(e)?Sb(e):e}function Eg(t){const e=Tc(t.mapValue.fields[KW].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e,r,n,i,o,a,s,l,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const F1="(default)";class dh{constructor(e,r){this.projectId=e,this.database=r||F1}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===F1}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="__type__",Zue="__max__",wv={mapValue:{}},XW="__vector__",L1="value";function Ic(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o4(t)?4:ede(t)?9007199254740991:Jue(t)?10:11:mt(28295,{value:t})}function ds(t,e){if(t===e)return!0;const r=Ic(t);if(r!==Ic(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eg(t).isEqual(Eg(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Tc(i.timestampValue),s=Tc(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Nc(i.bytesValue).isEqual(Nc(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Xr(i.geoPointValue.latitude)===Xr(o.geoPointValue.latitude)&&Xr(i.geoPointValue.longitude)===Xr(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Xr(i.integerValue)===Xr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Xr(i.doubleValue),s=Xr(o.doubleValue);return a===s?M1(a)===M1(s):isNaN(a)&&isNaN(s)}return!1})(t,e);case 9:return uh(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(i5(a)!==i5(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!ds(a[l],s[l])))return!1;return!0})(t,e);default:return mt(52216,{left:t})}}function Sg(t,e){return(t.values||[]).find((r=>ds(r,e)))!==void 0}function fh(t,e){if(t===e)return 0;const r=Ic(t),n=Ic(e);if(r!==n)return Mt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const s=Xr(o.integerValue||o.doubleValue),l=Xr(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1})(t,e);case 3:return a5(t.timestampValue,e.timestampValue);case 4:return a5(Eg(t),Eg(e));case 5:return NN(t.stringValue,e.stringValue);case 6:return(function(o,a){const s=Nc(o),l=Nc(a);return s.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const s=o.split("/"),l=a.split("/");for(let c=0;c<s.length&&c<l.length;c++){const d=Mt(s[c],l[c]);if(d!==0)return d}return Mt(s.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const s=Mt(Xr(o.latitude),Xr(a.latitude));return s!==0?s:Mt(Xr(o.longitude),Xr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return s5(t.arrayValue,e.arrayValue);case 10:return(function(o,a){const s=o.fields||{},l=a.fields||{},c=s[L1]?.arrayValue,d=l[L1]?.arrayValue,f=Mt(c?.values?.length||0,d?.values?.length||0);return f!==0?f:s5(c,d)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===wv.mapValue&&a===wv.mapValue)return 0;if(o===wv.mapValue)return 1;if(a===wv.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),c=a.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=NN(l[f],d[f]);if(p!==0)return p;const g=fh(s[l[f]],c[d[f]]);if(g!==0)return g}return Mt(l.length,d.length)})(t.mapValue,e.mapValue);default:throw mt(23264,{he:r})}}function a5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const r=Tc(t),n=Tc(e),i=Mt(r.seconds,n.seconds);return i!==0?i:Mt(r.nanos,n.nanos)}function s5(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=fh(r[i],n[i]);if(o)return o}return Mt(r.length,n.length)}function hh(t){return IN(t)}function IN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Tc(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Nc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return et.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=IN(o);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of n)o?o=!1:i+=",",i+=`${a}:${IN(r.fields[a])}`;return i+"}"})(t.mapValue):mt(61005,{value:t})}function u1(t){switch(Ic(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sb(t);return e?16+u1(e):16;case 5:return 2*t.stringValue.length;case 6:return Nc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+u1(o)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Dc(n.fields,((o,a)=>{i+=o.length+u1(a)})),i})(t.mapValue);default:throw mt(13486,{value:t})}}function l5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kN(t){return!!t&&"integerValue"in t}function a4(t){return!!t&&"arrayValue"in t}function c5(t){return!!t&&"nullValue"in t}function u5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function d1(t){return!!t&&"mapValue"in t}function Jue(t){return(t?.mapValue?.fields||{})[YW]?.stringValue===XW}function eg(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Dc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=eg(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=eg(t.arrayValue.values[r]);return e}return{...t}}function ede(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!d1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=eg(r)}setAll(e){let r=jn.emptyPath(),n={},i=[];e.forEach(((a,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}a?n[s.lastSegment()]=eg(a):i.push(s.lastSegment())}));const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());d1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];d1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Dc(r,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new Fi(eg(this.value))}}function QW(t){const e=[];return Dc(t.fields,((r,n)=>{const i=new jn([r]);if(d1(n)){const o=QW(n.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new uo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,r,n,i,o,a,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new oi(e,0,At.min(),At.min(),At.min(),Fi.empty(),0)}static newFoundDocument(e,r,n,i){return new oi(e,1,r,At.min(),n,i,0)}static newNoDocument(e,r){return new oi(e,2,r,At.min(),At.min(),Fi.empty(),0)}static newUnknownDocument(e,r){return new oi(e,3,r,At.min(),At.min(),Fi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,r){this.position=e,this.inclusive=r}}function d5(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?n=et.comparator(et.fromName(a.referenceValue),r.key):n=fh(a,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function f5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ds(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,r="asc"){this.field=e,this.dir=r}}function tde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{}class on extends ZW{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new nde(e,r,n):r==="array-contains"?new ade(e,n):r==="in"?new sde(e,n):r==="not-in"?new lde(e,n):r==="array-contains-any"?new cde(e,n):new on(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new ide(e,n):new ode(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(fh(r,this.value)):r!==null&&Ic(this.value)===Ic(r)&&this.matchesComparison(fh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends ZW{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new _a(e,r)}matches(e){return JW(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JW(t){return t.op==="and"}function eH(t){return rde(t)&&JW(t)}function rde(t){for(const e of t.filters)if(e instanceof _a)return!1;return!0}function PN(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+hh(t.value);if(eH(t))return t.filters.map((e=>PN(e))).join(",");{const e=t.filters.map((r=>PN(r))).join(",");return`${t.op}(${e})`}}function tH(t,e){return t instanceof on?(function(n,i){return i instanceof on&&n.op===i.op&&n.field.isEqual(i.field)&&ds(n.value,i.value)})(t,e):t instanceof _a?(function(n,i){return i instanceof _a&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,a,s)=>o&&tH(a,i.filters[s])),!0):!1})(t,e):void mt(19439)}function rH(t){return t instanceof on?(function(r){return`${r.field.canonicalString()} ${r.op} ${hh(r.value)}`})(t):t instanceof _a?(function(r){return r.op.toString()+" {"+r.getFilters().map(rH).join(" ,")+"}"})(t):"Filter"}class nde extends on{constructor(e,r,n){super(e,r,n),this.key=et.fromName(n.referenceValue)}matches(e){const r=et.comparator(e.key,this.key);return this.matchesComparison(r)}}class ide extends on{constructor(e,r){super(e,"in",r),this.keys=nH("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class ode extends on{constructor(e,r){super(e,"not-in",r),this.keys=nH("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function nH(t,e){return(e.arrayValue?.values||[]).map((r=>et.fromName(r.referenceValue)))}class ade extends on{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return a4(r)&&Sg(r.arrayValue,this.value)}}class sde extends on{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Sg(this.value.arrayValue,r)}}class lde extends on{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Sg(this.value.arrayValue,r)}}class cde extends on{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!a4(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Sg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ude{constructor(e,r=null,n=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function h5(t,e=null,r=[],n=[],i=null,o=null,a=null){return new ude(t,e,r,n,i,o,a)}function s4(t){const e=St(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>PN(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Eb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>hh(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>hh(n))).join(",")),e.Te=r}return e.Te}function l4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!tde(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!tH(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f5(t.startAt,e.startAt)&&f5(t.endAt,e.endAt)}function ON(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r=null,n=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dde(t,e,r,n,i,o,a,s){return new rp(t,e,r,n,i,o,a,s)}function Tb(t){return new rp(t)}function p5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iH(t){return t.collectionGroup!==null}function tg(t){const e=St(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new _n(jn.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(s=s.add(c.field))}))})),s})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Tg(o,n))})),r.has(jn.keyField().canonicalString())||e.Ie.push(new Tg(jn.keyField(),n))}return e.Ie}function is(t){const e=St(t);return e.Ee||(e.Ee=fde(e,tg(t))),e.Ee}function fde(t,e){if(t.limitType==="F")return h5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Tg(i.field,o)}));const r=t.endAt?new B1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new B1(t.startAt.position,t.startAt.inclusive):null;return h5(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function jN(t,e){const r=t.filters.concat([e]);return new rp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function V1(t,e,r){return new rp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Nb(t,e){return l4(is(t),is(e))&&t.limitType===e.limitType}function oH(t){return`${s4(is(t))}|lt:${t.limitType}`}function Ef(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>rH(i))).join(", ")}]`),Eb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>hh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>hh(i))).join(",")),`Target(${n})`})(is(t))}; limitType=${t.limitType})`}function Ib(t,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):et.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(t,e)&&(function(n,i){for(const o of tg(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,s,l){const c=d5(a,s,l);return a.inclusive?c<=0:c<0})(n.startAt,tg(n),i)||n.endAt&&!(function(a,s,l){const c=d5(a,s,l);return a.inclusive?c>=0:c>0})(n.endAt,tg(n),i))})(t,e)}function hde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aH(t){return(e,r)=>{let n=!1;for(const i of tg(t)){const o=pde(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function pde(t,e,r){const n=t.field.isKeyField()?et.comparator(e.key,r.key):(function(o,a,s){const l=a.data.field(o),c=s.data.field(o);return l!==null&&c!==null?fh(l,c):mt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return mt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dc(this.inner,((r,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return zW(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mde=new Ur(et.comparator);function dl(){return mde}const sH=new Ur(et.comparator);function Lm(...t){let e=sH;for(const r of t)e=e.insert(r.key,r);return e}function lH(t){let e=sH;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Mu(){return rg()}function cH(){return rg()}function rg(){return new bd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gde=new Ur(et.comparator),yde=new _n(et.comparator);function Ft(...t){let e=yde;for(const r of t)e=e.add(r);return e}const vde=new _n(Mt);function xde(){return vde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:M1(e)?"-0":e}}function uH(t){return{integerValue:""+t}}function bde(t,e){return Gue(e)?uH(e):c4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._=void 0}}function wde(t,e,r){return t instanceof $1?(function(i,o){const a={fields:{[qW]:{stringValue:HW},[KW]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&o4(o)&&(o=Sb(o)),o&&(a.fields[GW]=o),{mapValue:a}})(r,e):t instanceof Ng?fH(t,e):t instanceof Ig?hH(t,e):(function(i,o){const a=dH(i,o),s=m5(a)+m5(i.Ae);return kN(a)&&kN(i.Ae)?uH(s):c4(i.serializer,s)})(t,e)}function _de(t,e,r){return t instanceof Ng?fH(t,e):t instanceof Ig?hH(t,e):r}function dH(t,e){return t instanceof U1?(function(n){return kN(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class $1 extends kb{}class Ng extends kb{constructor(e){super(),this.elements=e}}function fH(t,e){const r=pH(e);for(const n of t.elements)r.some((i=>ds(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Ig extends kb{constructor(e){super(),this.elements=e}}function hH(t,e){let r=pH(e);for(const n of t.elements)r=r.filter((i=>!ds(i,n)));return{arrayValue:{values:r}}}class U1 extends kb{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function m5(t){return Xr(t.integerValue||t.doubleValue)}function pH(t){return a4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ade(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Ng&&i instanceof Ng||n instanceof Ig&&i instanceof Ig?uh(n.elements,i.elements,ds):n instanceof U1&&i instanceof U1?ds(n.Ae,i.Ae):n instanceof $1&&i instanceof $1})(t.transform,e.transform)}class Cde{constructor(e,r){this.version=e,this.transformResults=r}}class mo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new mo}static exists(e){return new mo(void 0,e)}static updateTime(e){return new mo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pb{}function mH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u4(t.key,mo.none()):new Cy(t.key,t.data,mo.none());{const r=t.data,n=Fi.empty();let i=new _n(jn.comparator);for(let o of e.fields)if(!i.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?n.delete(o):n.set(o,a),i=i.add(o)}return new Mc(t.key,n,new uo(i.toArray()),mo.none())}}function Ede(t,e,r){t instanceof Cy?(function(i,o,a){const s=i.value.clone(),l=y5(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()})(t,e,r):t instanceof Mc?(function(i,o,a){if(!f1(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=y5(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(gH(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function ng(t,e,r,n){return t instanceof Cy?(function(o,a,s,l){if(!f1(o.precondition,a))return s;const c=o.value.clone(),d=v5(o.fieldTransforms,l,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,r,n):t instanceof Mc?(function(o,a,s,l){if(!f1(o.precondition,a))return s;const c=v5(o.fieldTransforms,l,a),d=a.data;return d.setAll(gH(o)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((f=>f.field)))})(t,e,r,n):(function(o,a,s){return f1(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s})(t,e,r)}function Sde(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=dH(n.transform,i||null);o!=null&&(r===null&&(r=Fi.empty()),r.set(n.field,o))}return r||null}function g5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&uh(n,i,((o,a)=>Ade(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cy extends Pb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mc extends Pb{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gH(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function y5(t,e,r){const n=new Map;ir(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);n.set(o.field,_de(a,s,r[i]))}return n}function v5(t,e,r){const n=new Map;for(const i of t){const o=i.transform,a=r.data.field(i.field);n.set(i.field,wde(o,a,e))}return n}class u4 extends Pb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tde extends Pb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ede(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ng(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ng(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=cH();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=r.has(i.key)?null:s;const l=mH(a,s);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(At.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,((r,n)=>g5(r,n)))&&uh(this.baseMutations,e.baseMutations,((r,n)=>g5(r,n)))}}class d4{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ir(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return gde})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new d4(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ide=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kde{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,$t;function Pde(t){switch(t){case Ce.OK:return mt(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return mt(15467,{code:t})}}function yH(t){if(t===void 0)return ul("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case en.OK:return Ce.OK;case en.CANCELLED:return Ce.CANCELLED;case en.UNKNOWN:return Ce.UNKNOWN;case en.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case en.INTERNAL:return Ce.INTERNAL;case en.UNAVAILABLE:return Ce.UNAVAILABLE;case en.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case en.NOT_FOUND:return Ce.NOT_FOUND;case en.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case en.ABORTED:return Ce.ABORTED;case en.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case en.DATA_LOSS:return Ce.DATA_LOSS;default:return mt(39323,{code:t})}}($t=en||(en={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ode(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jde=new gc([4294967295,4294967295],0);function x5(t){const e=Ode().encode(t),r=new kW;return r.update(e),new Uint8Array(r.digest())}function b5(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gc([r,n],0),new gc([i,o],0)]}class f4{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Bm(`Invalid padding: ${r}`);if(n<0)throw new Bm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Bm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Bm(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=gc.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(gc.fromNumber(n)));return i.compare(jde)===1&&(i=new gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=x5(e),[n,i]=b5(r);for(let o=0;o<this.hashCount;o++){const a=this.ye(n,i,o);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new f4(o,i,r);return n.forEach((s=>a.insert(s))),a}insert(e){if(this.ge===0)return;const r=x5(e),[n,i]=b5(r);for(let o=0;o<this.hashCount;o++){const a=this.ye(n,i,o);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Bm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ey.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ob(At.min(),i,new Ur(Mt),dl(),Ft())}}class Ey{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ey(n,r,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class vH{constructor(e,r){this.targetId=e,this.Ce=r}}class xH{constructor(e,r,n=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class w5{constructor(){this.ve=0,this.Fe=_5(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),r=Ft(),n=Ft();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:mt(38017,{changeType:o})}})),new Ey(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=_5()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ir(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Rde{constructor(e){this.Ge=e,this.ze=new Map,this.je=dl(),this.Je=_v(),this.He=_v(),this.Ye=new Ur(Mt)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const o=i.target;if(ON(o))if(n===0){const a=new et(o.path);this.et(r,a,oi.newNoDocument(a,At.min()))}else ir(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let a,s;try{a=Nc(n).toUint8Array()}catch(l){if(l instanceof WW)return ed("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new f4(a,i,o)}catch(l){return ed(l instanceof Bm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(r,o,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((o,a)=>{const s=this.ot(a);if(s){if(o.current&&ON(s.target)){const l=new et(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,oi.newNoDocument(l,e))}o.Be&&(r.set(a,o.ke()),o.qe())}}));let n=Ft();this.He.forEach(((o,a)=>{let s=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)})),s&&(n=n.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Ob(e,r,this.Ye,this.je,n);return this.je=dl(),this.Je=_v(),this.He=_v(),this.Ye=new Ur(Mt),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new w5,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new _n(Mt),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new _n(Mt),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||He("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w5),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function _v(){return new Ur(et.comparator)}function _5(){return new Ur(et.comparator)}const Dde={asc:"ASCENDING",desc:"DESCENDING"},Mde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fde={and:"AND",or:"OR"};class Lde{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function RN(t,e){return t.useProto3Json||Eb(e)?e:{value:e}}function z1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bde(t,e){return z1(t,e.toTimestamp())}function os(t){return ir(!!t,49232),At.fromTimestamp((function(r){const n=Tc(r);return new Rt(n.seconds,n.nanos)})(t))}function h4(t,e){return DN(t,e).canonicalString()}function DN(t,e){const r=(function(i){return new br(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function wH(t){const e=br.fromString(t);return ir(SH(e),10190,{key:e.toString()}),e}function MN(t,e){return h4(t.databaseId,e.path)}function oA(t,e){const r=wH(e);if(r.get(1)!==t.databaseId.projectId)throw new Be(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Be(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new et(AH(r))}function _H(t,e){return h4(t.databaseId,e)}function Vde(t){const e=wH(t);return e.length===4?br.emptyPath():AH(e)}function FN(t){return new br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AH(t){return ir(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A5(t,e,r){return{name:MN(t,e),fields:r.value.mapValue.fields}}function $de(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:mt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(c,d){return c.useProto3Json?(ir(d===void 0||typeof d=="string",58123),Mn.fromBase64String(d||"")):(ir(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&(function(c){const d=c.code===void 0?Ce.UNKNOWN:yH(c.code);return new Be(d,c.message||"")})(a);r=new xH(n,i,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=oA(t,n.document.name),o=os(n.document.updateTime),a=n.document.createTime?os(n.document.createTime):At.min(),s=new Fi({mapValue:{fields:n.document.fields}}),l=oi.newFoundDocument(i,o,a,s),c=n.targetIds||[],d=n.removedTargetIds||[];r=new h1(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=oA(t,n.document),o=n.readTime?os(n.readTime):At.min(),a=oi.newNoDocument(i,o),s=n.removedTargetIds||[];r=new h1([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=oA(t,n.document),o=n.removedTargetIds||[];r=new h1([],o,i,null)}else{if(!("filter"in e))return mt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,a=new kde(i,o),s=n.targetId;r=new vH(s,a)}}return r}function Ude(t,e){let r;if(e instanceof Cy)r={update:A5(t,e.key,e.value)};else if(e instanceof u4)r={delete:MN(t,e.key)};else if(e instanceof Mc)r={update:A5(t,e.key,e.data),updateMask:Qde(e.fieldMask)};else{if(!(e instanceof Tde))return mt(16599,{Vt:e.type});r={verify:MN(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(o,a){const s=a.transform;if(s instanceof $1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ng)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ig)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof U1)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw mt(20930,{transform:a.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Bde(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:mt(27497)})(t,e.precondition)),r}function zde(t,e){return t&&t.length>0?(ir(e!==void 0,14353),t.map((r=>(function(i,o){let a=i.updateTime?os(i.updateTime):os(o);return a.isEqual(At.min())&&(a=os(o)),new Cde(a,i.transformResults||[])})(r,e)))):[]}function Wde(t,e){return{documents:[_H(t,e.path)]}}function Hde(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=_H(t,i);const o=(function(c){if(c.length!==0)return EH(_a.create(c,"and"))})(e.filters);o&&(r.structuredQuery.where=o);const a=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:Sf(p.field),direction:Kde(p.dir)}})(d)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const s=RN(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:r,parent:i}}function qde(t){let e=Vde(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ir(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];r.where&&(o=(function(f){const p=CH(f);return p instanceof _a&&eH(p)?p.getFilters():[p]})(r.where));let a=[];r.orderBy&&(a=(function(f){return f.map((p=>(function(x){return new Tg(Tf(x.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(p)))})(r.orderBy));let s=null;r.limit&&(s=(function(f){let p;return p=typeof f=="object"?f.value:f,Eb(p)?null:p})(r.limit));let l=null;r.startAt&&(l=(function(f){const p=!!f.before,g=f.values||[];return new B1(g,p)})(r.startAt));let c=null;return r.endAt&&(c=(function(f){const p=!f.before,g=f.values||[];return new B1(g,p)})(r.endAt)),dde(e,i,a,o,s,"F",l,c)}function Gde(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function CH(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Tf(r.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Tf(r.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tf(r.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Tf(r.unaryFilter.field);return on.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return on.create(Tf(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return _a.create(r.compositeFilter.filters.map((n=>CH(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(r.compositeFilter.op))})(t):mt(30097,{filter:t})}function Kde(t){return Dde[t]}function Yde(t){return Mde[t]}function Xde(t){return Fde[t]}function Sf(t){return{fieldPath:t.canonicalString()}}function Tf(t){return jn.fromServerFormat(t.fieldPath)}function EH(t){return t instanceof on?(function(r){if(r.op==="=="){if(u5(r.value))return{unaryFilter:{field:Sf(r.field),op:"IS_NAN"}};if(c5(r.value))return{unaryFilter:{field:Sf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(u5(r.value))return{unaryFilter:{field:Sf(r.field),op:"IS_NOT_NAN"}};if(c5(r.value))return{unaryFilter:{field:Sf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sf(r.field),op:Yde(r.op),value:r.value}}})(t):t instanceof _a?(function(r){const n=r.getFilters().map((i=>EH(i)));return n.length===1?n[0]:{compositeFilter:{op:Xde(r.op),filters:n}}})(t):mt(54877,{filter:t})}function Qde(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function SH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,r,n,i,o=At.min(),a=At.min(),s=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(e){this.yt=e}}function Jde(t){const e=qde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(){this.Cn=new tfe}addToCollectionParentIndex(e,r){return this.Cn.add(r),Te.resolve()}getCollectionParents(e,r){return Te.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Te.resolve()}deleteFieldIndex(e,r){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,r){return Te.resolve()}getDocumentsMatchingTarget(e,r){return Te.resolve(null)}getIndexType(e,r){return Te.resolve(0)}getFieldIndexes(e,r){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,r){return Te.resolve(Sc.min())}getMinOffsetFromCollectionGroup(e,r){return Te.resolve(Sc.min())}updateCollectionGroup(e,r,n){return Te.resolve()}updateIndexEntries(e,r){return Te.resolve()}}class tfe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new _n(br.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new _n(br.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TH=41943040;class Di{static withCacheSize(e){return new Di(e,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(TH,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ph(0)}static cr(){return new ph(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="LruGarbageCollector",rfe=1048576;function S5([t,e],[r,n]){const i=Mt(t,r);return i===0?Mt(e,n):i}class nfe{constructor(e){this.Ir=e,this.buffer=new _n(S5),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();S5(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ife{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){He(E5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){tp(r)?He(E5,"Ignoring IndexedDB error during garbage collection: ",r):await ep(r)}await this.Vr(3e5)}))}}class ofe{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Te.resolve(Cb.ce);const n=new nfe(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(C5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C5):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,o,a,s,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(n=f,s=Date.now(),this.removeTargets(e,n,r)))).next((f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((f=>(c=Date.now(),Cf()<=Dt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f}))))}}function afe(t,e){return new ofe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(){this.changes=new bd((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Te.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&ng(n.mutation,i,uo.empty(),Rt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Ft()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Ft()){const i=Mu();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((o=>{let a=Lm();return o.forEach(((s,l)=>{a=a.insert(s,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=Mu();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Ft())))}populateOverlays(e,r,n){const i=[];return n.forEach((o=>{r.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,s)=>{r.set(a,s)}))}))}computeViews(e,r,n,i){let o=dl();const a=rg(),s=(function(){return rg()})();return r.forEach(((l,c)=>{const d=n.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Mc)?o=o.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),ng(d.mutation,c,d.mutation.getFieldMask(),Rt.now())):a.set(c.key,uo.empty())})),this.recalculateAndSaveOverlays(e,o).next((l=>(l.forEach(((c,d)=>a.set(c,d))),r.forEach(((c,d)=>s.set(c,new lfe(d,a.get(c)??null)))),s)))}recalculateAndSaveOverlays(e,r){const n=rg();let i=new Ur(((a,s)=>a-s)),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const s of a)s.keys().forEach((l=>{const c=r.get(l);if(c===null)return;let d=n.get(l)||uo.empty();d=s.applyToLocalView(c,d),n.set(l,d);const f=(i.get(s.batchId)||Ft()).add(l);i=i.insert(s.batchId,f)}))})).next((()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,d=l.value,f=cH();d.forEach((p=>{if(!o.has(p)){const g=mH(r.get(p),n.get(p));g!==null&&f.set(p,g),o=o.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Te.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):iH(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):Te.resolve(Mu());let s=Cg,l=o;return a.next((c=>Te.forEach(c,((d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?Te.resolve():this.remoteDocumentCache.getEntry(e,d).next((p=>{l=l.insert(d,p)}))))).next((()=>this.populateOverlays(e,c,o))).next((()=>this.computeViews(e,l,c,Ft()))).next((d=>({batchId:s,changes:lH(d)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new et(r)).next((n=>{let i=Lm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let a=Lm();return this.indexManager.getCollectionParents(e,o).next((s=>Te.forEach(s,(l=>{const c=(function(f,p){return new rp(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next((d=>{d.forEach(((f,p)=>{a=a.insert(f,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i)))).next((a=>{o.forEach(((l,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,oi.newInvalidDocument(d)))}));let s=Lm();return a.forEach(((l,c)=>{const d=o.get(l);d!==void 0&&ng(d.mutation,c,uo.empty(),Rt.now()),Ib(r,c)&&(s=s.insert(l,c))})),s}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Te.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:os(i.createTime)}})(r)),Te.resolve()}getNamedQuery(e,r){return Te.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Jde(i.bundledQuery),readTime:os(i.readTime)}})(r)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(){this.overlays=new Ur(et.comparator),this.qr=new Map}getOverlay(e,r){return Te.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Mu();return Te.forEach(r,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,o)=>{this.St(e,r,o)})),Te.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Te.resolve()}getOverlaysForCollection(e,r,n){const i=Mu(),o=r.length+1,a=new et(r.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Te.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Ur(((c,d)=>c-d));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let d=o.get(c.largestBatchId);d===null&&(d=Mu(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const s=Mu(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,d)=>s.set(c,d))),!(s.size()>=i)););return Te.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Ide(r,n));let o=this.qr.get(r);o===void 0&&(o=Ft(),this.qr.set(r,o)),this.qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.Qr=new _n(kn.$r),this.Ur=new _n(kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new kn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new kn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new et(new br([])),n=new kn(r,e),i=new kn(r,e+1),o=[];return this.Ur.forEachInRange([n,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new et(new br([])),n=new kn(r,e),i=new kn(r,e+1);let o=Ft();return this.Ur.forEachInRange([n,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const r=new kn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return et.comparator(e.key,r.key)||Mt(e.Yr,r.Yr)}static Kr(e,r){return Mt(e.Yr,r.Yr)||et.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new _n(kn.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Nde(o,r,n,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new kn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Te.resolve(a)}lookupMutationBatch(e,r){return Te.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),o=i<0?0:i;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?i4:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kn(r,0),i=new kn(r,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,i],(a=>{const s=this.Xr(a.Yr);o.push(s)})),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new _n(Mt);return r.forEach((i=>{const o=new kn(i,0),a=new kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(s=>{n=n.add(s.Yr)}))})),Te.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;et.isDocumentKey(o)||(o=o.child(""));const a=new kn(new et(o),0);let s=new _n(Mt);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Yr)),!0)}),a),Te.resolve(this.ti(s))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){ir(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Te.forEach(r.mutations,(i=>{const o=new kn(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new kn(r,0),i=this.Zr.firstAfterOrEqual(n);return Te.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(e){this.ri=e,this.docs=(function(){return new Ur(et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Te.resolve(n?n.document.mutableCopy():oi.newInvalidDocument(r))}getEntries(e,r){let n=dl();return r.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():oi.newInvalidDocument(i))})),Te.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=dl();const a=r.path,s=new et(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||zue(Uue(d),n)<=0||(i.has(d.key)||Ib(r,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,r,n,i){mt(9500)}ii(e,r){return Te.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new mfe(this)}getSize(e){return Te.resolve(this.size)}}class mfe extends sfe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),Te.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e){this.persistence=e,this.si=new bd((r=>s4(r)),l4),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new p4,this.targetCount=0,this.ai=ph.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Te.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ph(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Te.resolve()}updateTargetData(e,r){return this.Pr(r),Te.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.si.forEach(((a,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Te.waitFor(o).next((()=>i))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Te.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Te.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),Te.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Te.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Te.resolve(n)}containsKey(e,r){return Te.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,r){this.ui={},this.overlays={},this.ci=new Cb(0),this.li=!1,this.li=!0,this.hi=new ffe,this.referenceDelegate=e(this),this.Pi=new gfe(this),this.indexManager=new efe,this.remoteDocumentCache=(function(i){return new pfe(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Zde(r),this.Ii=new ufe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new dfe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new hfe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){He("MemoryPersistence","Starting transaction:",e);const i=new yfe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,r){return Te.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class yfe extends Hue{constructor(e){super(),this.currentSequenceNumber=e}}class m4{constructor(e){this.persistence=e,this.Ri=new p4,this.Vi=null}static mi(e){return new m4(e)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Te.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Te.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Te.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(n=>{const i=et.fromPath(n);return this.gi(e,i).next((o=>{o||r.removeEntry(i,At.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Te.or([()=>Te.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class W1{constructor(e,r){this.persistence=e,this.pi=new bd((n=>Kue(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=afe(this,r)}static mi(e,r){return new W1(e,r)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return Te.forEach(this.pi,((n,i)=>this.br(e,n,i).next((o=>o?Te.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,r).next((s=>{s||(n++,o.removeEntry(a,At.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=u1(e.data.value)),r}br(e,r,n){return Te.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Te.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ft(),i=Ft();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new g4(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hce()?8:que(li())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ys(e,r).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,r,i,n).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new vfe;return this.Ss(e,r,a).next((s=>{if(o.result=s,this.Vs)return this.bs(e,r,a,s.size)}))})).next((()=>o.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Cf()<=Dt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Ef(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(Cf()<=Dt.DEBUG&&He("QueryEngine","Query:",Ef(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Cf()<=Dt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Ef(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(r))):Te.resolve())}ys(e,r){if(p5(r))return Te.resolve(null);let n=is(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=V1(r,null,"F"),n=is(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const a=Ft(...o);return this.ps.getDocuments(e,a).next((s=>this.indexManager.getMinOffset(e,n).next((l=>{const c=this.Ds(r,s);return this.Cs(r,c,a,l.readTime)?this.ys(e,V1(r,null,"F")):this.vs(e,c,r,l)}))))})))))}ws(e,r,n,i){return p5(r)||i.isEqual(At.min())?Te.resolve(null):this.ps.getDocuments(e,n).next((o=>{const a=this.Ds(r,o);return this.Cs(r,a,n,i)?Te.resolve(null):(Cf()<=Dt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ef(r)),this.vs(e,a,r,$ue(i,Cg)).next((s=>s)))}))}Ds(e,r){let n=new _n(aH(e));return r.forEach(((i,o)=>{Ib(e,o)&&(n=n.add(o))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,r,n){return Cf()<=Dt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ef(r)),this.ps.getDocumentsMatchingQuery(e,r,Sc.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((o=>(r.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="LocalStore",bfe=3e8;class wfe{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Ur(Mt),this.xs=new bd((o=>s4(o)),l4),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cfe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function _fe(t,e,r,n){return new wfe(t,e,r,n)}async function IH(t,e){const r=St(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((o=>{const a=[],s=[];let l=Ft();for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:s})))}))}))}function Afe(t,e){const r=St(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(s,l,c,d){const f=c.batch,p=f.keys();let g=Te.resolve();return p.forEach((x=>{g=g.next((()=>d.getEntry(l,x))).next((y=>{const b=c.docVersions.get(x);ir(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))}))})),g.next((()=>s.mutationQueue.removeMutationBatch(l,f)))})(r,n,e,o).next((()=>o.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(s){let l=Ft();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function kH(t){const e=St(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Cfe(t,e){const r=St(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach(((d,f)=>{const p=i.get(f);if(!p)return;s.push(r.Pi.removeMatchingKeys(o,d.removedDocuments,f).next((()=>r.Pi.addMatchingKeys(o,d.addedDocuments,f))));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Mn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),i=i.insert(f,g),(function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=bfe?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(p,g,d)&&s.push(r.Pi.updateTargetData(o,g))}));let l=dl(),c=Ft();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(o,d))})),s.push(Efe(o,a,e.documentUpdates).next((d=>{l=d.ks,c=d.qs}))),!n.isEqual(At.min())){const d=r.Pi.getLastRemoteSnapshotVersion(o).next((f=>r.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));s.push(d)}return Te.waitFor(s).next((()=>a.apply(o))).next((()=>r.localDocuments.getLocalViewOfDocuments(o,l,c))).next((()=>l))})).then((o=>(r.Ms=i,o)))}function Efe(t,e,r){let n=Ft(),i=Ft();return r.forEach((o=>n=n.add(o))),e.getEntries(t,n).next((o=>{let a=dl();return r.forEach(((s,l)=>{const c=o.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(At.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):He(y4,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function Sfe(t,e){const r=St(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=i4),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Tfe(t,e){const r=St(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((o=>o?(i=o,Te.resolve(i)):r.Pi.allocateTargetId(n).next((a=>(i=new fc(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function LN(t,e,r){const n=St(t),i=n.Ms.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!tp(a))throw a;He(y4,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function T5(t,e,r){const n=St(t);let i=At.min(),o=Ft();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,d){const f=St(l),p=f.xs.get(d);return p!==void 0?Te.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)})(n,a,is(e)).next((s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,s.targetId).next((l=>{o=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:At.min(),r?o:Ft()))).next((s=>(Nfe(n,hde(e),s),{documents:s,Qs:o})))))}function Nfe(t,e,r){let n=t.Os.get(e)||At.min();r.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),t.Os.set(e,n)}class N5{constructor(){this.activeTargetIds=xde()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ife{constructor(){this.Mo=new N5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N5,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="ConnectivityMonitor";class k5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(I5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){He(I5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av=null;function BN(){return Av===null?Av=(function(){return 268435456+Math.round(2147483648*Math.random())})():Av++,"0x"+Av.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="RestConnection",Pfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ofe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===F1?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,o){const a=BN(),s=this.zo(e,r.toUriEncodedString());He(aA,`Sending RPC '${e}' ${a}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(s),d=vd(c);return this.Jo(e,s,l,n,d).then((f=>(He(aA,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw ed(aA,`RPC '${e}' ${a} failed with error: `,f,"url: ",s,"request:",n),f}))}Ho(e,r,n,i,o,a){return this.Go(e,r,n,i,o)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}zo(e,r){const n=Pfe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jfe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class Rfe extends Ofe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const a=BN();return new Promise(((s,l)=>{const c=new PW;c.setWithCredentials(!0),c.listenOnce(OW.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case c1.NO_ERROR:const f=c.getResponseJson();He(ti,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case c1.TIMEOUT:He(ti,`RPC '${e}' ${a} timed out`),l(new Be(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case c1.HTTP_ERROR:const p=c.getStatus();if(He(ti,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g?.error;if(x&&x.status&&x.message){const y=(function(_){const C=_.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(C)>=0?C:Ce.UNKNOWN})(x.status);l(new Be(y,x.message))}else l(new Be(Ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Be(Ce.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{He(ti,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);He(ti,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",d,n,15)}))}T_(e,r,n){const i=BN(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=DW(),s=RW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=o.join("");He(ti,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);this.I_(f);let p=!1,g=!1;const x=new jfe({Yo:b=>{g?He(ti,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(He(ti,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),He(ti,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Zo:()=>f.close()}),y=(b,_,C)=>{b.listen(_,(E=>{try{C(E)}catch(P){setTimeout((()=>{throw P}),0)}}))};return y(f,Fm.EventType.OPEN,(()=>{g||(He(ti,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),y(f,Fm.EventType.CLOSE,(()=>{g||(g=!0,He(ti,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))})),y(f,Fm.EventType.ERROR,(b=>{g||(g=!0,ed(ti,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),x.a_(new Be(Ce.UNAVAILABLE,"The operation could not be completed")))})),y(f,Fm.EventType.MESSAGE,(b=>{if(!g){const _=b.data[0];ir(!!_,16349);const C=_,E=C?.error||C[0]?.error;if(E){He(ti,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let I=(function(S){const j=en[S];if(j!==void 0)return yH(j)})(P),T=E.message;I===void 0&&(I=Ce.INTERNAL,T="Unknown error status: "+P+" with message "+E.message),g=!0,x.a_(new Be(I,T)),f.close()}else He(ti,`RPC '${e}' stream ${i} received:`,_),x.u_(_)}})),y(s,jW.STAT_EVENT,(b=>{b.stat===TN.PROXY?He(ti,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===TN.NOPROXY&&He(ti,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function sA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){return new Lde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,r,n=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="PersistentStream";class OH{constructor(e,r,n,i,o,a,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PH(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ce.RESOURCE_EXHAUSTED?(ul(r.toString()),ul("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Be(Ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return He(P5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(He(P5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dfe extends OH{constructor(e,r,n,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=$de(this.serializer,e),n=(function(o){if(!("targetChange"in o))return At.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?At.min():a.readTime?os(a.readTime):At.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=FN(this.serializer),r.addTarget=(function(o,a){let s;const l=a.target;if(s=ON(l)?{documents:Wde(o,l)}:{query:Hde(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=bH(o,a.resumeToken);const c=RN(o,a.expectedCount);c!==null&&(s.expectedCount=c)}else if(a.snapshotVersion.compareTo(At.min())>0){s.readTime=z1(o,a.snapshotVersion.toTimestamp());const c=RN(o,a.expectedCount);c!==null&&(s.expectedCount=c)}return s})(this.serializer,e);const n=Gde(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=FN(this.serializer),r.removeTarget=e,this.q_(r)}}class Mfe extends OH{constructor(e,r,n,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return ir(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ir(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ir(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=zde(e.writeResults,e.commitTime),n=os(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=FN(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Ude(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe{}class Lfe extends Ffe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Be(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,DN(r,n),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(Ce.UNKNOWN,o.toString())}))}Ho(e,r,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Ho(e,DN(r,n),i,a,s,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(Ce.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bfe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ul(r),this.aa=!1):He("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RemoteStore";class Vfe{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{wd(this)&&(He(td,"Restarting streams for network reachability change."),await(async function(l){const c=St(l);c.Ea.add(4),await Sy(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Rb(c)})(this))}))})),this.Ra=new Bfe(n,i)}}async function Rb(t){if(wd(t))for(const e of t.da)await e(!0)}async function Sy(t){for(const e of t.da)await e(!1)}function jH(t,e){const r=St(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),w4(r)?b4(r):np(r).O_()&&x4(r,e))}function v4(t,e){const r=St(t),n=np(r);r.Ia.delete(e),n.O_()&&RH(r,e),r.Ia.size===0&&(n.O_()?n.L_():wd(r)&&r.Ra.set("Unknown"))}function x4(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}np(t).Y_(e)}function RH(t,e){t.Va.Ue(e),np(t).Z_(e)}function b4(t){t.Va=new Rde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),np(t).start(),t.Ra.ua()}function w4(t){return wd(t)&&!np(t).x_()&&t.Ia.size>0}function wd(t){return St(t).Ea.size===0}function DH(t){t.Va=void 0}async function $fe(t){t.Ra.set("Online")}async function Ufe(t){t.Ia.forEach(((e,r)=>{x4(t,e)}))}async function zfe(t,e){DH(t),w4(t)?(t.Ra.ha(e),b4(t)):t.Ra.set("Unknown")}async function Wfe(t,e,r){if(t.Ra.set("Online"),e instanceof xH&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))})(t,e)}catch(n){He(td,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await H1(t,n)}else if(e instanceof h1?t.Va.Ze(e):e instanceof vH?t.Va.st(e):t.Va.tt(e),!r.isEqual(At.min()))try{const n=await kH(t.localStore);r.compareTo(n)>=0&&await(function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(l.resumeToken,a))}})),s.targetMismatches.forEach(((l,c)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(Mn.EMPTY_BYTE_STRING,d.snapshotVersion)),RH(o,l);const f=new fc(d.target,l,c,d.sequenceNumber);x4(o,f)})),o.remoteSyncer.applyRemoteEvent(s)})(t,r)}catch(n){He(td,"Failed to raise snapshot:",n),await H1(t,n)}}async function H1(t,e,r){if(!tp(e))throw e;t.Ea.add(1),await Sy(t),t.Ra.set("Offline"),r||(r=()=>kH(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{He(td,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Rb(t)}))}function MH(t,e){return e().catch((r=>H1(t,r,e)))}async function Db(t){const e=St(t),r=kc(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i4;for(;Hfe(e);)try{const i=await Sfe(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,qfe(e,i)}catch(i){await H1(e,i)}FH(e)&&LH(e)}function Hfe(t){return wd(t)&&t.Ta.length<10}function qfe(t,e){t.Ta.push(e);const r=kc(t);r.O_()&&r.X_&&r.ea(e.mutations)}function FH(t){return wd(t)&&!kc(t).x_()&&t.Ta.length>0}function LH(t){kc(t).start()}async function Gfe(t){kc(t).ra()}async function Kfe(t){const e=kc(t);for(const r of t.Ta)e.ea(r.mutations)}async function Yfe(t,e,r){const n=t.Ta.shift(),i=d4.from(n,e,r);await MH(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Db(t)}async function Xfe(t,e){e&&kc(t).X_&&await(async function(n,i){if((function(a){return Pde(a)&&a!==Ce.ABORTED})(i.code)){const o=n.Ta.shift();kc(n).B_(),await MH(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Db(n)}})(t,e),FH(t)&&LH(t)}async function O5(t,e){const r=St(t);r.asyncQueue.verifyOperationInProgress(),He(td,"RemoteStore received new credentials");const n=wd(r);r.Ea.add(3),await Sy(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Rb(r)}async function Qfe(t,e){const r=St(t);e?(r.Ea.delete(2),await Rb(r)):e||(r.Ea.add(2),await Sy(r),r.Ra.set("Unknown"))}function np(t){return t.ma||(t.ma=(function(r,n,i){const o=St(r);return o.sa(),new Dfe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:$fe.bind(null,t),t_:Ufe.bind(null,t),r_:zfe.bind(null,t),H_:Wfe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),w4(t)?b4(t):t.Ra.set("Unknown")):(await t.ma.stop(),DH(t))}))),t.ma}function kc(t){return t.fa||(t.fa=(function(r,n,i){const o=St(r);return o.sa(),new Mfe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gfe.bind(null,t),r_:Xfe.bind(null,t),ta:Kfe.bind(null,t),na:Yfe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Db(t)):(await t.fa.stop(),t.Ta.length>0&&(He(td,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const a=Date.now()+n,s=new _4(e,r,a,i,o);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A4(t,e){if(ul("AsyncQueue",`${e}: ${t}`),tp(t))return new Be(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{static emptySet(e){return new qf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||et.comparator(r.key,n.key):(r,n)=>et.comparator(r.key,n.key),this.keyedMap=Lm(),this.sortedSet=new Ur(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new qf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.ga=new Ur(et.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):mt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class mh{constructor(e,r,n,i,o,a,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,o){const a=[];return r.forEach((s=>{a.push({type:0,doc:s})})),new mh(e,r,qf.emptySet(r),a,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Jfe{constructor(){this.queries=R5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=St(r),o=i.queries;i.queries=R5(),o.forEach(((a,s)=>{for(const l of s.Sa)l.onError(n)}))})(this,new Be(Ce.ABORTED,"Firestore shutting down"))}}function R5(){return new bd((t=>oH(t)),Nb)}async function C4(t,e){const r=St(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.ba()&&e.Da()&&(n=2):(o=new Zfe,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await r.onListen(i,!0);break;case 1:o.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const s=A4(a,`Initialization of query '${Ef(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,o),o.Sa.push(e),e.va(r.onlineState),o.wa&&e.Fa(o.wa)&&S4(r)}async function E4(t,e){const r=St(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function ehe(t,e){const r=St(t);let n=!1;for(const i of e){const o=i.query,a=r.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(n=!0);a.wa=i}}n&&S4(r)}function the(t,e,r){const n=St(t),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(r);n.queries.delete(e)}function S4(t){t.Ca.forEach((e=>{e.next()}))}var VN,D5;(D5=VN||(VN={})).Ma="default",D5.Cache="cache";class T4{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new mh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==VN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.key=e}}class VH{constructor(e){this.key=e}}class rhe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=aH(e),this.tu=new qf(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new j5,i=r?r.tu:this.tu;let o=r?r.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,f)=>{const p=i.get(d),g=Ib(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?x!==y&&(n.track({type:3,doc:g}),b=!0):this.su(p,g)||(n.track({type:2,doc:g}),b=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(s=!0)):!p&&g?(n.track({type:0,doc:g}),b=!0):p&&!g&&(n.track({type:1,doc:p}),b=!0,(l||c)&&(s=!0)),b&&(g?(a=a.add(g),o=y?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{tu:a,iu:n,Cs:s,mutatedKeys:o}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,f)=>(function(g,x){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:b})}};return y(g)-y(x)})(d.type,f.type)||this.eu(d.doc,f.doc))),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new mh(this.query,e.tu,o,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ft(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new VH(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new BH(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Ft();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return mh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N4="SyncEngine";class nhe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class ihe{constructor(e){this.key=e,this.hu=!1}}class ohe{constructor(e,r,n,i,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new bd((s=>oH(s)),Nb),this.Iu=new Map,this.Eu=new Set,this.du=new Ur(et.comparator),this.Au=new Map,this.Ru=new p4,this.Vu={},this.mu=new Map,this.fu=ph.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ahe(t,e,r=!0){const n=qH(t);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await $H(n,e,r,!0),i}async function she(t,e){const r=qH(t);await $H(r,e,!0,!1)}async function $H(t,e,r,n){const i=await Tfe(t.localStore,is(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let s;return n&&(s=await lhe(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&jH(t.remoteStore,i),s}async function lhe(t,e,r,n,i){t.pu=(f,p,g)=>(async function(y,b,_,C){let E=b.view.ru(_);E.Cs&&(E=await T5(y.localStore,b.query,!1).then((({documents:N})=>b.view.ru(N,E))));const P=C&&C.targetChanges.get(b.targetId),I=C&&C.targetMismatches.get(b.targetId)!=null,T=b.view.applyChanges(E,y.isPrimaryClient,P,I);return F5(y,b.targetId,T.au),T.snapshot})(t,f,p,g);const o=await T5(t.localStore,e,!0),a=new rhe(e,o.Qs),s=a.ru(o.documents),l=Ey.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(s,t.isPrimaryClient,l);F5(t,r,c.au);const d=new nhe(e,r,a);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function che(t,e,r){const n=St(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter((a=>!Nb(a,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await LN(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&v4(n.remoteStore,i.targetId),$N(n,i.targetId)})).catch(ep)):($N(n,i.targetId),await LN(n.localStore,i.targetId,!0))}async function uhe(t,e){const r=St(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),v4(r.remoteStore,n.targetId))}async function dhe(t,e,r){const n=vhe(t);try{const i=await(function(a,s){const l=St(a),c=Rt.now(),d=s.reduce(((g,x)=>g.add(x.key)),Ft());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let x=dl(),y=Ft();return l.Ns.getEntries(g,d).next((b=>{x=b,x.forEach(((_,C)=>{C.isValidDocument()||(y=y.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,x))).next((b=>{f=b;const _=[];for(const C of s){const E=Sde(C,f.get(C.key).overlayedDocument);E!=null&&_.push(new Mc(C.key,E,QW(E.value.mapValue),mo.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,s)})).next((b=>{p=b;const _=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,b.batchId,_)}))})).then((()=>({batchId:p.batchId,changes:lH(f)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,s,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ur(Mt)),c=c.insert(s,l),a.Vu[a.currentUser.toKey()]=c})(n,i.batchId,r),await Ty(n,i.changes),await Db(n.remoteStore)}catch(i){const o=A4(i,"Failed to persist write");r.reject(o)}}async function UH(t,e){const r=St(t);try{const n=await Cfe(r.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=r.Au.get(o);a&&(ir(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ir(a.hu,14607):i.removedDocuments.size>0&&(ir(a.hu,42227),a.hu=!1))})),await Ty(r,n,e)}catch(n){await ep(n)}}function M5(t,e,r){const n=St(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)})),(function(a,s){const l=St(a);l.onlineState=s;let c=!1;l.queries.forEach(((d,f)=>{for(const p of f.Sa)p.va(s)&&(c=!0)})),c&&S4(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function fhe(t,e,r){const n=St(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),o=i&&i.key;if(o){let a=new Ur(et.comparator);a=a.insert(o,oi.newNoDocument(o,At.min()));const s=Ft().add(o),l=new Ob(At.min(),new Map,new Ur(Mt),a,s);await UH(n,l),n.du=n.du.remove(o),n.Au.delete(e),I4(n)}else await LN(n.localStore,e,!1).then((()=>$N(n,e,r))).catch(ep)}async function hhe(t,e){const r=St(t),n=e.batch.batchId;try{const i=await Afe(r.localStore,e);WH(r,n,null),zH(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ty(r,i)}catch(i){await ep(i)}}async function phe(t,e,r){const n=St(t);try{const i=await(function(a,s){const l=St(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return l.mutationQueue.lookupMutationBatch(c,s).next((f=>(ir(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,s))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>l.localDocuments.getDocuments(c,d)))}))})(n.localStore,e);WH(n,e,r),zH(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ty(n,i)}catch(i){await ep(i)}}function zH(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function WH(t,e,r){const n=St(t);let i=n.Vu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function $N(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||HH(t,n)}))}function HH(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(v4(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),I4(t))}function F5(t,e,r){for(const n of r)n instanceof BH?(t.Ru.addReference(n.key,e),mhe(t,n)):n instanceof VH?(He(N4,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||HH(t,n.key)):mt(19791,{wu:n})}function mhe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(He(N4,"New document in limbo: "+r),t.Eu.add(n),I4(t))}function I4(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new et(br.fromString(e)),n=t.fu.next();t.Au.set(n,new ihe(r)),t.du=t.du.insert(r,n),jH(t.remoteStore,new fc(is(Tb(r.path)),n,"TargetPurposeLimboResolution",Cb.ce))}}async function Ty(t,e,r){const n=St(t),i=[],o=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((s,l)=>{a.push(n.pu(l,e,r).then((c=>{if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:r?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=g4.As(l.targetId,c);o.push(d)}})))})),await Promise.all(a),n.Pu.H_(i),await(async function(l,c){const d=St(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>Te.forEach(c,(p=>Te.forEach(p.Es,(g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g))).next((()=>Te.forEach(p.ds,(g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))))))}catch(f){if(!tp(f))throw f;He(y4,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),x=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(p,y)}}})(n.localStore,o))}async function ghe(t,e){const r=St(t);if(!r.currentUser.isEqual(e)){He(N4,"User change. New user:",e.toKey());const n=await IH(r.localStore,e);r.currentUser=e,(function(o,a){o.mu.forEach((s=>{s.forEach((l=>{l.reject(new Be(Ce.CANCELLED,a))}))})),o.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ty(r,n.Ls)}}function yhe(t,e){const r=St(t),n=r.Au.get(e);if(n&&n.hu)return Ft().add(n.key);{let i=Ft();const o=r.Iu.get(e);if(!o)return i;for(const a of o){const s=r.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function qH(t){const e=St(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fhe.bind(null,e),e.Pu.H_=ehe.bind(null,e.eventManager),e.Pu.yu=the.bind(null,e.eventManager),e}function vhe(t){const e=St(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=phe.bind(null,e),e}class q1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return _fe(this.persistence,new xfe,e.initialUser,this.serializer)}Cu(e){return new NH(m4.mi,this.serializer)}Du(e){return new Ife}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}q1.provider={build:()=>new q1};class xhe extends q1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ir(this.persistence.referenceDelegate instanceof W1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ife(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Di.withCacheSize(this.cacheSizeBytes):Di.DEFAULT;return new NH((n=>W1.mi(n,r)),this.serializer)}}class UN{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>M5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ghe.bind(null,this.syncEngine),await Qfe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jfe})()}createDatastore(e){const r=jb(e.databaseInfo.databaseId),n=(function(o){return new Rfe(o)})(e.databaseInfo);return(function(o,a,s,l){return new Lfe(o,a,s,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,o,a,s){return new Vfe(n,i,o,a,s)})(this.localStore,this.datastore,e.asyncQueue,(r=>M5(this.syncEngine,r,0)),(function(){return k5.v()?new k5:new kfe})())}createSyncEngine(e,r){return(function(i,o,a,s,l,c,d){const f=new ohe(i,o,a,s,l,c);return d&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=St(r);He(td,"RemoteStore shutting down."),n.Ea.add(5),await Sy(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}UN.provider={build:()=>new UN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ul("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="FirestoreClient";class bhe{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ii.UNAUTHENTICATED,this.clientId=_b.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async a=>{He(Pc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(He(Pc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=A4(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function lA(t,e){t.asyncQueue.verifyOperationInProgress(),He(Pc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await IH(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function L5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await whe(t);He(Pc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>O5(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>O5(e.remoteStore,i))),t._onlineComponents=e}async function whe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He(Pc,"Using user provided OfflineComponentProvider");try{await lA(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;ed("Error using user provided cache. Falling back to memory cache: "+r),await lA(t,new q1)}}else He(Pc,"Using default OfflineComponentProvider"),await lA(t,new xhe(void 0));return t._offlineComponents}async function GH(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He(Pc,"Using user provided OnlineComponentProvider"),await L5(t,t._uninitializedComponentsProvider._online)):(He(Pc,"Using default OnlineComponentProvider"),await L5(t,new UN))),t._onlineComponents}function _he(t){return GH(t).then((e=>e.syncEngine))}async function G1(t){const e=await GH(t),r=e.eventManager;return r.onListen=ahe.bind(null,e.syncEngine),r.onUnlisten=che.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=she.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=uhe.bind(null,e.syncEngine),r}function Ahe(t,e,r={}){const n=new Js;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,s,l,c){const d=new k4({next:p=>{d.Nu(),a.enqueueAndForget((()=>E4(o,f)));const g=p.docs.has(s);!g&&p.fromCache?c.reject(new Be(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Be(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new T4(Tb(s.path),d,{includeMetadataChanges:!0,qa:!0});return C4(o,f)})(await G1(t),t.asyncQueue,e,r,n))),n.promise}function Che(t,e,r={}){const n=new Js;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,s,l,c){const d=new k4({next:p=>{d.Nu(),a.enqueueAndForget((()=>E4(o,f))),p.fromCache&&l.source==="server"?c.reject(new Be(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new T4(s,d,{includeMetadataChanges:!0,qa:!0});return C4(o,f)})(await G1(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="firestore.googleapis.com",V5=!0;class $5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YH,this.ssl=V5}else this.host=e.host,this.ssl=e.ssl??V5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TH;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rfe)throw new Be(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KH(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Be(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Be(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Be(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new LW;switch(n.type){case"firstParty":return new Rue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Be(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=B5.get(r);n&&(He("ComponentProvider","Removing Datastore"),B5.delete(r),n.terminate())})(this),Promise.resolve()}}function XH(t,e,r,n={}){t=$i(t,Mb);const i=vd(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(ZP(`https://${s}`),JP("Firestore",!0)),o.host!==YH&&o.host!==s&&ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:n};if(!Qu(l,a)&&(t._setSettings(l),n.mockUserToken)){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=ii.MOCK_USER;else{c=CW(n.mockUserToken,t._app?.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Be(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ii(f)}t._authCredentials=new Pue(new FW(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Br{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}toJSON(){return{type:Br._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Ay(r,Br._jsonSchema))return new Br(e,n||null,new et(br.fromString(r.referencePath)))}}Br._jsonSchemaVersion="firestore/documentReference/1.0",Br._jsonSchema={type:an("string",Br._jsonSchemaVersion),referencePath:an("string")};class el extends xs{constructor(e,r,n){super(e,r,Tb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new et(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function Ny(t,e,...r){if(t=$r(t),BW("collection","path",e),t instanceof Mb){const n=br.fromString(e,...r);return e5(n),new el(t,null,n)}{if(!(t instanceof Br||t instanceof el))throw new Be(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(br.fromString(e,...r));return e5(n),new el(t.firestore,null,n)}}function st(t,e,...r){if(t=$r(t),arguments.length===1&&(e=_b.newId()),BW("doc","path",e),t instanceof Mb){const n=br.fromString(e,...r);return J6(n),new Br(t,null,new et(n))}{if(!(t instanceof Br||t instanceof el))throw new Be(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(br.fromString(e,...r));return J6(n),new Br(t.firestore,t instanceof el?t.converter:null,new et(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="AsyncQueue";class z5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PH(this,"async_queue_retry"),this._c=()=>{const n=sA();n&&He(U5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=sA();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=sA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tp(e))throw e;He(U5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ul("INTERNAL UNHANDLED ERROR: ",W5(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=_4.createAndSchedule(this,e,r,n,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&mt(47125,{Pc:W5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function W5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class fl extends Mb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new z5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z5(e),this._firestoreClient=void 0,await e}}}function Fb(t,e){const r=typeof t=="object"?t:r4(),n=typeof t=="string"?t:F1,i=wb(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=wW("firestore");o&&XH(i,...o)}return i}function ip(t){if(t._terminated)throw new Be(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ehe(t),t._firestoreClient}function Ehe(t){const e=t._freezeSettings(),r=(function(i,o,a,s){return new Que(i,o,a,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,KH(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bhe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(Mn.fromBase64String(e))}catch(r){throw new Be(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new lo(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ay(e,lo._jsonSchema))return lo.fromBase64String(e.bytes)}}lo._jsonSchemaVersion="firestore/bytes/1.0",lo._jsonSchema={type:an("string",lo._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Be(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Be(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Be(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ya._jsonSchemaVersion}}static fromJSON(e){if(Ay(e,ya._jsonSchema))return new ya(e.latitude,e.longitude)}}ya._jsonSchemaVersion="firestore/geoPoint/1.0",ya._jsonSchema={type:an("string",ya._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:va._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ay(e,va._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new va(e.vectorValues);throw new Be(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}va._jsonSchemaVersion="firestore/vectorValue/1.0",va._jsonSchema={type:an("string",va._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She=/^__.*__$/;class The{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Mc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cy(e,this.data,r,this.fieldTransforms)}}class QH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Mc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ZH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:t})}}class P4{constructor(e,r,n,i,o,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new P4({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return K1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZH(this.Ac)&&She.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nhe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jb(e)}Cc(e,r,n,i=!1){return new P4({Ac:e,methodName:r,Dc:n,path:jn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bb(t){const e=t._freezeSettings(),r=jb(t._databaseId);return new Nhe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function JH(t,e,r,n,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,r,i);O4("Data must be an object, but it was:",a,n);const s=rq(n,a);let l,c;if(o.merge)l=new uo(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=zN(e,f,r);if(!a.contains(p))throw new Be(Ce.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);iq(d,p)||d.push(p)}l=new uo(d),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new The(new Fi(s),l,c)}class Vb extends Lb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vb}}function eq(t,e,r,n){const i=t.Cc(1,e,r);O4("Data must be an object, but it was:",i,n);const o=[],a=Fi.empty();Dc(n,((l,c)=>{const d=j4(e,l,r);c=$r(c);const f=i.yc(d);if(c instanceof Vb)o.push(d);else{const p=Iy(c,f);p!=null&&(o.push(d),a.set(d,p))}}));const s=new uo(o);return new QH(a,s,i.fieldTransforms)}function tq(t,e,r,n,i,o){const a=t.Cc(1,e,r),s=[zN(e,n,r)],l=[i];if(o.length%2!=0)throw new Be(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)s.push(zN(e,o[p])),l.push(o[p+1]);const c=[],d=Fi.empty();for(let p=s.length-1;p>=0;--p)if(!iq(c,s[p])){const g=s[p];let x=l[p];x=$r(x);const y=a.yc(g);if(x instanceof Vb)c.push(g);else{const b=Iy(x,y);b!=null&&(c.push(g),d.set(g,b))}}const f=new uo(c);return new QH(d,f,a.fieldTransforms)}function Ihe(t,e,r,n=!1){return Iy(r,t.Cc(n?4:3,e))}function Iy(t,e){if(nq(t=$r(t)))return O4("Unsupported field value:",e,t),rq(t,e);if(t instanceof Lb)return(function(n,i){if(!ZH(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const o=[];let a=0;for(const s of n){let l=Iy(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}})(t,e)}return(function(n,i){if((n=$r(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bde(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Rt.fromDate(n);return{timestampValue:z1(i.serializer,o)}}if(n instanceof Rt){const o=new Rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:z1(i.serializer,o)}}if(n instanceof ya)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof lo)return{bytesValue:bH(i.serializer,n._byteString)};if(n instanceof Br){const o=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:h4(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof va)return(function(a,s){return{mapValue:{fields:{[YW]:{stringValue:XW},[L1]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw s.Sc("VectorValues must only contain numeric values.");return c4(s.serializer,c)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${Ab(n)}`)})(t,e)}function rq(t,e){const r={};return zW(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dc(t,((n,i)=>{const o=Iy(i,e.mc(n));o!=null&&(r[n]=o)})),{mapValue:{fields:r}}}function nq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof ya||t instanceof lo||t instanceof Br||t instanceof Lb||t instanceof va)}function O4(t,e,r){if(!nq(r)||!$W(r)){const n=Ab(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function zN(t,e,r){if((e=$r(e))instanceof op)return e._internalPath;if(typeof e=="string")return j4(t,e);throw K1("Field path arguments must be of type string or ",t,!1,void 0,r)}const khe=new RegExp("[~\\*/\\[\\]]");function j4(t,e,r){if(e.search(khe)>=0)throw K1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new op(...e.split("."))._internalPath}catch{throw K1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function K1(t,e,r,n,i){const o=n&&!n.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Be(Ce.INVALID_ARGUMENT,s+t+l)}function iq(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Phe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field($b("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Phe extends oq{data(){return super.data()}}function $b(t,e){return typeof e=="string"?j4(t,e):e instanceof op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R4{}class Ub extends R4{}function ky(t,e,...r){let n=[];e instanceof R4&&n.push(e),n=n.concat(r),(function(o){const a=o.filter((l=>l instanceof zb)).length,s=o.filter((l=>l instanceof Py)).length;if(a>1||a>0&&s>0)throw new Be(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Py extends Ub{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Py(e,r,n)}_apply(e){const r=this._parse(e);return sq(e._query,r),new xs(e.firestore,e.converter,jN(e._query,r))}_parse(e){const r=Bb(e.firestore);return(function(o,a,s,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Be(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){G5(f,d);const x=[];for(const y of f)x.push(q5(l,o,y));p={arrayValue:{values:x}}}else p=q5(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||G5(f,d),p=Ihe(s,a,f,d==="in"||d==="not-in");return on.create(c,d,p)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function gh(t,e,r){const n=e,i=$b("where",t);return Py._create(i,n,r)}class zb extends R4{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new zb(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:_a.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)sq(a,l),a=jN(a,l)})(e._query,r),new xs(e.firestore,e.converter,jN(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wb extends Ub{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Wb(e,r)}_apply(e){const r=(function(i,o,a){if(i.startAt!==null)throw new Be(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Be(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tg(o,a)})(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new rp(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Hb(t,e="asc"){const r=e,n=$b("orderBy",t);return Wb._create(n,r)}class qb extends Ub{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new qb(e,r,n)}_apply(e){return new xs(e.firestore,e.converter,V1(e._query,this._limit,this._limitType))}}function Gb(t){return Vue("limit",t),qb._create("limit",t,"F")}function q5(t,e,r){if(typeof(r=$r(r))=="string"){if(r==="")throw new Be(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iH(e)&&r.indexOf("/")!==-1)throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(br.fromString(r));if(!et.isDocumentKey(n))throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return l5(t,new et(n))}if(r instanceof Br)return l5(t,r._key);throw new Be(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ab(r)}.`)}function G5(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sq(t,e){const r=(function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Be(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class lq{convertValue(e,r="none"){switch(Ic(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Dc(e,((i,o)=>{n[i]=this.convertValue(o,r)})),n}convertVectorValue(e){const r=e.fields?.[L1].arrayValue?.values?.map((n=>Xr(n.doubleValue)));return new va(r)}convertGeoPoint(e){return new ya(Xr(e.latitude),Xr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Sb(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Eg(e));default:return null}}convertTimestamp(e){const r=Tc(e);return new Rt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=br.fromString(e);ir(SH(n),9688,{name:e});const i=new dh(n.get(1),n.get(3)),o=new et(n.popFirst(5));return i.isEqual(r)||ul(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Df{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends oq{constructor(e,r,n,i,o,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field($b("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=yc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}yc._jsonSchemaVersion="firestore/documentSnapshot/1.0",yc._jsonSchema={type:an("string",yc._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class ig extends yc{data(e={}){return super.data(e)}}class vc{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Df(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new ig(this._firestore,this._userDataWriter,n.key,n,new Df(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Be(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((s=>{const l=new ig(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Df(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((s=>o||s.type!==3)).map((s=>{const l=new ig(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Df(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return s.type!==0&&(c=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:Ohe(s.type),doc:l,oldIndex:c,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_b.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(r.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ohe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){t=$i(t,Br);const e=$i(t.firestore,fl);return Ahe(ip(e),t._key).then((r=>uq(e,t,r)))}vc._jsonSchemaVersion="firestore/querySnapshot/1.0",vc._jsonSchema={type:an("string",vc._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class D4 extends lq{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,r)}}function Oy(t){t=$i(t,xs);const e=$i(t.firestore,fl),r=ip(e),n=new D4(e);return aq(t._query),Che(r,t._query).then((i=>new vc(e,n,t,i)))}function Hn(t,e,r){t=$i(t,Br);const n=$i(t.firestore,fl),i=cq(t.converter,e,r);return Kb(n,[JH(Bb(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,mo.none())])}function bo(t,e,r,...n){t=$i(t,Br);const i=$i(t.firestore,fl),o=Bb(i);let a;return a=typeof(e=$r(e))=="string"||e instanceof op?tq(o,"updateDoc",t._key,e,r,n):eq(o,"updateDoc",t._key,e),Kb(i,[a.toMutation(t._key,mo.exists(!0))])}function M4(t,...e){t=$r(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||H5(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(H5(e[n])){const l=e[n];e[n]=l.next?.bind(l),e[n+1]=l.error?.bind(l),e[n+2]=l.complete?.bind(l)}let o,a,s;if(t instanceof Br)a=$i(t.firestore,fl),s=Tb(t._key.path),o={next:l=>{e[n]&&e[n](uq(a,t,l))},error:e[n+1],complete:e[n+2]};else{const l=$i(t,xs);a=$i(l.firestore,fl),s=l._query;const c=new D4(a);o={next:d=>{e[n]&&e[n](new vc(a,c,l,d))},error:e[n+1],complete:e[n+2]},aq(t._query)}return(function(c,d,f,p){const g=new k4(p),x=new T4(d,g,f);return c.asyncQueue.enqueueAndForget((async()=>C4(await G1(c),x))),()=>{g.Nu(),c.asyncQueue.enqueueAndForget((async()=>E4(await G1(c),x)))}})(ip(a),s,i,o)}function Kb(t,e){return(function(n,i){const o=new Js;return n.asyncQueue.enqueueAndForget((async()=>dhe(await _he(n),i,o))),o.promise})(ip(t),e)}function uq(t,e,r){const n=r.docs.get(e._key),i=new D4(t);return new yc(t,i,e._key,n,new Df(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Bb(e)}set(e,r,n){this._verifyNotCommitted();const i=cA(e,this._firestore),o=cq(i.converter,r,n),a=JH(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,mo.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const o=cA(e,this._firestore);let a;return a=typeof(r=$r(r))=="string"||r instanceof op?tq(this._dataReader,"WriteBatch.update",o._key,r,n,i):eq(this._dataReader,"WriteBatch.update",o._key,r),this._mutations.push(a.toMutation(o._key,mo.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=cA(e,this._firestore);return this._mutations=this._mutations.concat(new u4(r._key,mo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cA(t,e){if((t=$r(t)).firestore!==e)throw new Be(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return ip(t=$i(t,fl)),new dq(t,(e=>Kb(t,e)))}(function(e,r=!0){(function(i){Jh=i})(xd),Zu(new Ec("firestore",((n,{instanceIdentifier:i,options:o})=>{const a=n.getProvider("app").getImmediate(),s=new fl(new Oue(n.getProvider("auth-internal")),new Due(a,n.getProvider("app-check-internal")),(function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Be(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(c.options.projectId,d)})(a,i),a);return o={useFetchStreams:r,...o},s._setSettings(o),s}),"PUBLIC").setMultipleInstances(!0)),ns(Y6,X6,e),ns(Y6,X6,"esm2020")})();const jhe=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:lq,Bytes:lo,CollectionReference:el,DocumentReference:Br,DocumentSnapshot:yc,FieldPath:op,FieldValue:Lb,Firestore:fl,FirestoreError:Be,GeoPoint:ya,Query:xs,QueryCompositeFilterConstraint:zb,QueryConstraint:Ub,QueryDocumentSnapshot:ig,QueryFieldFilterConstraint:Py,QueryLimitConstraint:qb,QueryOrderByConstraint:Wb,QuerySnapshot:vc,SnapshotMetadata:Df,Timestamp:Rt,VectorValue:va,WriteBatch:dq,_AutoId:_b,_ByteString:Mn,_DatabaseId:dh,_DocumentKey:et,_EmptyAuthCredentialsProvider:LW,_FieldPath:jn,_cast:$i,_logWarn:ed,_validateIsNotUsedTogether:VW,collection:Ny,connectFirestoreEmulator:XH,doc:st,ensureFirestoreConfigured:ip,executeWrite:Kb,getDoc:er,getDocs:Oy,getFirestore:Fb,limit:Gb,onSnapshot:M4,orderBy:Hb,query:ky,setDoc:Hn,updateDoc:bo,where:gh,writeBatch:fq},Symbol.toStringTag,{value:"Module"}));function hq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rhe=hq,pq=new wy("auth","Firebase",hq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new e4("@firebase/auth");function Dhe(t,...e){Y1.logLevel<=Dt.WARN&&Y1.warn(`Auth (${xd}): ${t}`,...e)}function p1(t,...e){Y1.logLevel<=Dt.ERROR&&Y1.error(`Auth (${xd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,...e){throw L4(t,...e)}function xa(t,...e){return L4(t,...e)}function F4(t,e,r){const n={...Rhe(),[e]:r};return new wy("auth","Firebase",n).create(e,{appName:t.name})}function tl(t){return F4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mhe(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ho(t,"argument-error"),F4(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L4(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return pq.create(t,...e)}function ht(t,e,...r){if(!t)throw L4(e,...r)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p1(e),new Error(e)}function hl(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof self<"u"&&self.location?.href||""}function Fhe(){return K5()==="http:"||K5()==="https:"}function K5(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lhe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fhe()||uce()||"connection"in navigator)?navigator.onLine:!0}function Bhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,r){this.shortDelay=e,this.longDelay=r,hl(r>e,"Short delay should be less than long delay!"),this.isMobile=sce()||dce()}get(){return Lhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e){hl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uhe=new jy(3e4,6e4);function Fc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wl(t,e,r,n,i={}){return gq(t,i,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const s=_y({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return cce()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&vd(t.emulatorConfig.host)&&(c.credentials="include"),mq.fetch()(await yq(t,t.config.apiHost,r,s),c)})}async function gq(t,e,r){t._canInitEmulator=!1;const n={...Vhe,...e};try{const i=new Whe(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Cv(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cv(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Cv(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Cv(t,"user-disabled",a);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw F4(t,d,c);Ho(t,d)}}catch(i){if(i instanceof vs)throw i;Ho(t,"network-request-failed",{message:String(i)})}}async function Ry(t,e,r,n,i={}){const o=await wl(t,e,r,n,i);return"mfaPendingCredential"in o&&Ho(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function yq(t,e,r,n){const i=`${e}${r}?${n}`,o=t,a=o.config.emulator?B4(t.config,i):`${t.config.apiScheme}://${i}`;return $he.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function zhe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Whe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(xa(this.auth,"network-request-failed")),Uhe.get())})}}function Cv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=xa(t,e,n);return i.customData._tokenResponse=r,i}function Y5(t){return t!==void 0&&t.enterprise!==void 0}class Hhe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return zhe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qhe(t,e){return wl(t,"GET","/v2/recaptchaConfig",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ghe(t,e){return wl(t,"POST","/v1/accounts:delete",e)}async function X1(t,e){return wl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Khe(t,e=!1){const r=$r(t),n=await r.getIdToken(e),i=V4(n);ht(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:n,authTime:og(uA(i.auth_time)),issuedAtTime:og(uA(i.iat)),expirationTime:og(uA(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function uA(t){return Number(t)*1e3}function V4(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return p1("JWT malformed, contained fewer than 3 sections"),null;try{const i=xW(r);return i?JSON.parse(i):(p1("Failed to decode base64 JWT payload"),null)}catch(i){return p1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function X5(t){const e=V4(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof vs&&Yhe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Yhe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=og(this.lastLoginAt),this.creationTime=og(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t){const e=t.auth,r=await t.getIdToken(),n=await yh(t,X1(e,{idToken:r}));ht(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?vq(i.providerUserInfo):[],a=Zhe(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!a?.length,c=s?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new HN(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Qhe(t){const e=$r(t);await Q1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zhe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function vq(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jhe(t,e){const r=await gq(t,{},async()=>{const n=_y({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await yq(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&vd(t.emulatorConfig.host)&&(l.credentials="include"),mq.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function epe(t,e){return wl(t,"POST","/v2/accounts:revokeToken",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const r=X5(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await Jhe(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,a=new Gf;return n&&(ht(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(ht(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ht(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gf,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Xhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new HN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await yh(this,this.stsTokenManager.getToken(this.auth,e));return ht(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Khe(this,e)}reload(){return Qhe(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Q1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(tl(this.auth));const e=await this.getIdToken();return await yh(this,Ghe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,o=r.phoneNumber??void 0,a=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:x,stsTokenManager:y}=r;ht(f&&y,e,"internal-error");const b=Gf.fromJSON(this.name,y);ht(typeof f=="string",e,"internal-error"),Zl(n,e.name),Zl(i,e.name),ht(typeof p=="boolean",e,"internal-error"),ht(typeof g=="boolean",e,"internal-error"),Zl(o,e.name),Zl(a,e.name),Zl(s,e.name),Zl(l,e.name),Zl(c,e.name),Zl(d,e.name);const _=new pa({uid:f,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:g,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:b,createdAt:c,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(C=>({...C}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,r,n=!1){const i=new Gf;i.updateFromServerResponse(r);const o=new pa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Q1(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ht(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?vq(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new Gf;s.updateFromIdToken(n);const l=new pa({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new HN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=new Map;function Ks(t){hl(t instanceof Function,"Expected a class definition");let e=Q5.get(t);return e?(hl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}xq.type="NONE";const Z5=xq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e,r){return`firebase:${t}:${e}:${r}`}class Kf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=m1(this.userKey,i.apiKey,o),this.fullPersistenceKey=m1("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await X1(this.auth,{idToken:e}).catch(()=>{});return r?pa._fromGetAccountInfoResponse(this.auth,r,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Kf(Ks(Z5),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Ks(Z5);const a=m1(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const d=await c._get(a);if(d){let f;if(typeof d=="string"){const p=await X1(e,{idToken:d}).catch(()=>{});if(!p)break;f=await pa._fromGetAccountInfoResponse(e,p,d)}else f=pa._fromJSON(e,d);c!==o&&(s=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Kf(o,e,n):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==o)try{await c._remove(a)}catch{}})),new Kf(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Aq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eq(e))return"Blackberry";if(Sq(e))return"Webos";if(wq(e))return"Safari";if((e.includes("chrome/")||_q(e))&&!e.includes("edge/"))return"Chrome";if(Cq(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function bq(t=li()){return/firefox\//i.test(t)}function wq(t=li()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _q(t=li()){return/crios\//i.test(t)}function Aq(t=li()){return/iemobile/i.test(t)}function Cq(t=li()){return/android/i.test(t)}function Eq(t=li()){return/blackberry/i.test(t)}function Sq(t=li()){return/webos/i.test(t)}function $4(t=li()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tpe(t=li()){return $4(t)&&!!window.navigator?.standalone}function rpe(){return fce()&&document.documentMode===10}function Tq(t=li()){return $4(t)||Cq(t)||Sq(t)||Eq(t)||/windows phone/i.test(t)||Aq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t,e=[]){let r;switch(t){case"Browser":r=J5(li());break;case"Worker":r=`${J5(li())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${xd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ipe(t,e={}){return wl(t,"GET","/v2/passwordPolicy",Fc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ope=6;class ape{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??ope,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eM(this),this.idTokenSubscription=new eM(this),this.beforeStateQueue=new npe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ks(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Kf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await X1(this,{idToken:e}),n=await pa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,a=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!o||o===a)&&s?.user&&(n=s.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Q1(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(tl(this));const r=e?$r(e):null;return r&&ht(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ipe(this),r=new ape(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wy("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await epe(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ks(e)||this._popupRedirectResolver;ht(r,this,"argument-error"),this.redirectPersistenceManager=await Kf.create(this,[Ks(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Dhe(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lc(t){return $r(t)}class eM{constructor(e){this.auth=e,this.observer=null,this.addObserver=bce(r=>this.observer=r)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lpe(t){Yb=t}function Iq(t){return Yb.loadJS(t)}function cpe(){return Yb.recaptchaEnterpriseScript}function upe(){return Yb.gapiScript}function dpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fpe{constructor(){this.enterprise=new hpe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class hpe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const ppe="recaptcha-enterprise",kq="NO_RECAPTCHA";class mpe{constructor(e){this.type=ppe,this.auth=Lc(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{qhe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new Hhe(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,a(c.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;Y5(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{a(c)}).catch(()=>{a(kq)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fpe().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{n(this.auth).then(s=>{if(!r&&Y5(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cpe();l.length!==0&&(l+=s),Iq(l).then(()=>{i(s,o,a)}).catch(c=>{a(c)})}}).catch(s=>{a(s)})})}}async function tM(t,e,r,n=!1,i=!1){const o=new mpe(t);let a;if(i)a=kq;else try{a=await o.verify(r)}catch{a=await o.verify(r,!0)}const s={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function qN(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tM(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await tM(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gpe(t,e){const r=wb(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Qu(o,e??{}))return i;Ho(i,"already-initialized")}return r.initialize({options:e})}function ype(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function vpe(t,e,r){const n=Lc(t);ht(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Pq(e),{host:a,port:s}=xpe(e),l=s===null?"":`:${s}`,c={url:`${o}//${a}${l}/`},d=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ht(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ht(Qu(c,n.config.emulator)&&Qu(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,vd(a)?(ZP(`${o}//${a}${l}`),JP("Auth",!0)):bpe()}function Pq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xpe(t){const e=Pq(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:rM(n.substr(o.length+1))}}else{const[o,a]=n.split(":");return{host:o,port:rM(a)}}}function rM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bpe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,r){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function wpe(t,e){return wl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _pe(t,e){return Ry(t,"POST","/v1/accounts:signInWithPassword",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ape(t,e){return Ry(t,"POST","/v1/accounts:signInWithEmailLink",Fc(t,e))}async function Cpe(t,e){return Ry(t,"POST","/v1/accounts:signInWithEmailLink",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends U4{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new kg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new kg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qN(e,r,"signInWithPassword",_pe);case"emailLink":return Ape(e,{email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qN(e,n,"signUpPassword",wpe);case"emailLink":return Cpe(e,{idToken:r,email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t,e){return Ry(t,"POST","/v1/accounts:signInWithIdp",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Epe="http://localhost";class rd extends U4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new rd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ho("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=r;if(!n||!i)return null;const a=new rd(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Yf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Yf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Yf(e,r)}buildRequest(){const e={requestUri:Epe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=_y(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Spe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tpe(t){const e=Dm(Mm(t)).link,r=e?Dm(Mm(e)).deep_link_id:null,n=Dm(Mm(t)).deep_link_id;return(n?Dm(Mm(n)).link:null)||n||r||e||t}class z4{constructor(e){const r=Dm(Mm(e)),n=r.apiKey??null,i=r.oobCode??null,o=Spe(r.mode??null);ht(n&&i&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Tpe(e);try{return new z4(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.providerId=ap.PROVIDER_ID}static credential(e,r){return kg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=z4.parseLink(r);return ht(n,"argument-error"),kg._fromEmailAndCode(e,n.code,n.tenantId)}}ap.PROVIDER_ID="password";ap.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ap.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends W4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Dy{constructor(){super("facebook.com")}static credential(e){return rd._fromParams({providerId:lc.PROVIDER_ID,signInMethod:lc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lc.credentialFromTaggedObject(e)}static credentialFromError(e){return lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lc.credential(e.oauthAccessToken)}catch{return null}}}lc.FACEBOOK_SIGN_IN_METHOD="facebook.com";lc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Dy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return rd._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Hs.credential(r,n)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Dy{constructor(){super("github.com")}static credential(e){return rd._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cc.credentialFromTaggedObject(e)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cc.credential(e.oauthAccessToken)}catch{return null}}}cc.GITHUB_SIGN_IN_METHOD="github.com";cc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Dy{constructor(){super("twitter.com")}static credential(e,r){return rd._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return uc.credential(r,n)}catch{return null}}}uc.TWITTER_SIGN_IN_METHOD="twitter.com";uc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Npe(t,e){return Ry(t,"POST","/v1/accounts:signUp",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await pa._fromIdTokenResponse(e,n,i),a=nM(n);return new nd({user:o,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=nM(n);return new nd({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function nM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends vs{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Z1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Z1(e,r,n,i)}}function Oq(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Z1._fromErrorAndOperation(t,o,e,n):o})}async function Ipe(t,e,r=!1){const n=await yh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return nd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kpe(t,e,r=!1){const{auth:n}=t;if(Mi(n.app))return Promise.reject(tl(n));const i="reauthenticate";try{const o=await yh(t,Oq(n,i,e,t),r);ht(o.idToken,n,"internal-error");const a=V4(o.idToken);ht(a,n,"internal-error");const{sub:s}=a;return ht(t.uid===s,n,"user-mismatch"),nd._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ho(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jq(t,e,r=!1){if(Mi(t.app))return Promise.reject(tl(t));const n="signIn",i=await Oq(t,n,e),o=await nd._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function Ppe(t,e){return jq(Lc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t){const e=Lc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ope(t,e,r){if(Mi(t.app))return Promise.reject(tl(t));const n=Lc(t),a=await qN(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Npe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Rq(t),l}),s=await nd._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(s.user),s}function jpe(t,e,r){return Mi(t.app)?Promise.reject(tl(t)):Ppe($r(t),ap.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Rq(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rpe(t,e){return wl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dpe(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=$r(t),o={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await yh(n,Rpe(n.auth,o));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function Mpe(t,e,r,n){return $r(t).onIdTokenChanged(e,r,n)}function Fpe(t,e,r){return $r(t).beforeAuthStateChanged(e,r)}function Lpe(t,e,r,n){return $r(t).onAuthStateChanged(e,r,n)}function Bpe(t){return $r(t).signOut()}const J1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(J1,"1"),this.storage.removeItem(J1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vpe=1e3,$pe=10;class Mq extends Dq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);rpe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$pe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Vpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mq.type="LOCAL";const Upe=Mq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq extends Dq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Fq.type="SESSION";const Lq=Fq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zpe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Xb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,a=this.handlersMap[i];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(a).map(async c=>c(r.origin,o)),l=await zpe(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const c=H4("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(p.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function Hpe(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function qpe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gpe(){return navigator?.serviceWorker?.controller||null}function Kpe(){return Bq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq="firebaseLocalStorageDb",Ype=1,ex="firebaseLocalStorage",$q="fbase_key";class My{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Qb(t,e){return t.transaction([ex],e?"readwrite":"readonly").objectStore(ex)}function Xpe(){const t=indexedDB.deleteDatabase(Vq);return new My(t).toPromise()}function GN(){const t=indexedDB.open(Vq,Ype);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ex,{keyPath:$q})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ex)?e(n):(n.close(),await Xpe(),e(await GN()))})})}async function iM(t,e,r){const n=Qb(t,!0).put({[$q]:e,value:r});return new My(n).toPromise()}async function Qpe(t,e){const r=Qb(t,!1).get(e),n=await new My(r).toPromise();return n===void 0?null:n.value}function oM(t,e){const r=Qb(t,!0).delete(e);return new My(r).toPromise()}const Zpe=800,Jpe=3;class Uq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await GN(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Jpe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xb._getInstance(Kpe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qpe(),!this.activeServiceWorker)return;this.sender=new Wpe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await GN();return await iM(e,J1,"1"),await oM(e,J1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>iM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Qpe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>oM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Qb(i,!1).getAll();return new My(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uq.type="LOCAL";const eme=Uq;new jy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t,e){return e?Ks(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends U4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Yf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Yf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function tme(t){return jq(t.auth,new q4(t),t.bypassAuthState)}function rme(t){const{auth:e,user:r}=t;return ht(r,e,"internal-error"),kpe(r,new q4(t),t.bypassAuthState)}async function nme(t){const{auth:e,user:r}=t;return ht(r,e,"internal-error"),Ipe(r,new q4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tme;case"linkViaPopup":case"linkViaRedirect":return nme;case"reauthViaPopup":case"reauthViaRedirect":return rme;default:Ho(this.auth,"internal-error")}}resolve(e){hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ime=new jy(2e3,1e4);async function ome(t,e,r){if(Mi(t.app))return Promise.reject(xa(t,"operation-not-supported-in-this-environment"));const n=Lc(t);Mhe(t,e,W4);const i=zq(n,r);return new Fu(n,"signInViaPopup",e,i).executeNotNull()}class Fu extends Wq{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Fu.currentPopupAction&&Fu.currentPopupAction.cancel(),Fu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){hl(this.filter.length===1,"Popup operations only handle one event");const e=H4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ime.get())};e()}}Fu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame="pendingRedirect",g1=new Map;class sme extends Wq{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=g1.get(this.auth._key());if(!e){try{const n=await lme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}g1.set(this.auth._key(),e)}return this.bypassAuthState||g1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lme(t,e){const r=dme(e),n=ume(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function cme(t,e){g1.set(t._key(),e)}function ume(t){return Ks(t._redirectPersistence)}function dme(t){return m1(ame,t.config.apiKey,t.name)}async function fme(t,e,r=!1){if(Mi(t.app))return Promise.reject(tl(t));const n=Lc(t),i=zq(n,e),a=await new sme(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme=600*1e3;class pme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mme(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Hq(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(xa(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hme&&this.cachedEventUids.clear(),this.cachedEventUids.has(aM(e))}saveEventToCache(e){this.cachedEventUids.add(aM(e)),this.lastProcessedEventTime=Date.now()}}function aM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hq({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gme(t,e={}){return wl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vme=/^https?/;async function xme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gme(t);for(const r of e)try{if(bme(r))return}catch{}Ho(t,"unauthorized-domain")}function bme(t){const e=WN(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!vme.test(r))return!1;if(yme.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme=new jy(3e4,6e4);function sM(){const t=as().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function _me(t){return new Promise((e,r)=>{function n(){sM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sM(),r(xa(t,"network-request-failed"))},timeout:wme.get()})}if(as().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(as().gapi?.load)n();else{const i=dpe("iframefcb");return as()[i]=()=>{gapi.load?n():r(xa(t,"network-request-failed"))},Iq(`${upe()}?onload=${i}`).catch(o=>r(o))}}).catch(e=>{throw y1=null,e})}let y1=null;function Ame(t){return y1=y1||_me(t),y1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme=new jy(5e3,15e3),Eme="__/auth/iframe",Sme="emulator/auth/iframe",Tme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ime(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?B4(e,Sme):`https://${t.config.authDomain}/${Eme}`,n={apiKey:e.apiKey,appName:t.name,v:xd},i=Nme.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${_y(n).slice(1)}`}async function kme(t){const e=await Ame(t),r=as().gapi;return ht(r,t,"internal-error"),e.open({where:document.body,url:Ime(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tme,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const a=xa(t,"network-request-failed"),s=as().setTimeout(()=>{o(a)},Cme.get());function l(){as().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ome=500,jme=600,Rme="_blank",Dme="http://localhost";class lM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mme(t,e,r,n=Ome,i=jme){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...Pme,width:n.toString(),height:i.toString(),top:o,left:a},c=li().toLowerCase();r&&(s=_q(c)?Rme:r),bq(c)&&(e=e||Dme,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(tpe(c)&&s!=="_self")return Fme(e||"",s),new lM(null);const f=window.open(e||"",s,d);ht(f,t,"popup-blocked");try{f.focus()}catch{}return new lM(f)}function Fme(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme="__/auth/handler",Bme="emulator/auth/handler",Vme=encodeURIComponent("fac");async function cM(t,e,r,n,i,o){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:xd,eventId:i};if(e instanceof W4){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",xce(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof Dy){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),c=l?`#${Vme}=${encodeURIComponent(l)}`:"";return`${$me(t)}?${_y(s).slice(1)}${c}`}function $me({config:t}){return t.emulator?B4(t,Bme):`https://${t.authDomain}/${Lme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="webStorageSupport";class Ume{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lq,this._completeRedirectFn=fme,this._overrideRedirectResult=cme}async _openPopup(e,r,n,i){hl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await cM(e,r,n,WN(),i);return Mme(e,o,H4())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await cM(e,r,n,WN(),i);return Hpe(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(hl(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await kme(e),n=new pme(e);return r.register("authEvent",i=>(ht(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(dA,{type:dA},i=>{const o=i?.[0]?.[dA];o!==void 0&&r(!!o),Ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=xme(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Tq()||wq()||$4()}}const zme=Ume;var uM="@firebase/auth",dM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qme(t){Zu(new Ec("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;ht(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nq(t)},c=new spe(n,i,o,l);return ype(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Zu(new Ec("auth-internal",e=>{const r=Lc(e.getProvider("auth").getImmediate());return(n=>new Wme(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(uM,dM,Hme(t)),ns(uM,dM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gme=300,Kme=AW("authIdTokenMaxAge")||Gme;let fM=null;const Yme=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Kme)return;const i=r?.token;fM!==i&&(fM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function or(t=r4()){const e=wb(t,"auth");if(e.isInitialized())return e.getImmediate();const r=gpe(t,{popupRedirectResolver:zme,persistence:[eme,Upe,Lq]}),n=AW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const a=Yme(o.toString());Fpe(r,a,()=>a(r.currentUser)),Mpe(r,s=>a(s))}}const i=bW("auth");return i&&vpe(r,`http://${i}`),r}function Xme(){return document.getElementsByTagName("head")?.[0]??document}lpe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=xa("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",Xme().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qme("Browser");var Qme="firebase",Zme="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(Qme,Zme,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="firebasestorage.googleapis.com",Jme="storageBucket",ege=120*1e3,tge=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends vs{constructor(e,r,n=0){super(fA(e),`Firebase Storage: ${r} (${fA(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fs||(fs={}));function fA(t){return"storage/"+t}function rge(){const t="An unknown error occurred, please check the error payload for server response.";return new bs(fs.UNKNOWN,t)}function nge(){return new bs(fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ige(){return new bs(fs.CANCELED,"User canceled the upload/download.")}function oge(t){return new bs(fs.INVALID_URL,"Invalid URL '"+t+"'.")}function age(t){return new bs(fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hM(t){return new bs(fs.INVALID_ARGUMENT,t)}function Gq(){return new bs(fs.APP_DELETED,"The Firebase app was deleted.")}function sge(t){return new bs(fs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ma.makeFromUrl(e,r)}catch{return new ma(e,"")}if(n.path==="")return n;throw age(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},y=r===qq?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${b}`,"i"),E=[{regex:s,indices:l,postModify:o},{regex:g,indices:x,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<E.length;P++){const I=E[P],T=I.regex.exec(e);if(T){const N=T[I.indices.bucket];let S=T[I.indices.path];S||(S=""),n=new ma(N,S),I.postModify(n);break}}if(n==null)throw oge(e);return n}}class lge{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cge(t,e,r){let n=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let c=!1;function d(...b){c||(c=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(g,l())},b)}function p(){o&&clearTimeout(o)}function g(b,..._){if(c){p();return}if(b){p(),d.call(null,b,..._);return}if(l()||a){p(),d.call(null,b,..._);return}n<64&&(n*=2);let E;s===1?(s=2,E=0):E=(n+Math.random())*1e3,f(E)}let x=!1;function y(b){x||(x=!0,p(),!c&&(i!==null?(b||(s=2),clearTimeout(i),f(0)):b||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,y(!0)},r),y}function uge(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dge(t){return t!==void 0}function pM(t,e,r,n){if(n<e)throw hM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw hM(`Invalid value for '${t}'. Expected ${r} or less.`)}function fge(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var tx;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tx||(tx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hge(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pge{constructor(e,r,n,i,o,a,s,l,c,d,f,p=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,y)=>{this.resolve_=x,this.reject_=y,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ev(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===tx.NO_ERROR,l=o.getStatus();if(!s||hge(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===tx.ABORT;n(!1,new Ev(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Ev(c,o))})},r=(n,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());dge(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=rge();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?Gq():ige();a(l)}else{const l=nge();a(l)}};this.canceled_?r(!1,new Ev(!1,null,!0)):this.backoffId_=cge(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uge(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ev{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function mge(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yge(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vge(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xge(t,e,r,n,i,o,a=!0,s=!1){const l=fge(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return yge(d,e),mge(d,r),gge(d,o),vge(d,n),new pge(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bge(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wge(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r){this._service=e,r instanceof ma?this._location=r:this._location=ma.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new rx(e,r)}get root(){const e=new ma(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wge(this._location.path)}get storage(){return this._service}get parent(){const e=bge(this._location.path);if(e===null)return null;const r=new ma(this._location.bucket,e);return new rx(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw sge(e)}}function mM(t,e){const r=e?.[Jme];return r==null?null:ma.makeFromBucketSpec(r,t)}function _ge(t,e,r,n={}){t.host=`${e}:${r}`;const i=vd(e);i&&(ZP(`https://${t.host}/b`),JP("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=n;o&&(t._overrideAuthToken=typeof o=="string"?o:CW(o,t.app.options.projectId))}class Age{constructor(e,r,n,i,o,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=qq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ege,this._maxUploadRetryTime=tge,this._requests=new Set,i!=null?this._bucket=ma.makeFromBucketSpec(i,this._host):this._bucket=mM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ma.makeFromBucketSpec(this._url,e):this._bucket=mM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rx(this,e)}_makeRequest(e,r,n,i,o=!0){if(this._deleted)return new lge(Gq());{const a=xge(e,this._appId,n,i,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const gM="@firebase/storage",yM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="storage";function Cge(t=r4(),e){t=$r(t);const n=wb(t,Kq).getImmediate({identifier:e}),i=wW("storage");return i&&Ege(n,...i),n}function Ege(t,e,r,n={}){_ge(t,e,r,n)}function Sge(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Age(r,n,i,e,xd)}function Tge(){Zu(new Ec(Kq,Sge,"PUBLIC").setMultipleInstances(!0)),ns(gM,yM,""),ns(gM,yM,"esm2020")}Tge();const Nge={apiKey:"AIzaSyDmtiawl0FF9SlDL2BXei7Db6aSCbJBqcE",authDomain:"farefit.firebaseapp.com",projectId:"farefit",storageBucket:"farefit.firebasestorage.app",messagingSenderId:"1070470589283",appId:"1:1070470589283:web:92acabab864d302949c156",measurementId:"G-J1XPZP1E3L"},G4=TW(Nge),oa=or(G4),tt=Fb(G4),Ige=Cge(G4),Sv=Object.freeze(Object.defineProperty({__proto__:null,auth:oa,db:tt,storage:Ige},Symbol.toStringTag,{value:"Module"})),kge=async(t,e,r)=>{const n=or(),i=await Ope(n,t,e);return n.currentUser&&await Dpe(n.currentUser,{displayName:r}),i.user},Pge=async(t,e)=>{try{const r=or(),n=await jpe(r,t,e);return console.log("✅ User logged in successfully:",n.user.email),n.user}catch(r){throw console.error("❌ Error logging in:",r.message),new Error(r.message)}},Oge=async()=>{try{const t=or(),e=new Hs,n=(await ome(t,e)).user,i=st(tt,"Users",n.uid);return(await er(i)).exists()||(console.log("🆕 First Google login detected — creating default records..."),await Yq(n.uid,n.displayName||"Unnamed User",n.email||"")),console.log("✅ Google sign-in successful:",n.email),n}catch(t){throw console.error("❌ Error with Google sign-in:",t.message),new Error(t.message)}};async function Yq(t,e,r){try{await Hn(st(tt,"Users",t),{full_name:e,email:r,avatar_url:"",onboardingComplete:!1,created_at:Rt.now(),updated_at:Rt.now()}),await Hn(st(tt,"User_Preferences",t),{theme:"light",notifications_enabled:!0,email_notifications:!0,measurement_units:"metric",language:"en"}),await Hn(st(tt,"Fitness_Goals",t),{age:null,gender:null,height:null,weight:null,activity_level:null,goal_type:"maintain",target_weight:null,weekly_goal:null,tdee:null,target_calories:null,protein_target:null,carbs_target:null,fats_target:null,fiber_target:null,created_at:Rt.now(),is_active:!0}),await Hn(st(tt,"Daily_Nutrition_Summary",t),{todays_meals:[{meal_date:null,meal_type:null,food_name:null,brand:null,serving_size:0,calories:0,protein:0,carbs:0,fats:0,fiber:0,meal_time:null}]}),await Hn(st(tt,"Daily_Metric",t),{hit_calorie_goal:!1,hit_protein_goal:!1,hit_carbs_goal:!1,hit_fats_goal:!1,hit_fiber_goal:!1}),await Hn(st(tt,"Food_Streak_Tracker",t),{protein_track_days:0,carbs_track_days:0,fats_track_days:0,micronutrient_track_days:0,loggedMeals_track_days:0,hyrdration_track_days:0,fiber_track_days:0,sugar_track_days:0}),await Hn(st(tt,"Daily_Metric",t),{hit_calorie_goal:!1,hit_protein_goal:!1,hit_carbs_goal:!1,hit_fats_goal:!1,hit_fiber_goal:!1}),await Hn(st(tt,"Food_Streak_Tracker",t),{protein_track_days:0,carbs_track_days:0,fats_track_days:0,micronutrient_track_days:0,loggedMeals_track_days:0,hyrdration_track_days:0,fiber_track_days:0,sugar_track_days:0});const i=or().currentUser,o=i?.metadata?.creationTime?new Date(i.metadata.creationTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});console.log(`✅ Creating FareScore with real join date: ${o}`),await Hn(st(tt,"FareScore",t),{score:350,tier:null,mealsLogged:0,workoutsCompleted:0,streakDays:0,lastStreakDate:"2025-10-17",penalties:0,joinDate:o,history:[{date:"2025-10-17",score:350}]}),await Hn(st(tt,"Workout_Exercises",t),{workout:[{day_type:null,duration:0,calories_burned:0,total_sets:0,total_reps:0,volume:0,exercises:[{name:null,sets:[{id:"1",reps:0,weight:0,volume:0}],startTime:null,endTime:null,notes:null}]}]}),await Hn(st(tt,"Weekly_Facts",t),{total_cals:0,total_burned:0,net_calories:0,total_workouts:0,days_consumed:{monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0,sunday:0},days_burned:{monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0,sunday:0},days_net:{monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0,sunday:0}}),await Hn(st(tt,"User_Achievements",t),{macro_master:!1,protein_champ:!1,carb_control:!1,fat_balance:!1,micronutr_minded:!1,clean_plate_club:!1,hydration_hero:!1,fiber_fiend:!1,sugar_smart:!1}),console.log("Default user records created successfully!")}catch(n){console.error("Error creating user records:",n)}}const id=async(t,e,r,n="Fitness_Goals")=>{try{const i=st(tt,n,t);await bo(i,{[e]:r}),console.log(`✅ Updated ${e} in ${n}/${t} successfully.`)}catch(i){throw console.error(`❌ Error updating ${e} for user ${t}:`,i),i}},KN=async(t,e,r="Fitness_Goals")=>{try{const n=st(tt,r,t);await bo(n,{...e,updated_at:Rt.now()}),console.log(`✅ Updated ${Object.keys(e).join(", ")} in ${r}/${t} successfully.`)}catch(n){throw console.error(`❌ Error updating fitness goals for user ${t}:`,n),n}};function jge(t){const e={...t};return["calories","protein","carbs","fats","fiber","serving_size"].forEach(r=>{const n=e[r];n===""||isNaN(n)||n===void 0||n===null?e[r]=0:e[r]=Number(n)}),e}const Rge=async t=>{try{const{getGeminiService:e}=await Ou(async()=>{const{getGeminiService:c}=await Promise.resolve().then(()=>JOe);return{getGeminiService:c}},void 0),r=e();console.log("🔬 Starting AI image analysis...");const n=t.replace(/^data:image\/[a-z]+;base64,/,""),o=[{role:"user",parts:[{text:`Analyze this food image and identify all visible food items. For each item, provide detailed nutritional information.

Return ONLY a valid JSON object in this exact format:
{
  "name": "Overall meal name (e.g., 'Grilled Chicken Salad')",
  "items": [
    {
      "id": "1",
      "name": "Food item name",
      "servingSize": "Estimated serving (e.g., '150g', '1 cup')",
      "amountConsumed": 1,
      "baseCalories": 0,
      "baseProtein": 0,
      "baseCarbs": 0,
      "baseFat": 0,
      "baseFiber": 0,
      "calories": 0,
      "protein": 0,
      "carbs": 0,
      "fat": 0,
      "fiber": 0,
      "isExpanded": false,
      "brandName": ""
    }
  ]
}

Guidelines:
- Identify 2-6 main food components visible
- Estimate realistic portion sizes based on visual cues
- Use USDA nutrition database values
- Round calories to whole numbers, macros to 1 decimal
- Make calories/macros = base values × amount consumed
- Include condiments, sauces, and garnishes if visible
- Be conservative with portion estimates if unsure

Example good response for a salad:
{
  "name": "Garden Salad with Grilled Chicken",
  "items": [
    {
      "id": "1",
      "name": "Grilled Chicken Breast",
      "servingSize": "120g",
      "amountConsumed": 1,
      "baseCalories": 194,
      "baseProtein": 36.6,
      "baseCarbs": 0,
      "baseFat": 4.3,
      "baseFiber": 0,
      "calories": 194,
      "protein": 36.6,
      "carbs": 0,
      "fat": 4.3,
      "fiber": 0,
      "isExpanded": false,
      "brandName": ""
    }
  ]
}`},{inline_data:{mime_type:"image/jpeg",data:n}}]}],a=await r.chat(o,"gemini-2.5-flash");console.log("🤖 Raw Gemini response:",a);let s=a.match(/\{[\s\S]*\}/);if(!s)throw new Error("No JSON found in AI response");const l=JSON.parse(s[0]);if(!l.name||!Array.isArray(l.items))throw new Error("Invalid response structure from AI");return console.log("✅ AI analysis complete:",l),{success:!0,data:l}}catch(e){return console.error("❌ AI image analysis failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred",data:{name:"Mixed Meal",items:[{id:"1",name:"Food Item (AI analysis failed)",servingSize:"1 portion",amountConsumed:1,baseCalories:300,baseProtein:15,baseCarbs:30,baseFat:10,baseFiber:3,calories:300,protein:15,carbs:30,fat:10,fiber:3,isExpanded:!1,brandName:""}]}}}},Dge=async(t,e)=>{try{const r=jge(e);console.log("🧩 Original meal data:",JSON.stringify(e,null,2)),console.log("🧩 Sanitized meal data being saved:",JSON.stringify(r,null,2));const n=od(),i=st(tt,"Daily_Nutrition_Summary",t),o=await er(i);let a=[];o.exists()&&(a=o.data()?.todays_meals||[],(a.length?a[a.length-1].meal_date:null)!==n&&(a=[])),a.push({...r,meal_date:n}),await bo(i,{todays_meals:a}),console.log("✅ Meal added successfully!"),await Hge(t,r.calories,r.meal_date)}catch(r){console.error("❌ Error adding meal:",r)}},K4=async t=>{const e=st(tt,"Daily_Nutrition_Summary",t),r=await er(e),n=od();return r.exists()?(r.data()?.todays_meals||[]).filter(s=>s.meal_date===n).map(s=>({...s,calories:Number(s.calories)||0,protein:Number(s.protein)||0,carbs:Number(s.carbs)||0,fats:Number(s.fats)||0,fiber:Number(s.fiber)||0,serving_size:Number(s.serving_size)||1})):[]},od=()=>vh(),vh=t=>{const e=t||new Date;return new Intl.DateTimeFormat("en-CA",{timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit"}).format(e)},Mge=async t=>{try{const e=st(tt,"Fitness_Goals",t),r=await er(e);return r.exists()?r.data():(console.log(`No fitness goals found for user ${t}`),null)}catch(e){throw console.error(`❌ Error fetching fitness goals for user ${t}:`,e),e}},Fge=async(t,e)=>{try{const r=st(tt,"Barcode_History",t),n=await er(r);let i=[];n.exists()&&(i=n.data()?.scanned_products||[]);const o=i.findIndex(a=>a.barcode===e.barcode);o>=0?i[o]={...i[o],scan_count:i[o].scan_count+1,last_scanned:Rt.now()}:i.push({...e,scan_count:1,first_scanned:Rt.now(),last_scanned:Rt.now()}),i.sort((a,s)=>s.last_scanned.toMillis()-a.last_scanned.toMillis()),i=i.slice(0,20),n.exists()?await bo(r,{scanned_products:i}):await Hn(r,{scanned_products:i}),console.log("✅ Barcode added to history!")}catch(r){console.error("❌ Error adding barcode to history:",r)}},vM=async t=>{try{const e=st(tt,"Barcode_History",t),r=await er(e);return r.exists()?r.data()?.scanned_products||[]:[]}catch(e){return console.error("❌ Error fetching barcode history:",e),[]}},Lge=async t=>{const e=st(tt,"FareScore",t),r=await er(e);if(!r.exists())return;const n=r.data(),i=n.lastStreakDate,o=od(),a=i?new Date(i):null,s=new Date(o),l=1440*60*1e3;let c=1,d=n.score;if(a){const f=Math.floor((s.getTime()-a.getTime())/l);if(f===0){console.log("✅ Streak already counted today.");return}else f===1?c=n.streakDays+1:f<=6?(c=1,d-=5,console.log("⚠️ Streak broken, -5 points")):f>=7&&(c=1,d-=10,console.log("⚠️ Inactive for a week, -10 points"));f===2&&(d-=2)}await bo(e,{streakDays:c,lastStreakDate:o,score:d}),console.log(`✅ Updated streak: ${c}, FareScore: ${d}`)},Y4=async(t,e)=>{const r=st(tt,"FareScore",t),n=await er(r);if(!n.exists()){console.error("❌ FareScore document does not exist for user:",t);return}let o=n.data().score||0;if(e==="logged_food")o+=1;else if(e==="macros_hit")o+=2;else if(e==="logged_workout")o+=3;else{console.warn(`⚠️ Event "${e}" not recognized. No score update.`);return}await bo(r,{score:o}),console.log(`✅ FareScore updated for ${e}: ${o}`)},hA=async t=>{try{const e=st(tt,"Users",t),r=await er(e);if(!r.exists())return console.log(`📝 No user document found for ${t} - treating as new user`),!1;const i=r.data().onboardingComplete||!1;return console.log(`📋 Onboarding status for ${t}: ${i}`),i}catch(e){return console.error("❌ Error fetching onboarding status:",e),!1}},nx=async t=>{try{const e=st(tt,"Users",t),r=st(tt,"Fitness_Goals",t),[n,i]=await Promise.all([er(e),er(r)]),o=n.exists()?n.data():{},a=i.exists()?i.data():{};console.log(`👤 Raw user data (Users collection) for ${t}:`,o),console.log(`🏋️ Raw fitness data (Fitness_Goals collection) for ${t}:`,a);let s=o.age||a.age;if(!s&&(o.birthday||a.birthday)){const c=o.birthday||a.birthday,d=new Date(c),f=new Date;s=f.getFullYear()-d.getFullYear();const p=f.getMonth()-d.getMonth();(p<0||p===0&&f.getDate()<d.getDate())&&s--}const l={age:s,gender:a.sex||a.gender||o.sex||o.gender,weight:a.weight||o.weight,height:a.height||o.height,activityLevel:a.activity_level||a.activityLevel||o.activityLevel,goalType:a.goal_type||a.goal||a.goalType||o.goal||o.goalType,onboardingComplete:o.onboardingComplete||!1,full_name:o.full_name,email:o.email,birthday:o.birthday||a.birthday,dateOfBirth:o.dateOfBirth};return console.log(`👤 Merged and mapped user profile for ${t}:`,l),l}catch(e){return console.error("❌ Error fetching user profile:",e),null}},Bge=async t=>{try{const e=st(tt,"Users",t);await bo(e,{onboardingComplete:!0,updated_at:Rt.now()}),console.log(`✅ Onboarding marked as complete for user ${t}`)}catch(e){throw console.error("❌ Error marking onboarding complete:",e),e}},xM=async t=>{try{const e=st(tt,"Users",t),r=await er(e);r.exists()&&r.data().onboardingComplete===void 0&&(console.log(`🔄 Migrating existing user ${t} - setting onboarding as complete`),await bo(e,{onboardingComplete:!0,updated_at:Rt.now()}))}catch(e){console.error("❌ Error migrating onboarding status:",e)}},Vge=async t=>{try{const e=st(tt,"FareScore",t),r=await er(e);return r.exists()?r.data():(console.warn("No FareScore document found for user:",t),null)}catch(e){return console.error("❌ Error fetching FareScore:",e),null}},$ge=async t=>{const r=or().currentUser;if(!r)throw new Error("User not logged in");const n=st(tt,"Workout_Exercises",r.uid),i=await er(n);if(!i.exists())return console.log("No Workout_Exercises document found for this user"),{workout:[]};const o=i.data(),a=od(),s=o.workout.find(l=>l.date===a);return{workout:s?[s]:[],allWorkouts:o.workout||[]}},Uge=async(t,e)=>{const n=or().currentUser;if(!n)throw new Error("User not logged in");const i=st(tt,"Workout_Exercises",n.uid),o=await er(i),a=od();let s=[];o.exists()&&(s=o.data()?.workout||[],console.log("📊 Current workouts in DB:",s.length),console.log("📅 Target date:",a),console.log("📋 All dates:",s.map(c=>c.date)),s=s.filter(c=>{const d=c.date!==a;return d||console.log("🗑️ Removing existing workout for date:",c.date),d}),console.log("✅ Workouts after filter:",s.length));const l={...t,date:a};s.push(l),s.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime()),console.log("📦 Before slice - Total workouts:",s.length),s=s.slice(0,30),console.log("✂️ After slice - Keeping workouts:",s.length),await Hn(i,{workout:s,last_updated:Rt.now()}),console.log("✅ Workout saved for date:",a),console.log("💾 Total workouts now in DB:",s.length)},YN=async()=>{const e=or().currentUser;if(!e)return;const r=st(tt,"Workout_Exercises",e.uid),n=await er(r);if(!n.exists())return;const i=n.data(),o=i.last_updated?.toDate(),a=new Date(od());if(o&&o.toDateString()===a.toDateString())return;const l=(i.workout||[]).filter(c=>c.date!==od());await Hn(r,{workout:l,last_updated:Rt.now()},{merge:!0}),console.log("✅ Daily workout slot cleared for new day")},zge=async()=>{const e=or().currentUser;if(!e)throw new Error("User not logged in");const r=st(tt,"Workout_Exercises",e.uid),n=await er(r);return n.exists()?n.data().workout||[]:[]},Wge=t=>{const e=new Date(t);return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]},Hge=async(t,e,r)=>{try{const n=st(tt,"Weekly_Facts",t),i=await er(n);if(!i.exists()){console.error("❌ Weekly_Facts document does not exist for user:",t);return}const o=i.data(),a=Wge(r);console.log(`📅 Updating Weekly_Facts for ${a} with ${e} calories`);const s={...o.days_consumed,[a]:(o.days_consumed[a]||0)+e},l=Object.values(s).reduce((p,g)=>p+g,0),c=o.total_burned||0,d=l-c,f={...o.days_net,[a]:s[a]-(o.days_burned[a]||0)};await bo(n,{total_cals:l,net_calories:d,days_consumed:s,days_net:f}),console.log(`✅ Weekly_Facts updated: ${a} +${e} cals, Total: ${l}`)}catch(n){console.error("❌ Error updating Weekly_Facts:",n)}},qge=async()=>{const e=or().currentUser;if(!e)throw new Error("User not logged in");const r=st(tt,"Weekly_Facts",e.uid),n=await er(r);return n.exists()?n.data():(console.warn("⚠️ No Weekly_Facts document found for this user"),null)},Gge=async t=>{try{const e=await K4(t),r=await Mge(t);if(!r){console.error("No fitness goals found for user:",t);return}const n=e.reduce((a,s)=>({calories:a.calories+(s.calories||0),protein:a.protein+(s.protein||0),carbs:a.carbs+(s.carbs||0),fats:a.fats+(s.fats||0),fiber:a.fiber+(s.fiber||0),mealCount:a.mealCount+1,hasFruitsVeggies:a.hasFruitsVeggies||s.food_name&&Kge(s.food_name)}),{calories:0,protein:0,carbs:0,fats:0,fiber:0,mealCount:0,hasFruitsVeggies:!1}),i={hit_protein_goal:n.protein>=(r.protein_target||0),hit_carbs_goal:n.carbs>=(r.carbs_target||0)&&n.carbs<=(r.carbs_target||0)*1.2,hit_fats_goal:n.fats>=(r.fats_target||0),hit_fiber_goal:n.fiber>=(r.fiber_target||0),logged_full_meals:n.mealCount>=3,had_fruits_veggies:n.hasFruitsVeggies,hit_hydration_goal:Math.random()>.3,stayed_under_sugar:n.carbs*.2<=50},o=st(tt,"Daily_Metric",t);await bo(o,i),console.log("✅ Daily metrics updated:",i),await Yge(t,i)}catch(e){console.error("❌ Error updating daily metrics:",e)}},Kge=t=>["apple","banana","orange","berry","grape","melon","broccoli","spinach","lettuce","carrot","tomato","pepper","onion","garlic","cucumber","zucchini","potato","sweet potato","avocado","mango","pineapple","peach","pear","plum"].some(r=>t.toLowerCase().includes(r)),Yge=async(t,e)=>{try{const r=st(tt,"Food_Streak_Tracker",t),n=await er(r),i=st(tt,"User_Achievements",t),o=await er(i);if(!n.exists()||!o.exists()){console.error("Missing streak tracker or achievements document");return}const a=n.data(),s=o.data(),l={};e.hit_protein_goal?l.protein_track_days=(a.protein_track_days||0)+1:!s.macro_master&&!s.protein_champ&&(l.protein_track_days=0),e.hit_carbs_goal?l.carbs_track_days=(a.carbs_track_days||0)+1:s.carb_control||(l.carbs_track_days=0),e.hit_fats_goal?l.fats_track_days=(a.fats_track_days||0)+1:s.fat_balance||(l.fats_track_days=0),e.hit_fiber_goal&&(l.fiber_track_days=(a.fiber_track_days||0)+1),e.had_fruits_veggies&&(l.micronutrient_track_days=(a.micronutrient_track_days||0)+1),e.logged_full_meals?l.loggedMeals_track_days=(a.loggedMeals_track_days||0)+1:s.clean_plate_club||(l.loggedMeals_track_days=0),e.hit_hydration_goal?l.hyrdration_track_days=(a.hyrdration_track_days||0)+1:s.hydration_hero||(l.hyrdration_track_days=0),e.stayed_under_sugar?l.sugar_track_days=(a.sugar_track_days||0)+1:s.sugar_smart||(l.sugar_track_days=0),await bo(r,l),console.log("✅ Food streaks updated:",l),await Xge(t,{...a,...l})}catch(r){console.error("❌ Error updating food streaks:",r)}},Xge=async(t,e)=>{try{const r=st(tt,"User_Achievements",t),n=await er(r);if(!n.exists())return;const i=n.data(),o={};if(!i.macro_master&&e.protein_track_days>=5&&(o.macro_master=!0),!i.protein_champ&&e.protein_track_days>=30&&(o.protein_champ=!0),!i.carb_control&&e.carbs_track_days>=7&&(o.carb_control=!0),!i.fat_balance&&e.fats_track_days>=10&&(o.fat_balance=!0),!i.micronutr_minded&&e.micronutrient_track_days>=5&&(o.micronutr_minded=!0),!i.clean_plate_club&&e.loggedMeals_track_days>=7&&(o.clean_plate_club=!0),!i.hydration_hero&&e.hyrdration_track_days>=7&&(o.hydration_hero=!0),!i.fiber_fiend&&e.fiber_track_days>=10&&(o.fiber_fiend=!0),!i.sugar_smart&&e.sugar_track_days>=7&&(o.sugar_smart=!0),Object.keys(o).length>0){await bo(r,o),console.log("🎉 New achievements unlocked:",o);const a=Object.values(o).filter(Boolean).length;await Y4(t,`achievement_unlocked_${a}`)}}catch(r){console.error("❌ Error checking achievements:",r)}},Qge=async t=>{try{const e=st(tt,"User_Achievements",t),r=await er(e);return r.exists()?r.data():null}catch(e){return console.error("❌ Error fetching user achievements:",e),null}},Zge=async t=>{try{const e=st(tt,"Food_Streak_Tracker",t),r=await er(e);return r.exists()?r.data():null}catch(e){return console.error("❌ Error fetching food streaks:",e),null}},XN=t=>t>=800?"FareFit Elite":t>=700?"Goal Crusher":t>=550?"Consistent Tracker":t>=400?"Building Habits":"Starting Journey",Jge=async(t=50)=>{try{console.log(`🏆 Fetching global leaderboard (top ${t})`);const e=ky(Ny(tt,"FareScore"),Hb("score","desc"),Gb(t)),r=await Oy(e),n=[],i=or().currentUser?.uid;let o=1;for(const a of r.docs){const s=a.data(),l=a.id,c=await er(st(tt,"Users",l)),d=c.exists()?c.data():{},f=d.full_name||d.name||"Anonymous User",p=`@${f.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,12)||"user"+l.substring(0,4)}`;n.push({rank:o,name:f,username:p,avatar:d.avatar||"",fareScore:s.score||350,tier:XN(s.score||350),change:s.weeklyChange||0,isCurrentUser:l===i}),o++}return console.log(`✅ Global leaderboard loaded: ${n.length} users`),n}catch(e){return console.error("❌ Error fetching global leaderboard:",e),[]}},eye=async t=>{try{const e=await er(st(tt,"User_Friends",t));return e.exists()?e.data().friendsList||[]:[]}catch(e){return console.error("❌ Error getting user friends:",e),[]}},tye=async()=>{try{const t=or().currentUser?.uid;if(!t)return console.log("❌ No current user for friends leaderboard"),[];console.log("👥 Fetching real friends leaderboard");const e=await eye(t);if(e.length===0)return console.log("📭 No friends found"),[];console.log(`Found ${e.length} friends:`,e);const r=[];for(const n of e)try{const i=await er(st(tt,"FareScore",n)),o=i.exists()?i.data():{score:350},a=await er(st(tt,"Users",n)),s=a.exists()?a.data():{},l=s.full_name||s.name||"Friend",c=`@${l.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,12)||"friend"+n.substring(0,4)}`;r.push({rank:0,name:l,username:c,avatar:s.avatar||"",fareScore:o.score||350,tier:XN(o.score||350),change:o.weeklyChange||0,isCurrentUser:n===t})}catch(i){console.error(`❌ Error fetching data for friend ${n}:`,i)}try{const n=await er(st(tt,"FareScore",t)),i=n.exists()?n.data():{score:350},o=await er(st(tt,"Users",t)),a=o.exists()?o.data():{},s=a.full_name||a.name||"You",l=`@${s.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,12)||"you"}`;r.push({rank:0,name:s,username:l,avatar:a.avatar||"",fareScore:i.score||350,tier:XN(i.score||350),change:i.weeklyChange||0,isCurrentUser:!0})}catch(n){console.error("❌ Error fetching current user data:",n)}return r.sort((n,i)=>i.fareScore-n.fareScore),r.forEach((n,i)=>{n.rank=i+1}),console.log(`✅ Real friends leaderboard loaded: ${r.length} friends`),r}catch(t){return console.error("❌ Error fetching friends leaderboard:",t),[]}},rye=async t=>{try{const{getUserPlanSummary:e}=await Ou(async()=>{const{getUserPlanSummary:r}=await Promise.resolve().then(()=>lje);return{getUserPlanSummary:r}},void 0);return await e(t)}catch(e){return console.error("❌ Error fetching user plan summary:",e),null}};function X4(t){const[e,r]=k.useState([]),[n,i]=k.useState(!0),[o,a]=k.useState({calories:0,protein:0,carbs:0,fat:0,fiber:0});k.useEffect(()=>{const c=or(),d=Lpe(c,f=>{if(!f){r([]),a({calories:0,protein:0,carbs:0,fat:0,fiber:0}),i(!1);return}const p=Fb(),g=st(p,"Daily_Nutrition_Summary",f.uid);return console.log("🔄 Setting up real-time meal listener for user:",f.uid),M4(g,y=>{const _=y.data()?.todays_meals||[],C=t?vh(t):vh(),E=_.filter(I=>I.meal_date===C);console.log("🗓️ Filtering meals for date:",C),console.log("📋 All meals in Firestore:",_.map(I=>({food:I.food_name,date:I.meal_date,type:I.meal_type}))),console.log("📋 Filtered meals:",E.length,"out of",_.length,"total meals");const P=E.reduce((I,T)=>({calories:I.calories+(T.calories||0),protein:I.protein+(T.protein||0),carbs:I.carbs+(T.carbs||0),fat:I.fat+(T.fats||0),fiber:I.fiber+(T.fiber||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0});r(E),a(P),i(!1),console.log("📊 Meals updated:",{mealCount:E.length,totals:P})},y=>{console.error("🔥 Firestore listener error:",y),i(!1)})});return()=>{d()}},[t]);const s=()=>e.reduce((c,d)=>{const f=d.meal_type.toLowerCase();return c[f]||(c[f]=[]),c[f].push(d),c},{});return{meals:e,loading:n,totals:o,getMealsByType:s,getMealTypeOrder:()=>{const c=["breakfast","lunch","dinner","snack"],d=s();return c.filter(f=>d[f]?.length>0)}}}function nye({onFoodAIClick:t,onLogMealClick:e,userGoal:r,planSummary:n,loggedMacros:i}){const{meals:o,loading:a,totals:s}=X4();if(k.useEffect(()=>{console.log("📊 Received planSummary:",n),console.log("📊 Received userGoal:",r)},[n,r]),a)return u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 transition-colors duration-300",style:{background:"linear-gradient(135deg, var(--farefit-primary) 0%, var(--farefit-secondary) 100%)"},children:[u.jsx("h3",{className:"text-white mb-2",children:"CALORIES CONSUMED"}),u.jsx("p",{className:"text-center text-white opacity-70",children:"Loading meals..."})]});const l=o.length>0,c=s.calories,d=n?.targetCalories||r?.targetCalories||2200,f=s.protein,p=n?.macros.protein||r?.protein||165,g=s.carbs,x=n?.macros.carbs||r?.carbs||220,y=s.fat,b=n?.macros.fat||r?.fat||73,_=s.fiber,C=n?.macros.fiber||r?.fiber||30;return console.log("📊 CaloriesCard target values source:",{calories:{value:d,source:n?.targetCalories?"planSummary":r?.targetCalories?"userGoal":"default"},protein:{value:p,source:n?.macros.protein?"planSummary":r?.protein?"userGoal":"default"},carbs:{value:x,source:n?.macros.carbs?"planSummary":r?.carbs?"userGoal":"default"},fat:{value:b,source:n?.macros.fat?"planSummary":r?.fat?"userGoal":"default"},fiber:{value:C,source:n?.macros.fiber?"planSummary":r?.fiber?"userGoal":"default"}}),u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 transition-colors duration-300",style:{background:"linear-gradient(135deg, var(--farefit-primary) 0%, var(--farefit-secondary) 100%)"},children:[u.jsx("h3",{className:"text-white mb-2",children:"CALORIES CONSUMED"}),l?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[u.jsx("span",{className:"text-5xl sm:text-6xl text-white",children:c.toLocaleString()}),u.jsxs("span",{className:"text-xl text-white opacity-90 pb-2",children:["/ ",d.toLocaleString()," kcal"]})]}),u.jsx("p",{className:"text-white opacity-90 mb-6",children:c<=d?"On track with your goals":"Over target today"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Protein"}),u.jsxs("p",{className:"text-white text-xl",children:[f,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",p,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Carbs"}),u.jsxs("p",{className:"text-white text-xl",children:[g,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",x,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Fat"}),u.jsxs("p",{className:"text-white text-xl",children:[y,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",b,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm",children:"Fiber"}),u.jsxs("p",{className:"text-white text-xl",children:[_,"g"]}),u.jsxs("p",{className:"text-white opacity-70 text-xs",children:["/ ",C,"g"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-primary)"},children:"Log Meal"}),u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-accent)"},children:"Ask Food AI"})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-5xl",children:"🍽️"}),u.jsx("p",{className:"text-white text-lg mb-2",children:"No calories logged yet"}),u.jsx("p",{className:"text-white opacity-70 text-sm mb-6",children:"Start tracking your nutrition today"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 bg-white/20 hover:bg-white/30 flex items-center justify-center gap-2",children:"Log Meal"}),u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 flex items-center justify-center gap-2",style:{backgroundColor:"var(--farefit-accent)"},children:"Ask Food AI"})]})]})]})}function iye({onViewTimeline:t,onLogMealClick:e}){const{meals:r,loading:n,getMealsByType:i,getMealTypeOrder:o}=X4();return u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{style:{color:"var(--farefit-text)"},children:"Meals Today"}),u.jsxs("button",{onClick:t,className:"text-sm hover:underline flex items-center gap-1 transition-all hover:-translate-y-0.5",style:{color:"var(--farefit-primary)"},children:["View More",u.jsx(S1,{className:"w-4 h-4"})]})]}),u.jsx("div",{className:"space-y-4",children:n?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Loading meals..."})}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-4xl",children:"🍽️"}),u.jsx("p",{className:"mb-2",style:{color:"var(--farefit-subtext)"},children:"No meals logged yet"}),u.jsx("p",{className:"text-sm mb-6",style:{color:"var(--farefit-subtext)",opacity:.7},children:"Start your day by logging your first meal"}),u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-lg text-white transition-all hover:opacity-90 hover:-translate-y-0.5 inline-flex items-center justify-center gap-2",style:{backgroundColor:"var(--farefit-primary)"},children:"Log Your First Meal"})]}):o().map(a=>{const s=i()[a]||[];if(s.length===0)return null;const l=s.reduce((g,x)=>g+x.calories,0),c=s.reduce((g,x)=>g+x.protein,0),d=s.reduce((g,x)=>g+x.carbs,0),f=s.reduce((g,x)=>g+x.fats,0),p=s.reduce((g,x)=>g+x.fiber,0);return u.jsxs("div",{onClick:t,className:"flex justify-between items-center py-4 px-4 mb-3 cursor-pointer hover:opacity-80 rounded-lg transition-all hover:-translate-y-0.5",style:{backgroundColor:"var(--farefit-bg)",opacity:.8},children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-lg",children:a==="breakfast"?"🍳":a==="lunch"?"🥗":a==="dinner"?"🍽️":"🍿"}),u.jsx("h4",{className:"text-base font-medium capitalize",style:{color:"var(--farefit-text)"},children:a})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:[s.length," item",s.length!==1?"s":""]}),u.jsx("span",{className:"text-sm",style:{color:"var(--farefit-subtext)",opacity:.5},children:"•"}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"var(--farefit-subtext)"},children:[u.jsxs("span",{style:{color:"#F5A623"},children:["P: ",Math.round(c),"g"]}),u.jsxs("span",{style:{color:"#4DD4AC"},children:["C: ",Math.round(d),"g"]}),u.jsxs("span",{style:{color:"#6B47DC"},children:["F: ",Math.round(f),"g"]}),u.jsxs("span",{style:{color:"var(--farefit-primary)"},children:["Fb: ",Math.round(p),"g"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-lg font-semibold",style:{color:"var(--farefit-text)"},children:[l," kcal"]}),u.jsx(S1,{className:"w-4 h-4 mt-1 mx-auto",style:{color:"var(--farefit-primary)"}})]})]},a)})})]})}function pt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function bM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xq(...t){return e=>{let r=!1;const n=t.map(i=>{const o=bM(i,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():bM(t[i],null)}}}}function Bt(...t){return k.useCallback(Xq(...t),t)}function oye(t,e){const r=k.createContext(e),n=o=>{const{children:a,...s}=o,l=k.useMemo(()=>s,Object.values(s));return u.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(o){const a=k.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,i]}function Go(t,e=[]){let r=[];function n(o,a){const s=k.createContext(a),l=r.length;r=[...r,a];const c=f=>{const{scope:p,children:g,...x}=f,y=p?.[t]?.[l]||s,b=k.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})};c.displayName=o+"Provider";function d(f,p){const g=p?.[t]?.[l]||s,x=k.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=r.map(a=>k.createContext(a));return function(s){const l=s?.[t]||o;return k.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,aye(i,...e)]}function aye(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var ln=globalThis?.document?k.useLayoutEffect:()=>{},sye=EU[" useId ".trim().toString()]||(()=>{}),lye=0;function ss(t){const[e,r]=k.useState(sye());return ln(()=>{r(n=>n??String(lye++))},[t]),t||(e?`radix-${e}`:"")}var cye=EU[" useInsertionEffect ".trim().toString()]||ln;function pl({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,o,a]=uye({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:i;{const d=k.useRef(t!==void 0);k.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const c=k.useCallback(d=>{if(s){const f=dye(d)?d(t):d;f!==t&&a.current?.(f)}else o(d)},[s,t,o,a]);return[l,c]}function uye({defaultProp:t,onChange:e}){const[r,n]=k.useState(t),i=k.useRef(r),o=k.useRef(e);return cye(()=>{o.current=e},[e]),k.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function dye(t){return typeof t=="function"}var Fy=CU();const fye=Yt(Fy);function xh(t){const e=hye(t),r=k.forwardRef((n,i)=>{const{children:o,...a}=n,s=k.Children.toArray(o),l=s.find(pye);if(l){const c=l.props.children,d=s.map(f=>f===l?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:k.isValidElement(c)?k.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:o})});return r.displayName=`${t}.Slot`,r}var Qq=xh("Slot");function hye(t){const e=k.forwardRef((r,n)=>{const{children:i,...o}=r;if(k.isValidElement(i)){const a=gye(i),s=mye(o,i.props);return i.type!==k.Fragment&&(s.ref=n?Xq(n,a):a),k.cloneElement(i,s)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zq=Symbol("radix.slottable");function Jq(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Zq,e}function pye(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zq}function mye(t,e){const r={...e};for(const n in e){const i=t[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...t,...r}}function gye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var yye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=yye.reduce((t,e)=>{const r=xh(`Primitive.${e}`),n=k.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...s,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vye(t,e){t&&Fy.flushSync(()=>t.dispatchEvent(e))}function ml(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...r)=>e.current?.(...r),[])}function xye(t,e=globalThis?.document){const r=ml(t);k.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var bye="DismissableLayer",QN="dismissableLayer.update",wye="dismissableLayer.pointerDownOutside",_ye="dismissableLayer.focusOutside",wM,eG=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zb=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=k.useContext(eG),[d,f]=k.useState(null),p=d?.ownerDocument??globalThis?.document,[,g]=k.useState({}),x=Bt(e,N=>f(N)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),C=d?y.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,P=C>=_,I=Eye(N=>{const S=N.target,j=[...c.branches].some(B=>B.contains(S));!P||j||(i?.(N),a?.(N),N.defaultPrevented||s?.())},p),T=Sye(N=>{const S=N.target;[...c.branches].some(B=>B.contains(S))||(o?.(N),a?.(N),N.defaultPrevented||s?.())},p);return xye(N=>{C===c.layers.size-1&&(n?.(N),!N.defaultPrevented&&s&&(N.preventDefault(),s()))},p),k.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(wM=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),_M(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wM)}},[d,p,r,c]),k.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),_M())},[d,c]),k.useEffect(()=>{const N=()=>g({});return document.addEventListener(QN,N),()=>document.removeEventListener(QN,N)},[]),u.jsx(wt.div,{...l,ref:x,style:{pointerEvents:E?P?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,T.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,I.onPointerDownCapture)})});Zb.displayName=bye;var Aye="DismissableLayerBranch",Cye=k.forwardRef((t,e)=>{const r=k.useContext(eG),n=k.useRef(null),i=Bt(e,n);return k.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(wt.div,{...t,ref:i})});Cye.displayName=Aye;function Eye(t,e=globalThis?.document){const r=ml(t),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let l=function(){tG(wye,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Sye(t,e=globalThis?.document){const r=ml(t),n=k.useRef(!1);return k.useEffect(()=>{const i=o=>{o.target&&!n.current&&tG(_ye,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _M(){const t=new CustomEvent(QN);document.dispatchEvent(t)}function tG(t,e,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?vye(i,o):i.dispatchEvent(o)}var pA="focusScope.autoFocusOnMount",mA="focusScope.autoFocusOnUnmount",AM={bubbles:!1,cancelable:!0},Tye="FocusScope",Q4=k.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=k.useState(null),c=ml(i),d=ml(o),f=k.useRef(null),p=Bt(e,y=>l(y)),g=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let y=function(E){if(g.paused||!s)return;const P=E.target;s.contains(P)?f.current=P:oc(f.current,{select:!0})},b=function(E){if(g.paused||!s)return;const P=E.relatedTarget;P!==null&&(s.contains(P)||oc(f.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&oc(s)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const C=new MutationObserver(_);return s&&C.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),C.disconnect()}}},[n,s,g.paused]),k.useEffect(()=>{if(s){EM.add(g);const y=document.activeElement;if(!s.contains(y)){const _=new CustomEvent(pA,AM);s.addEventListener(pA,c),s.dispatchEvent(_),_.defaultPrevented||(Nye(jye(rG(s)),{select:!0}),document.activeElement===y&&oc(s))}return()=>{s.removeEventListener(pA,c),setTimeout(()=>{const _=new CustomEvent(mA,AM);s.addEventListener(mA,d),s.dispatchEvent(_),_.defaultPrevented||oc(y??document.body,{select:!0}),s.removeEventListener(mA,d),EM.remove(g)},0)}}},[s,c,d,g]);const x=k.useCallback(y=>{if(!r&&!n||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const C=y.currentTarget,[E,P]=Iye(C);E&&P?!y.shiftKey&&_===P?(y.preventDefault(),r&&oc(E,{select:!0})):y.shiftKey&&_===E&&(y.preventDefault(),r&&oc(P,{select:!0})):_===C&&y.preventDefault()}},[r,n,g.paused]);return u.jsx(wt.div,{tabIndex:-1,...a,ref:p,onKeyDown:x})});Q4.displayName=Tye;function Nye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(oc(n,{select:e}),document.activeElement!==r)return}function Iye(t){const e=rG(t),r=CM(e,t),n=CM(e.reverse(),t);return[r,n]}function rG(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function CM(t,e){for(const r of t)if(!kye(r,{upTo:e}))return r}function kye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Pye(t){return t instanceof HTMLInputElement&&"select"in t}function oc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Pye(t)&&e&&t.select()}}var EM=Oye();function Oye(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=SM(t,e),t.unshift(e)},remove(e){t=SM(t,e),t[0]?.resume()}}}function SM(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function jye(t){return t.filter(e=>e.tagName!=="A")}var Rye="Portal",Jb=k.forwardRef((t,e)=>{const{container:r,...n}=t,[i,o]=k.useState(!1);ln(()=>o(!0),[]);const a=r||i&&globalThis?.document?.body;return a?fye.createPortal(u.jsx(wt.div,{...n,ref:e}),a):null});Jb.displayName=Rye;function Dye(t,e){return k.useReducer((r,n)=>e[r][n]??r,t)}var Bc=t=>{const{present:e,children:r}=t,n=Mye(e),i=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),o=Bt(n.ref,Fye(i));return typeof r=="function"||n.isPresent?k.cloneElement(i,{ref:o}):null};Bc.displayName="Presence";function Mye(t){const[e,r]=k.useState(),n=k.useRef(null),i=k.useRef(t),o=k.useRef("none"),a=t?"mounted":"unmounted",[s,l]=Dye(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=Tv(n.current);o.current=s==="mounted"?c:"none"},[s]),ln(()=>{const c=n.current,d=i.current;if(d!==t){const p=o.current,g=Tv(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ln(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Tv(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(o.current=Tv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:k.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Tv(t){return t?.animationName||"none"}function Fye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gA=0;function nG(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??TM()),document.body.insertAdjacentElement("beforeend",t[1]??TM()),gA++,()=>{gA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gA--}},[])}function TM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xa=function(){return Xa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Xa.apply(this,arguments)};function iG(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Lye(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var v1="right-scroll-bar-position",x1="width-before-scroll-bar",Bye="with-scroll-bars-hidden",Vye="--removed-body-scroll-bar-size";function yA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $ye(t,e){var r=k.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Uye=typeof window<"u"?k.useLayoutEffect:k.useEffect,NM=new WeakMap;function zye(t,e){var r=$ye(null,function(n){return t.forEach(function(i){return yA(i,n)})});return Uye(function(){var n=NM.get(r);if(n){var i=new Set(n),o=new Set(t),a=r.current;i.forEach(function(s){o.has(s)||yA(s,null)}),o.forEach(function(s){i.has(s)||yA(s,a)})}NM.set(r,t)},[t]),r}function Wye(t){return t}function Hye(t,e){e===void 0&&(e=Wye);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(s){return o(s)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(o),a=r}var l=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),r}}}};return i}function qye(t){t===void 0&&(t={});var e=Hye(null);return e.options=Xa({async:!0,ssr:!1},t),e}var oG=function(t){var e=t.sideCar,r=iG(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Xa({},r))};oG.isSideCarExport=!0;function Gye(t,e){return t.useMedium(e),oG}var aG=qye(),vA=function(){},ew=k.forwardRef(function(t,e){var r=k.useRef(null),n=k.useState({onScrollCapture:vA,onWheelCapture:vA,onTouchMoveCapture:vA}),i=n[0],o=n[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,x=t.noIsolation,y=t.inert,b=t.allowPinchZoom,_=t.as,C=_===void 0?"div":_,E=t.gapMode,P=iG(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,T=zye([r,e]),N=Xa(Xa({},P),i);return k.createElement(k.Fragment,null,d&&k.createElement(I,{sideCar:aG,removeScrollBar:c,shards:f,noRelative:g,noIsolation:x,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:E}),a?k.cloneElement(k.Children.only(s),Xa(Xa({},N),{ref:T})):k.createElement(C,Xa({},N,{className:l,ref:T}),s))});ew.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ew.classNames={fullWidth:x1,zeroRight:v1};var Kye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Kye();return e&&t.setAttribute("nonce",e),t}function Xye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Qye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zye=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Yye())&&(Xye(e,r),Qye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Jye=function(){var t=Zye();return function(e,r){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},sG=function(){var t=Jye(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},e0e={left:0,top:0,right:0,gap:0},xA=function(t){return parseInt(t||"",10)||0},t0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xA(r),xA(n),xA(i)]},r0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e0e;var e=t0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},n0e=sG(),Xf="data-scroll-locked",i0e=function(t,e,r,n){var i=t.left,o=t.top,a=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Bye,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Xf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(v1,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(x1,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(v1," .").concat(v1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(x1," .").concat(x1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xf,`] {
    `).concat(Vye,": ").concat(s,`px;
  }
`)},IM=function(){var t=parseInt(document.body.getAttribute(Xf)||"0",10);return isFinite(t)?t:0},o0e=function(){k.useEffect(function(){return document.body.setAttribute(Xf,(IM()+1).toString()),function(){var t=IM()-1;t<=0?document.body.removeAttribute(Xf):document.body.setAttribute(Xf,t.toString())}},[])},a0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;o0e();var o=k.useMemo(function(){return r0e(i)},[i]);return k.createElement(n0e,{styles:i0e(o,!e,i,r?"":"!important")})},ZN=!1;if(typeof window<"u")try{var Nv=Object.defineProperty({},"passive",{get:function(){return ZN=!0,!0}});window.addEventListener("test",Nv,Nv),window.removeEventListener("test",Nv,Nv)}catch{ZN=!1}var df=ZN?{passive:!1}:!1,s0e=function(t){return t.tagName==="TEXTAREA"},lG=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!s0e(t)&&r[e]==="visible")},l0e=function(t){return lG(t,"overflowY")},c0e=function(t){return lG(t,"overflowX")},kM=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=cG(t,n);if(i){var o=uG(t,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},u0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},d0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},cG=function(t,e){return t==="v"?l0e(e):c0e(e)},uG=function(t,e){return t==="v"?u0e(e):d0e(e)},f0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},h0e=function(t,e,r,n,i){var o=f0e(t,window.getComputedStyle(e).direction),a=o*n,s=r.target,l=e.contains(s),c=!1,d=a>0,f=0,p=0;do{if(!s)break;var g=uG(t,s),x=g[0],y=g[1],b=g[2],_=y-b-o*x;(x||_)&&cG(t,s)&&(f+=_,p+=x);var C=s.parentNode;s=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},Iv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PM=function(t){return[t.deltaX,t.deltaY]},OM=function(t){return t&&"current"in t?t.current:t},p0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g0e=0,ff=[];function y0e(t){var e=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),i=k.useState(g0e++)[0],o=k.useState(sG)[0],a=k.useRef(t);k.useEffect(function(){a.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Lye([t.lockRef.current],(t.shards||[]).map(OM),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=k.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var _=Iv(y),C=r.current,E="deltaX"in y?y.deltaX:C[0]-_[0],P="deltaY"in y?y.deltaY:C[1]-_[1],I,T=y.target,N=Math.abs(E)>Math.abs(P)?"h":"v";if("touches"in y&&N==="h"&&T.type==="range")return!1;var S=kM(N,T);if(!S)return!0;if(S?I=N:(I=N==="v"?"h":"v",S=kM(N,T)),!S)return!1;if(!n.current&&"changedTouches"in y&&(E||P)&&(n.current=I),!I)return!0;var j=n.current||I;return h0e(j,b,y,j==="h"?E:P)},[]),l=k.useCallback(function(y){var b=y;if(!(!ff.length||ff[ff.length-1]!==o)){var _="deltaY"in b?PM(b):Iv(b),C=e.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&p0e(I.delta,_)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var E=(a.current.shards||[]).map(OM).filter(Boolean).filter(function(I){return I.contains(b.target)}),P=E.length>0?s(b,E[0]):!a.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),c=k.useCallback(function(y,b,_,C){var E={name:y,delta:b,target:_,should:C,shadowParent:v0e(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(P){return P!==E})},1)},[]),d=k.useCallback(function(y){r.current=Iv(y),n.current=void 0},[]),f=k.useCallback(function(y){c(y.type,PM(y),y.target,s(y,t.lockRef.current))},[]),p=k.useCallback(function(y){c(y.type,Iv(y),y.target,s(y,t.lockRef.current))},[]);k.useEffect(function(){return ff.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,df),document.addEventListener("touchmove",l,df),document.addEventListener("touchstart",d,df),function(){ff=ff.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,df),document.removeEventListener("touchmove",l,df),document.removeEventListener("touchstart",d,df)}},[]);var g=t.removeScrollBar,x=t.inert;return k.createElement(k.Fragment,null,x?k.createElement(o,{styles:m0e(i)}):null,g?k.createElement(a0e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function v0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x0e=Gye(aG,y0e);var Z4=k.forwardRef(function(t,e){return k.createElement(ew,Xa({},t,{ref:e,sideCar:x0e}))});Z4.classNames=ew.classNames;var b0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hf=new WeakMap,kv=new WeakMap,Pv={},bA=0,dG=function(t){return t&&(t.host||dG(t.parentNode))},w0e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=dG(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},_0e=function(t,e,r,n){var i=w0e(e,Array.isArray(t)?t:[t]);Pv[r]||(Pv[r]=new WeakMap);var o=Pv[r],a=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(s.has(p))d(p);else try{var g=p.getAttribute(n),x=g!==null&&g!=="false",y=(hf.get(p)||0)+1,b=(o.get(p)||0)+1;hf.set(p,y),o.set(p,b),a.push(p),y===1&&x&&kv.set(p,!0),b===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),s.clear(),bA++,function(){a.forEach(function(f){var p=hf.get(f)-1,g=o.get(f)-1;hf.set(f,p),o.set(f,g),p||(kv.has(f)||f.removeAttribute(n),kv.delete(f)),g||f.removeAttribute(r)}),bA--,bA||(hf=new WeakMap,hf=new WeakMap,kv=new WeakMap,Pv={})}},fG=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=b0e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),_0e(n,i,r,"aria-hidden")):function(){return null}},tw="Dialog",[hG,pG]=Go(tw),[A0e,Sa]=hG(tw),mG=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=k.useRef(null),l=k.useRef(null),[c,d]=pl({prop:n,defaultProp:i??!1,onChange:o,caller:tw});return u.jsx(A0e,{scope:e,triggerRef:s,contentRef:l,contentId:ss(),titleId:ss(),descriptionId:ss(),open:c,onOpenChange:d,onOpenToggle:k.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};mG.displayName=tw;var gG="DialogTrigger",yG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Sa(gG,r),o=Bt(e,i.triggerRef);return u.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":t3(i.open),...n,ref:o,onClick:pt(t.onClick,i.onOpenToggle)})});yG.displayName=gG;var J4="DialogPortal",[C0e,vG]=hG(J4,{forceMount:void 0}),xG=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,o=Sa(J4,e);return u.jsx(C0e,{scope:e,forceMount:r,children:k.Children.map(n,a=>u.jsx(Bc,{present:r||o.open,children:u.jsx(Jb,{asChild:!0,container:i,children:a})}))})};xG.displayName=J4;var ix="DialogOverlay",bG=k.forwardRef((t,e)=>{const r=vG(ix,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=Sa(ix,t.__scopeDialog);return o.modal?u.jsx(Bc,{present:n||o.open,children:u.jsx(S0e,{...i,ref:e})}):null});bG.displayName=ix;var E0e=xh("DialogOverlay.RemoveScroll"),S0e=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Sa(ix,r);return u.jsx(Z4,{as:E0e,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(wt.div,{"data-state":t3(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ad="DialogContent",wG=k.forwardRef((t,e)=>{const r=vG(ad,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=Sa(ad,t.__scopeDialog);return u.jsx(Bc,{present:n||o.open,children:o.modal?u.jsx(T0e,{...i,ref:e}):u.jsx(N0e,{...i,ref:e})})});wG.displayName=ad;var T0e=k.forwardRef((t,e)=>{const r=Sa(ad,t.__scopeDialog),n=k.useRef(null),i=Bt(e,r.contentRef,n);return k.useEffect(()=>{const o=n.current;if(o)return fG(o)},[]),u.jsx(_G,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,o=>o.preventDefault())})}),N0e=k.forwardRef((t,e)=>{const r=Sa(ad,t.__scopeDialog),n=k.useRef(!1),i=k.useRef(!1);return u.jsx(_G,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;r.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),_G=k.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=Sa(ad,r),l=k.useRef(null),c=Bt(e,l);return nG(),u.jsxs(u.Fragment,{children:[u.jsx(Q4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Zb,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":t3(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(k0e,{titleId:s.titleId}),u.jsx(O0e,{contentRef:l,descriptionId:s.descriptionId})]})]})}),e3="DialogTitle",AG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Sa(e3,r);return u.jsx(wt.h2,{id:i.titleId,...n,ref:e})});AG.displayName=e3;var CG="DialogDescription",EG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Sa(CG,r);return u.jsx(wt.p,{id:i.descriptionId,...n,ref:e})});EG.displayName=CG;var SG="DialogClose",TG=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Sa(SG,r);return u.jsx(wt.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>i.onOpenChange(!1))})});TG.displayName=SG;function t3(t){return t?"open":"closed"}var NG="DialogTitleWarning",[I0e,IG]=oye(NG,{contentName:ad,titleName:e3,docsSlug:"dialog"}),k0e=({titleId:t})=>{const e=IG(NG),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},P0e="DialogDescriptionWarning",O0e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IG(P0e).contentName}}.`;return k.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},r3=mG,j0e=yG,n3=xG,Ly=bG,i3=wG,o3=AG,a3=EG,rw=TG;function kG(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=kG(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Tt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=kG(t))&&(n&&(n+=" "),n+=e);return n}const s3="-",R0e=t=>{const e=M0e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const s=a.split(s3);return s[0]===""&&s.length!==1&&s.shift(),PG(s,e)||D0e(a)},getConflictingClassGroupIds:(a,s)=>{const l=r[a]||[];return s&&n[a]?[...l,...n[a]]:l}}},PG=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?PG(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(s3);return e.validators.find(({validator:a})=>a(o))?.classGroupId},jM=/^\[(.+)\]$/,D0e=t=>{if(jM.test(t)){const e=jM.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},M0e=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)JN(r[i],n,i,e);return n},JN=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:RM(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(F0e(i)){JN(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{JN(a,RM(e,o),r,n)})})},RM=(t,e)=>{let r=t;return e.split(s3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},F0e=t=>t.isThemeGetter,L0e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},eI="!",tI=":",B0e=tI.length,V0e=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const o=[];let a=0,s=0,l=0,c;for(let x=0;x<i.length;x++){let y=i[x];if(a===0&&s===0){if(y===tI){o.push(i.slice(l,x)),l=x+B0e;continue}if(y==="/"){c=x;continue}}y==="["?a++:y==="]"?a--:y==="("?s++:y===")"&&s--}const d=o.length===0?i:i.substring(l),f=$0e(d),p=f!==d,g=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const i=e+tI,o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},$0e=t=>t.endsWith(eI)?t.substring(0,t.length-1):t.startsWith(eI)?t.substring(1):t,U0e=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},z0e=t=>({cache:L0e(t.cacheSize),parseClassName:V0e(t),sortModifiers:U0e(t),...R0e(t)}),W0e=/\s+/,H0e=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],s=t.trim().split(W0e);let l="";for(let c=s.length-1;c>=0;c-=1){const d=s[c],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}=r(d);if(f){l=d+(l.length>0?" "+l:l);continue}let b=!!y,_=n(b?x.substring(0,y):x);if(!_){if(!b){l=d+(l.length>0?" "+l:l);continue}if(_=n(x),!_){l=d+(l.length>0?" "+l:l);continue}b=!1}const C=o(p).join(":"),E=g?C+eI:C,P=E+_;if(a.includes(P))continue;a.push(P);const I=i(_,b);for(let T=0;T<I.length;++T){const N=I[T];a.push(E+N)}l=d+(l.length>0?" "+l:l)}return l};function q0e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=OG(e))&&(n&&(n+=" "),n+=r);return n}const OG=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=OG(t[n]))&&(r&&(r+=" "),r+=e);return r};function G0e(t,...e){let r,n,i,o=a;function a(l){const c=e.reduce((d,f)=>f(d),t());return r=z0e(c),n=r.cache.get,i=r.cache.set,o=s,s(l)}function s(l){const c=n(l);if(c)return c;const d=H0e(l,r);return i(l,d),d}return function(){return o(q0e.apply(null,arguments))}}const dn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},jG=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RG=/^\((?:(\w[\w-]*):)?(.+)\)$/i,K0e=/^\d+\/\d+$/,Y0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Z0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pf=t=>K0e.test(t),kt=t=>!!t&&!Number.isNaN(Number(t)),Jl=t=>!!t&&Number.isInteger(Number(t)),wA=t=>t.endsWith("%")&&kt(t.slice(0,-1)),Us=t=>Y0e.test(t),eve=()=>!0,tve=t=>X0e.test(t)&&!Q0e.test(t),DG=()=>!1,rve=t=>Z0e.test(t),nve=t=>J0e.test(t),ive=t=>!Ye(t)&&!Xe(t),ove=t=>sp(t,LG,DG),Ye=t=>jG.test(t),wu=t=>sp(t,BG,tve),_A=t=>sp(t,uve,kt),DM=t=>sp(t,MG,DG),ave=t=>sp(t,FG,nve),Ov=t=>sp(t,VG,rve),Xe=t=>RG.test(t),mm=t=>lp(t,BG),sve=t=>lp(t,dve),MM=t=>lp(t,MG),lve=t=>lp(t,LG),cve=t=>lp(t,FG),jv=t=>lp(t,VG,!0),sp=(t,e,r)=>{const n=jG.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},lp=(t,e,r=!1)=>{const n=RG.exec(t);return n?n[1]?e(n[1]):r:!1},MG=t=>t==="position"||t==="percentage",FG=t=>t==="image"||t==="url",LG=t=>t==="length"||t==="size"||t==="bg-size",BG=t=>t==="length",uve=t=>t==="number",dve=t=>t==="family-name",VG=t=>t==="shadow",fve=()=>{const t=dn("color"),e=dn("font"),r=dn("text"),n=dn("font-weight"),i=dn("tracking"),o=dn("leading"),a=dn("breakpoint"),s=dn("container"),l=dn("spacing"),c=dn("radius"),d=dn("shadow"),f=dn("inset-shadow"),p=dn("text-shadow"),g=dn("drop-shadow"),x=dn("blur"),y=dn("perspective"),b=dn("aspect"),_=dn("ease"),C=dn("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...P(),Xe,Ye],T=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[Xe,Ye,l],j=()=>[pf,"full","auto",...S()],B=()=>[Jl,"none","subgrid",Xe,Ye],M=()=>["auto",{span:["full",Jl,Xe,Ye]},Jl,Xe,Ye],L=()=>[Jl,"auto",Xe,Ye],F=()=>["auto","min","max","fr",Xe,Ye],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...S()],J=()=>[pf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],H=()=>[t,Xe,Ye],oe=()=>[...P(),MM,DM,{position:[Xe,Ye]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",lve,ove,{size:[Xe,Ye]}],ee=()=>[wA,mm,wu],W=()=>["","none","full",c,Xe,Ye],xe=()=>["",kt,mm,wu],Ne=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[kt,wA,MM,DM],we=()=>["","none",x,Xe,Ye],me=()=>["none",kt,Xe,Ye],re=()=>["none",kt,Xe,Ye],le=()=>[kt,Xe,Ye],G=()=>[pf,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Us],breakpoint:[Us],color:[eve],container:[Us],"drop-shadow":[Us],ease:["in","out","in-out"],font:[ive],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Us],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Us],shadow:[Us],spacing:["px",kt],text:[Us],"text-shadow":[Us],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pf,Ye,Xe,b]}],container:["container"],columns:[{columns:[kt,Ye,Xe,s]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Jl,"auto",Xe,Ye]}],basis:[{basis:[pf,"full","auto",s,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[kt,pf,"auto","initial","none",Ye]}],grow:[{grow:["",kt,Xe,Ye]}],shrink:[{shrink:["",kt,Xe,Ye]}],order:[{order:[Jl,"first","last","none",Xe,Ye]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[s,"screen",...J()]}],"min-w":[{"min-w":[s,"screen","none",...J()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",r,mm,wu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Xe,_A]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wA,Ye]}],"font-family":[{font:[sve,Ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Xe,Ye]}],"line-clamp":[{"line-clamp":[kt,"none",Xe,_A]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",Xe,Ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[kt,"from-font","auto",Xe,wu]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[kt,"auto",Xe,Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jl,Xe,Ye],radial:["",Xe,Ye],conic:[Jl,Xe,Ye]},cve,ave]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[kt,Xe,Ye]}],"outline-w":[{outline:["",kt,mm,wu]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",d,jv,Ov]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",f,jv,Ov]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[kt,wu]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",p,jv,Ov]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[kt,Xe,Ye]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Xe,Ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ye]}],filter:[{filter:["","none",Xe,Ye]}],blur:[{blur:we()}],brightness:[{brightness:[kt,Xe,Ye]}],contrast:[{contrast:[kt,Xe,Ye]}],"drop-shadow":[{"drop-shadow":["","none",g,jv,Ov]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",kt,Xe,Ye]}],"hue-rotate":[{"hue-rotate":[kt,Xe,Ye]}],invert:[{invert:["",kt,Xe,Ye]}],saturate:[{saturate:[kt,Xe,Ye]}],sepia:[{sepia:["",kt,Xe,Ye]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ye]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[kt,Xe,Ye]}],"backdrop-contrast":[{"backdrop-contrast":[kt,Xe,Ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",kt,Xe,Ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[kt,Xe,Ye]}],"backdrop-invert":[{"backdrop-invert":["",kt,Xe,Ye]}],"backdrop-opacity":[{"backdrop-opacity":[kt,Xe,Ye]}],"backdrop-saturate":[{"backdrop-saturate":[kt,Xe,Ye]}],"backdrop-sepia":[{"backdrop-sepia":["",kt,Xe,Ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[kt,"initial",Xe,Ye]}],ease:[{ease:["linear","initial",_,Xe,Ye]}],delay:[{delay:[kt,Xe,Ye]}],animate:[{animate:["none",C,Xe,Ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Xe,Ye]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[Xe,Ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ye]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[kt,mm,wu,_A]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hve=G0e(fve);function Nt(...t){return hve(Tt(t))}function bi({...t}){return u.jsx(r3,{"data-slot":"dialog",...t})}function pve({...t}){return u.jsx(n3,{"data-slot":"dialog-portal",...t})}const $G=k.forwardRef(({className:t,...e},r)=>u.jsx(Ly,{ref:r,"data-slot":"dialog-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));$G.displayName=Ly.displayName;function wi({className:t,children:e,...r}){return u.jsxs(pve,{"data-slot":"dialog-portal",children:[u.jsx($G,{}),u.jsxs(i3,{"data-slot":"dialog-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,u.jsxs(rw,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(Zs,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fo({className:t,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:Nt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function ho({className:t,...e}){return u.jsx(o3,{"data-slot":"dialog-title",className:Nt("text-lg leading-none font-semibold",t),...e})}function Bo({className:t,...e}){return u.jsx(a3,{"data-slot":"dialog-description",className:Nt("text-muted-foreground text-sm",t),...e})}function nw({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:Nt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function mve(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let rI=1;class gve{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,o=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:rI++,a=this.toasts.find(l=>l.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:n}),{...l,...e,id:o,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,a;const s=i.then(async c=>{if(a=["resolve",c],te.isValidElement(c))o=!1,this.create({id:n,type:"default",message:c});else if(vve(c)&&!c.ok){o=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,x=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...x})}else if(c instanceof Error){o=!1;const f=typeof r.error=="function"?await r.error(c):r.error,p=typeof r.description=="function"?await r.description(c):r.description,x=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...x})}else if(r.success!==void 0){o=!1;const f=typeof r.success=="function"?await r.success(c):r.success,p=typeof r.description=="function"?await r.description(c):r.description,x=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...x})}}).catch(async c=>{if(a=["reject",c],r.error!==void 0){o=!1;const d=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description,g=typeof d=="object"&&!te.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...g})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,d)=>s.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=r?.id||rI++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Do=new gve,yve=(t,e)=>{const r=e?.id||rI++;return Do.addToast({title:t,...e,id:r}),r},vve=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xve=yve,bve=()=>Do.toasts,wve=()=>Do.getActiveToasts(),Ue=Object.assign(xve,{success:Do.success,info:Do.info,warning:Do.warning,error:Do.error,custom:Do.custom,message:Do.message,promise:Do.promise,dismiss:Do.dismiss,loading:Do.loading},{getHistory:bve,getToasts:wve});mve("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _ve({onCoachAIClick:t,onViewWorkout:e,workoutData:r}){const[n,i]=k.useState(!1),[o,a]=k.useState(`Push Day - 1h 45m

Bench Press
- Set 1: 135 lbs x 12 reps
- Set 2: 185 lbs x 10 reps
- Set 3: 205 lbs x 8 reps

Triceps Extension
- Set 1: 60 lbs x 15 reps
- Set 2: 70 lbs x 12 reps
- Set 3: 70 lbs x 10 reps

Cardio
- Treadmill: 20 minutes
- Incline: 5%
- Speed: 6.5 mph`);r?.exercises.reduce((x,y)=>x+y.sets,0);const s=r?.exercises.reduce((x,y)=>x+y.volume,0)||0,l=r?.caloriesBurned||0,c=r?.workoutType||"No workout logged",d=r?.duration||0,f=x=>{if(x>=60){const y=Math.floor(x/60),b=x%60;return b>0?`${y}h ${b}m`:`${y}h`}return`${x}m`},p=()=>{Ue.success("Workout saved!")},g=()=>{Ue.success("Sending to Coach AI to estimate calories burned..."),setTimeout(()=>{Ue.success("Estimated 517 calories burned!"),i(!1)},1500)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 transition-colors duration-300",style:{background:"linear-gradient(135deg, var(--farefit-primary) 0%, var(--farefit-primary) 100%)"},children:[u.jsx("h3",{className:"text-white mb-6",children:"Workout Overview"}),r?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Calories Burned"}),u.jsxs("p",{className:"text-white text-3xl",children:[l," kcal"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Workout"}),u.jsx("p",{className:"text-white text-xl",children:c})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Duration"}),u.jsx("p",{className:"text-white text-xl",children:f(d)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white opacity-90 text-sm mb-1",children:"Total Volume"}),u.jsxs("p",{className:"text-white text-xl",children:[s.toLocaleString()," lb"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:e||(()=>i(!0)),className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(4px)"},children:"View Workout"}),u.jsx("button",{onClick:t,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 active:translate-y-0 hover:shadow-md",style:{backgroundColor:"var(--farefit-accent)"},children:"Ask Coach AI"})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-5xl",children:"💪"}),u.jsx("p",{className:"text-white mb-2 text-lg",children:"No workout logged today"}),u.jsx("p",{className:"text-white opacity-70 text-sm mb-6",children:"Get started by logging your first workout"}),u.jsx("button",{onClick:e,className:"px-6 py-3 rounded-md text-white transition-all hover:opacity-90 hover:-translate-y-0.5 active:translate-y-0 bg-white/20 hover:bg-white/30",children:"Log Workout"})]})]}),u.jsx(bi,{open:n,onOpenChange:i,children:u.jsxs(wi,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"var(--farefit-text)"},children:"Workout Editor"}),u.jsx(Bo,{style:{color:"var(--farefit-subtext)"},children:'Edit your workout details below. Click "Log" to send to Coach AI for calorie estimation.'})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{children:u.jsx(nw,{value:o,onChange:x=>a(x.target.value),className:"min-h-[400px] font-mono",style:{borderColor:"var(--farefit-border)"},placeholder:"Enter your workout details..."})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-primary)"},children:"Save"}),u.jsx("button",{onClick:g,className:"px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-accent)"},children:"Log & Estimate Calories"}),u.jsx("button",{onClick:()=>i(!1),className:"px-6 py-3 rounded-md border transition-all hover:opacity-70",style:{borderColor:"var(--farefit-border)",color:"var(--farefit-text)"},children:"Close"})]})]})]})})]})}function Ave({onClick:t}){return u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(wa,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx("h3",{style:{color:"#102A43"},children:"Progress Overview"})]}),u.jsx("p",{className:"text-sm mb-6",style:{color:"#102A43",opacity:.7},children:"Track your weekly stats, streaks, and see how you're improving over time."}),u.jsxs(it.button,{onClick:t,className:"px-6 py-3 rounded-md text-white flex items-center gap-2 shadow-md",style:{backgroundColor:"#1C7C54"},whileHover:{y:-2,boxShadow:"0 10px 25px rgba(28, 124, 84, 0.3)"},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:[u.jsx("span",{children:"View Progress"}),u.jsx(ure,{className:"w-4 h-4"})]})]})}function Cve({onClick:t,userGoal:e,planSummary:r}){const n=s=>s==="cut"?"Cutting":s==="bulk"?"Bulking":"Maintaining",i=r||e,o=r?.goalType||e?.goalType,a=r?.targetCalories||e?.targetCalories;return u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm cursor-pointer hover:shadow-md transition-all group",onClick:t,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Yh,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx(S1,{className:"w-5 h-5 transition-transform group-hover:translate-x-1",style:{color:"#1C7C54",opacity:.5}})]}),i?u.jsxs(u.Fragment,{children:[u.jsx("h4",{className:"mb-1",style:{color:"#102A43"},children:"Current Goal"}),u.jsx("div",{className:"mb-3",children:u.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mb-2",style:{backgroundColor:"#1C7C5415",color:"#1C7C54"},children:n(o||"maintain")})}),u.jsx("div",{className:"text-sm space-y-1",children:u.jsxs("p",{style:{color:"#102A43",opacity:.7},children:["Target: ",a?.toLocaleString()," kcal/day"]})})]}):u.jsx(u.Fragment,{children:u.jsx("h4",{className:"mb-2",style:{color:"#102A43"},children:"Set Your Fitness Goal"})}),!i&&u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43",opacity:.7},children:"Set your goal to start tracking calories and get personalized recommendations."})]})}function Eve({onGoalSetupClick:t,onCoachAIClick:e,onFoodAssistantClick:r,userGoal:n,planSummary:i}){const o=[{icon:ol,title:"Food Assistant",description:"Get meal suggestions based on your macro goals",color:"#1C7C54",onClick:r||(()=>{}),comingSoon:!1},{icon:IU,title:"Coach AI",description:"Get personalized workout advice and form checks from your AI coach",color:"#FFB6B9",onClick:e||(()=>{}),comingSoon:!1}];return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.map((a,s)=>u.jsxs("div",{onClick:a.onClick,className:"bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col hover:-translate-y-1 active:translate-y-0",children:[u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:a.color+"20"},children:u.jsx(a.icon,{className:"w-6 h-6",style:{color:a.color}})})}),u.jsx("h4",{className:"mb-2",style:{color:"#102A43"},children:a.title}),u.jsx("p",{className:"text-sm mb-4 flex-1",style:{color:"#102A43",opacity:.7},children:a.description}),u.jsx("button",{className:"text-sm px-4 py-2 rounded-md transition-all hover:shadow-sm hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"#1C7C54",color:"white"},children:"Start Chat →"})]},s)),u.jsx(Cve,{onClick:t,userGoal:n,planSummary:i})]})}var AA,FM;function zi(){if(FM)return AA;FM=1;var t=Array.isArray;return AA=t,AA}var CA,LM;function UG(){if(LM)return CA;LM=1;var t=typeof hv=="object"&&hv&&hv.Object===Object&&hv;return CA=t,CA}var EA,BM;function ws(){if(BM)return EA;BM=1;var t=UG(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return EA=r,EA}var SA,VM;function By(){if(VM)return SA;VM=1;var t=ws(),e=t.Symbol;return SA=e,SA}var TA,$M;function Sve(){if($M)return TA;$M=1;var t=By(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(a){var s=r.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=n.call(a);return c&&(s?a[i]=l:delete a[i]),d}return TA=o,TA}var NA,UM;function Tve(){if(UM)return NA;UM=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return NA=r,NA}var IA,zM;function _l(){if(zM)return IA;zM=1;var t=By(),e=Sve(),r=Tve(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(s){return s==null?s===void 0?i:n:o&&o in Object(s)?e(s):r(s)}return IA=a,IA}var kA,WM;function Al(){if(WM)return kA;WM=1;function t(e){return e!=null&&typeof e=="object"}return kA=t,kA}var PA,HM;function cp(){if(HM)return PA;HM=1;var t=_l(),e=Al(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return PA=n,PA}var OA,qM;function l3(){if(qM)return OA;qM=1;var t=zi(),e=cp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){if(t(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||a!=null&&o in Object(a)}return OA=i,OA}var jA,GM;function Vc(){if(GM)return jA;GM=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return jA=t,jA}var RA,KM;function c3(){if(KM)return RA;KM=1;var t=_l(),e=Vc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==o}return RA=a,RA}var DA,YM;function Nve(){if(YM)return DA;YM=1;var t=ws(),e=t["__core-js_shared__"];return DA=e,DA}var MA,XM;function Ive(){if(XM)return MA;XM=1;var t=Nve(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return MA=r,MA}var FA,QM;function zG(){if(QM)return FA;QM=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return FA=r,FA}var LA,ZM;function kve(){if(ZM)return LA;ZM=1;var t=c3(),e=Ive(),r=Vc(),n=zG(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var g=t(p)?d:o;return g.test(n(p))}return LA=f,LA}var BA,JM;function Pve(){if(JM)return BA;JM=1;function t(e,r){return e?.[r]}return BA=t,BA}var VA,e8;function _d(){if(e8)return VA;e8=1;var t=kve(),e=Pve();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return VA=r,VA}var $A,t8;function iw(){if(t8)return $A;t8=1;var t=_d(),e=t(Object,"create");return $A=e,$A}var UA,r8;function Ove(){if(r8)return UA;r8=1;var t=iw();function e(){this.__data__=t?t(null):{},this.size=0}return UA=e,UA}var zA,n8;function jve(){if(n8)return zA;n8=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return zA=t,zA}var WA,i8;function Rve(){if(i8)return WA;i8=1;var t=iw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var a=this.__data__;if(t){var s=a[o];return s===e?void 0:s}return n.call(a,o)?a[o]:void 0}return WA=i,WA}var HA,o8;function Dve(){if(o8)return HA;o8=1;var t=iw(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return HA=n,HA}var qA,a8;function Mve(){if(a8)return qA;a8=1;var t=iw(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return qA=r,qA}var GA,s8;function Fve(){if(s8)return GA;s8=1;var t=Ove(),e=jve(),r=Rve(),n=Dve(),i=Mve();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,GA=o,GA}var KA,l8;function Lve(){if(l8)return KA;l8=1;function t(){this.__data__=[],this.size=0}return KA=t,KA}var YA,c8;function u3(){if(c8)return YA;c8=1;function t(e,r){return e===r||e!==e&&r!==r}return YA=t,YA}var XA,u8;function ow(){if(u8)return XA;u8=1;var t=u3();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return XA=e,XA}var QA,d8;function Bve(){if(d8)return QA;d8=1;var t=ow(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():r.call(o,a,1),--this.size,!0}return QA=n,QA}var ZA,f8;function Vve(){if(f8)return ZA;f8=1;var t=ow();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return ZA=e,ZA}var JA,h8;function $ve(){if(h8)return JA;h8=1;var t=ow();function e(r){return t(this.__data__,r)>-1}return JA=e,JA}var eC,p8;function Uve(){if(p8)return eC;p8=1;var t=ow();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return eC=e,eC}var tC,m8;function aw(){if(m8)return tC;m8=1;var t=Lve(),e=Bve(),r=Vve(),n=$ve(),i=Uve();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,tC=o,tC}var rC,g8;function d3(){if(g8)return rC;g8=1;var t=_d(),e=ws(),r=t(e,"Map");return rC=r,rC}var nC,y8;function zve(){if(y8)return nC;y8=1;var t=Fve(),e=aw(),r=d3();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return nC=n,nC}var iC,v8;function Wve(){if(v8)return iC;v8=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return iC=t,iC}var oC,x8;function sw(){if(x8)return oC;x8=1;var t=Wve();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return oC=e,oC}var aC,b8;function Hve(){if(b8)return aC;b8=1;var t=sw();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return aC=e,aC}var sC,w8;function qve(){if(w8)return sC;w8=1;var t=sw();function e(r){return t(this,r).get(r)}return sC=e,sC}var lC,_8;function Gve(){if(_8)return lC;_8=1;var t=sw();function e(r){return t(this,r).has(r)}return lC=e,lC}var cC,A8;function Kve(){if(A8)return cC;A8=1;var t=sw();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return cC=e,cC}var uC,C8;function f3(){if(C8)return uC;C8=1;var t=zve(),e=Hve(),r=qve(),n=Gve(),i=Kve();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,uC=o,uC}var dC,E8;function WG(){if(E8)return dC;E8=1;var t=f3(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=n.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(r.Cache||t),o}return r.Cache=t,dC=r,dC}var fC,S8;function Yve(){if(S8)return fC;S8=1;var t=WG(),e=500;function r(n){var i=t(n,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return fC=r,fC}var hC,T8;function Xve(){if(T8)return hC;T8=1;var t=Yve(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,s,l,c){o.push(l?c.replace(r,"$1"):s||a)}),o});return hC=n,hC}var pC,N8;function h3(){if(N8)return pC;N8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return pC=t,pC}var mC,I8;function Qve(){if(I8)return mC;I8=1;var t=By(),e=h3(),r=zi(),n=cp(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(r(s))return e(s,a)+"";if(n(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return mC=a,mC}var gC,k8;function HG(){if(k8)return gC;k8=1;var t=Qve();function e(r){return r==null?"":t(r)}return gC=e,gC}var yC,P8;function qG(){if(P8)return yC;P8=1;var t=zi(),e=l3(),r=Xve(),n=HG();function i(o,a){return t(o)?o:e(o,a)?[o]:r(n(o))}return yC=i,yC}var vC,O8;function lw(){if(O8)return vC;O8=1;var t=cp();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return vC=e,vC}var xC,j8;function p3(){if(j8)return xC;j8=1;var t=qG(),e=lw();function r(n,i){i=t(i,n);for(var o=0,a=i.length;n!=null&&o<a;)n=n[e(i[o++])];return o&&o==a?n:void 0}return xC=r,xC}var bC,R8;function GG(){if(R8)return bC;R8=1;var t=p3();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return bC=e,bC}var Zve=GG();const go=Yt(Zve);var wC,D8;function Jve(){if(D8)return wC;D8=1;function t(e){return e==null}return wC=t,wC}var e1e=Jve();const Et=Yt(e1e);var _C,M8;function t1e(){if(M8)return _C;M8=1;var t=_l(),e=zi(),r=Al(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return _C=i,_C}var r1e=t1e();const sd=Yt(r1e);var n1e=c3();const xt=Yt(n1e);var i1e=Vc();const up=Yt(i1e);var AC={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F8;function o1e(){if(F8)return tr;F8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var _=b.$$typeof;switch(_){case t:switch(b=b.type,b){case r:case i:case n:case c:case d:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case l:case p:case f:case o:return b;default:return _}}case e:return _}}}return tr.ContextConsumer=a,tr.ContextProvider=o,tr.Element=t,tr.ForwardRef=l,tr.Fragment=r,tr.Lazy=p,tr.Memo=f,tr.Portal=e,tr.Profiler=i,tr.StrictMode=n,tr.Suspense=c,tr.SuspenseList=d,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(b){return y(b)===a},tr.isContextProvider=function(b){return y(b)===o},tr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},tr.isForwardRef=function(b){return y(b)===l},tr.isFragment=function(b){return y(b)===r},tr.isLazy=function(b){return y(b)===p},tr.isMemo=function(b){return y(b)===f},tr.isPortal=function(b){return y(b)===e},tr.isProfiler=function(b){return y(b)===i},tr.isStrictMode=function(b){return y(b)===n},tr.isSuspense=function(b){return y(b)===c},tr.isSuspenseList=function(b){return y(b)===d},tr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===c||b===d||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===f||b.$$typeof===o||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},tr.typeOf=y,tr}var L8;function a1e(){return L8||(L8=1,AC.exports=o1e()),AC.exports}var s1e=a1e(),CC,B8;function KG(){if(B8)return CC;B8=1;var t=_l(),e=Al(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return CC=n,CC}var EC,V8;function l1e(){if(V8)return EC;V8=1;var t=KG();function e(r){return t(r)&&r!=+r}return EC=e,EC}var c1e=l1e();const Vy=Yt(c1e);var u1e=KG();const d1e=Yt(u1e);var _i=function(e){return e===0?0:e>0?1:-1},Lu=function(e){return sd(e)&&e.indexOf("%")===e.length-1},Re=function(e){return d1e(e)&&!Vy(e)},f1e=function(e){return Et(e)},bn=function(e){return Re(e)||sd(e)},h1e=0,dp=function(e){var r=++h1e;return"".concat(e||"").concat(r)},Ai=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&!sd(e))return n;var o;if(Lu(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return Vy(o)&&(o=n),i&&o>r&&(o=r),o},dc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},p1e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ao=function(e,r){return Re(e)&&Re(r)?function(n){return e+n*(r-e)}:function(){return r}};function ox(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):go(n,e))===r})}var m1e=function(e,r){return Re(e)&&Re(r)?e-r:sd(e)&&sd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Qf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function nI(t){"@babel/helpers - typeof";return nI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nI(t)}var g1e=["viewBox","children"],y1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$8=["points","pathLength"],SC={svg:g1e,polygon:$8,polyline:$8},m3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ax=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),!up(n))return null;var i={};return Object.keys(n).forEach(function(o){m3.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},v1e=function(e,r,n){return function(i){return e(r,n,i),null}},ld=function(e,r,n){if(!up(e)||nI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];m3.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=v1e(a,r,n))}),i},x1e=["children"],b1e=["children"];function U8(t,e){if(t==null)return{};var r=w1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iI(t){"@babel/helpers - typeof";return iI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iI(t)}var z8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},rl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},W8=null,TC=null,g3=function t(e){if(e===W8&&Array.isArray(TC))return TC;var r=[];return k.Children.forEach(e,function(n){Et(n)||(s1e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),TC=r,W8=e,r};function yo(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return rl(i)}):n=[rl(e)],g3(t).forEach(function(i){var o=go(i,"type.displayName")||go(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function oo(t,e){var r=yo(t,e);return r&&r[0]}var H8=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Re(n)||n<=0||!Re(i)||i<=0)},_1e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],A1e=function(e){return e&&e.type&&sd(e.type)&&_1e.indexOf(e.type)>=0},C1e=function(e){return e&&iI(e)==="object"&&"clipDot"in e},E1e=function(e,r,n,i){var o,a=(o=SC?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!xt(e)&&(i&&a.includes(r)||y1e.includes(r))||n&&m3.includes(r)},ct=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!up(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;E1e((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},oI=function t(e,r){if(e===r)return!0;var n=k.Children.count(e);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return q8(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!q8(o,a))return!1}return!0},q8=function(e,r){if(Et(e)&&Et(r))return!0;if(!Et(e)&&!Et(r)){var n=e.props||{},i=n.children,o=U8(n,x1e),a=r.props||{},s=a.children,l=U8(a,b1e);return i&&s?Qf(o,l)&&oI(i,s):!i&&!s?Qf(o,l):!1}return!1},G8=function(e,r){var n=[],i={};return g3(e).forEach(function(o,a){if(A1e(o))n.push(o);else if(o){var s=rl(o.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(o,s,a);n.push(f),i[s]=!0}}}),n},S1e=function(e){var r=e&&e.type;return r&&z8[r]?z8[r]:null},T1e=function(e,r){return g3(r).indexOf(e)},N1e=["children","width","height","viewBox","className","style","title","desc"];function aI(){return aI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aI.apply(this,arguments)}function I1e(t,e){if(t==null)return{};var r=k1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sI(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=I1e(t,N1e),d=i||{width:r,height:n,x:0,y:0},f=Tt("recharts-surface",o);return te.createElement("svg",aI({},ct(c,!0,"svg"),{className:f,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),te.createElement("title",null,s),te.createElement("desc",null,l),e)}var P1e=["children","className"];function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lI.apply(this,arguments)}function O1e(t,e){if(t==null)return{};var r=j1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gt=te.forwardRef(function(t,e){var r=t.children,n=t.className,i=O1e(t,P1e),o=Tt("recharts-layer",n);return te.createElement("g",lI({className:o},ct(i,!0),{ref:e}),r)}),ba=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},NC,K8;function R1e(){if(K8)return NC;K8=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+r];return a}return NC=t,NC}var IC,Y8;function D1e(){if(Y8)return IC;Y8=1;var t=R1e();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return IC=e,IC}var kC,X8;function YG(){if(X8)return kC;X8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+t+i+o+"]");function l(c){return s.test(c)}return kC=l,kC}var PC,Q8;function M1e(){if(Q8)return PC;Q8=1;function t(e){return e.split("")}return PC=t,PC}var OC,Z8;function F1e(){if(Z8)return OC;Z8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=c+"?",y="["+o+"]?",b="(?:"+g+"(?:"+[d,f,p].join("|")+")"+y+x+")*",_=y+x+b,C="(?:"+[d+s+"?",s,f,p,a].join("|")+")",E=RegExp(l+"(?="+l+")|"+C+_,"g");function P(I){return I.match(E)||[]}return OC=P,OC}var jC,J8;function L1e(){if(J8)return jC;J8=1;var t=M1e(),e=YG(),r=F1e();function n(i){return e(i)?r(i):t(i)}return jC=n,jC}var RC,eF;function B1e(){if(eF)return RC;eF=1;var t=D1e(),e=YG(),r=L1e(),n=HG();function i(o){return function(a){a=n(a);var s=e(a)?r(a):void 0,l=s?s[0]:a.charAt(0),c=s?t(s,1).join(""):a.slice(1);return l[o]()+c}}return RC=i,RC}var DC,tF;function V1e(){if(tF)return DC;tF=1;var t=B1e(),e=t("toUpperCase");return DC=e,DC}var $1e=V1e();const cw=Yt($1e);function vr(t){return function(){return t}}const XG=Math.cos,sx=Math.sin,Ta=Math.sqrt,lx=Math.PI,uw=2*lx,cI=Math.PI,uI=2*cI,Iu=1e-6,U1e=uI-Iu;function QG(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function z1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QG;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class W1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QG:z1e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,c=i-r,d=a-e,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Iu)if(!(Math.abs(f*l-c*d)>Iu)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,x=i-s,y=l*l+c*c,b=g*g+x*x,_=Math.sqrt(y),C=Math.sqrt(p),E=o*Math.tan((cI-Math.acos((y+p-b)/(2*_*C)))/2),P=E/C,I=E/_;Math.abs(P-1)>Iu&&this._append`L${e+P*d},${r+P*f}`,this._append`A${o},${o},0,0,${+(f*g>d*x)},${this._x1=e+I*l},${this._y1=r+I*c}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,d=r+l,f=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Iu||Math.abs(this._y1-d)>Iu)&&this._append`L${c},${d}`,n&&(p<0&&(p=p%uI+uI),p>U1e?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:p>Iu&&this._append`A${n},${n},0,${+(p>=cI)},${f},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function y3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new W1e(e)}function v3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZG(t){this._context=t}ZG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dw(t){return new ZG(t)}function JG(t){return t[0]}function eK(t){return t[1]}function tK(t,e){var r=vr(!0),n=null,i=dw,o=null,a=y3(s);t=typeof t=="function"?t:t===void 0?JG:vr(t),e=typeof e=="function"?e:e===void 0?eK:vr(e);function s(l){var c,d=(l=v3(l)).length,f,p=!1,g;for(n==null&&(o=i(g=a())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(f,c,l),+e(f,c,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:vr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:vr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:vr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function Rv(t,e,r){var n=null,i=vr(!0),o=null,a=dw,s=null,l=y3(c);t=typeof t=="function"?t:t===void 0?JG:vr(+t),e=typeof e=="function"?e:vr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?eK:vr(+r);function c(f){var p,g,x,y=(f=v3(f)).length,b,_=!1,C,E=new Array(y),P=new Array(y);for(o==null&&(s=a(C=l())),p=0;p<=y;++p){if(!(p<y&&i(b=f[p],p,f))===_)if(_=!_)g=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=p-1;x>=g;--x)s.point(E[x],P[x]);s.lineEnd(),s.areaEnd()}_&&(E[p]=+t(b,p,f),P[p]=+e(b,p,f),s.point(n?+n(b,p,f):E[p],r?+r(b,p,f):P[p]))}if(C)return s=null,C+""||null}function d(){return tK().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vr(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:vr(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class rK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function H1e(t){return new rK(t,!0)}function q1e(t){return new rK(t,!1)}const x3={draw(t,e){const r=Ta(e/lx);t.moveTo(r,0),t.arc(0,0,r,0,uw)}},G1e={draw(t,e){const r=Ta(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},nK=Ta(1/3),K1e=nK*2,Y1e={draw(t,e){const r=Ta(e/K1e),n=r*nK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},X1e={draw(t,e){const r=Ta(e),n=-r/2;t.rect(n,n,r,r)}},Q1e=.8908130915292852,iK=sx(lx/10)/sx(7*lx/10),Z1e=sx(uw/10)*iK,J1e=-XG(uw/10)*iK,exe={draw(t,e){const r=Ta(e*Q1e),n=Z1e*r,i=J1e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=uw*o/5,s=XG(a),l=sx(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},MC=Ta(3),txe={draw(t,e){const r=-Ta(e/(MC*3));t.moveTo(0,r*2),t.lineTo(-MC*r,-r),t.lineTo(MC*r,-r),t.closePath()}},ko=-.5,Po=Ta(3)/2,dI=1/Ta(12),rxe=(dI/2+1)*3,nxe={draw(t,e){const r=Ta(e/rxe),n=r/2,i=r*dI,o=n,a=r*dI+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ko*n-Po*i,Po*n+ko*i),t.lineTo(ko*o-Po*a,Po*o+ko*a),t.lineTo(ko*s-Po*l,Po*s+ko*l),t.lineTo(ko*n+Po*i,ko*i-Po*n),t.lineTo(ko*o+Po*a,ko*a-Po*o),t.lineTo(ko*s+Po*l,ko*l-Po*s),t.closePath()}};function ixe(t,e){let r=null,n=y3(i);t=typeof t=="function"?t:vr(t||x3),e=typeof e=="function"?e:vr(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:vr(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:vr(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function cx(){}function ux(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function oK(t){this._context=t}oK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ux(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ux(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oxe(t){return new oK(t)}function aK(t){this._context=t}aK.prototype={areaStart:cx,areaEnd:cx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ux(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function axe(t){return new aK(t)}function sK(t){this._context=t}sK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ux(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sxe(t){return new sK(t)}function lK(t){this._context=t}lK.prototype={areaStart:cx,areaEnd:cx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lxe(t){return new lK(t)}function rF(t){return t<0?-1:1}function nF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(rF(o)+rF(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function iF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function FC(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function dx(t){this._context=t}dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FC(this,this._t0,iF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,FC(this,iF(this,r=nF(this,t,e)),r);break;default:FC(this,this._t0,r=nF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function cK(t){this._context=new uK(t)}(cK.prototype=Object.create(dx.prototype)).point=function(t,e){dx.prototype.point.call(this,e,t)};function uK(t){this._context=t}uK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function cxe(t){return new dx(t)}function uxe(t){return new cK(t)}function dK(t){this._context=t}dK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=oF(t),i=oF(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oF(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function dxe(t){return new dK(t)}function fw(t,e){this._context=t,this._t=e}fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function fxe(t){return new fw(t,.5)}function hxe(t){return new fw(t,0)}function pxe(t){return new fw(t,1)}function bh(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function fI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function mxe(t,e){return t[e]}function gxe(t){const e=[];return e.key=t,e}function yxe(){var t=vr([]),e=fI,r=bh,n=mxe;function i(o){var a=Array.from(t.apply(this,arguments),gxe),s,l=a.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(f,a[s].key,c,o)]).data=f;for(s=0,d=v3(e(a));s<l;++s)a[d[s]].index=s;return r(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:vr(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:vr(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?fI:typeof o=="function"?o:vr(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??bh,i):r},i}function vxe(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}bh(t,e)}}function xxe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}bh(t,e)}}function bxe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var d=t[e[s]],f=d[n][1]||0,p=d[n-1][1]||0,g=(f-p)/2,x=0;x<s;++x){var y=t[e[x]],b=y[n][1]||0,_=y[n-1][1]||0;g+=b-_}l+=f,c+=g*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,bh(t,e)}}function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}var wxe=["type","size","sizeType"];function hI(){return hI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hI.apply(this,arguments)}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){_xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _xe(t,e,r){return e=Axe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Axe(t){var e=Cxe(t,"string");return Pg(e)=="symbol"?e:e+""}function Cxe(t,e){if(Pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Exe(t,e){if(t==null)return{};var r=Sxe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fK={symbolCircle:x3,symbolCross:G1e,symbolDiamond:Y1e,symbolSquare:X1e,symbolStar:exe,symbolTriangle:txe,symbolWye:nxe},Txe=Math.PI/180,Nxe=function(e){var r="symbol".concat(cw(e));return fK[r]||x3},Ixe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Txe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kxe=function(e,r){fK["symbol".concat(cw(e))]=r},b3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Exe(e,wxe),c=sF(sF({},l),{},{type:n,size:o,sizeType:s}),d=function(){var b=Nxe(n),_=ixe().type(b).size(Ixe(o,s,n));return _()},f=c.className,p=c.cx,g=c.cy,x=ct(c,!0);return p===+p&&g===+g&&o===+o?te.createElement("path",hI({},x,{className:Tt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(g,")"),d:d()})):null};b3.registerSymbol=kxe;function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function pI(){return pI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pI.apply(this,arguments)}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){Og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pK(n.key),n)}}function Rxe(t,e,r){return e&&jxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dxe(t,e,r){return e=fx(e),Mxe(t,hK()?Reflect.construct(e,r||[],fx(t).constructor):e.apply(t,r))}function Mxe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fxe(t)}function Fxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(t)}function Lxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mI(t,e)}function mI(t,e){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mI(t,e)}function Og(t,e,r){return e=pK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pK(t){var e=Bxe(t,"string");return wh(e)=="symbol"?e:e+""}function Bxe(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oo=32,w3=(function(t){function e(){return Oxe(this,e),Dxe(this,e,arguments)}return Lxe(e,t),Rxe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Oo/2,a=Oo/6,s=Oo/3,l=n.inactive?i:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Oo,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Oo,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Oo/8,"h").concat(Oo,"v").concat(Oo*3/4,"h").concat(-Oo,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var c=Pxe({},n);return delete c.legendIcon,te.cloneElement(n.legendIcon,c)}return te.createElement(b3,{fill:l,cx:o,cy:o,size:Oo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Oo,height:Oo},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,x){var y=g.formatter||l,b=Tt(Og(Og({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var _=xt(g.value)?null:g.value;ba(!xt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=g.inactive?c:g.color;return te.createElement("li",pI({className:b,style:f,key:"legend-item-".concat(x)},ld(n.props,g,x)),te.createElement(sI,{width:a,height:a,viewBox:d,style:p},n.renderIcon(g)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(_,g,x):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(k.PureComponent);Og(w3,"displayName","Legend");Og(w3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LC,cF;function Vxe(){if(cF)return LC;cF=1;var t=aw();function e(){this.__data__=new t,this.size=0}return LC=e,LC}var BC,uF;function $xe(){if(uF)return BC;uF=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return BC=t,BC}var VC,dF;function Uxe(){if(dF)return VC;dF=1;function t(e){return this.__data__.get(e)}return VC=t,VC}var $C,fF;function zxe(){if(fF)return $C;fF=1;function t(e){return this.__data__.has(e)}return $C=t,$C}var UC,hF;function Wxe(){if(hF)return UC;hF=1;var t=aw(),e=d3(),r=f3(),n=200;function i(o,a){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(o,a),this.size=s.size,this}return UC=i,UC}var zC,pF;function mK(){if(pF)return zC;pF=1;var t=aw(),e=Vxe(),r=$xe(),n=Uxe(),i=zxe(),o=Wxe();function a(s){var l=this.__data__=new t(s);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=o,zC=a,zC}var WC,mF;function Hxe(){if(mF)return WC;mF=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return WC=e,WC}var HC,gF;function qxe(){if(gF)return HC;gF=1;function t(e){return this.__data__.has(e)}return HC=t,HC}var qC,yF;function gK(){if(yF)return qC;yF=1;var t=f3(),e=Hxe(),r=qxe();function n(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,qC=n,qC}var GC,vF;function yK(){if(vF)return GC;vF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return GC=t,GC}var KC,xF;function vK(){if(xF)return KC;xF=1;function t(e,r){return e.has(r)}return KC=t,KC}var YC,bF;function xK(){if(bF)return YC;bF=1;var t=gK(),e=yK(),r=vK(),n=1,i=2;function o(a,s,l,c,d,f){var p=l&n,g=a.length,x=s.length;if(g!=x&&!(p&&x>g))return!1;var y=f.get(a),b=f.get(s);if(y&&b)return y==s&&b==a;var _=-1,C=!0,E=l&i?new t:void 0;for(f.set(a,s),f.set(s,a);++_<g;){var P=a[_],I=s[_];if(c)var T=p?c(I,P,_,s,a,f):c(P,I,_,a,s,f);if(T!==void 0){if(T)continue;C=!1;break}if(E){if(!e(s,function(N,S){if(!r(E,S)&&(P===N||d(P,N,l,c,f)))return E.push(S)})){C=!1;break}}else if(!(P===I||d(P,I,l,c,f))){C=!1;break}}return f.delete(a),f.delete(s),C}return YC=o,YC}var XC,wF;function Gxe(){if(wF)return XC;wF=1;var t=ws(),e=t.Uint8Array;return XC=e,XC}var QC,_F;function Kxe(){if(_F)return QC;_F=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return QC=t,QC}var ZC,AF;function _3(){if(AF)return ZC;AF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ZC=t,ZC}var JC,CF;function Yxe(){if(CF)return JC;CF=1;var t=By(),e=Gxe(),r=u3(),n=xK(),i=Kxe(),o=_3(),a=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",g="[object RegExp]",x="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",C="[object DataView]",E=t?t.prototype:void 0,P=E?E.valueOf:void 0;function I(T,N,S,j,B,M,L){switch(S){case C:if(T.byteLength!=N.byteLength||T.byteOffset!=N.byteOffset)return!1;T=T.buffer,N=N.buffer;case _:return!(T.byteLength!=N.byteLength||!M(new e(T),new e(N)));case l:case c:case p:return r(+T,+N);case d:return T.name==N.name&&T.message==N.message;case g:case y:return T==N+"";case f:var F=i;case x:var $=j&a;if(F||(F=o),T.size!=N.size&&!$)return!1;var q=L.get(T);if(q)return q==N;j|=s,L.set(T,N);var X=n(F(T),F(N),j,B,M,L);return L.delete(T),X;case b:if(P)return P.call(T)==P.call(N)}return!1}return JC=I,JC}var eE,EF;function bK(){if(EF)return eE;EF=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return eE=t,eE}var tE,SF;function Xxe(){if(SF)return tE;SF=1;var t=bK(),e=zi();function r(n,i,o){var a=i(n);return e(n)?a:t(a,o(n))}return tE=r,tE}var rE,TF;function Qxe(){if(TF)return rE;TF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,a=[];++n<i;){var s=e[n];r(s,n,e)&&(a[o++]=s)}return a}return rE=t,rE}var nE,NF;function Zxe(){if(NF)return nE;NF=1;function t(){return[]}return nE=t,nE}var iE,IF;function Jxe(){if(IF)return iE;IF=1;var t=Qxe(),e=Zxe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(s){return n.call(a,s)}))}:e;return iE=o,iE}var oE,kF;function ebe(){if(kF)return oE;kF=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return oE=t,oE}var aE,PF;function tbe(){if(PF)return aE;PF=1;var t=_l(),e=Al(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return aE=n,aE}var sE,OF;function A3(){if(OF)return sE;OF=1;var t=tbe(),e=Al(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return sE=o,sE}var Vm={exports:{}},lE,jF;function rbe(){if(jF)return lE;jF=1;function t(){return!1}return lE=t,lE}Vm.exports;var RF;function wK(){return RF||(RF=1,(function(t,e){var r=ws(),n=rbe(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Vm,Vm.exports)),Vm.exports}var cE,DF;function C3(){if(DF)return cE;DF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return cE=r,cE}var uE,MF;function E3(){if(MF)return uE;MF=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return uE=e,uE}var dE,FF;function nbe(){if(FF)return dE;FF=1;var t=_l(),e=E3(),r=Al(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",g="[object Set]",x="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",N="[object Uint8Array]",S="[object Uint8ClampedArray]",j="[object Uint16Array]",B="[object Uint32Array]",M={};M[C]=M[E]=M[P]=M[I]=M[T]=M[N]=M[S]=M[j]=M[B]=!0,M[n]=M[i]=M[b]=M[o]=M[_]=M[a]=M[s]=M[l]=M[c]=M[d]=M[f]=M[p]=M[g]=M[x]=M[y]=!1;function L(F){return r(F)&&e(F.length)&&!!M[t(F)]}return dE=L,dE}var fE,LF;function _K(){if(LF)return fE;LF=1;function t(e){return function(r){return e(r)}}return fE=t,fE}var $m={exports:{}};$m.exports;var BF;function ibe(){return BF||(BF=1,(function(t,e){var r=UG(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=s})($m,$m.exports)),$m.exports}var hE,VF;function AK(){if(VF)return hE;VF=1;var t=nbe(),e=_K(),r=ibe(),n=r&&r.isTypedArray,i=n?e(n):t;return hE=i,hE}var pE,$F;function obe(){if($F)return pE;$F=1;var t=ebe(),e=A3(),r=zi(),n=wK(),i=C3(),o=AK(),a=Object.prototype,s=a.hasOwnProperty;function l(c,d){var f=r(c),p=!f&&e(c),g=!f&&!p&&n(c),x=!f&&!p&&!g&&o(c),y=f||p||g||x,b=y?t(c.length,String):[],_=b.length;for(var C in c)(d||s.call(c,C))&&!(y&&(C=="length"||g&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,_)))&&b.push(C);return b}return pE=l,pE}var mE,UF;function abe(){if(UF)return mE;UF=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return mE=e,mE}var gE,zF;function CK(){if(zF)return gE;zF=1;function t(e,r){return function(n){return e(r(n))}}return gE=t,gE}var yE,WF;function sbe(){if(WF)return yE;WF=1;var t=CK(),e=t(Object.keys,Object);return yE=e,yE}var vE,HF;function lbe(){if(HF)return vE;HF=1;var t=abe(),e=sbe(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var s in Object(o))n.call(o,s)&&s!="constructor"&&a.push(s);return a}return vE=i,vE}var xE,qF;function $y(){if(qF)return xE;qF=1;var t=c3(),e=E3();function r(n){return n!=null&&e(n.length)&&!t(n)}return xE=r,xE}var bE,GF;function hw(){if(GF)return bE;GF=1;var t=obe(),e=lbe(),r=$y();function n(i){return r(i)?t(i):e(i)}return bE=n,bE}var wE,KF;function cbe(){if(KF)return wE;KF=1;var t=Xxe(),e=Jxe(),r=hw();function n(i){return t(i,r,e)}return wE=n,wE}var _E,YF;function ube(){if(YF)return _E;YF=1;var t=cbe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,a,s,l,c,d){var f=s&e,p=t(o),g=p.length,x=t(a),y=x.length;if(g!=y&&!f)return!1;for(var b=g;b--;){var _=p[b];if(!(f?_ in a:n.call(a,_)))return!1}var C=d.get(o),E=d.get(a);if(C&&E)return C==a&&E==o;var P=!0;d.set(o,a),d.set(a,o);for(var I=f;++b<g;){_=p[b];var T=o[_],N=a[_];if(l)var S=f?l(N,T,_,a,o,d):l(T,N,_,o,a,d);if(!(S===void 0?T===N||c(T,N,s,l,d):S)){P=!1;break}I||(I=_=="constructor")}if(P&&!I){var j=o.constructor,B=a.constructor;j!=B&&"constructor"in o&&"constructor"in a&&!(typeof j=="function"&&j instanceof j&&typeof B=="function"&&B instanceof B)&&(P=!1)}return d.delete(o),d.delete(a),P}return _E=i,_E}var AE,XF;function dbe(){if(XF)return AE;XF=1;var t=_d(),e=ws(),r=t(e,"DataView");return AE=r,AE}var CE,QF;function fbe(){if(QF)return CE;QF=1;var t=_d(),e=ws(),r=t(e,"Promise");return CE=r,CE}var EE,ZF;function EK(){if(ZF)return EE;ZF=1;var t=_d(),e=ws(),r=t(e,"Set");return EE=r,EE}var SE,JF;function hbe(){if(JF)return SE;JF=1;var t=_d(),e=ws(),r=t(e,"WeakMap");return SE=r,SE}var TE,eL;function pbe(){if(eL)return TE;eL=1;var t=dbe(),e=d3(),r=fbe(),n=EK(),i=hbe(),o=_l(),a=zG(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=a(t),x=a(e),y=a(r),b=a(n),_=a(i),C=o;return(t&&C(new t(new ArrayBuffer(1)))!=p||e&&C(new e)!=s||r&&C(r.resolve())!=c||n&&C(new n)!=d||i&&C(new i)!=f)&&(C=function(E){var P=o(E),I=P==l?E.constructor:void 0,T=I?a(I):"";if(T)switch(T){case g:return p;case x:return s;case y:return c;case b:return d;case _:return f}return P}),TE=C,TE}var NE,tL;function mbe(){if(tL)return NE;tL=1;var t=mK(),e=xK(),r=Yxe(),n=ube(),i=pbe(),o=zi(),a=wK(),s=AK(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function x(y,b,_,C,E,P){var I=o(y),T=o(b),N=I?d:i(y),S=T?d:i(b);N=N==c?f:N,S=S==c?f:S;var j=N==f,B=S==f,M=N==S;if(M&&a(y)){if(!a(b))return!1;I=!0,j=!1}if(M&&!j)return P||(P=new t),I||s(y)?e(y,b,_,C,E,P):r(y,b,N,_,C,E,P);if(!(_&l)){var L=j&&g.call(y,"__wrapped__"),F=B&&g.call(b,"__wrapped__");if(L||F){var $=L?y.value():y,q=F?b.value():b;return P||(P=new t),E($,q,_,C,P)}}return M?(P||(P=new t),n(y,b,_,C,E,P)):!1}return NE=x,NE}var IE,rL;function S3(){if(rL)return IE;rL=1;var t=mbe(),e=Al();function r(n,i,o,a,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,a,r,s)}return IE=r,IE}var kE,nL;function gbe(){if(nL)return kE;nL=1;var t=mK(),e=S3(),r=1,n=2;function i(o,a,s,l){var c=s.length,d=c,f=!l;if(o==null)return!d;for(o=Object(o);c--;){var p=s[c];if(f&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++c<d;){p=s[c];var g=p[0],x=o[g],y=p[1];if(f&&p[2]){if(x===void 0&&!(g in o))return!1}else{var b=new t;if(l)var _=l(x,y,g,o,a,b);if(!(_===void 0?e(y,x,r|n,l,b):_))return!1}}return!0}return kE=i,kE}var PE,iL;function SK(){if(iL)return PE;iL=1;var t=Vc();function e(r){return r===r&&!t(r)}return PE=e,PE}var OE,oL;function ybe(){if(oL)return OE;oL=1;var t=SK(),e=hw();function r(n){for(var i=e(n),o=i.length;o--;){var a=i[o],s=n[a];i[o]=[a,s,t(s)]}return i}return OE=r,OE}var jE,aL;function TK(){if(aL)return jE;aL=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return jE=t,jE}var RE,sL;function vbe(){if(sL)return RE;sL=1;var t=gbe(),e=ybe(),r=TK();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return RE=n,RE}var DE,lL;function xbe(){if(lL)return DE;lL=1;function t(e,r){return e!=null&&r in Object(e)}return DE=t,DE}var ME,cL;function bbe(){if(cL)return ME;cL=1;var t=qG(),e=A3(),r=zi(),n=C3(),i=E3(),o=lw();function a(s,l,c){l=t(l,s);for(var d=-1,f=l.length,p=!1;++d<f;){var g=o(l[d]);if(!(p=s!=null&&c(s,g)))break;s=s[g]}return p||++d!=f?p:(f=s==null?0:s.length,!!f&&i(f)&&n(g,f)&&(r(s)||e(s)))}return ME=a,ME}var FE,uL;function wbe(){if(uL)return FE;uL=1;var t=xbe(),e=bbe();function r(n,i){return n!=null&&e(n,i,t)}return FE=r,FE}var LE,dL;function _be(){if(dL)return LE;dL=1;var t=S3(),e=GG(),r=wbe(),n=l3(),i=SK(),o=TK(),a=lw(),s=1,l=2;function c(d,f){return n(d)&&i(f)?o(a(d),f):function(p){var g=e(p,d);return g===void 0&&g===f?r(p,d):t(f,g,s|l)}}return LE=c,LE}var BE,fL;function fp(){if(fL)return BE;fL=1;function t(e){return e}return BE=t,BE}var VE,hL;function Abe(){if(hL)return VE;hL=1;function t(e){return function(r){return r?.[e]}}return VE=t,VE}var $E,pL;function Cbe(){if(pL)return $E;pL=1;var t=p3();function e(r){return function(n){return t(n,r)}}return $E=e,$E}var UE,mL;function Ebe(){if(mL)return UE;mL=1;var t=Abe(),e=Cbe(),r=l3(),n=lw();function i(o){return r(o)?t(n(o)):e(o)}return UE=i,UE}var zE,gL;function _s(){if(gL)return zE;gL=1;var t=vbe(),e=_be(),r=fp(),n=zi(),i=Ebe();function o(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return zE=o,zE}var WE,yL;function NK(){if(yL)return WE;yL=1;function t(e,r,n,i){for(var o=e.length,a=n+(i?1:-1);i?a--:++a<o;)if(r(e[a],a,e))return a;return-1}return WE=t,WE}var HE,vL;function Sbe(){if(vL)return HE;vL=1;function t(e){return e!==e}return HE=t,HE}var qE,xL;function Tbe(){if(xL)return qE;xL=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return qE=t,qE}var GE,bL;function Nbe(){if(bL)return GE;bL=1;var t=NK(),e=Sbe(),r=Tbe();function n(i,o,a){return o===o?r(i,o,a):t(i,e,a)}return GE=n,GE}var KE,wL;function Ibe(){if(wL)return KE;wL=1;var t=Nbe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return KE=e,KE}var YE,_L;function kbe(){if(_L)return YE;_L=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return YE=t,YE}var XE,AL;function Pbe(){if(AL)return XE;AL=1;function t(){}return XE=t,XE}var QE,CL;function Obe(){if(CL)return QE;CL=1;var t=EK(),e=Pbe(),r=_3(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return QE=i,QE}var ZE,EL;function jbe(){if(EL)return ZE;EL=1;var t=gK(),e=Ibe(),r=kbe(),n=vK(),i=Obe(),o=_3(),a=200;function s(l,c,d){var f=-1,p=e,g=l.length,x=!0,y=[],b=y;if(d)x=!1,p=r;else if(g>=a){var _=c?null:i(l);if(_)return o(_);x=!1,p=n,b=new t}else b=c?[]:y;e:for(;++f<g;){var C=l[f],E=c?c(C):C;if(C=d||C!==0?C:0,x&&E===E){for(var P=b.length;P--;)if(b[P]===E)continue e;c&&b.push(E),y.push(C)}else p(b,E,d)||(b!==y&&b.push(E),y.push(C))}return y}return ZE=s,ZE}var JE,SL;function Rbe(){if(SL)return JE;SL=1;var t=_s(),e=jbe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return JE=r,JE}var Dbe=Rbe();const TL=Yt(Dbe);function IK(t,e,r){return e===!0?TL(t,r):xt(e)?TL(t,e):t}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var Mbe=["ref"];function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){pw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PK(n.key),n)}}function Lbe(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bbe(t,e,r){return e=hx(e),Vbe(t,kK()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function Vbe(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $be(t)}function $be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function Ube(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gI(t,e)}function gI(t,e){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gI(t,e)}function pw(t,e,r){return e=PK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PK(t){var e=zbe(t,"string");return _h(e)=="symbol"?e:e+""}function zbe(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wbe(t,e){if(t==null)return{};var r=Hbe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qbe(t){return t.value}function Gbe(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var r=Wbe(e,Mbe);return te.createElement(w3,r)}var kL=1,xc=(function(t){function e(){var r;Fbe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Bbe(this,e,[].concat(i)),pw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ube(e,t),Lbe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kL||Math.abs(i.height-this.lastBoundingBox.height)>kL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((c||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();p={top:((d||0)-x.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return zs(zs({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=zs(zs({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return te.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},Gbe(o,zs(zs({},this.props),{},{payload:IK(d,c,qbe)})))}}],[{key:"getWithHeight",value:function(n,i){var o=zs(zs({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&Re(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(k.PureComponent);pw(xc,"displayName","Legend");pw(xc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eS,PL;function Kbe(){if(PL)return eS;PL=1;var t=By(),e=A3(),r=zi(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return eS=i,eS}var tS,OL;function OK(){if(OL)return tS;OL=1;var t=bK(),e=Kbe();function r(n,i,o,a,s){var l=-1,c=n.length;for(o||(o=e),s||(s=[]);++l<c;){var d=n[l];i>0&&o(d)?i>1?r(d,i-1,o,a,s):t(s,d):a||(s[s.length]=d)}return s}return tS=r,tS}var rS,jL;function Ybe(){if(jL)return rS;jL=1;function t(e){return function(r,n,i){for(var o=-1,a=Object(r),s=i(r),l=s.length;l--;){var c=s[e?l:++o];if(n(a[c],c,a)===!1)break}return r}}return rS=t,rS}var nS,RL;function Xbe(){if(RL)return nS;RL=1;var t=Ybe(),e=t();return nS=e,nS}var iS,DL;function jK(){if(DL)return iS;DL=1;var t=Xbe(),e=hw();function r(n,i){return n&&t(n,i,e)}return iS=r,iS}var oS,ML;function Qbe(){if(ML)return oS;ML=1;var t=$y();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var a=i.length,s=n?a:-1,l=Object(i);(n?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return oS=e,oS}var aS,FL;function T3(){if(FL)return aS;FL=1;var t=jK(),e=Qbe(),r=e(t);return aS=r,aS}var sS,LL;function RK(){if(LL)return sS;LL=1;var t=T3(),e=$y();function r(n,i){var o=-1,a=e(n)?Array(n.length):[];return t(n,function(s,l,c){a[++o]=i(s,l,c)}),a}return sS=r,sS}var lS,BL;function Zbe(){if(BL)return lS;BL=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return lS=t,lS}var cS,VL;function Jbe(){if(VL)return cS;VL=1;var t=cp();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,a=r===r,s=t(r),l=n!==void 0,c=n===null,d=n===n,f=t(n);if(!c&&!f&&!s&&r>n||s&&l&&d&&!c&&!f||o&&l&&d||!i&&d||!a)return 1;if(!o&&!s&&!f&&r<n||f&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!d)return-1}return 0}return cS=e,cS}var uS,$L;function ewe(){if($L)return uS;$L=1;var t=Jbe();function e(r,n,i){for(var o=-1,a=r.criteria,s=n.criteria,l=a.length,c=i.length;++o<l;){var d=t(a[o],s[o]);if(d){if(o>=c)return d;var f=i[o];return d*(f=="desc"?-1:1)}}return r.index-n.index}return uS=e,uS}var dS,UL;function twe(){if(UL)return dS;UL=1;var t=h3(),e=p3(),r=_s(),n=RK(),i=Zbe(),o=_K(),a=ewe(),s=fp(),l=zi();function c(d,f,p){f.length?f=t(f,function(y){return l(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):f=[s];var g=-1;f=t(f,o(r));var x=n(d,function(y,b,_){var C=t(f,function(E){return E(y)});return{criteria:C,index:++g,value:y}});return i(x,function(y,b){return a(y,b,p)})}return dS=c,dS}var fS,zL;function rwe(){if(zL)return fS;zL=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return fS=t,fS}var hS,WL;function nwe(){if(WL)return hS;WL=1;var t=rwe(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,s=-1,l=e(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(c),t(n,this,d)}}return hS=r,hS}var pS,HL;function iwe(){if(HL)return pS;HL=1;function t(e){return function(){return e}}return pS=t,pS}var mS,qL;function DK(){if(qL)return mS;qL=1;var t=_d(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return mS=e,mS}var gS,GL;function owe(){if(GL)return gS;GL=1;var t=iwe(),e=DK(),r=fp(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return gS=n,gS}var yS,KL;function awe(){if(KL)return yS;KL=1;var t=800,e=16,r=Date.now;function n(i){var o=0,a=0;return function(){var s=r(),l=e-(s-a);if(a=s,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return yS=n,yS}var vS,YL;function swe(){if(YL)return vS;YL=1;var t=owe(),e=awe(),r=e(t);return vS=r,vS}var xS,XL;function lwe(){if(XL)return xS;XL=1;var t=fp(),e=nwe(),r=swe();function n(i,o){return r(e(i,o,t),i+"")}return xS=n,xS}var bS,QL;function mw(){if(QL)return bS;QL=1;var t=u3(),e=$y(),r=C3(),n=Vc();function i(o,a,s){if(!n(s))return!1;var l=typeof a;return(l=="number"?e(s)&&r(a,s.length):l=="string"&&a in s)?t(s[a],o):!1}return bS=i,bS}var wS,ZL;function cwe(){if(ZL)return wS;ZL=1;var t=OK(),e=twe(),r=lwe(),n=mw(),i=r(function(o,a){if(o==null)return[];var s=a.length;return s>1&&n(o,a[0],a[1])?a=[]:s>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return wS=i,wS}var uwe=cwe();const N3=Yt(uwe);function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function yI(){return yI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yI.apply(this,arguments)}function dwe(t,e){return mwe(t)||pwe(t,e)||hwe(t,e)||fwe()}function fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hwe(t,e){if(t){if(typeof t=="string")return JL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function mwe(t){if(Array.isArray(t))return t}function e7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(r),!0).forEach(function(n){gwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gwe(t,e,r){return e=ywe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ywe(t){var e=vwe(t,"string");return jg(e)=="symbol"?e:e+""}function vwe(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xwe(t){return Array.isArray(t)&&bn(t[0])&&bn(t[1])?t.join(" ~ "):t}var bwe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,p=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,y=e.label,b=e.labelFormatter,_=e.accessibilityLayer,C=_===void 0?!1:_,E=function(){if(d&&d.length){var L={padding:0,margin:0},F=(p?N3(d,p):d).map(function($,q){if($.type==="none")return null;var X=_S({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),J=$.formatter||f||xwe,H=$.value,oe=$.name,z=H,Q=oe;if(J&&z!=null&&Q!=null){var ee=J(H,oe,$,q,d);if(Array.isArray(ee)){var W=dwe(ee,2);z=W[0],Q=W[1]}else z=ee}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:X},bn(Q)?te.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,bn(Q)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},z),te.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:L},F)}return null},P=_S({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=_S({margin:0},c),T=!Et(y),N=T?y:"",S=Tt("recharts-default-tooltip",g),j=Tt("recharts-tooltip-label",x);T&&b&&d!==void 0&&d!==null&&(N=b(y,d));var B=C?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",yI({className:S,style:P},B),te.createElement("p",{className:j,style:I},te.isValidElement(N)?N:"".concat(N)),E())};function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function Dv(t,e,r){return e=wwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wwe(t){var e=_we(t,"string");return Rg(e)=="symbol"?e:e+""}function _we(t,e){if(Rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gm="recharts-tooltip-wrapper",Awe={visibility:"hidden"};function Cwe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Tt(gm,Dv(Dv(Dv(Dv({},"".concat(gm,"-right"),Re(r)&&e&&Re(e.x)&&r>=e.x),"".concat(gm,"-left"),Re(r)&&e&&Re(e.x)&&r<e.x),"".concat(gm,"-bottom"),Re(n)&&e&&Re(e.y)&&n>=e.y),"".concat(gm,"-top"),Re(n)&&e&&Re(e.y)&&n<e.y))}function t7(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Re(o[n]))return o[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return a[n]?d:f;if(a[n]){var p=d,g=l[n];return p<g?Math.max(f,l[n]):Math.max(d,l[n])}var x=f+s,y=l[n]+c;return x>y?Math.max(d,l[n]):Math.max(f,l[n])}function Ewe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Swe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&r?(d=t7({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=t7({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Ewe({translateX:d,translateY:f,useTranslate3d:s})):c=Awe,{cssProperties:c,cssClasses:Cwe({translateX:d,translateY:f,coordinate:r})}}function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function r7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(r),!0).forEach(function(n){xI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FK(n.key),n)}}function Iwe(t,e,r){return e&&Nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kwe(t,e,r){return e=px(e),Pwe(t,MK()?Reflect.construct(e,r||[],px(t).constructor):e.apply(t,r))}function Pwe(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owe(t)}function Owe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(t)}function jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vI(t,e)}function vI(t,e){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vI(t,e)}function xI(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=Rwe(t,"string");return Ah(e)=="symbol"?e:e+""}function Rwe(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i7=1,Dwe=(function(t){function e(){var r;Twe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=kwe(this,e,[].concat(i)),xI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xI(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return jwe(e,t),Iwe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>i7||Math.abs(n.height-this.state.lastBoundingBox.height)>i7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,g=i.offset,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,E=Swe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),P=E.cssClasses,I=E.cssProperties,T=n7(n7({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},C);return te.createElement("div",{tabIndex:-1,className:P,style:T,ref:function(S){n.wrapperNode=S}},c)}}])})(k.PureComponent),Mwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ad={isSsr:Mwe()};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function o7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(r),!0).forEach(function(n){I3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BK(n.key),n)}}function Bwe(t,e,r){return e&&Lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vwe(t,e,r){return e=mx(e),$we(t,LK()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function $we(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uwe(t)}function Uwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bI(t,e)}function bI(t,e){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bI(t,e)}function I3(t,e,r){return e=BK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BK(t){var e=Wwe(t,"string");return Ch(e)=="symbol"?e:e+""}function Wwe(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hwe(t){return t.dataKey}function qwe(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement(bwe,e)}var vi=(function(t){function e(){return Fwe(this,e),Vwe(this,e,arguments)}return zwe(e,t),Bwe(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,p=i.isAnimationActive,g=i.offset,x=i.payload,y=i.payloadUniqBy,b=i.position,_=i.reverseDirection,C=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,I=x??[];f&&I.length&&(I=IK(x.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),y,Hwe));var T=I.length>0;return te.createElement(Dwe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:d,hasPayload:T,offset:g,position:b,reverseDirection:_,useTranslate3d:C,viewBox:E,wrapperStyle:P},qwe(c,a7(a7({},this.props),{},{payload:I})))}}])})(k.PureComponent);I3(vi,"displayName","Tooltip");I3(vi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ad.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var AS,s7;function Gwe(){if(s7)return AS;s7=1;var t=ws(),e=function(){return t.Date.now()};return AS=e,AS}var CS,l7;function Kwe(){if(l7)return CS;l7=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return CS=e,CS}var ES,c7;function Ywe(){if(c7)return ES;c7=1;var t=Kwe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ES=r,ES}var SS,u7;function VK(){if(u7)return SS;u7=1;var t=Ywe(),e=Vc(),r=cp(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?n:+c}return SS=l,SS}var TS,d7;function Xwe(){if(d7)return TS;d7=1;var t=Vc(),e=Gwe(),r=VK(),n="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var d,f,p,g,x,y,b=0,_=!1,C=!1,E=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(c)&&(_=!!c.leading,C="maxWait"in c,p=C?i(r(c.maxWait)||0,l):p,E="trailing"in c?!!c.trailing:E);function P(F){var $=d,q=f;return d=f=void 0,b=F,g=s.apply(q,$),g}function I(F){return b=F,x=setTimeout(S,l),_?P(F):g}function T(F){var $=F-y,q=F-b,X=l-$;return C?o(X,p-q):X}function N(F){var $=F-y,q=F-b;return y===void 0||$>=l||$<0||C&&q>=p}function S(){var F=e();if(N(F))return j(F);x=setTimeout(S,T(F))}function j(F){return x=void 0,E&&d?P(F):(d=f=void 0,g)}function B(){x!==void 0&&clearTimeout(x),b=0,d=y=f=x=void 0}function M(){return x===void 0?g:j(e())}function L(){var F=e(),$=N(F);if(d=arguments,f=this,y=F,$){if(x===void 0)return I(y);if(C)return clearTimeout(x),x=setTimeout(S,l),P(y)}return x===void 0&&(x=setTimeout(S,l)),g}return L.cancel=B,L.flush=M,L}return TS=a,TS}var NS,f7;function Qwe(){if(f7)return NS;f7=1;var t=Xwe(),e=Vc(),r="Expected a function";function n(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),t(i,o,{leading:s,maxWait:o,trailing:l})}return NS=n,NS}var Zwe=Qwe();const $K=Yt(Zwe);function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function h7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(r),!0).forEach(function(n){Jwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jwe(t,e,r){return e=e2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e2e(t){var e=t2e(t,"string");return Dg(e)=="symbol"?e:e+""}function t2e(t,e){if(Dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r2e(t,e){return a2e(t)||o2e(t,e)||i2e(t,e)||n2e()}function n2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2e(t,e){if(t){if(typeof t=="string")return p7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p7(t,e)}}function p7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function a2e(t){if(Array.isArray(t))return t}var Eh=k.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,g=t.children,x=t.debounce,y=x===void 0?0:x,b=t.id,_=t.className,C=t.onResize,E=t.style,P=E===void 0?{}:E,I=k.useRef(null),T=k.useRef();T.current=C,k.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var N=k.useState({containerWidth:i.width,containerHeight:i.height}),S=r2e(N,2),j=S[0],B=S[1],M=k.useCallback(function(F,$){B(function(q){var X=Math.round(F),J=Math.round($);return q.containerWidth===X&&q.containerHeight===J?q:{containerWidth:X,containerHeight:J}})},[]);k.useEffect(function(){var F=function(oe){var z,Q=oe[0].contentRect,ee=Q.width,W=Q.height;M(ee,W),(z=T.current)===null||z===void 0||z.call(T,ee,W)};y>0&&(F=$K(F,y,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),q=I.current.getBoundingClientRect(),X=q.width,J=q.height;return M(X,J),$.observe(I.current),function(){$.disconnect()}},[M,y]);var L=k.useMemo(function(){var F=j.containerWidth,$=j.containerHeight;if(F<0||$<0)return null;ba(Lu(a)||Lu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ba(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Lu(a)?F:a,X=Lu(l)?$:l;r&&r>0&&(q?X=q/r:X&&(q=X*r),p&&X>p&&(X=p)),ba(q>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,X,a,l,d,f,r);var J=!Array.isArray(g)&&rl(g.type).endsWith("Chart");return te.Children.map(g,function(H){return te.isValidElement(H)?k.cloneElement(H,Mv({width:q,height:X},J?{style:Mv({height:"100%",width:"100%",maxHeight:X,maxWidth:q},H.props.style)}:{})):H})},[r,g,l,p,f,d,j,a]);return te.createElement("div",{id:b?"".concat(b):void 0,className:Tt("recharts-responsive-container",_),style:Mv(Mv({},P),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:p}),ref:I},L)}),gw=function(e){return null};gw.displayName="Cell";function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function m7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(r),!0).forEach(function(n){s2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s2e(t,e,r){return e=l2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l2e(t){var e=c2e(t,"string");return Mg(e)=="symbol"?e:e+""}function c2e(t,e){if(Mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mf={widthCache:{},cacheCount:0},u2e=2e3,d2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},g7="recharts_measurement_span";function f2e(t){var e=wI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ag=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ad.isSsr)return{width:0,height:0};var n=f2e(r),i=JSON.stringify({text:e,copyStyle:n});if(mf.widthCache[i])return mf.widthCache[i];try{var o=document.getElementById(g7);o||(o=document.createElement("span"),o.setAttribute("id",g7),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=wI(wI({},d2e),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return mf.widthCache[i]=l,++mf.cacheCount>u2e&&(mf.cacheCount=0,mf.widthCache={}),l}catch{return{width:0,height:0}}},h2e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function gx(t,e){return y2e(t)||g2e(t,e)||m2e(t,e)||p2e()}function p2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(t,e){if(t){if(typeof t=="string")return y7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y7(t,e)}}function y7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function y2e(t){if(Array.isArray(t))return t}function v2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b2e(n.key),n)}}function x2e(t,e,r){return e&&v7(t.prototype,e),r&&v7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b2e(t){var e=w2e(t,"string");return Fg(e)=="symbol"?e:e+""}function w2e(t,e){if(Fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},C2e=Object.keys(UK),Mf="NaN";function E2e(t,e){return t*UK[e]}var Fv=(function(){function t(e,r){v2e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_2e.test(r)&&(this.num=NaN,this.unit=""),C2e.includes(r)&&(this.num=E2e(e,r),this.unit="px")}return x2e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=A2e.exec(r))!==null&&n!==void 0?n:[],o=gx(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])})();function zK(t){if(t.includes(Mf))return Mf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=x7.exec(e))!==null&&r!==void 0?r:[],i=gx(n,4),o=i[1],a=i[2],s=i[3],l=Fv.parse(o??""),c=Fv.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Mf;e=e.replace(x7,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=b7.exec(e))!==null&&f!==void 0?f:[],g=gx(p,4),x=g[1],y=g[2],b=g[3],_=Fv.parse(x??""),C=Fv.parse(b??""),E=y==="+"?_.add(C):_.subtract(C);if(E.isNaN())return Mf;e=e.replace(b7,E.toString())}return e}var w7=/\(([^()]*)\)/;function S2e(t){for(var e=t;e.includes("(");){var r=w7.exec(e),n=gx(r,2),i=n[1];e=e.replace(w7,zK(i))}return e}function T2e(t){var e=t.replace(/\s+/g,"");return e=S2e(e),e=zK(e),e}function N2e(t){try{return T2e(t)}catch{return Mf}}function IS(t){var e=N2e(t.slice(5,-1));return e===Mf?"":e}var I2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],k2e=["dx","dy","angle","className","breakAll"];function _I(){return _I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_I.apply(this,arguments)}function _7(t,e){if(t==null)return{};var r=P2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A7(t,e){return D2e(t)||R2e(t,e)||j2e(t,e)||O2e()}function O2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2e(t,e){if(t){if(typeof t=="string")return C7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C7(t,e)}}function C7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function D2e(t){if(Array.isArray(t))return t}var WK=/[ \f\n\r\t\v\u2028\u2029]+/,HK=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Et(r)||(n?o=r.toString().split(""):o=r.toString().split(WK));var a=o.map(function(l){return{word:l,width:ag(l,i).width}}),s=n?0:ag(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},M2e=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=Re(a),f=s,p=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(X,J){var H=J.word,oe=J.width,z=X[X.length-1];if(z&&(i==null||o||z.width+oe+n<Number(i)))z.words.push(H),z.width+=oe+n;else{var Q={words:[H],width:oe};X.push(Q)}return X},[])},g=p(r),x=function(q){return q.reduce(function(X,J){return X.width>J.width?X:J})};if(!d)return g;for(var y="…",b=function(q){var X=f.slice(0,q),J=HK({breakAll:c,style:l,children:X+y}).wordsWithComputedWidth,H=p(J),oe=H.length>a||x(H).width>Number(i);return[oe,H]},_=0,C=f.length-1,E=0,P;_<=C&&E<=f.length-1;){var I=Math.floor((_+C)/2),T=I-1,N=b(T),S=A7(N,2),j=S[0],B=S[1],M=b(I),L=A7(M,1),F=L[0];if(!j&&!F&&(_=I+1),j&&F&&(C=I-1),!j&&F){P=B;break}E++}return P||g},E7=function(e){var r=Et(e)?[]:e.toString().split(WK);return[{words:r}]},F2e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!Ad.isSsr){var l,c,d=HK({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;l=f,c=p}else return E7(i);return M2e({breakAll:a,children:i,maxLines:s,style:o},l,c,r,n)}return E7(i)},S7="#808080",cd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,g=p===void 0?"start":p,x=e.verticalAnchor,y=x===void 0?"end":x,b=e.fill,_=b===void 0?S7:b,C=_7(e,I2e),E=k.useMemo(function(){return F2e({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:f,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,f,C.style,C.width]),P=C.dx,I=C.dy,T=C.angle,N=C.className,S=C.breakAll,j=_7(C,k2e);if(!bn(n)||!bn(o))return null;var B=n+(Re(P)?P:0),M=o+(Re(I)?I:0),L;switch(y){case"start":L=IS("calc(".concat(c,")"));break;case"middle":L=IS("calc(".concat((E.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:L=IS("calc(".concat(E.length-1," * -").concat(s,")"));break}var F=[];if(f){var $=E[0].width,q=C.width;F.push("scale(".concat((Re(q)?q/$:1)/$,")"))}return T&&F.push("rotate(".concat(T,", ").concat(B,", ").concat(M,")")),F.length&&(j.transform=F.join(" ")),te.createElement("text",_I({},ct(j,!0),{x:B,y:M,className:Tt("recharts-text",N),textAnchor:g,fill:_.includes("url")?S7:_}),E.map(function(X,J){var H=X.words.join(S?"":" ");return te.createElement("tspan",{x:B,dy:J===0?L:s,key:"".concat(H,"-").concat(J)},H)}))};function bc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function L2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k3(t){let e,r,n;t.length!==2?(e=bc,r=(s,l)=>bc(t(s),l),n=(s,l)=>t(s)-l):(e=t===bc||t===L2e?t:B2e,r=t,n=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function B2e(){return 0}function qK(t){return t===null?NaN:+t}function*V2e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $2e=k3(bc),Uy=$2e.right;k3(qK).center;class T7 extends Map{constructor(e,r=W2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(N7(this,e))}has(e){return super.has(N7(this,e))}set(e,r){return super.set(U2e(this,e),r)}delete(e){return super.delete(z2e(this,e))}}function N7({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function U2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function z2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function W2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function H2e(t=bc){if(t===bc)return GK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function GK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const q2e=Math.sqrt(50),G2e=Math.sqrt(10),K2e=Math.sqrt(2);function yx(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=q2e?10:o>=G2e?5:o>=K2e?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?yx(t,e,r*2):[s,l,c]}function AI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?yx(e,t,r):yx(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function CI(t,e,r){return e=+e,t=+t,r=+r,yx(t,e,r)[2]}function EI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?CI(e,t,r):CI(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function I7(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function k7(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KK(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?GK:H2e(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(r,Math.floor(e-c*f/l+p)),x=Math.min(n,Math.floor(e+(l-c)*f/l+p));KK(t,e,g,x,i)}const o=t[e];let a=r,s=n;for(ym(t,r,e),i(t[n],o)>0&&ym(t,r,n);a<s;){for(ym(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?ym(t,r,s):(++s,ym(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function ym(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Y2e(t,e,r){if(t=Float64Array.from(V2e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return k7(t);if(e>=1)return I7(t);var n,i=(n-1)*e,o=Math.floor(i),a=I7(KK(t,o).subarray(0,o+1)),s=k7(t.subarray(o+1));return a+(s-a)*(i-o)}}function X2e(t,e,r=qK){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Q2e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Ko(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SI=Symbol("implicit");function P3(){var t=new T7,e=[],r=[],n=SI;function i(o){let a=t.get(o);if(a===void 0){if(n!==SI)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new T7;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return P3(e,r).unknown(n)},Ko.apply(i,arguments),i}function Lg(){var t=P3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var p=e().length,g=i<n,x=g?i:n,y=g?n:i;o=(y-x)/Math.max(1,p-l+c*2),s&&(o=Math.floor(o)),x+=(y-x-o*(p-l))*d,a=o*(1-l),s&&(x=Math.round(x),a=Math.round(a));var b=Q2e(p).map(function(_){return x+o*_});return r(g?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Lg(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Ko.apply(f(),arguments)}function YK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YK(e())},t}function sg(){return YK(Lg.apply(null,arguments).paddingInner(1))}function O3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function XK(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function zy(){}var Bg=.7,vx=1/Bg,Zf="\\s*([+-]?\\d+)\\s*",Vg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z2e=/^#([0-9a-f]{3,8})$/,J2e=new RegExp(`^rgb\\(${Zf},${Zf},${Zf}\\)$`),e_e=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),t_e=new RegExp(`^rgba\\(${Zf},${Zf},${Zf},${Vg}\\)$`),r_e=new RegExp(`^rgba\\(${ls},${ls},${ls},${Vg}\\)$`),n_e=new RegExp(`^hsl\\(${Vg},${ls},${ls}\\)$`),i_e=new RegExp(`^hsla\\(${Vg},${ls},${ls},${Vg}\\)$`),P7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O3(zy,$g,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:O7,formatHex:O7,formatHex8:o_e,formatHsl:a_e,formatRgb:j7,toString:j7});function O7(){return this.rgb().formatHex()}function o_e(){return this.rgb().formatHex8()}function a_e(){return QK(this).formatHsl()}function j7(){return this.rgb().formatRgb()}function $g(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Z2e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?R7(e):r===3?new Vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Lv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Lv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J2e.exec(t))?new Vi(e[1],e[2],e[3],1):(e=e_e.exec(t))?new Vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=t_e.exec(t))?Lv(e[1],e[2],e[3],e[4]):(e=r_e.exec(t))?Lv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=n_e.exec(t))?F7(e[1],e[2]/100,e[3]/100,1):(e=i_e.exec(t))?F7(e[1],e[2]/100,e[3]/100,e[4]):P7.hasOwnProperty(t)?R7(P7[t]):t==="transparent"?new Vi(NaN,NaN,NaN,0):null}function R7(t){return new Vi(t>>16&255,t>>8&255,t&255,1)}function Lv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Vi(t,e,r,n)}function s_e(t){return t instanceof zy||(t=$g(t)),t?(t=t.rgb(),new Vi(t.r,t.g,t.b,t.opacity)):new Vi}function TI(t,e,r,n){return arguments.length===1?s_e(t):new Vi(t,e,r,n??1)}function Vi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}O3(Vi,TI,XK(zy,{brighter(t){return t=t==null?vx:Math.pow(vx,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bg:Math.pow(Bg,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vi(Gu(this.r),Gu(this.g),Gu(this.b),xx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D7,formatHex:D7,formatHex8:l_e,formatRgb:M7,toString:M7}));function D7(){return`#${Bu(this.r)}${Bu(this.g)}${Bu(this.b)}`}function l_e(){return`#${Bu(this.r)}${Bu(this.g)}${Bu(this.b)}${Bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function M7(){const t=xx(this.opacity);return`${t===1?"rgb(":"rgba("}${Gu(this.r)}, ${Gu(this.g)}, ${Gu(this.b)}${t===1?")":`, ${t})`}`}function xx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bu(t){return t=Gu(t),(t<16?"0":"")+t.toString(16)}function F7(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,r,n)}function QK(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof zy||(t=$g(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new da(a,s,l,t.opacity)}function c_e(t,e,r,n){return arguments.length===1?QK(t):new da(t,e,r,n??1)}function da(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}O3(da,c_e,XK(zy,{brighter(t){return t=t==null?vx:Math.pow(vx,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bg:Math.pow(Bg,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Vi(kS(t>=240?t-240:t+120,i,n),kS(t,i,n),kS(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new da(L7(this.h),Bv(this.s),Bv(this.l),xx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xx(this.opacity);return`${t===1?"hsl(":"hsla("}${L7(this.h)}, ${Bv(this.s)*100}%, ${Bv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function L7(t){return t=(t||0)%360,t<0?t+360:t}function Bv(t){return Math.max(0,Math.min(1,t||0))}function kS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const j3=t=>()=>t;function u_e(t,e){return function(r){return t+r*e}}function d_e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function f_e(t){return(t=+t)==1?ZK:function(e,r){return r-e?d_e(e,r,t):j3(isNaN(e)?r:e)}}function ZK(t,e){var r=e-t;return r?u_e(t,r):j3(isNaN(t)?e:t)}const B7=(function t(e){var r=f_e(e);function n(i,o){var a=r((i=TI(i)).r,(o=TI(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=ZK(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=t,n})(1);function h_e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function p_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m_e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=hp(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function g_e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function y_e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=hp(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var NI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PS=new RegExp(NI.source,"g");function v_e(t){return function(){return t}}function x_e(t){return function(e){return t(e)+""}}function b_e(t,e){var r=NI.lastIndex=PS.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=NI.exec(t))&&(i=PS.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:bx(n,i)})),r=PS.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?x_e(l[0].x):v_e(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function hp(t,e){var r=typeof e,n;return e==null||r==="boolean"?j3(e):(r==="number"?bx:r==="string"?(n=$g(e))?(e=n,B7):b_e:e instanceof $g?B7:e instanceof Date?g_e:p_e(e)?h_e:Array.isArray(e)?m_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?y_e:bx)(t,e)}function R3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function w_e(t,e){e===void 0&&(e=t,t=hp);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function __e(t){return function(){return t}}function wx(t){return+t}var V7=[0,1];function Ci(t){return t}function II(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:__e(isNaN(e)?NaN:.5)}function A_e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function C_e(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=II(i,n),o=r(a,o)):(n=II(n,i),o=r(o,a)),function(s){return o(n(s))}}function E_e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=II(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=Uy(t,s,1,n)-1;return o[l](i[l](s))}}function Wy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yw(){var t=V7,e=V7,r=hp,n,i,o,a=Ci,s,l,c;function d(){var p=Math.min(t.length,e.length);return a!==Ci&&(a=A_e(t[0],t[p-1])),s=p>2?E_e:C_e,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(n),e,r)))(n(a(p)))}return f.invert=function(p){return a(i((c||(c=s(e,t.map(n),bx)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,wx),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=R3,d()},f.clamp=function(p){return arguments.length?(a=p?!0:Ci,d()):a!==Ci},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,g){return n=p,i=g,d()}}function D3(){return yw()(Ci,Ci)}function S_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _x(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Sh(t){return t=_x(Math.abs(t)),t?t[1]:NaN}function T_e(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function N_e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var I_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ug(t){if(!(e=I_e.exec(t)))throw new Error("invalid format: "+t);var e;return new M3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ug.prototype=M3.prototype;function M3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}M3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function k_e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var JK;function P_e(t,e){var r=_x(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(JK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+_x(t,Math.max(0,e+o-1))[0]}function $7(t,e){var r=_x(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const U7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:S_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$7(t*100,e),r:$7,s:P_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function z7(t){return t}var W7=Array.prototype.map,H7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function O_e(t){var e=t.grouping===void 0||t.thousands===void 0?z7:T_e(W7.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?z7:N_e(W7.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ug(f);var p=f.fill,g=f.align,x=f.sign,y=f.symbol,b=f.zero,_=f.width,C=f.comma,E=f.precision,P=f.trim,I=f.type;I==="n"?(C=!0,I="g"):U7[I]||(E===void 0&&(E=12),P=!0,I="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var T=y==="$"?r:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",N=y==="$"?n:/[%p]/.test(I)?a:"",S=U7[I],j=/[defgprs%]/.test(I);E=E===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(M){var L=T,F=N,$,q,X;if(I==="c")F=S(M)+F,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?l:S(Math.abs(M),E),P&&(M=k_e(M)),J&&+M==0&&x!=="+"&&(J=!1),L=(J?x==="("?x:s:x==="-"||x==="("?"":x)+L,F=(I==="s"?H7[8+JK/3]:"")+F+(J&&x==="("?")":""),j){for($=-1,q=M.length;++$<q;)if(X=M.charCodeAt($),48>X||X>57){F=(X===46?i+M.slice($+1):M.slice($))+F,M=M.slice(0,$);break}}}C&&!b&&(M=e(M,1/0));var H=L.length+M.length+F.length,oe=H<_?new Array(_-H+1).join(p):"";switch(C&&b&&(M=e(oe+M,oe.length?_-F.length:1/0),oe=""),g){case"<":M=L+M+F+oe;break;case"=":M=L+oe+M+F;break;case"^":M=oe.slice(0,H=oe.length>>1)+L+M+F+oe.slice(H);break;default:M=oe+L+M+F;break}return o(M)}return B.toString=function(){return f+""},B}function d(f,p){var g=c((f=Ug(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Sh(p)/3)))*3,y=Math.pow(10,-x),b=H7[8+x/3];return function(_){return g(y*_)+b}}return{format:c,formatPrefix:d}}var Vv,F3,eY;j_e({thousands:",",grouping:[3],currency:["$",""]});function j_e(t){return Vv=O_e(t),F3=Vv.format,eY=Vv.formatPrefix,Vv}function R_e(t){return Math.max(0,-Sh(Math.abs(t)))}function D_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sh(e)/3)))*3-Sh(Math.abs(t)))}function M_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sh(e)-Sh(t))+1}function tY(t,e,r,n){var i=EI(t,e,r),o;switch(n=Ug(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=D_e(i,a))&&(n.precision=o),eY(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=M_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=R_e(i))&&(n.precision=o-(n.type==="%")*2);break}}return F3(n)}function $c(t){var e=t.domain;return t.ticks=function(r){var n=e();return AI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return tY(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=CI(a,s,r),c===l)return n[i]=a,n[o]=s,e(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Ax(){var t=D3();return t.copy=function(){return Wy(t,Ax())},Ko.apply(t,arguments),$c(t)}function rY(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,wx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return rY(t).unknown(e)},t=arguments.length?Array.from(t,wx):[0,1],$c(r)}function nY(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function q7(t){return Math.log(t)}function G7(t){return Math.exp(t)}function F_e(t){return-Math.log(-t)}function L_e(t){return-Math.exp(-t)}function B_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function V_e(t){return t===10?B_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function K7(t){return(e,r)=>-t(-e,r)}function L3(t){const e=t(q7,G7),r=e.domain;let n=10,i,o;function a(){return i=$_e(n),o=V_e(n),r()[0]<0?(i=K7(i),o=K7(o),t(F_e,L_e)):t(q7,G7),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=i(c),g=i(d),x,y;const b=s==null?10:+s;let _=[];if(!(n%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(x=1;x<n;++x)if(y=p<0?x/o(-p):x*o(p),!(y<c)){if(y>d)break;_.push(y)}}else for(;p<=g;++p)for(x=n-1;x>=1;--x)if(y=p>0?x/o(-p):x*o(p),!(y<c)){if(y>d)break;_.push(y)}_.length*2<b&&(_=AI(c,d,b))}else _=AI(p,g,Math.min(g-p,b)).map(o);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ug(l)).precision==null&&(l.trim=!0),l=F3(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>r(nY(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function iY(){const t=L3(yw()).domain([1,10]);return t.copy=()=>Wy(t,iY()).base(t.base()),Ko.apply(t,arguments),t}function Y7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function X7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function B3(t){var e=1,r=t(Y7(e),X7(e));return r.constant=function(n){return arguments.length?t(Y7(e=+n),X7(e)):e},$c(r)}function oY(){var t=B3(yw());return t.copy=function(){return Wy(t,oY()).constant(t.constant())},Ko.apply(t,arguments)}function Q7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function U_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function z_e(t){return t<0?-t*t:t*t}function V3(t){var e=t(Ci,Ci),r=1;function n(){return r===1?t(Ci,Ci):r===.5?t(U_e,z_e):t(Q7(r),Q7(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},$c(e)}function $3(){var t=V3(yw());return t.copy=function(){return Wy(t,$3()).exponent(t.exponent())},Ko.apply(t,arguments),t}function W_e(){return $3.apply(null,arguments).exponent(.5)}function Z7(t){return Math.sign(t)*t*t}function H_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function aY(){var t=D3(),e=[0,1],r=!1,n;function i(o){var a=H_e(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(Z7(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,wx)).map(Z7)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return aY(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ko.apply(i,arguments),$c(i)}function sY(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=X2e(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[Uy(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(bc),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return sY().domain(t).range(e).unknown(n)},Ko.apply(o,arguments)}function lY(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Uy(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return lY().domain([t,e]).range(i).unknown(o)},Ko.apply($c(a),arguments)}function cY(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Uy(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cY().domain(t).range(e).unknown(r)},Ko.apply(i,arguments)}const OS=new Date,jS=new Date;function An(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>An(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(OS.setTime(+o),jS.setTime(+a),t(OS),t(jS),Math.floor(r(OS,jS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Cx=An(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?An(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Cx);Cx.range;const Ys=1e3,Vo=Ys*60,Xs=Vo*60,gl=Xs*24,U3=gl*7,J7=gl*30,RS=gl*365,Vu=An(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ys)},(t,e)=>(e-t)/Ys,t=>t.getUTCSeconds());Vu.range;const z3=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ys)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getMinutes());z3.range;const W3=An(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getUTCMinutes());W3.range;const H3=An(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ys-t.getMinutes()*Vo)},(t,e)=>{t.setTime(+t+e*Xs)},(t,e)=>(e-t)/Xs,t=>t.getHours());H3.range;const q3=An(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xs)},(t,e)=>(e-t)/Xs,t=>t.getUTCHours());q3.range;const Hy=An(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vo)/gl,t=>t.getDate()-1);Hy.range;const vw=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gl,t=>t.getUTCDate()-1);vw.range;const uY=An(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gl,t=>Math.floor(t/gl));uY.range;function Cd(t){return An(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vo)/U3)}const xw=Cd(0),Ex=Cd(1),q_e=Cd(2),G_e=Cd(3),Th=Cd(4),K_e=Cd(5),Y_e=Cd(6);xw.range;Ex.range;q_e.range;G_e.range;Th.range;K_e.range;Y_e.range;function Ed(t){return An(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/U3)}const bw=Ed(0),Sx=Ed(1),X_e=Ed(2),Q_e=Ed(3),Nh=Ed(4),Z_e=Ed(5),J_e=Ed(6);bw.range;Sx.range;X_e.range;Q_e.range;Nh.range;Z_e.range;J_e.range;const G3=An(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());G3.range;const K3=An(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());K3.range;const yl=An(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});yl.range;const vl=An(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());vl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:An(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});vl.range;function dY(t,e,r,n,i,o){const a=[[Vu,1,Ys],[Vu,5,5*Ys],[Vu,15,15*Ys],[Vu,30,30*Ys],[o,1,Vo],[o,5,5*Vo],[o,15,15*Vo],[o,30,30*Vo],[i,1,Xs],[i,3,3*Xs],[i,6,6*Xs],[i,12,12*Xs],[n,1,gl],[n,2,2*gl],[r,1,U3],[e,1,J7],[e,3,3*J7],[t,1,RS]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const g=f&&typeof f.range=="function"?f:l(c,d,f),x=g?g.range(c,+d+1):[];return p?x.reverse():x}function l(c,d,f){const p=Math.abs(d-c)/f,g=k3(([,,b])=>b).right(a,p);if(g===a.length)return t.every(EI(c/RS,d/RS,f));if(g===0)return Cx.every(Math.max(EI(c,d,f),1));const[x,y]=a[p/a[g-1][2]<a[g][2]/p?g-1:g];return x.every(y)}return[s,l]}const[eAe,tAe]=dY(vl,K3,bw,uY,q3,W3),[rAe,nAe]=dY(yl,G3,xw,Hy,H3,z3);function DS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=xm(i),d=bm(i),f=xm(o),p=bm(o),g=xm(a),x=bm(a),y=xm(s),b=bm(s),_=xm(l),C=bm(l),E={a:J,A:H,b:oe,B:z,c:null,d:o9,e:o9,f:TAe,g:FAe,G:BAe,H:CAe,I:EAe,j:SAe,L:fY,m:NAe,M:IAe,p:Q,q:ee,Q:l9,s:c9,S:kAe,u:PAe,U:OAe,V:jAe,w:RAe,W:DAe,x:null,X:null,y:MAe,Y:LAe,Z:VAe,"%":s9},P={a:W,A:xe,b:Ne,B:ie,c:null,d:a9,e:a9,f:WAe,g:eCe,G:rCe,H:$Ae,I:UAe,j:zAe,L:pY,m:HAe,M:qAe,p:se,q:we,Q:l9,s:c9,S:GAe,u:KAe,U:YAe,V:XAe,w:QAe,W:ZAe,x:null,X:null,y:JAe,Y:tCe,Z:nCe,"%":s9},I={a:B,A:M,b:L,B:F,c:$,d:n9,e:n9,f:bAe,g:r9,G:t9,H:i9,I:i9,j:gAe,L:xAe,m:mAe,M:yAe,p:j,q:pAe,Q:_Ae,s:AAe,S:vAe,u:cAe,U:uAe,V:dAe,w:lAe,W:fAe,x:q,X,y:r9,Y:t9,Z:hAe,"%":wAe};E.x=T(r,E),E.X=T(n,E),E.c=T(e,E),P.x=T(r,P),P.X=T(n,P),P.c=T(e,P);function T(me,re){return function(le){var G=[],ge=-1,Ee=0,$e=me.length,We,ut,ft;for(le instanceof Date||(le=new Date(+le));++ge<$e;)me.charCodeAt(ge)===37&&(G.push(me.slice(Ee,ge)),(ut=e9[We=me.charAt(++ge)])!=null?We=me.charAt(++ge):ut=We==="e"?" ":"0",(ft=re[We])&&(We=ft(le,ut)),G.push(We),Ee=ge+1);return G.push(me.slice(Ee,ge)),G.join("")}}function N(me,re){return function(le){var G=vm(1900,void 0,1),ge=S(G,me,le+="",0),Ee,$e;if(ge!=le.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(re&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ee=MS(vm(G.y,0,1)),$e=Ee.getUTCDay(),Ee=$e>4||$e===0?Sx.ceil(Ee):Sx(Ee),Ee=vw.offset(Ee,(G.V-1)*7),G.y=Ee.getUTCFullYear(),G.m=Ee.getUTCMonth(),G.d=Ee.getUTCDate()+(G.w+6)%7):(Ee=DS(vm(G.y,0,1)),$e=Ee.getDay(),Ee=$e>4||$e===0?Ex.ceil(Ee):Ex(Ee),Ee=Hy.offset(Ee,(G.V-1)*7),G.y=Ee.getFullYear(),G.m=Ee.getMonth(),G.d=Ee.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),$e="Z"in G?MS(vm(G.y,0,1)).getUTCDay():DS(vm(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-($e+5)%7:G.w+G.U*7-($e+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,MS(G)):DS(G)}}function S(me,re,le,G){for(var ge=0,Ee=re.length,$e=le.length,We,ut;ge<Ee;){if(G>=$e)return-1;if(We=re.charCodeAt(ge++),We===37){if(We=re.charAt(ge++),ut=I[We in e9?re.charAt(ge++):We],!ut||(G=ut(me,le,G))<0)return-1}else if(We!=le.charCodeAt(G++))return-1}return G}function j(me,re,le){var G=c.exec(re.slice(le));return G?(me.p=d.get(G[0].toLowerCase()),le+G[0].length):-1}function B(me,re,le){var G=g.exec(re.slice(le));return G?(me.w=x.get(G[0].toLowerCase()),le+G[0].length):-1}function M(me,re,le){var G=f.exec(re.slice(le));return G?(me.w=p.get(G[0].toLowerCase()),le+G[0].length):-1}function L(me,re,le){var G=_.exec(re.slice(le));return G?(me.m=C.get(G[0].toLowerCase()),le+G[0].length):-1}function F(me,re,le){var G=y.exec(re.slice(le));return G?(me.m=b.get(G[0].toLowerCase()),le+G[0].length):-1}function $(me,re,le){return S(me,e,re,le)}function q(me,re,le){return S(me,r,re,le)}function X(me,re,le){return S(me,n,re,le)}function J(me){return a[me.getDay()]}function H(me){return o[me.getDay()]}function oe(me){return l[me.getMonth()]}function z(me){return s[me.getMonth()]}function Q(me){return i[+(me.getHours()>=12)]}function ee(me){return 1+~~(me.getMonth()/3)}function W(me){return a[me.getUTCDay()]}function xe(me){return o[me.getUTCDay()]}function Ne(me){return l[me.getUTCMonth()]}function ie(me){return s[me.getUTCMonth()]}function se(me){return i[+(me.getUTCHours()>=12)]}function we(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var re=T(me+="",E);return re.toString=function(){return me},re},parse:function(me){var re=N(me+="",!1);return re.toString=function(){return me},re},utcFormat:function(me){var re=T(me+="",P);return re.toString=function(){return me},re},utcParse:function(me){var re=N(me+="",!0);return re.toString=function(){return me},re}}}var e9={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,oAe=/^%/,aAe=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function sAe(t){return t.replace(aAe,"\\$&")}function xm(t){return new RegExp("^(?:"+t.map(sAe).join("|")+")","i")}function bm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function lAe(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function cAe(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function uAe(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function dAe(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function fAe(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function t9(t,e,r){var n=Fn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function r9(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pAe(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mAe(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function n9(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gAe(t,e,r){var n=Fn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function i9(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function yAe(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function vAe(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function xAe(t,e,r){var n=Fn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function bAe(t,e,r){var n=Fn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wAe(t,e,r){var n=oAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _Ae(t,e,r){var n=Fn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function AAe(t,e,r){var n=Fn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function o9(t,e){return Kt(t.getDate(),e,2)}function CAe(t,e){return Kt(t.getHours(),e,2)}function EAe(t,e){return Kt(t.getHours()%12||12,e,2)}function SAe(t,e){return Kt(1+Hy.count(yl(t),t),e,3)}function fY(t,e){return Kt(t.getMilliseconds(),e,3)}function TAe(t,e){return fY(t,e)+"000"}function NAe(t,e){return Kt(t.getMonth()+1,e,2)}function IAe(t,e){return Kt(t.getMinutes(),e,2)}function kAe(t,e){return Kt(t.getSeconds(),e,2)}function PAe(t){var e=t.getDay();return e===0?7:e}function OAe(t,e){return Kt(xw.count(yl(t)-1,t),e,2)}function hY(t){var e=t.getDay();return e>=4||e===0?Th(t):Th.ceil(t)}function jAe(t,e){return t=hY(t),Kt(Th.count(yl(t),t)+(yl(t).getDay()===4),e,2)}function RAe(t){return t.getDay()}function DAe(t,e){return Kt(Ex.count(yl(t)-1,t),e,2)}function MAe(t,e){return Kt(t.getFullYear()%100,e,2)}function FAe(t,e){return t=hY(t),Kt(t.getFullYear()%100,e,2)}function LAe(t,e){return Kt(t.getFullYear()%1e4,e,4)}function BAe(t,e){var r=t.getDay();return t=r>=4||r===0?Th(t):Th.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function VAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function a9(t,e){return Kt(t.getUTCDate(),e,2)}function $Ae(t,e){return Kt(t.getUTCHours(),e,2)}function UAe(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function zAe(t,e){return Kt(1+vw.count(vl(t),t),e,3)}function pY(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function WAe(t,e){return pY(t,e)+"000"}function HAe(t,e){return Kt(t.getUTCMonth()+1,e,2)}function qAe(t,e){return Kt(t.getUTCMinutes(),e,2)}function GAe(t,e){return Kt(t.getUTCSeconds(),e,2)}function KAe(t){var e=t.getUTCDay();return e===0?7:e}function YAe(t,e){return Kt(bw.count(vl(t)-1,t),e,2)}function mY(t){var e=t.getUTCDay();return e>=4||e===0?Nh(t):Nh.ceil(t)}function XAe(t,e){return t=mY(t),Kt(Nh.count(vl(t),t)+(vl(t).getUTCDay()===4),e,2)}function QAe(t){return t.getUTCDay()}function ZAe(t,e){return Kt(Sx.count(vl(t)-1,t),e,2)}function JAe(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function eCe(t,e){return t=mY(t),Kt(t.getUTCFullYear()%100,e,2)}function tCe(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function rCe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Nh(t):Nh.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function nCe(){return"+0000"}function s9(){return"%"}function l9(t){return+t}function c9(t){return Math.floor(+t/1e3)}var gf,gY,yY;iCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iCe(t){return gf=iAe(t),gY=gf.format,gf.parse,yY=gf.utcFormat,gf.utcParse,gf}function oCe(t){return new Date(t)}function aCe(t){return t instanceof Date?+t:+new Date(+t)}function Y3(t,e,r,n,i,o,a,s,l,c){var d=D3(),f=d.invert,p=d.domain,g=c(".%L"),x=c(":%S"),y=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),C=c("%b %d"),E=c("%B"),P=c("%Y");function I(T){return(l(T)<T?g:s(T)<T?x:a(T)<T?y:o(T)<T?b:n(T)<T?i(T)<T?_:C:r(T)<T?E:P)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?p(Array.from(T,aCe)):p().map(oCe)},d.ticks=function(T){var N=p();return t(N[0],N[N.length-1],T??10)},d.tickFormat=function(T,N){return N==null?I:c(N)},d.nice=function(T){var N=p();return(!T||typeof T.range!="function")&&(T=e(N[0],N[N.length-1],T??10)),T?p(nY(N,T)):d},d.copy=function(){return Wy(d,Y3(t,e,r,n,i,o,a,s,l,c))},d}function sCe(){return Ko.apply(Y3(rAe,nAe,yl,G3,xw,Hy,H3,z3,Vu,gY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lCe(){return Ko.apply(Y3(eAe,tAe,vl,K3,bw,vw,q3,W3,Vu,yY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ww(){var t=0,e=1,r,n,i,o,a=Ci,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(p){var g,x;return arguments.length?([g,x]=p,a=f(g,x),c):[a(0),a(1)]}}return c.range=d(hp),c.rangeRound=d(R3),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Uc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vY(){var t=$c(ww()(Ci));return t.copy=function(){return Uc(t,vY())},Cl.apply(t,arguments)}function xY(){var t=L3(ww()).domain([1,10]);return t.copy=function(){return Uc(t,xY()).base(t.base())},Cl.apply(t,arguments)}function bY(){var t=B3(ww());return t.copy=function(){return Uc(t,bY()).constant(t.constant())},Cl.apply(t,arguments)}function X3(){var t=V3(ww());return t.copy=function(){return Uc(t,X3()).exponent(t.exponent())},Cl.apply(t,arguments)}function cCe(){return X3.apply(null,arguments).exponent(.5)}function wY(){var t=[],e=Ci;function r(n){if(n!=null&&!isNaN(n=+n))return e((Uy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>Y2e(t,o/n))},r.copy=function(){return wY(e).domain(t)},Cl.apply(r,arguments)}function _w(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,c=Ci,d,f=!1,p;function g(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-o)*(n*y<n*o?s:l),c(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),o=d(e=+e),a=d(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,g):[t,e,r]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(c=y,g):c};function x(y){return function(b){var _,C,E;return arguments.length?([_,C,E]=b,c=w_e(y,[_,C,E]),g):[c(0),c(.5),c(1)]}}return g.range=x(hp),g.rangeRound=x(R3),g.unknown=function(y){return arguments.length?(p=y,g):p},function(y){return d=y,i=y(t),o=y(e),a=y(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,g}}function _Y(){var t=$c(_w()(Ci));return t.copy=function(){return Uc(t,_Y())},Cl.apply(t,arguments)}function AY(){var t=L3(_w()).domain([.1,1,10]);return t.copy=function(){return Uc(t,AY()).base(t.base())},Cl.apply(t,arguments)}function CY(){var t=B3(_w());return t.copy=function(){return Uc(t,CY()).constant(t.constant())},Cl.apply(t,arguments)}function Q3(){var t=V3(_w());return t.copy=function(){return Uc(t,Q3()).exponent(t.exponent())},Cl.apply(t,arguments)}function uCe(){return Q3.apply(null,arguments).exponent(.5)}const u9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lg,scaleDiverging:_Y,scaleDivergingLog:AY,scaleDivergingPow:Q3,scaleDivergingSqrt:uCe,scaleDivergingSymlog:CY,scaleIdentity:rY,scaleImplicit:SI,scaleLinear:Ax,scaleLog:iY,scaleOrdinal:P3,scalePoint:sg,scalePow:$3,scaleQuantile:sY,scaleQuantize:lY,scaleRadial:aY,scaleSequential:vY,scaleSequentialLog:xY,scaleSequentialPow:X3,scaleSequentialQuantile:wY,scaleSequentialSqrt:cCe,scaleSequentialSymlog:bY,scaleSqrt:W_e,scaleSymlog:oY,scaleThreshold:cY,scaleTime:sCe,scaleUtc:lCe,tickFormat:tY},Symbol.toStringTag,{value:"Module"}));var FS,d9;function Aw(){if(d9)return FS;d9=1;var t=cp();function e(r,n,i){for(var o=-1,a=r.length;++o<a;){var s=r[o],l=n(s);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=s}return d}return FS=e,FS}var LS,f9;function EY(){if(f9)return LS;f9=1;function t(e,r){return e>r}return LS=t,LS}var BS,h9;function dCe(){if(h9)return BS;h9=1;var t=Aw(),e=EY(),r=fp();function n(i){return i&&i.length?t(i,r,e):void 0}return BS=n,BS}var fCe=dCe();const Cw=Yt(fCe);var VS,p9;function SY(){if(p9)return VS;p9=1;function t(e,r){return e<r}return VS=t,VS}var $S,m9;function hCe(){if(m9)return $S;m9=1;var t=Aw(),e=SY(),r=fp();function n(i){return i&&i.length?t(i,r,e):void 0}return $S=n,$S}var pCe=hCe();const Ew=Yt(pCe);var US,g9;function mCe(){if(g9)return US;g9=1;var t=h3(),e=_s(),r=RK(),n=zi();function i(o,a){var s=n(o)?t:r;return s(o,e(a,3))}return US=i,US}var zS,y9;function gCe(){if(y9)return zS;y9=1;var t=OK(),e=mCe();function r(n,i){return t(e(n,i),1)}return zS=r,zS}var yCe=gCe();const vCe=Yt(yCe);var WS,v9;function xCe(){if(v9)return WS;v9=1;var t=S3();function e(r,n){return t(r,n)}return WS=e,WS}var bCe=xCe();const qy=Yt(bCe);var pp=1e9,wCe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J3,Rr=!0,qo="[DecimalError] ",Ku=qo+"Invalid argument: ",Z3=qo+"Exponent out of range: ",mp=Math.floor,ku=Math.pow,_Ce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,co,Pn=1e7,kr=7,TY=9007199254740991,Tx=mp(TY/kr),Ge={};Ge.absoluteValue=Ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ge.comparedTo=Ge.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*kr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(t){return nl(this,new this.constructor(t))};Ge.dividedToIntegerBy=Ge.idiv=function(t){var e=this,r=e.constructor;return pr(nl(e,new r(t),0,1),r.precision)};Ge.equals=Ge.eq=function(t){return!this.cmp(t)};Ge.exponent=function(){return sn(this)};Ge.greaterThan=Ge.gt=function(t){return this.cmp(t)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(t){return this.cmp(t)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(t){return this.cmp(t)<0};Ge.lessThanOrEqualTo=Ge.lte=function(t){return this.cmp(t)<1};Ge.logarithm=Ge.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(co))throw Error(qo+"NaN");if(r.s<1)throw Error(qo+(r.s?"NaN":"-Infinity"));return r.eq(co)?new n(0):(Rr=!1,e=nl(zg(r,o),zg(t,o),o),Rr=!0,pr(e,i))};Ge.minus=Ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kY(e,t):NY(e,(t.s=-t.s,t))};Ge.modulo=Ge.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(qo+"NaN");return r.s?(Rr=!1,e=nl(r,t,0,1).times(t),Rr=!0,r.minus(e)):pr(new n(r),i)};Ge.naturalExponential=Ge.exp=function(){return IY(this)};Ge.naturalLogarithm=Ge.ln=function(){return zg(this)};Ge.negated=Ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ge.plus=Ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NY(e,t):kY(e,(t.s=-t.s,t))};Ge.precision=Ge.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ku+t);if(e=sn(i)+1,n=i.d.length-1,r=n*kr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ge.squareRoot=Ge.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(qo+"NaN")}for(t=sn(s),Rr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Za(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(nl(s,o,a+2)).times(.5),Za(o.d).slice(0,a)===(e=Za(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(pr(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return Rr=!0,pr(n,r)};Ge.times=Ge.mul=function(t){var e,r,n,i,o,a,s,l,c,d=this,f=d.constructor,p=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,c=g.length,l<c&&(o=p,p=g,g=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+g[n]*p[i-n-1]+e,o[i--]=s%Pn|0,e=s/Pn|0;o[i]=(o[i]+e)%Pn|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Rr?pr(t,f.precision):t};Ge.toDecimalPlaces=Ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(hs(t,0,pp),e===void 0?e=n.rounding:hs(e,0,8),pr(r,t+sn(r)+1,e))};Ge.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ud(n,!0):(hs(t,0,pp),e===void 0?e=i.rounding:hs(e,0,8),n=pr(new i(n),t+1,e),r=ud(n,!0,t+1)),r};Ge.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ud(i):(hs(t,0,pp),e===void 0?e=o.rounding:hs(e,0,8),n=pr(new o(i),t+sn(i)+1,e),r=ud(n.abs(),!1,t+sn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var t=this,e=t.constructor;return pr(new e(t),sn(t)+1,e.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(co);if(s=new l(s),!s.s){if(t.s<1)throw Error(qo+"Infinity");return s}if(s.eq(co))return s;if(n=l.precision,t.eq(co))return pr(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=d<0?-d:d)<=TY){for(i=new l(co),e=Math.ceil(n/kr+4),Rr=!1;r%2&&(i=i.times(s),b9(i.d,e)),r=mp(r/2),r!==0;)s=s.times(s),b9(s.d,e);return Rr=!0,t.s<0?new l(co).div(i):pr(i,n)}}else if(o<0)throw Error(qo+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Rr=!1,i=t.times(zg(s,n+c)),Rr=!0,i=IY(i),i.s=o,i};Ge.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=sn(i),n=ud(i,r<=o.toExpNeg||r>=o.toExpPos)):(hs(t,1,pp),e===void 0?e=o.rounding:hs(e,0,8),i=pr(new o(i),t,e),r=sn(i),n=ud(i,t<=r||r<=o.toExpNeg,t)),n};Ge.toSignificantDigits=Ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(hs(t,1,pp),e===void 0?e=n.rounding:hs(e,0,8)),pr(new n(r),t,e)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sn(t),r=t.constructor;return ud(t,e<=r.toExpNeg||e>=r.toExpPos)};function NY(t,e){var r,n,i,o,a,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rr?pr(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(f/kr),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Pn|0,l[o]%=Pn;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Rr?pr(e,f):e}function hs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ku+t)}function Za(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=kr-n.length,r&&(o+=ac(r)),o+=n;a=t[e],n=a+"",r=kr-n.length,r&&(o+=ac(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var nl=(function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%Pn|0,a=o/Pn|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*Pn+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,d,f,p,g,x,y,b,_,C,E,P,I,T,N,S,j=n.constructor,B=n.s==i.s?1:-1,M=n.d,L=i.d;if(!n.s)return new j(n);if(!i.s)throw Error(qo+"Division by zero");for(l=n.e-i.e,N=L.length,I=M.length,g=new j(B),x=g.d=[],c=0;L[c]==(M[c]||0);)++c;if(L[c]>(M[c]||0)&&--l,o==null?C=o=j.precision:a?C=o+(sn(n)-sn(i))+1:C=o,C<0)return new j(0);if(C=C/kr+2|0,c=0,N==1)for(d=0,L=L[0],C++;(c<I||d)&&C--;c++)E=d*Pn+(M[c]||0),x[c]=E/L|0,d=E%L|0;else{for(d=Pn/(L[0]+1)|0,d>1&&(L=t(L,d),M=t(M,d),N=L.length,I=M.length),P=N,y=M.slice(0,N),b=y.length;b<N;)y[b++]=0;S=L.slice(),S.unshift(0),T=L[0],L[1]>=Pn/2&&++T;do d=0,s=e(L,y,N,b),s<0?(_=y[0],N!=b&&(_=_*Pn+(y[1]||0)),d=_/T|0,d>1?(d>=Pn&&(d=Pn-1),f=t(L,d),p=f.length,b=y.length,s=e(f,y,p,b),s==1&&(d--,r(f,N<p?S:L,p))):(d==0&&(s=d=1),f=L.slice()),p=f.length,p<b&&f.unshift(0),r(y,f,b),s==-1&&(b=y.length,s=e(L,y,N,b),s<1&&(d++,r(y,N<b?S:L,b))),b=y.length):s===0&&(d++,y=[0]),x[c++]=d,s&&y[0]?y[b++]=M[P]||0:(y=[M[P]],b=1);while((P++<I||y[0]!==void 0)&&C--)}return x[0]||x.shift(),g.e=l,pr(g,a?o+sn(g)+1:o)}})();function IY(t,e){var r,n,i,o,a,s,l=0,c=0,d=t.constructor,f=d.precision;if(sn(t)>16)throw Error(Z3+sn(t));if(!t.s)return new d(co);for(Rr=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(ku(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new d(co),d.precision=s;;){if(i=pr(i.times(t),s),r=r.times(++l),a=o.plus(nl(i,r,s)),Za(a.d).slice(0,s)===Za(o.d).slice(0,s)){for(;c--;)o=pr(o.times(o),s);return d.precision=f,e==null?(Rr=!0,pr(o,f)):o}o=a}}function sn(t){for(var e=t.e*kr,r=t.d[0];r>=10;r/=10)e++;return e}function HS(t,e,r){if(e>t.LN10.sd())throw Rr=!0,r&&(t.precision=r),Error(qo+"LN10 precision limit exceeded");return pr(new t(t.LN10),e)}function ac(t){for(var e="";t--;)e+="0";return e}function zg(t,e){var r,n,i,o,a,s,l,c,d,f=1,p=10,g=t,x=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(qo+(g.s?"NaN":"-Infinity"));if(g.eq(co))return new y(0);if(e==null?(Rr=!1,c=b):c=e,g.eq(10))return e==null&&(Rr=!0),HS(y,c);if(c+=p,y.precision=c,r=Za(x),n=r.charAt(0),o=sn(g),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Za(g.d),n=r.charAt(0),f++;o=sn(g),n>1?(g=new y("0."+r),o++):g=new y(n+"."+r.slice(1))}else return l=HS(y,c+2,b).times(o+""),g=zg(new y(n+"."+r.slice(1)),c-p).plus(l),y.precision=b,e==null?(Rr=!0,pr(g,b)):g;for(s=a=g=nl(g.minus(co),g.plus(co),c),d=pr(g.times(g),c),i=3;;){if(a=pr(a.times(d),c),l=s.plus(nl(a,new y(i),c)),Za(l.d).slice(0,c)===Za(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(HS(y,c+2,b).times(o+""))),s=nl(s,new y(f),c),y.precision=b,e==null?(Rr=!0,pr(s,b)):s;s=l,i+=2}}function x9(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=mp(r/kr),t.d=[],n=(r+1)%kr,r<0&&(n+=kr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=kr;n<i;)t.d.push(+e.slice(n,n+=kr));e=e.slice(n),n=kr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Rr&&(t.e>Tx||t.e<-Tx))throw Error(Z3+r)}else t.s=0,t.e=0,t.d=[0];return t}function pr(t,e,r){var n,i,o,a,s,l,c,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=kr,i=e,c=f[d=0];else{if(d=Math.ceil((n+1)/kr),o=f.length,d>=o)return t;for(c=o=f[d],a=1;o>=10;o/=10)a++;n%=kr,i=n-kr+a}if(r!==void 0&&(o=ku(10,a-i-1),s=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/ku(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(o=sn(t),f.length=1,e=e-o-1,f[0]=ku(10,(kr-e%kr)%kr),t.e=mp(-e/kr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=ku(10,kr-n),f[d]=i>0?(c/ku(10,a-i)%ku(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Pn&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Pn)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Rr&&(t.e>Tx||t.e<-Tx))throw Error(Z3+sn(t));return t}function kY(t,e){var r,n,i,o,a,s,l,c,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Rr?pr(e,g):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(d=a<0,d?(r=l,a=-a,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(g/kr),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Pn-1;--l[o],l[i]+=Pn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Rr?pr(e,g):e):new p(0)}function ud(t,e,r){var n,i=sn(t),o=Za(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+ac(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ac(-i-1)+o,r&&(n=r-a)>0&&(o+=ac(n))):i>=a?(o+=ac(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+ac(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=ac(n))),t.s<0?"-"+o:o}function b9(t,e){if(t.length>e)return t.length=e,!0}function PY(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ku+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return x9(a,o.toString())}else if(typeof o!="string")throw Error(Ku+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,_Ce.test(o))x9(a,o);else throw Error(Ku+o)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PY,i.config=i.set=ACe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ACe(t){if(!t||typeof t!="object")throw Error(qo+"Object expected");var e,r,n,i=["precision",1,pp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(mp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ku+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ku+r+": "+n);return this}var J3=PY(wCe);co=new J3(1);const dr=J3;function CCe(t){return NCe(t)||TCe(t)||SCe(t)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(t,e){if(t){if(typeof t=="string")return kI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kI(t,e)}}function TCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function NCe(t){if(Array.isArray(t))return kI(t)}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ICe=function(e){return e},OY={},jY=function(e){return e===OY},w9=function(e){return function r(){return arguments.length===0||arguments.length===1&&jY(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},kCe=function t(e,r){return e===1?r:w9(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==OY}).length;return a>=e?r.apply(void 0,i):t(e-a,w9(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return jY(f)?l.shift():f});return r.apply(void 0,CCe(d).concat(l))}))})},Sw=function(e){return kCe(e.length,e)},PI=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},PCe=Sw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),OCe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ICe;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},OI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},RY=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function jCe(t){var e;return t===0?e=1:e=Math.floor(new dr(t).abs().log(10).toNumber())+1,e}function RCe(t,e,r){for(var n=new dr(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var DCe=Sw(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),MCe=Sw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),FCe=Sw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Tw={rangeStep:RCe,getDigitCount:jCe,interpolateNumber:DCe,uninterpolateNumber:MCe,uninterpolateTruncation:FCe};function jI(t){return VCe(t)||BCe(t)||DY(t)||LCe()}function LCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function VCe(t){if(Array.isArray(t))return RI(t)}function Wg(t,e){return zCe(t)||UCe(t,e)||DY(t,e)||$Ce()}function $Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(t,e){if(t){if(typeof t=="string")return RI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UCe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function zCe(t){if(Array.isArray(t))return t}function MY(t){var e=Wg(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function FY(t,e,r){if(t.lte(0))return new dr(0);var n=Tw.getDigitCount(t.toNumber()),i=new dr(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new dr(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new dr(Math.ceil(l))}function WCe(t,e,r){var n=1,i=new dr(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new dr(10).pow(Tw.getDigitCount(t)-1),i=new dr(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new dr(Math.floor(t)))}else t===0?i=new dr(Math.floor((e-1)/2)):r||(i=new dr(Math.floor(t)));var a=Math.floor((e-1)/2),s=OCe(PCe(function(l){return i.add(new dr(l-a).mul(n)).toNumber()}),PI);return s(0,e)}function LY(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new dr(0),tickMin:new dr(0),tickMax:new dr(0)};var o=FY(new dr(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new dr(0):(a=new dr(t).add(e).div(2),a=a.sub(new dr(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new dr(e).sub(a).div(o).toNumber()),c=s+l+1;return c>r?LY(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:o,tickMin:a.sub(new dr(s).mul(o)),tickMax:a.add(new dr(l).mul(o))})}function HCe(t){var e=Wg(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=MY([r,n]),l=Wg(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(jI(PI(0,i-1).map(function(){return 1/0}))):[].concat(jI(PI(0,i-1).map(function(){return-1/0})),[d]);return r>n?OI(f):f}if(c===d)return WCe(c,i,o);var p=LY(c,d,a,o),g=p.step,x=p.tickMin,y=p.tickMax,b=Tw.rangeStep(x,y.add(new dr(.1).mul(g)),g);return r>n?OI(b):b}function qCe(t,e){var r=Wg(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=MY([n,i]),s=Wg(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),f=FY(new dr(c).sub(l).div(d-1),o,0),p=[].concat(jI(Tw.rangeStep(new dr(l),new dr(c).sub(new dr(.99).mul(f)),f)),[c]);return n>i?OI(p):p}var GCe=RY(HCe),KCe=RY(qCe),YCe="Invariant failed";function dd(t,e){throw new Error(YCe)}var XCe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function QCe(t,e){return tEe(t)||eEe(t,e)||JCe(t,e)||ZCe()}function ZCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JCe(t,e){if(t){if(typeof t=="string")return _9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _9(t,e)}}function _9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function tEe(t){if(Array.isArray(t))return t}function rEe(t,e){if(t==null)return{};var r=nEe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$Y(n.key),n)}}function aEe(t,e,r){return e&&oEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,r){return e=Ix(e),lEe(t,BY()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function lEe(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(t)}function cEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BY=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DI(t,e)}function VY(t,e,r){return e=$Y(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Y(t){var e=dEe(t,"string");return Ih(e)=="symbol"?e:e+""}function dEe(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gy=(function(t){function e(){return iEe(this,e),sEe(this,e,arguments)}return uEe(e,t),aEe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=rEe(n,XCe),g=ct(p,!1);this.props.direction==="x"&&d.type!=="number"&&dd();var x=l.map(function(y){var b=c(y,s),_=b.x,C=b.y,E=b.value,P=b.errorVal;if(!P)return null;var I=[],T,N;if(Array.isArray(P)){var S=QCe(P,2);T=S[0],N=S[1]}else T=N=P;if(o==="vertical"){var j=d.scale,B=C+i,M=B+a,L=B-a,F=j(E-T),$=j(E+N);I.push({x1:$,y1:M,x2:$,y2:L}),I.push({x1:F,y1:B,x2:$,y2:B}),I.push({x1:F,y1:M,x2:F,y2:L})}else if(o==="horizontal"){var q=f.scale,X=_+i,J=X-a,H=X+a,oe=q(E-T),z=q(E+N);I.push({x1:J,y1:z,x2:H,y2:z}),I.push({x1:X,y1:oe,x2:X,y2:z}),I.push({x1:J,y1:oe,x2:H,y2:oe})}return te.createElement(Gt,Nx({className:"recharts-errorBar",key:"bar-".concat(I.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},g),I.map(function(Q){return te.createElement("line",Nx({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return te.createElement(Gt,{className:"recharts-errorBars"},x)}}])})(te.Component);VY(Gy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});VY(Gy,"displayName","ErrorBar");function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(n){fEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fEe(t,e,r){return e=hEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hEe(t){var e=pEe(t,"string");return Hg(e)=="symbol"?e:e+""}function pEe(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UY=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=oo(r,xc);if(!a)return null;var s=xc.defaultProps,l=s!==void 0?_u(_u({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(n||[]).reduce(function(d,f){var p=f.item,g=f.props,x=g.sectors||g.data||[];return d.concat(x.map(function(y){return{type:a.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,g=p!==void 0?_u(_u({},p),f.props):{},x=g.dataKey,y=g.name,b=g.legendType,_=g.hide;return{inactive:_,dataKey:x,type:l.iconType||b||"square",color:eO(f),value:y||x,payload:g}}),_u(_u(_u({},l),xc.getWithHeight(a,i)),{},{payload:c,item:a})};function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function C9(t){return vEe(t)||yEe(t)||gEe(t)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gEe(t,e){if(t){if(typeof t=="string")return MI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MI(t,e)}}function yEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vEe(t){if(Array.isArray(t))return MI(t)}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(r),!0).forEach(function(n){Jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jf(t,e,r){return e=xEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xEe(t){var e=bEe(t,"string");return qg(e)=="symbol"?e:e+""}function bEe(t,e){if(qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e,r){return Et(t)||Et(e)?r:bn(e)?go(t,e,r):xt(e)?e(t):r}function lg(t,e,r,n){var i=vCe(t,function(s){return vn(s,e)});if(r==="number"){var o=i.filter(function(s){return Re(s)||parseFloat(s)});return o.length?[Ew(o),Cw(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!Et(s)}):i;return a.map(function(s){return bn(s)||s instanceof Date?s:""})}var wEe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(_i(f-d)!==_i(p-f)){var x=[];if(_i(p-f)===_i(l[1]-l[0])){g=p;var y=f+l[1]-l[0];x[0]=Math.min(y,(y+d)/2),x[1]=Math.max(y,(y+d)/2)}else{g=d;var b=p+l[1]-l[0];x[0]=Math.min(f,(b+f)/2),x[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var C=Math.min(d,p),E=Math.max(d,p);if(e>(C+f)/2&&e<=(E+f)/2){a=i[c].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<s-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===s-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){a=n[P].index;break}return a},eO=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qr(qr({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},_Ee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),p=0,g=f.length;p<g;p++){var x=d[f[p]],y=x.items,b=x.cateAxisId,_=y.filter(function(N){return rl(N.type).indexOf("Bar")>=0});if(_&&_.length){var C=_[0].type.defaultProps,E=C!==void 0?qr(qr({},C),_[0].props):_[0].props,P=E.barSize,I=E[b];a[I]||(a[I]=[]);var T=Et(P)?r:P;a[I].push({item:_[0],stackList:_.slice(1),barSize:Et(T)?void 0:Ai(T,n,0)})}}return a},AEe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Ai(r,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var p=!1,g=i/l,x=a.reduce(function(P,I){return P+I.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&g>0&&(p=!0,g*=.9,x=l*g);var y=(i-x)/2>>0,b={offset:y-c,size:0};d=a.reduce(function(P,I){var T={item:I.item,position:{offset:b.offset+b.size+c,size:p?g:I.barSize}},N=[].concat(C9(P),[T]);return b=N[N.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(S){N.push({item:S,position:b})}),N},f)}else{var _=Ai(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var C=(i-2*_-(l-1)*c)/l;C>1&&(C>>=0);var E=s===+s?Math.min(C,s):C;d=a.reduce(function(P,I,T){var N=[].concat(C9(P),[{item:I.item,position:{offset:_+(C+c)*T+(C-E)/2,size:E}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},f)}return d},CEe=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),c=UY({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,p=d.height,g=c.align,x=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&g!=="center"&&Re(e[g]))return qr(qr({},e),{},Jf({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&x!=="middle"&&Re(e[x]))return qr(qr({},e),{},Jf({},x,e[x]+(p||0)))}return e},EEe=function(e,r,n){return Et(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zY=function(e,r,n,i,o){var a=r.props.children,s=yo(a,Gy).filter(function(c){return EEe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=vn(d,n);if(Et(f))return c;var p=Array.isArray(f)?[Ew(f),Cw(f)]:[f,f],g=l.reduce(function(x,y){var b=vn(d,y,0),_=p[0]-Math.abs(Array.isArray(b)?b[0]:b),C=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},SEe=function(e,r,n,i,o){var a=r.map(function(s){return zY(e,s,n,o,i)}).filter(function(s){return!Et(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},WY=function(e,r,n,i,o){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&zY(e,l,c,i)||lg(e,c,n,o)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},HY=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},qY=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},Qs=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&s?.length>=2?_i(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=o?o.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return d.filter(function(f){return!Vy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:o?o[f]:f,index:p,offset:c}})},qS=new WeakMap,$v=function(e,r){if(typeof r!="function")return e;qS.has(e)||qS.set(e,new WeakMap);var n=qS.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},GY=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Lg(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Ax(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sg(),realScaleType:"point"}:o==="category"?{scale:Lg(),realScaleType:"band"}:{scale:Ax(),realScaleType:"linear"};if(sd(i)){var l="scale".concat(cw(i));return{scale:(u9[l]||sg)(),realScaleType:u9[l]?l:"point"}}return xt(i)?{scale:i}:{scale:sg(),realScaleType:"point"}},S9=1e-4,KY=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-S9,a=Math.max(i[0],i[1])+S9,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},TEe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},NEe=function(e,r){if(!r||r.length!==2||!Re(r[0])||!Re(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!Re(e[0])||e[0]<n)&&(o[0]=n),(!Re(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},IEe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=Vy(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},kEe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=Vy(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},PEe={sign:IEe,expand:vxe,none:bh,silhouette:xxe,wiggle:bxe,positive:kEe},OEe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=PEe[n],a=yxe().keys(i).value(function(s,l){return+vn(s,l,0)}).order(fI).offset(o);return a(e)},jEe=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},c=s.reduce(function(f,p){var g,x=(g=p.type)!==null&&g!==void 0&&g.defaultProps?qr(qr({},p.type.defaultProps),p.props):p.props,y=x.stackId,b=x.hide;if(b)return f;var _=x[n],C=f[_]||{hasStack:!1,stackGroups:{}};if(bn(y)){var E=C.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(p),C.hasStack=!0,C.stackGroups[y]=E}else C.stackGroups[dp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return qr(qr({},f),{},Jf({},_,C))},l),d={};return Object.keys(c).reduce(function(f,p){var g=c[p];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var _=g.stackGroups[b];return qr(qr({},y),{},Jf({},b,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:OEe(e,_.items,o)}))},x)}return qr(qr({},f),{},Jf({},p,g))},d)},YY=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=GCe(c,o,s);return e.domain([Ew(d),Cw(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),p=KCe(f,o,s);return{niceTicks:p}}return null};function T9(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Et(i[e.dataKey])){var s=ox(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=vn(i,Et(a)?e.dataKey:a);return Et(l)?null:e.scale(l)}var N9=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=vn(a,r.dataKey,r.domain[s]);return Et(l)?null:r.scale(l)-o/2+i},REe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},DEe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qr(qr({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(bn(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},MEe=function(e){return e.reduce(function(r,n){return[Ew(n.concat([r[0]]).filter(Re)),Cw(n.concat([r[1]]).filter(Re))]},[1/0,-1/0])},XY=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,d){var f=MEe(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},I9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FI=function(e,r,n){if(xt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Re(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(I9.test(e[0])){var o=+I9.exec(e[0])[1];i[0]=r[0]-o}else xt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Re(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(k9.test(e[1])){var a=+k9.exec(e[1])[1];i[1]=r[1]+a}else xt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},kx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=N3(r,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},P9=function(e,r,n){return!e||!e.length||qy(e,go(n,"type.defaultProps.domain"))?r:e},QY=function(e,r){var n=e.type.defaultProps?qr(qr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return qr(qr({},ct(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:eO(e),value:vn(r,i),type:l,payload:r,chartType:c,hide:d})};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function O9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(r),!0).forEach(function(n){ZY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e,r){return e=FEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FEe(t){var e=LEe(t,"string");return Gg(e)=="symbol"?e:e+""}function LEe(t,e){if(Gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BEe(t,e){return zEe(t)||UEe(t,e)||$Ee(t,e)||VEe()}function VEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ee(t,e){if(t){if(typeof t=="string")return j9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j9(t,e)}}function j9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function zEe(t){if(Array.isArray(t))return t}var Px=Math.PI/180,WEe=function(e){return e*180/Math.PI},_r=function(e,r,n,i){return{x:e+Math.cos(-Px*i)*n,y:r+Math.sin(-Px*i)*n}},JY=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},HEe=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,d=Ai(e.cx,a,a/2),f=Ai(e.cy,s,s/2),p=JY(a,s,n),g=Ai(e.innerRadius,p,0),x=Ai(e.outerRadius,p,p*.8),y=Object.keys(r);return y.reduce(function(b,_){var C=r[_],E=C.domain,P=C.reversed,I;if(Et(C.range))i==="angleAxis"?I=[l,c]:i==="radiusAxis"&&(I=[g,x]),P&&(I=[I[1],I[0]]);else{I=C.range;var T=I,N=BEe(T,2);l=N[0],c=N[1]}var S=GY(C,o),j=S.realScaleType,B=S.scale;B.domain(E).range(I),KY(B);var M=YY(B,Ws(Ws({},C),{},{realScaleType:j})),L=Ws(Ws(Ws({},C),M),{},{range:I,radius:x,realScaleType:j,scale:B,cx:d,cy:f,innerRadius:g,outerRadius:x,startAngle:l,endAngle:c});return Ws(Ws({},b),{},ZY({},_,L))},{})},qEe=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},GEe=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=qEe({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:WEe(c),angleInRadian:c}},KEe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},YEe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},R9=function(e,r){var n=e.x,i=e.y,o=GEe({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=KEe(r),f=d.startAngle,p=d.endAngle,g=s,x;if(f<=p){for(;g>p;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=p}else{for(;g>f;)g-=360;for(;g<p;)g+=360;x=g>=p&&g<=f}return x?Ws(Ws({},r),{},{radius:a,angle:YEe(g,r)}):null},eX=function(e){return!k.isValidElement(e)&&!xt(e)&&typeof e!="boolean"?e.className:""};function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}var XEe=["offset"];function QEe(t){return tSe(t)||eSe(t)||JEe(t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function eSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tSe(t){if(Array.isArray(t))return LI(t)}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rSe(t,e){if(t==null)return{};var r=nSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(r),!0).forEach(function(n){iSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iSe(t,e,r){return e=oSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oSe(t){var e=aSe(t,"string");return Kg(e)=="symbol"?e:e+""}function aSe(t,e){if(Kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yg.apply(this,arguments)}var sSe=function(e){var r=e.value,n=e.formatter,i=Et(e.children)?r:e.children;return xt(n)?n(i):i},lSe=function(e,r){var n=_i(r-e),i=Math.min(Math.abs(r-e),360);return n*i},cSe=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,g=l.startAngle,x=l.endAngle,y=l.clockWise,b=(f+p)/2,_=lSe(g,x),C=_>=0?1:-1,E,P;i==="insideStart"?(E=g+C*a,P=y):i==="insideEnd"?(E=x-C*a,P=!y):i==="end"&&(E=x+C*a,P=y),P=_<=0?P:!P;var I=_r(c,d,b,E),T=_r(c,d,b,E+(P?1:-1)*359),N="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(T.x,",").concat(T.y),S=Et(e.id)?dp("recharts-radial-line-"):e.id;return te.createElement("text",Yg({},n,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",s)}),te.createElement("defs",null,te.createElement("path",{id:S,d:N})),te.createElement("textPath",{xlinkHref:"#".concat(S)},r))},uSe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,p=(d+f)/2;if(i==="outside"){var g=_r(a,s,c+n,p),x=g.x,y=g.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,_=_r(a,s,b,p),C=_.x,E=_.y;return{x:C,y:E,textAnchor:"middle",verticalAnchor:"middle"}},dSe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,p=f*i,g=f>0?"end":"start",x=f>0?"start":"end",y=c>=0?1:-1,b=y*i,_=y>0?"end":"start",C=y>0?"start":"end";if(o==="top"){var E={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return hn(hn({},E),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var P={x:s+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:x};return hn(hn({},P),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(o==="left"){var I={x:s-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return hn(hn({},I),n?{width:Math.max(I.x-n.x,0),height:d}:{})}if(o==="right"){var T={x:s+c+b,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return hn(hn({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:d}:{})}var N=n?{width:c,height:d}:{};return o==="insideLeft"?hn({x:s+b,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},N):o==="insideRight"?hn({x:s+c-b,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},N):o==="insideTop"?hn({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:x},N):o==="insideBottom"?hn({x:s+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:g},N):o==="insideTopLeft"?hn({x:s+b,y:l+p,textAnchor:C,verticalAnchor:x},N):o==="insideTopRight"?hn({x:s+c-b,y:l+p,textAnchor:_,verticalAnchor:x},N):o==="insideBottomLeft"?hn({x:s+b,y:l+d-p,textAnchor:C,verticalAnchor:g},N):o==="insideBottomRight"?hn({x:s+c-b,y:l+d-p,textAnchor:_,verticalAnchor:g},N):up(o)&&(Re(o.x)||Lu(o.x))&&(Re(o.y)||Lu(o.y))?hn({x:s+Ai(o.x,c),y:l+Ai(o.y,d),textAnchor:"end",verticalAnchor:"end"},N):hn({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},fSe=function(e){return"cx"in e&&Re(e.cx)};function On(t){var e=t.offset,r=e===void 0?5:e,n=rSe(t,XEe),i=hn({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,p=i.textBreakAll;if(!o||Et(s)&&Et(l)&&!k.isValidElement(c)&&!xt(c))return null;if(k.isValidElement(c))return k.cloneElement(c,i);var g;if(xt(c)){if(g=k.createElement(c,i),k.isValidElement(g))return g}else g=sSe(i);var x=fSe(o),y=ct(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return cSe(i,g,y);var b=x?uSe(i):dSe(i);return te.createElement(cd,Yg({className:Tt("recharts-label",f)},y,b,{breakAll:p}),g)}On.displayName="Label";var tX=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,g=e.top,x=e.left,y=e.width,b=e.height,_=e.clockWise,C=e.labelViewBox;if(C)return C;if(Re(y)&&Re(b)){if(Re(f)&&Re(p))return{x:f,y:p,width:y,height:b};if(Re(g)&&Re(x))return{x:g,y:x,width:y,height:b}}return Re(f)&&Re(p)?{x:f,y:p,width:0,height:0}:Re(r)&&Re(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},hSe=function(e,r){return e?e===!0?te.createElement(On,{key:"label-implicit",viewBox:r}):bn(e)?te.createElement(On,{key:"label-implicit",viewBox:r,value:e}):k.isValidElement(e)?e.type===On?k.cloneElement(e,{key:"label-implicit",viewBox:r}):te.createElement(On,{key:"label-implicit",content:e,viewBox:r}):xt(e)?te.createElement(On,{key:"label-implicit",content:e,viewBox:r}):up(e)?te.createElement(On,Yg({viewBox:r},e,{key:"label-implicit"})):null:null},pSe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=tX(e),a=yo(i,On).map(function(l,c){return k.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return a;var s=hSe(e.label,r||o);return[s].concat(QEe(a))};On.parseViewBox=tX;On.renderCallByParent=pSe;var GS,M9;function mSe(){if(M9)return GS;M9=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return GS=t,GS}var gSe=mSe();const ySe=Yt(gSe);function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}var vSe=["valueAccessor"],xSe=["data","dataKey","clockWise","id","textBreakAll"];function bSe(t){return CSe(t)||ASe(t)||_Se(t)||wSe()}function wSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(t,e){if(t){if(typeof t=="string")return BI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(t,e)}}function ASe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CSe(t){if(Array.isArray(t))return BI(t)}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ox.apply(this,arguments)}function F9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(r),!0).forEach(function(n){ESe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ESe(t,e,r){return e=SSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SSe(t){var e=TSe(t,"string");return Xg(e)=="symbol"?e:e+""}function TSe(t,e){if(Xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B9(t,e){if(t==null)return{};var r=NSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ISe=function(e){return Array.isArray(e.value)?ySe(e.value):e.value};function il(t){var e=t.valueAccessor,r=e===void 0?ISe:e,n=B9(t,vSe),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,c=B9(n,xSe);return!i||!i.length?null:te.createElement(Gt,{className:"recharts-label-list"},i.map(function(d,f){var p=Et(o)?r(d,f):vn(d&&d.payload,o),g=Et(s)?{}:{id:"".concat(s,"-").concat(f)};return te.createElement(On,Ox({},ct(d,!0),c,g,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:On.parseViewBox(Et(a)?d:L9(L9({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}il.displayName="LabelList";function kSe(t,e){return t?t===!0?te.createElement(il,{key:"labelList-implicit",data:e}):te.isValidElement(t)||xt(t)?te.createElement(il,{key:"labelList-implicit",data:e,content:t}):up(t)?te.createElement(il,Ox({data:e},t,{key:"labelList-implicit"})):null:null}function PSe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=yo(n,il).map(function(a,s){return k.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=kSe(t.label,e);return[o].concat(bSe(i))}il.renderCallByParent=PSe;function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function VI(){return VI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VI.apply(this,arguments)}function V9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(r),!0).forEach(function(n){OSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OSe(t,e,r){return e=jSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jSe(t){var e=RSe(t,"string");return Qg(e)=="symbol"?e:e+""}function RSe(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DSe=function(e,r){var n=_i(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Uv=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Px,p=c?o:o+a*f,g=_r(r,n,d,p),x=_r(r,n,i,p),y=c?o-a*f:o,b=_r(r,n,d*Math.cos(f*Px),y);return{center:g,circleTangency:x,lineTangency:b,theta:f}},rX=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=DSe(a,s),c=a+l,d=_r(r,n,o,a),f=_r(r,n,o,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=_r(r,n,i,a),x=_r(r,n,i,c);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},MSe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=_i(d-c),p=Uv({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),g=p.circleTangency,x=p.lineTangency,y=p.theta,b=Uv({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,C=b.lineTangency,E=b.theta,P=l?Math.abs(c-d):Math.abs(c-d)-y-E;if(P<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):rX({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var I="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var T=Uv({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=T.circleTangency,S=T.lineTangency,j=T.theta,B=Uv({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=B.circleTangency,L=B.lineTangency,F=B.theta,$=l?Math.abs(c-d):Math.abs(c-d)-j-F;if($<0&&a===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},FSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nX=function(e){var r=$9($9({},FSe),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(a<o||d===f)return null;var g=Tt("recharts-sector",p),x=a-o,y=Ai(s,x,0,!0),b;return y>0&&Math.abs(d-f)<360?b=MSe({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=rX({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),te.createElement("path",VI({},ct(r,!0),{className:g,d:b,role:"img"}))};function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function $I(){return $I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$I.apply(this,arguments)}function U9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(r),!0).forEach(function(n){LSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LSe(t,e,r){return e=BSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BSe(t){var e=VSe(t,"string");return Zg(e)=="symbol"?e:e+""}function VSe(t,e){if(Zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W9={curveBasisClosed:axe,curveBasisOpen:sxe,curveBasis:oxe,curveBumpX:H1e,curveBumpY:q1e,curveLinearClosed:lxe,curveLinear:dw,curveMonotoneX:cxe,curveMonotoneY:uxe,curveNatural:dxe,curveStep:fxe,curveStepAfter:pxe,curveStepBefore:hxe},zv=function(e){return e.x===+e.x&&e.y===+e.y},wm=function(e){return e.x},_m=function(e){return e.y},$Se=function(e,r){if(xt(e))return e;var n="curve".concat(cw(e));return(n==="curveMonotone"||n==="curveBump")&&r?W9["".concat(n).concat(r==="vertical"?"Y":"X")]:W9[n]||dw},USe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=$Se(n,s),f=c?o.filter(function(y){return zv(y)}):o,p;if(Array.isArray(a)){var g=c?a.filter(function(y){return zv(y)}):a,x=f.map(function(y,b){return z9(z9({},y),{},{base:g[b]})});return s==="vertical"?p=Rv().y(_m).x1(wm).x0(function(y){return y.base.x}):p=Rv().x(wm).y1(_m).y0(function(y){return y.base.y}),p.defined(zv).curve(d),p(x)}return s==="vertical"&&Re(a)?p=Rv().y(_m).x1(wm).x0(a):Re(a)?p=Rv().x(wm).y1(_m).y0(a):p=tK().x(wm).y(_m),p.defined(zv).curve(d),p(f)},jx=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?USe(e):i;return k.createElement("path",$I({},ct(e,!1),ax(e),{className:Tt("recharts-curve",r),d:a,ref:o}))},KS={exports:{}},YS,H9;function zSe(){if(H9)return YS;H9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return YS=t,YS}var XS,q9;function WSe(){if(q9)return XS;q9=1;var t=zSe();function e(){}function r(){}return r.resetWarningCache=e,XS=function(){function n(a,s,l,c,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},XS}var G9;function HSe(){return G9||(G9=1,KS.exports=WSe()()),KS.exports}var qSe=HSe();const rr=Yt(qSe);var GSe=Object.getOwnPropertyNames,KSe=Object.getOwnPropertySymbols,YSe=Object.prototype.hasOwnProperty;function K9(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Wv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function XSe(t){return t?.[Symbol.toStringTag]}function Y9(t){return GSe(t).concat(KSe(t))}var QSe=Object.hasOwn||(function(t,e){return YSe.call(t,e)});function Sd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ZSe="__v",JSe="__o",eTe="_owner",X9=Object.getOwnPropertyDescriptor,Q9=Object.keys;function tTe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function rTe(t,e){return Sd(t.getTime(),e.getTime())}function nTe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function iTe(t,e){return t===e}function Z9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=e.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var p=a.value,g=s.value;if(r.equals(p[0],g[0],l,f,t,e,r)&&r.equals(p[1],g[1],p[0],g[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var oTe=Sd;function aTe(t,e,r){var n=Q9(t),i=n.length;if(Q9(e).length!==i)return!1;for(;i-- >0;)if(!iX(t,e,r,n[i]))return!1;return!0}function Am(t,e,r){var n=Y9(t),i=n.length;if(Y9(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=n[i],!iX(t,e,r,o)||(a=X9(t,o),s=X9(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function sTe(t,e){return Sd(t.valueOf(),e.valueOf())}function lTe(t,e){return t.source===e.source&&t.flags===e.flags}function J9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function cTe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function uTe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function iX(t,e,r,n){return(n===eTe||n===JSe||n===ZSe)&&(t.$$typeof||e.$$typeof)?!0:QSe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var dTe="[object Arguments]",fTe="[object Boolean]",hTe="[object Date]",pTe="[object Error]",mTe="[object Map]",gTe="[object Number]",yTe="[object Object]",vTe="[object RegExp]",xTe="[object Set]",bTe="[object String]",wTe="[object URL]",_Te=Array.isArray,eB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tB=Object.assign,ATe=Object.prototype.toString.call.bind(Object.prototype.toString);function CTe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,b,_){if(y===b)return!0;if(y==null||b==null)return!1;var C=typeof y;if(C!==typeof b)return!1;if(C!=="object")return C==="number"?a(y,b,_):C==="function"?i(y,b,_):!1;var E=y.constructor;if(E!==b.constructor)return!1;if(E===Object)return s(y,b,_);if(_Te(y))return e(y,b,_);if(eB!=null&&eB(y))return f(y,b,_);if(E===Date)return r(y,b,_);if(E===RegExp)return c(y,b,_);if(E===Map)return o(y,b,_);if(E===Set)return d(y,b,_);var P=ATe(y);if(P===hTe)return r(y,b,_);if(P===vTe)return c(y,b,_);if(P===mTe)return o(y,b,_);if(P===xTe)return d(y,b,_);if(P===yTe)return typeof y.then!="function"&&typeof b.then!="function"&&s(y,b,_);if(P===wTe)return p(y,b,_);if(P===pTe)return n(y,b,_);if(P===dTe)return s(y,b,_);if(P===fTe||P===gTe||P===bTe)return l(y,b,_);if(g){var I=g[P];if(!I){var T=XSe(y);T&&(I=g[T])}if(I)return I(y,b,_)}return!1}}function ETe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Am:tTe,areDatesEqual:rTe,areErrorsEqual:nTe,areFunctionsEqual:iTe,areMapsEqual:n?K9(Z9,Am):Z9,areNumbersEqual:oTe,areObjectsEqual:n?Am:aTe,arePrimitiveWrappersEqual:sTe,areRegExpsEqual:lTe,areSetsEqual:n?K9(J9,Am):J9,areTypedArraysEqual:n?Am:cTe,areUrlsEqual:uTe,unknownTagComparators:void 0};if(r&&(i=tB({},i,r(i))),e){var o=Wv(i.areArraysEqual),a=Wv(i.areMapsEqual),s=Wv(i.areObjectsEqual),l=Wv(i.areSetsEqual);i=tB({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function STe(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function TTe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,c){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,g=d.meta;return r(l,c,{cache:p,equals:i,meta:g,strict:o})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,a)}}var NTe=zc();zc({strict:!0});zc({circular:!0});zc({circular:!0,strict:!0});zc({createInternalComparator:function(){return Sd}});zc({strict:!0,createInternalComparator:function(){return Sd}});zc({circular:!0,createInternalComparator:function(){return Sd}});zc({circular:!0,createInternalComparator:function(){return Sd},strict:!0});function zc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=ETe(t),l=CTe(s),c=n?n(l):STe(l);return TTe({circular:r,comparator:l,createState:i,equals:c,strict:a})}function ITe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function rB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):ITe(i)};requestAnimationFrame(n)}function UI(t){"@babel/helpers - typeof";return UI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UI(t)}function kTe(t){return RTe(t)||jTe(t)||OTe(t)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OTe(t,e){if(t){if(typeof t=="string")return nB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nB(t,e)}}function nB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RTe(t){if(Array.isArray(t))return t}function DTe(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=kTe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){rB(i.bind(null,c),l);return}i(l),rB(i.bind(null,c));return}UI(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){oX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oX(t,e,r){return e=MTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MTe(t){var e=FTe(t,"string");return Jg(e)==="symbol"?e:String(e)}function FTe(t,e){if(Jg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LTe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},BTe=function(e){return e},VTe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cg=function(e,r){return Object.keys(r).reduce(function(n,i){return oB(oB({},n),{},oX({},i,e(i,r[i])))},{})},aB=function(e,r,n){return e.map(function(i){return"".concat(VTe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function $Te(t,e){return WTe(t)||zTe(t,e)||aX(t,e)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function WTe(t){if(Array.isArray(t))return t}function HTe(t){return KTe(t)||GTe(t)||aX(t)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return zI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zI(t,e)}}function GTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KTe(t){if(Array.isArray(t))return zI(t)}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rx=1e-4,sX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},lX=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},sB=function(e,r){return function(n){var i=sX(e,r);return lX(i,n)}},YTe=function(e,r){return function(n){var i=sX(e,r),o=[].concat(HTe(i.map(function(a,s){return a*s}).slice(1)),[0]);return lX(o,n)}},lB=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=$Te(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=sB(i,a),p=sB(o,s),g=YTe(i,a),x=function(_){return _>1?1:_<0?0:_},y=function(_){for(var C=_>1?1:_,E=C,P=0;P<8;++P){var I=f(E)-C,T=g(E);if(Math.abs(I-C)<Rx||T<Rx)return p(E);E=x(E-I/T)}return p(E)};return y.isStepper=!1,y},XTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,p){var g=-(d-f)*n,x=p*o,y=p+(g-x)*s/1e3,b=p*s/1e3+d;return Math.abs(b-f)<Rx&&Math.abs(y)<Rx?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},QTe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lB(i);case"spring":return XTe();default:if(i.split("(")[0]==="cubic-bezier")return lB(i)}return typeof i=="function"?i:null};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function cB(t){return eNe(t)||JTe(t)||cX(t)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eNe(t){if(Array.isArray(t))return HI(t)}function uB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(r),!0).forEach(function(n){WI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WI(t,e,r){return e=tNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tNe(t){var e=rNe(t,"string");return ey(e)==="symbol"?e:String(e)}function rNe(t,e){if(ey(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ey(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nNe(t,e){return aNe(t)||oNe(t,e)||cX(t,e)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(t,e){if(t){if(typeof t=="string")return HI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function aNe(t){if(Array.isArray(t))return t}var Dx=function(e,r,n){return e+(r-e)*n},qI=function(e){var r=e.from,n=e.to;return r!==n},sNe=function t(e,r,n){var i=cg(function(o,a){if(qI(a)){var s=e(a.from,a.to,a.velocity),l=nNe(s,2),c=l[0],d=l[1];return Wn(Wn({},a),{},{from:c,velocity:d})}return a},r);return n<1?cg(function(o,a){return qI(a)?Wn(Wn({},a),{},{velocity:Dx(a.velocity,i[o].velocity,n),from:Dx(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const lNe=(function(t,e,r,n,i){var o=LTe(t,e),a=o.reduce(function(b,_){return Wn(Wn({},b),{},WI({},_,[t[_],e[_]]))},{}),s=o.reduce(function(b,_){return Wn(Wn({},b),{},WI({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,d,f=function(){return null},p=function(){return cg(function(_,C){return C.from},s)},g=function(){return!Object.values(s).filter(qI).length},x=function(_){c||(c=_);var C=_-c,E=C/r.dt;s=sNe(r,s,E),i(Wn(Wn(Wn({},t),e),p())),c=_,g()||(l=requestAnimationFrame(f))},y=function(_){d||(d=_);var C=(_-d)/n,E=cg(function(I,T){return Dx.apply(void 0,cB(T).concat([r(C)]))},a);if(i(Wn(Wn(Wn({},t),e),E)),C<1)l=requestAnimationFrame(f);else{var P=cg(function(I,T){return Dx.apply(void 0,cB(T).concat([r(1)]))},a);i(Wn(Wn(Wn({},t),e),P))}};return f=r.isStepper?x:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}var cNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uNe(t,e){if(t==null)return{};var r=dNe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dNe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function QS(t){return mNe(t)||pNe(t)||hNe(t)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(t,e){if(t){if(typeof t=="string")return GI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(t,e)}}function pNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mNe(t){if(Array.isArray(t))return GI(t)}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){Um(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Um(t,e,r){return e=uX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uX(n.key),n)}}function vNe(t,e,r){return e&&yNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uX(t){var e=xNe(t,"string");return kh(e)==="symbol"?e:String(e)}function xNe(t,e){if(kh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KI(t,e)}function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KI(t,e)}function wNe(t){var e=_Ne();return function(){var n=Mx(t),i;if(e){var o=Mx(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return YI(this,i)}}function YI(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XI(t)}function XI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(t)}var ps=(function(t){bNe(r,t);var e=wNe(r);function r(n,i){var o;gNe(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,p=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(XI(o)),o.changeStyle=o.changeStyle.bind(XI(o)),!s||g<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:d}),YI(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof p=="function")return o.state={style:c},YI(o);o.state={style:l?Um({},l,c):c}}else o.state={style:{}};return o}return vNe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,p=this.state.style;if(s){if(!a){var g={style:l?Um({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(g);return}if(!(NTe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||c?f:i.to;if(this.state&&p){var b={style:l?Um({},l,y):y};(l&&p[l]!==y||!l&&p!==y)&&this.setState(b)}this.runAnimation(na(na({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,g=lNe(a,s,QTe(c),l,this.changeStyle),x=function(){o.stopJSAnimation=g()};this.manager.start([p,d,x,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,p=f===void 0?0:f,g=function(y,b,_){if(_===0)return y;var C=b.duration,E=b.easing,P=E===void 0?"ease":E,I=b.style,T=b.properties,N=b.onAnimationEnd,S=_>0?a[_-1]:b,j=T||Object.keys(I);if(typeof P=="function"||P==="spring")return[].concat(QS(y),[o.runJSAnimation.bind(o,{from:S.style,to:I,duration:C,easing:P}),C]);var B=aB(j,C,P),M=na(na(na({},S.style),I),{},{transition:B});return[].concat(QS(y),[M,C,N]).filter(BTe)};return this.manager.start([l].concat(QS(a.reduce(g,[d,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=DTe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var y=s?Um({},s,l):l,b=aB(Object.keys(y),a,c);x.start([d,o,na(na({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=uNe(i,cNe),c=k.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var f=function(g){var x=g.props,y=x.style,b=y===void 0?{}:y,_=x.className,C=k.cloneElement(g,na(na({},l),{},{style:na(na({},b),d),className:_}));return C};return c===1?f(k.Children.only(o)):te.createElement("div",null,k.Children.map(o,function(p){return f(p)}))}}]),r})(k.PureComponent);ps.displayName="Animate";ps.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ps.propTypes={from:rr.oneOfType([rr.object,rr.string]),to:rr.oneOfType([rr.object,rr.string]),attributeName:rr.string,duration:rr.number,begin:rr.number,easing:rr.oneOfType([rr.string,rr.func]),steps:rr.arrayOf(rr.shape({duration:rr.number.isRequired,style:rr.object.isRequired,easing:rr.oneOfType([rr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rr.func]),properties:rr.arrayOf("string"),onAnimationEnd:rr.func})),children:rr.oneOfType([rr.node,rr.func]),isActive:rr.bool,canBegin:rr.bool,onAnimationEnd:rr.func,shouldReAnimate:rr.bool,onAnimationStart:rr.func,onAnimationReStart:rr.func};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fx.apply(this,arguments)}function ANe(t,e){return TNe(t)||SNe(t,e)||ENe(t,e)||CNe()}function CNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ENe(t,e){if(t){if(typeof t=="string")return fB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fB(t,e)}}function fB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function TNe(t){if(Array.isArray(t))return t}function hB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(r),!0).forEach(function(n){NNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NNe(t,e,r){return e=INe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function INe(t){var e=kNe(t,"string");return ty(e)=="symbol"?e:e+""}function kNe(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mB=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=o[p]>a?a:o[p];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var x=Math.min(a,o);d="M ".concat(e,",").concat(r+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(r,`
            L `).concat(e+n-l*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*x,`
            L `).concat(e+n,",").concat(r+i-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n-l*x,",").concat(r+i,`
            L `).concat(e+l*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*x," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},PNe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),p=Math.max(a,a+l);return n>=c&&n<=d&&i>=f&&i<=p}return!1},ONe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tO=function(e){var r=pB(pB({},ONe),e),n=k.useRef(),i=k.useState(-1),o=ANe(i,2),a=o[0],s=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&s(P)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,p=r.radius,g=r.className,x=r.animationEasing,y=r.animationDuration,b=r.animationBegin,_=r.isAnimationActive,C=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var E=Tt("recharts-rectangle",g);return C?te.createElement(ps,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:y,animationEasing:x,isActive:C},function(P){var I=P.width,T=P.height,N=P.x,S=P.y;return te.createElement(ps,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:_,easing:x},te.createElement("path",Fx({},ct(r,!0),{className:E,d:mB(N,S,I,T,p),ref:n})))}):te.createElement("path",Fx({},ct(r,!0),{className:E,d:mB(l,c,d,f,p)}))},jNe=["points","className","baseLinePoints","connectNulls"];function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}function RNe(t,e){if(t==null)return{};var r=DNe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gB(t){return BNe(t)||LNe(t)||FNe(t)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FNe(t,e){if(t){if(typeof t=="string")return QI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(t,e)}}function LNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BNe(t){if(Array.isArray(t))return QI(t)}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yB=function(e){return e&&e.x===+e.x&&e.y===+e.y},VNe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){yB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),yB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ug=function(e,r){var n=VNe(e);r&&(n=[n.reduce(function(o,a){return[].concat(gB(o),gB(a))},[])]);var i=n.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},$Ne=function(e,r,n){var i=ug(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ug(r.reverse(),n).slice(1))},UNe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,a=RNe(e,jNe);if(!r||!r.length)return null;var s=Tt("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=$Ne(r,i,o);return te.createElement("g",{className:s},te.createElement("path",Ff({},ct(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?te.createElement("path",Ff({},ct(a,!0),{fill:"none",d:ug(r,o)})):null,l?te.createElement("path",Ff({},ct(a,!0),{fill:"none",d:ug(i,o)})):null)}var d=ug(r,o);return te.createElement("path",Ff({},ct(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZI.apply(this,arguments)}var Nw=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=Tt("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",ZI({},ct(e,!1),ax(e),{className:a,cx:r,cy:n,r:i})):null};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}var zNe=["x","y","top","left","width","height","className"];function JI(){return JI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JI.apply(this,arguments)}function vB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WNe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(r),!0).forEach(function(n){HNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HNe(t,e,r){return e=qNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qNe(t){var e=GNe(t,"string");return ry(e)=="symbol"?e:e+""}function GNe(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KNe(t,e){if(t==null)return{};var r=YNe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XNe=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},QNe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,p=e.height,g=p===void 0?0:p,x=e.className,y=KNe(e,zNe),b=WNe({x:n,y:o,top:s,left:c,width:f,height:g},y);return!Re(n)||!Re(o)||!Re(f)||!Re(g)||!Re(s)||!Re(c)?null:te.createElement("path",JI({},ct(b,!0),{className:Tt("recharts-cross",x),d:XNe(n,o,f,g,s,c)}))},ZS,xB;function ZNe(){if(xB)return ZS;xB=1;var t=Aw(),e=EY(),r=_s();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return ZS=n,ZS}var JNe=ZNe();const eIe=Yt(JNe);var JS,bB;function tIe(){if(bB)return JS;bB=1;var t=Aw(),e=_s(),r=SY();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return JS=n,JS}var rIe=tIe();const nIe=Yt(rIe);var iIe=["cx","cy","angle","ticks","axisLine"],oIe=["ticks","tick","angle","tickFormatter","stroke"];function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(this,arguments)}function wB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(r),!0).forEach(function(n){Iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _B(t,e){if(t==null)return{};var r=aIe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fX(n.key),n)}}function lIe(t,e,r){return e&&AB(t.prototype,e),r&&AB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cIe(t,e,r){return e=Lx(e),uIe(t,dX()?Reflect.construct(e,r||[],Lx(t).constructor):e.apply(t,r))}function uIe(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(t)}function dIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(t)}function fIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ek(t,e)}function ek(t,e){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ek(t,e)}function Iw(t,e,r){return e=fX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fX(t){var e=hIe(t,"string");return Ph(e)=="symbol"?e:e+""}function hIe(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kw=(function(t){function e(){return sIe(this,e),cIe(this,e,arguments)}return fIe(e,t),lIe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return _r(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=eIe(s,function(d){return d.coordinate||0}),c=nIe(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.angle,s=n.ticks,l=n.axisLine,c=_B(n,iIe),d=s.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),f=_r(i,o,d[0],a),p=_r(i,o,d[1],a),g=Au(Au(Au({},ct(c,!1)),{},{fill:"none"},ct(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return te.createElement("line",dg({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=_B(i,oIe),f=this.getTickTextAnchor(),p=ct(d,!1),g=ct(a,!1),x=o.map(function(y,b){var _=n.getTickValueCoord(y),C=Au(Au(Au(Au({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:c},g),{},{index:b},_),{},{payload:y});return te.createElement(Gt,dg({className:Tt("recharts-polar-radius-axis-tick",eX(a)),key:"tick-".concat(y.coordinate)},ld(n.props,y,b)),e.renderTickItem(a,C,l?l(y.value,b):y.value))});return te.createElement(Gt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,a=n.tick;return!i||!i.length?null:te.createElement(Gt,{className:Tt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return te.isValidElement(n)?a=te.cloneElement(n,i):xt(n)?a=n(i):a=te.createElement(cd,dg({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])})(k.PureComponent);Iw(kw,"displayName","PolarRadiusAxis");Iw(kw,"axisType","radiusAxis");Iw(kw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ju.apply(this,arguments)}function CB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(r),!0).forEach(function(n){Pw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pX(n.key),n)}}function mIe(t,e,r){return e&&EB(t.prototype,e),r&&EB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gIe(t,e,r){return e=Bx(e),yIe(t,hX()?Reflect.construct(e,r||[],Bx(t).constructor):e.apply(t,r))}function yIe(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vIe(t)}function vIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(t)}function xIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tk(t,e)}function Pw(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=bIe(t,"string");return Oh(e)=="symbol"?e:e+""}function bIe(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wIe=Math.PI/180,SB=1e-5,Ow=(function(t){function e(){return pIe(this,e),gIe(this,e,arguments)}return xIe(e,t),mIe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=_r(o,a,s,n.coordinate),p=_r(o,a,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*wIe),a;return o>SB?a=i==="outer"?"start":"end":o<-SB?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,a=n.radius,s=n.axisLine,l=n.axisLineType,c=Cu(Cu({},ct(this.props,!1)),{},{fill:"none"},ct(s,!1));if(l==="circle")return te.createElement(Nw,ju({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(p){return _r(i,o,a,p.coordinate)});return te.createElement(UNe,ju({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=ct(this.props,!1),f=ct(a,!1),p=Cu(Cu({},d),{},{fill:"none"},ct(s,!1)),g=o.map(function(x,y){var b=n.getTickLineCoord(x),_=n.getTickTextAnchor(x),C=Cu(Cu(Cu({textAnchor:_},d),{},{stroke:"none",fill:c},f),{},{index:y,payload:x,x:b.x2,y:b.y2});return te.createElement(Gt,ju({className:Tt("recharts-polar-angle-axis-tick",eX(a)),key:"tick-".concat(x.coordinate)},ld(n.props,x,y)),s&&te.createElement("line",ju({className:"recharts-polar-angle-axis-tick-line"},p,b)),a&&e.renderTickItem(a,C,l?l(x.value,y):x.value))});return te.createElement(Gt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,a=n.axisLine;return o<=0||!i||!i.length?null:te.createElement(Gt,{className:Tt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var a;return te.isValidElement(n)?a=te.cloneElement(n,i):xt(n)?a=n(i):a=te.createElement(cd,ju({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])})(k.PureComponent);Pw(Ow,"displayName","PolarAngleAxis");Pw(Ow,"axisType","angleAxis");Pw(Ow,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eT,TB;function _Ie(){if(TB)return eT;TB=1;var t=CK(),e=t(Object.getPrototypeOf,Object);return eT=e,eT}var tT,NB;function AIe(){if(NB)return tT;NB=1;var t=_l(),e=_Ie(),r=Al(),n="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return tT=c,tT}var CIe=AIe();const EIe=Yt(CIe);var rT,IB;function SIe(){if(IB)return rT;IB=1;var t=_l(),e=Al(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return rT=n,rT}var TIe=SIe();const NIe=Yt(TIe);function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vx.apply(this,arguments)}function IIe(t,e){return jIe(t)||OIe(t,e)||PIe(t,e)||kIe()}function kIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PIe(t,e){if(t){if(typeof t=="string")return kB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kB(t,e)}}function kB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function jIe(t){if(Array.isArray(t))return t}function PB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(r),!0).forEach(function(n){RIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RIe(t,e,r){return e=DIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DIe(t){var e=MIe(t,"string");return ny(e)=="symbol"?e:e+""}function MIe(t,e){if(ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jB=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},FIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LIe=function(e){var r=OB(OB({},FIe),e),n=k.useRef(),i=k.useState(-1),o=IIe(i,2),a=o[0],s=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,g=r.className,x=r.animationEasing,y=r.animationDuration,b=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var C=Tt("recharts-trapezoid",g);return _?te.createElement(ps,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:p,x:l,y:c},duration:y,animationEasing:x,isActive:_},function(E){var P=E.upperWidth,I=E.lowerWidth,T=E.height,N=E.x,S=E.y;return te.createElement(ps,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:x},te.createElement("path",Vx({},ct(r,!0),{className:C,d:jB(N,S,P,I,T),ref:n})))}):te.createElement("g",null,te.createElement("path",Vx({},ct(r,!0),{className:C,d:jB(l,c,d,f,p)})))},BIe=["option","shapeType","propTransformer","activeClassName","isActive"];function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function VIe(t,e){if(t==null)return{};var r=$Ie(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(r),!0).forEach(function(n){UIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UIe(t,e,r){return e=zIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zIe(t){var e=WIe(t,"string");return iy(e)=="symbol"?e:e+""}function WIe(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HIe(t,e){return $x($x({},e),t)}function qIe(t,e){return t==="symbols"}function DB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return te.createElement(tO,r);case"trapezoid":return te.createElement(LIe,r);case"sector":return te.createElement(nX,r);case"symbols":if(qIe(e))return te.createElement(b3,r);break;default:return null}}function GIe(t){return k.isValidElement(t)?t.props:t}function mX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?HIe:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=VIe(t,BIe),c;if(k.isValidElement(e))c=k.cloneElement(e,$x($x({},l),GIe(e)));else if(xt(e))c=e(l);else if(EIe(e)&&!NIe(e)){var d=i(e,l);c=te.createElement(DB,{shapeType:r,elementProps:d})}else{var f=l;c=te.createElement(DB,{shapeType:r,elementProps:f})}return s?te.createElement(Gt,{className:a},c):c}function jw(t,e){return e!=null&&"trapezoids"in t.props}function Rw(t,e){return e!=null&&"sectors"in t.props}function oy(t,e){return e!=null&&"points"in t.props}function KIe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function YIe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function XIe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function QIe(t,e){var r;return jw(t,e)?r=KIe:Rw(t,e)?r=YIe:oy(t,e)&&(r=XIe),r}function ZIe(t,e){var r;return jw(t,e)?r="trapezoids":Rw(t,e)?r="sectors":oy(t,e)&&(r="points"),r}function JIe(t,e){if(jw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return oy(t,e)?e.payload:{}}function eke(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=ZIe(r,e),o=JIe(r,e),a=n.filter(function(l,c){var d=qy(o,l),f=r.props[i].filter(function(x){var y=QIe(r,e);return y(x,e)}),p=r.props[i].indexOf(f[f.length-1]),g=c===p;return d&&g}),s=n.indexOf(a[a.length-1]);return s}var b1;function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lf.apply(this,arguments)}function MB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(r),!0).forEach(function(n){Fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yX(n.key),n)}}function rke(t,e,r){return e&&FB(t.prototype,e),r&&FB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nke(t,e,r){return e=Ux(e),ike(t,gX()?Reflect.construct(e,r||[],Ux(t).constructor):e.apply(t,r))}function ike(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oke(t)}function oke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gX=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(t)}function ake(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rk(t,e)}function Fo(t,e,r){return e=yX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yX(t){var e=ske(t,"string");return jh(e)=="symbol"?e:e+""}function ske(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var El=(function(t){function e(r){var n;return tke(this,e),n=nke(this,e,[r]),Fo(n,"pieRef",null),Fo(n,"sectorRefs",[]),Fo(n,"id",dp("recharts-pie-")),Fo(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xt(i)&&i()}),Fo(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ake(e,t),rke(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,d=ct(this.props,!1),f=ct(a,!1),p=ct(s,!1),g=a&&a.offsetRadius||20,x=n.map(function(y,b){var _=(y.startAngle+y.endAngle)/2,C=_r(y.cx,y.cy,y.outerRadius+g,_),E=yr(yr(yr(yr({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(C.x,y.cx)},C),P=yr(yr(yr(yr({},d),y),{},{fill:"none",stroke:y.fill},p),{},{index:b,points:[_r(y.cx,y.cy,y.outerRadius,_),C]}),I=l;return Et(l)&&Et(c)?I="value":Et(l)&&(I=c),te.createElement(Gt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,P,"line"),e.renderLabelItem(a,E,vn(y,I)))});return te.createElement(Gt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return n.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var f=i.isActiveIndex(d),p=l&&i.hasActiveIndex()?l:null,g=f?a:p,x=yr(yr({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return te.createElement(Gt,Lf({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ld(i.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),te.createElement(mX,Lf({option:g,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,p=f.prevSectors,g=f.prevIsAnimationActive;return te.createElement(ps,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,b=[],_=o&&o[0],C=_.startAngle;return o.forEach(function(E,P){var I=p&&p[P],T=P>0?go(E,"paddingAngle",0):0;if(I){var N=ao(I.endAngle-I.startAngle,E.endAngle-E.startAngle),S=yr(yr({},E),{},{startAngle:C+T,endAngle:C+N(y)+T});b.push(S),C=S.endAngle}else{var j=E.endAngle,B=E.startAngle,M=ao(0,j-B),L=M(y),F=yr(yr({},E),{},{startAngle:C+T,endAngle:C+L+T});b.push(F),C=F.endAngle}}),te.createElement(Gt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!qy(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,p=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(o||!a||!a.length||!Re(c)||!Re(d)||!Re(f)||!Re(p))return null;var y=Tt("recharts-pie",s);return te.createElement(Gt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){n.pieRef=_}},this.renderSectors(),l&&this.renderLabels(a),On.renderCallByParent(this.props,null,!1),(!g||x)&&il.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(te.isValidElement(n))return te.cloneElement(n,i);if(xt(n))return n(i);var a=Tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(jx,Lf({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,o){if(te.isValidElement(n))return te.cloneElement(n,i);var a=o;if(xt(n)&&(a=n(i),te.isValidElement(a)))return a;var s=Tt("recharts-pie-label-text",typeof n!="boolean"&&!xt(n)?n.className:"");return te.createElement(cd,Lf({},i,{alignmentBaseline:"middle",className:s}),a)}}])})(k.PureComponent);b1=El;Fo(El,"displayName","Pie");Fo(El,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ad.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fo(El,"parseDeltaAngle",function(t,e){var r=_i(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Fo(El,"getRealPieData",function(t){var e=t.data,r=t.children,n=ct(t,!1),i=yo(r,gw);return e&&e.length?e.map(function(o,a){return yr(yr(yr({payload:o},n),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return yr(yr({},n),o.props)}):[]});Fo(El,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,a=JY(i,o),s=n+Ai(t.cx,i,i/2),l=r+Ai(t.cy,o,o/2),c=Ai(t.innerRadius,a,0),d=Ai(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});Fo(El,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?yr(yr({},e.type.defaultProps),e.props):e.props,i=b1.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,a=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,g=Math.abs(n.minAngle),x=b1.parseCoordinateOfPie(n,r),y=b1.parseDeltaAngle(a,s),b=Math.abs(y),_=c;Et(c)&&Et(f)?(ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Et(c)&&(ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var C=i.filter(function(S){return vn(S,_,0)!==0}).length,E=(b>=360?C:C-1)*l,P=b-C*g-E,I=i.reduce(function(S,j){var B=vn(j,_,0);return S+(Re(B)?B:0)},0),T;if(I>0){var N;T=i.map(function(S,j){var B=vn(S,_,0),M=vn(S,d,j),L=(Re(B)?B:0)/I,F;j?F=N.endAngle+_i(y)*l*(B!==0?1:0):F=a;var $=F+_i(y)*((B!==0?g:0)+L*P),q=(F+$)/2,X=(x.innerRadius+x.outerRadius)/2,J=[{name:M,value:B,payload:S,dataKey:_,type:p}],H=_r(x.cx,x.cy,X,q);return N=yr(yr(yr({percent:L,cornerRadius:o,name:M,tooltipPayload:J,midAngle:q,middleRadius:X,tooltipPosition:H},S),x),{},{value:vn(S,_),startAngle:F,endAngle:$,payload:S,paddingAngle:_i(y)*l}),N})}return yr(yr({},x),{},{sectors:T,data:i})});var nT,LB;function lke(){if(LB)return nT;LB=1;var t=Math.ceil,e=Math.max;function r(n,i,o,a){for(var s=-1,l=e(t((i-n)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=n,n+=o;return c}return nT=r,nT}var iT,BB;function vX(){if(BB)return iT;BB=1;var t=VK(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return iT=n,iT}var oT,VB;function cke(){if(VB)return oT;VB=1;var t=lke(),e=mw(),r=vX();function n(i){return function(o,a,s){return s&&typeof s!="number"&&e(o,a,s)&&(a=s=void 0),o=r(o),a===void 0?(a=o,o=0):a=r(a),s=s===void 0?o<a?1:-1:r(s),t(o,a,s,i)}}return oT=n,oT}var aT,$B;function uke(){if($B)return aT;$B=1;var t=cke(),e=t();return aT=e,aT}var dke=uke();const zx=Yt(dke);function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){xX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xX(t,e,r){return e=fke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fke(t){var e=hke(t,"string");return ay(e)=="symbol"?e:e+""}function hke(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pke=["Webkit","Moz","O","ms"],mke=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=pke.reduce(function(o,a){return zB(zB({},o),{},xX({},a+n,r))},{});return i[e]=r,i};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wx.apply(this,arguments)}function WB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(r),!0).forEach(function(n){io(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wX(n.key),n)}}function yke(t,e,r){return e&&HB(t.prototype,e),r&&HB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vke(t,e,r){return e=Hx(e),xke(t,bX()?Reflect.construct(e,r||[],Hx(t).constructor):e.apply(t,r))}function xke(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bke(t)}function bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bX=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(t)}function wke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nk(t,e)}function nk(t,e){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nk(t,e)}function io(t,e,r){return e=wX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wX(t){var e=_ke(t,"string");return Rh(e)=="symbol"?e:e+""}function _ke(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ake=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=sg().domain(zx(0,l)).range([o,o+a-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},qB=function(e){return e.changedTouches&&!!e.changedTouches.length},Dh=(function(t){function e(r){var n;return gke(this,e),n=vke(this,e,[r]),io(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),io(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),io(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),io(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),io(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),io(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),io(n,"handleSlideDragStart",function(i){var o=qB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wke(e,t),yke(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,o),p=Math.max(i,o),g=e.getIndexInRange(a,f),x=e.getIndexInRange(a,p);return{startIndex:g-g%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=vn(o[n],s,n);return xt(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,p=l.startIndex,g=l.endIndex,x=l.onChange,y=n.pageX-o;y>0?y=Math.min(y,c+d-f-s,c+d-f-a):y<0&&(y=Math.max(y,c-a,c-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==p||b.endIndex!==g)&&x&&x(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=qB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,p=d.width,g=d.travellerWidth,x=d.onChange,y=d.gap,b=d.data,_={startX:this.state.startX,endX:this.state.endX},C=n.pageX-o;C>0?C=Math.min(C,f+p-g-c):C<0&&(C=Math.max(C,f-c)),_[a]=c+C;var E=this.getIndex(_),P=E.startIndex,I=E.endIndex,T=function(){var S=b.length-1;return a==="startX"&&(s>l?P%y===0:I%y===0)||s<l&&I===S||a==="endX"&&(s>l?I%y===0:P%y===0)||s>l&&I===S};this.setState(io(io({},a,c+C),"brushMoveStartX",n.pageX),function(){x&&T()&&x(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var g=s[p];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(io({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,c=n.stroke;return te.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=k.Children.only(c);return f?te.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,g=l.ariaLabel,x=l.data,y=l.startIndex,b=l.endIndex,_=Math.max(n,this.props.x),C=sT(sT({},ct(this.props,!1)),{},{x:_,y:c,width:d,height:f}),E=g||"Min value: ".concat((o=x[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return te.createElement(Gt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),s.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,C))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,p=d.endX,g=5,x={pointerEvents:"none",fill:c};return te.createElement(Gt,{className:"recharts-brush-texts"},te.createElement(cd,Wx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-g,y:a+s/2},x),this.getTextOfTick(i)),te.createElement(cd,Wx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+g,y:a+s/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,p=this.state,g=p.startX,x=p.endX,y=p.isTextActive,b=p.isSlideMoving,_=p.isTravellerMoving,C=p.isTravellerFocused;if(!i||!i.length||!Re(s)||!Re(l)||!Re(c)||!Re(d)||c<=0||d<=0)return null;var E=Tt("recharts-brush",o),P=te.Children.count(a)===1,I=mke("userSelect","none");return te.createElement(Gt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(y||b||_||C||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),te.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return te.isValidElement(n)?o=te.cloneElement(n,i):xt(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return sT({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Ake({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])})(k.PureComponent);io(Dh,"displayName","Brush");io(Dh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lT,GB;function Cke(){if(GB)return lT;GB=1;var t=T3();function e(r,n){var i;return t(r,function(o,a,s){return i=n(o,a,s),!i}),!!i}return lT=e,lT}var cT,KB;function Eke(){if(KB)return cT;KB=1;var t=yK(),e=_s(),r=Cke(),n=zi(),i=mw();function o(a,s,l){var c=n(a)?t:r;return l&&i(a,s,l)&&(s=void 0),c(a,e(s,3))}return cT=o,cT}var Ske=Eke();const Tke=Yt(Ske);var cs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},uT,YB;function Nke(){if(YB)return uT;YB=1;var t=DK();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return uT=e,uT}var dT,XB;function Ike(){if(XB)return dT;XB=1;var t=Nke(),e=jK(),r=_s();function n(i,o){var a={};return o=r(o,3),e(i,function(s,l,c){t(a,l,o(s,l,c))}),a}return dT=n,dT}var kke=Ike();const Pke=Yt(kke);var fT,QB;function Oke(){if(QB)return fT;QB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return fT=t,fT}var hT,ZB;function jke(){if(ZB)return hT;ZB=1;var t=T3();function e(r,n){var i=!0;return t(r,function(o,a,s){return i=!!n(o,a,s),i}),i}return hT=e,hT}var pT,JB;function Rke(){if(JB)return pT;JB=1;var t=Oke(),e=jke(),r=_s(),n=zi(),i=mw();function o(a,s,l){var c=n(a)?t:e;return l&&i(a,s,l)&&(s=void 0),c(a,r(s,3))}return pT=o,pT}var Dke=Rke();const _X=Yt(Dke);var Mke=["x","y"];function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ik.apply(this,arguments)}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){Fke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fke(t,e,r){return e=Lke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lke(t){var e=Bke(t,"string");return sy(e)=="symbol"?e:e+""}function Bke(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vke(t,e){if(t==null)return{};var r=$ke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $ke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uke(t,e){var r=t.x,n=t.y,i=Vke(t,Mke),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),p=parseInt(f,10);return Cm(Cm(Cm(Cm(Cm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function tV(t){return te.createElement(mX,ik({shapeType:"rectangle",propTransformer:Uke,activeClassName:"recharts-active-bar"},t))}var zke=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=Re(n)||f1e(n);return o?e(n,i):(o||dd(),r)}},Wke=["value","background"],AX;function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Hke(t,e){if(t==null)return{};var r=qke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qx.apply(this,arguments)}function rV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(r),!0).forEach(function(n){hc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EX(n.key),n)}}function Kke(t,e,r){return e&&nV(t.prototype,e),r&&nV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yke(t,e,r){return e=Gx(e),Xke(t,CX()?Reflect.construct(e,r||[],Gx(t).constructor):e.apply(t,r))}function Xke(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qke(t)}function Qke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CX=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(t)}function Zke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ok(t,e)}function ok(t,e){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ok(t,e)}function hc(t,e,r){return e=EX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EX(t){var e=Jke(t,"string");return Mh(e)=="symbol"?e:e+""}function Jke(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ky=(function(t){function e(){var r;Gke(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Yke(this,e,[].concat(i)),hc(r,"state",{isAnimationFinished:!1}),hc(r,"id",dp("recharts-bar-")),hc(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),hc(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Zke(e,t),Kke(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=ct(this.props,!1);return n&&n.map(function(f,p){var g=p===l,x=g?c:a,y=tn(tn(tn({},d),f),{},{isActive:g,option:x,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(Gt,qx({className:"recharts-bar-rectangle"},ld(i.props,f,p),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(p)}),te.createElement(tV,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state.prevData;return te.createElement(ps,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,y=o.map(function(b,_){var C=p&&p[_];if(C){var E=ao(C.x,b.x),P=ao(C.y,b.y),I=ao(C.width,b.width),T=ao(C.height,b.height);return tn(tn({},b),{},{x:E(x),y:P(x),width:I(x),height:T(x)})}if(a==="horizontal"){var N=ao(0,b.height),S=N(x);return tn(tn({},b),{},{y:b.y+b.height-S,height:S})}var j=ao(0,b.width),B=j(x);return tn(tn({},b),{},{width:B})});return te.createElement(Gt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!qy(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ct(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,p=Hke(c,Wke);if(!f)return null;var g=tn(tn(tn(tn(tn({},p),{},{fill:"#eee"},f),l),ld(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return te.createElement(tV,qx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=yo(d,Gy);if(!f)return null;var p=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,_){var C=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:C,errorVal:vn(b,_)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return te.createElement(Gt,x,f.map(function(y){return te.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,p=n.height,g=n.isAnimationActive,x=n.background,y=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=Tt("recharts-bar",a),C=s&&s.allowDataOverflow,E=l&&l.allowDataOverflow,P=C||E,I=Et(y)?this.id:y;return te.createElement(Gt,{className:_},C||E?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(I)},te.createElement("rect",{x:C?c:c-f/2,y:E?d:d-p/2,width:C?f:f*2,height:E?p:p*2}))):null,te.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(I,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,I),(!g||b)&&il.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(k.PureComponent);AX=Ky;hc(Ky,"displayName","Bar");hc(Ky,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ad.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hc(Ky,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,g=TEe(n,r);if(!g)return null;var x=e.layout,y=r.type.defaultProps,b=y!==void 0?tn(tn({},y),r.props):r.props,_=b.dataKey,C=b.children,E=b.minPointSize,P=x==="horizontal"?a:o,I=c?P.scale.domain():null,T=REe({numericAxis:P}),N=yo(C,gw),S=f.map(function(j,B){var M,L,F,$,q,X;c?M=NEe(c[d+B],I):(M=vn(j,_),Array.isArray(M)||(M=[T,M]));var J=zke(E,AX.defaultProps.minPointSize)(M[1],B);if(x==="horizontal"){var H,oe=[a.scale(M[0]),a.scale(M[1])],z=oe[0],Q=oe[1];L=N9({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:j,index:B}),F=(H=Q??z)!==null&&H!==void 0?H:void 0,$=g.size;var ee=z-Q;if(q=Number.isNaN(ee)?0:ee,X={x:L,y:a.y,width:$,height:a.height},Math.abs(J)>0&&Math.abs(q)<Math.abs(J)){var W=_i(q||J)*(Math.abs(J)-Math.abs(q));F-=W,q+=W}}else{var xe=[o.scale(M[0]),o.scale(M[1])],Ne=xe[0],ie=xe[1];if(L=Ne,F=N9({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:j,index:B}),$=ie-Ne,q=g.size,X={x:o.x,y:F,width:o.width,height:q},Math.abs(J)>0&&Math.abs($)<Math.abs(J)){var se=_i($||J)*(Math.abs(J)-Math.abs($));$+=se}}return tn(tn(tn({},j),{},{x:L,y:F,width:$,height:q,value:c?M:M[1],payload:j,background:X},N&&N[B]&&N[B].props),{},{tooltipPayload:[QY(r,j)],tooltipPosition:{x:L+$/2,y:F+q/2}})});return tn({data:S,layout:x},p)});function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function ePe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SX(n.key),n)}}function tPe(t,e,r){return e&&iV(t.prototype,e),r&&iV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dw(t,e,r){return e=SX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SX(t){var e=rPe(t,"string");return ly(e)=="symbol"?e:e+""}function rPe(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nPe=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!oo(c,Ky);return d.reduce(function(g,x){var y=r[x],b=y.orientation,_=y.domain,C=y.padding,E=C===void 0?{}:C,P=y.mirror,I=y.reversed,T="".concat(b).concat(P?"Mirror":""),N,S,j,B,M;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var L=_[1]-_[0],F=1/0,$=y.categoricalDomain.sort(m1e);if($.forEach(function(xe,Ne){Ne>0&&(F=Math.min((xe||0)-($[Ne-1]||0),F))}),Number.isFinite(F)){var q=F/L,X=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(N=q*X/2),y.padding==="no-gap"){var J=Ai(e.barCategoryGap,q*X),H=q*X/2;N=H-J-(H-J)/X*J}}}i==="xAxis"?S=[n.left+(E.left||0)+(N||0),n.left+n.width-(E.right||0)-(N||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(N||0),n.top+n.height-(E.bottom||0)-(N||0)]:S=y.range,I&&(S=[S[1],S[0]]);var oe=GY(y,o,p),z=oe.scale,Q=oe.realScaleType;z.domain(_).range(S),KY(z);var ee=YY(z,ca(ca({},y),{},{realScaleType:Q}));i==="xAxis"?(M=b==="top"&&!P||b==="bottom"&&P,j=n.left,B=f[T]-M*y.height):i==="yAxis"&&(M=b==="left"&&!P||b==="right"&&P,j=f[T]-M*y.width,B=n.top);var W=ca(ca(ca({},y),ee),{},{realScaleType:Q,x:j,y:B,scale:z,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return W.bandSize=kx(W,ee),!y.hide&&i==="xAxis"?f[T]+=(M?-1:1)*W.height:y.hide||(f[T]+=(M?-1:1)*W.width),ca(ca({},g),{},Dw({},x,W))},{})},TX=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},iPe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return TX({x:r,y:n},{x:i,y:o})},NX=(function(){function t(e){ePe(this,t),this.scale=e}return tPe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Dw(NX,"EPS",1e-4);var rO=function(e){var r=Object.keys(e).reduce(function(n,i){return ca(ca({},n),{},Dw({},i,NX.create(e[i])))},{});return ca(ca({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Pke(i,function(l,c){return r[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return _X(i,function(o,a){return r[a].isInRange(o)})}})};function oPe(t){return(t%180+180)%180}var aPe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=oPe(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},mT,aV;function sPe(){if(aV)return mT;aV=1;var t=_s(),e=$y(),r=hw();function n(i){return function(o,a,s){var l=Object(o);if(!e(o)){var c=t(a,3);o=r(o),a=function(f){return c(l[f],f,l)}}var d=i(o,a,s);return d>-1?l[c?o[d]:d]:void 0}}return mT=n,mT}var gT,sV;function lPe(){if(sV)return gT;sV=1;var t=vX();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return gT=e,gT}var yT,lV;function cPe(){if(lV)return yT;lV=1;var t=NK(),e=_s(),r=lPe(),n=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),t(o,e(a,3),c)}return yT=i,yT}var vT,cV;function uPe(){if(cV)return vT;cV=1;var t=sPe(),e=cPe(),r=t(e);return vT=r,vT}var dPe=uPe();const fPe=Yt(dPe);var hPe=WG();const pPe=Yt(hPe);var mPe=pPe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nO=k.createContext(void 0),iO=k.createContext(void 0),IX=k.createContext(void 0),kX=k.createContext({}),PX=k.createContext(void 0),OX=k.createContext(0),jX=k.createContext(0),uV=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,d=mPe(o);return te.createElement(nO.Provider,{value:n},te.createElement(iO.Provider,{value:i},te.createElement(kX.Provider,{value:o},te.createElement(IX.Provider,{value:d},te.createElement(PX.Provider,{value:a},te.createElement(OX.Provider,{value:c},te.createElement(jX.Provider,{value:l},s)))))))},gPe=function(){return k.useContext(PX)},RX=function(e){var r=k.useContext(nO);r==null&&dd();var n=r[e];return n==null&&dd(),n},yPe=function(){var e=k.useContext(nO);return dc(e)},vPe=function(){var e=k.useContext(iO),r=fPe(e,function(n){return _X(n.domain,Number.isFinite)});return r||dc(e)},DX=function(e){var r=k.useContext(iO);r==null&&dd();var n=r[e];return n==null&&dd(),n},xPe=function(){var e=k.useContext(IX);return e},bPe=function(){return k.useContext(kX)},oO=function(){return k.useContext(jX)},aO=function(){return k.useContext(OX)};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function wPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function APe(t,e,r){return e&&_Pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CPe(t,e,r){return e=Kx(e),EPe(t,MX()?Reflect.construct(e,r||[],Kx(t).constructor):e.apply(t,r))}function EPe(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(t)}function SPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(t)}function TPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ak(t,e)}function dV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(r),!0).forEach(function(n){sO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sO(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=NPe(t,"string");return Fh(e)=="symbol"?e:e+""}function NPe(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IPe(t,e){return jPe(t)||OPe(t,e)||PPe(t,e)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PPe(t,e){if(t){if(typeof t=="string")return hV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hV(t,e)}}function hV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function jPe(t){if(Array.isArray(t))return t}function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sk.apply(this,arguments)}var RPe=function(e,r){var n;return te.isValidElement(e)?n=te.cloneElement(e,r):xt(e)?n=e(r):n=te.createElement("line",sk({},r,{className:"recharts-reference-line-line"})),n},DPe=function(e,r,n,i,o,a,s,l,c){var d=o.x,f=o.y,p=o.width,g=o.height;if(n){var x=c.y,y=e.y.apply(x,{position:a});if(cs(c,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+p,y},{x:d,y}];return l==="left"?b.reverse():b}if(r){var _=c.x,C=e.x.apply(_,{position:a});if(cs(c,"discard")&&!e.x.isInRange(C))return null;var E=[{x:C,y:f+g},{x:C,y:f}];return s==="top"?E.reverse():E}if(i){var P=c.segment,I=P.map(function(T){return e.apply(T,{position:a})});return cs(c,"discard")&&Tke(I,function(T){return!e.isInRange(T)})?null:I}return null};function MPe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=gPe(),d=RX(i),f=DX(o),p=xPe();if(!c||!p)return null;ba(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=rO({x:d.scale,y:f.scale}),x=bn(e),y=bn(r),b=n&&n.length===2,_=DPe(g,x,y,b,p,t.position,d.orientation,f.orientation,t);if(!_)return null;var C=IPe(_,2),E=C[0],P=E.x,I=E.y,T=C[1],N=T.x,S=T.y,j=cs(t,"hidden")?"url(#".concat(c,")"):void 0,B=fV(fV({clipPath:j},ct(t,!0)),{},{x1:P,y1:I,x2:N,y2:S});return te.createElement(Gt,{className:Tt("recharts-reference-line",s)},RPe(a,B),On.renderCallByParent(t,iPe({x1:P,y1:I,x2:N,y2:S})))}var lO=(function(t){function e(){return wPe(this,e),CPe(this,e,arguments)}return TPe(e,t),APe(e,[{key:"render",value:function(){return te.createElement(MPe,this.props)}}])})(te.Component);sO(lO,"displayName","ReferenceLine");sO(lO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lk.apply(this,arguments)}function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){Mw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BX(n.key),n)}}function BPe(t,e,r){return e&&LPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VPe(t,e,r){return e=Yx(e),$Pe(t,LX()?Reflect.construct(e,r||[],Yx(t).constructor):e.apply(t,r))}function $Pe(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UPe(t)}function UPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function Yx(t){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(t)}function zPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ck(t,e)}function Mw(t,e,r){return e=BX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BX(t){var e=WPe(t,"string");return Lh(e)=="symbol"?e:e+""}function WPe(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HPe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=rO({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return cs(e,"discard")&&!a.isInRange(s)?null:s},Fw=(function(t){function e(){return FPe(this,e),VPe(this,e,arguments)}return zPe(e,t),BPe(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,c=bn(i),d=bn(o);if(ba(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=HPe(this.props);if(!f)return null;var p=f.x,g=f.y,x=this.props,y=x.shape,b=x.className,_=cs(this.props,"hidden")?"url(#".concat(l,")"):void 0,C=mV(mV({clipPath:_},ct(this.props,!0)),{},{cx:p,cy:g});return te.createElement(Gt,{className:Tt("recharts-reference-dot",b)},e.renderDot(y,C),On.renderCallByParent(this.props,{x:p-a,y:g-a,width:2*a,height:2*a}))}}])})(te.Component);Mw(Fw,"displayName","ReferenceDot");Mw(Fw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mw(Fw,"renderDot",function(t,e){var r;return te.isValidElement(t)?r=te.cloneElement(t,e):xt(t)?r=t(e):r=te.createElement(Nw,lk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uk.apply(this,arguments)}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function gV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(r),!0).forEach(function(n){Lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$X(n.key),n)}}function KPe(t,e,r){return e&&GPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YPe(t,e,r){return e=Xx(e),XPe(t,VX()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function XPe(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(t)}function QPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function ZPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dk(t,e)}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dk(t,e)}function Lw(t,e,r){return e=$X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $X(t){var e=JPe(t,"string");return Bh(e)=="symbol"?e:e+""}function JPe(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e4e=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var p=rO({x:d.scale,y:f.scale}),g={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},x={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return cs(o,"discard")&&(!p.isInRange(g)||!p.isInRange(x))?null:TX(g,x)},Bw=(function(t){function e(){return qPe(this,e),YPe(this,e,arguments)}return ZPe(e,t),KPe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;ba(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bn(i),p=bn(o),g=bn(a),x=bn(s),y=this.props.shape;if(!f&&!p&&!g&&!x&&!y)return null;var b=e4e(f,p,g,x,this.props);if(!b&&!y)return null;var _=cs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return te.createElement(Gt,{className:Tt("recharts-reference-area",l)},e.renderRect(y,yV(yV({clipPath:_},ct(this.props,!0)),b)),On.renderCallByParent(this.props,b))}}])})(te.Component);Lw(Bw,"displayName","ReferenceArea");Lw(Bw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lw(Bw,"renderRect",function(t,e){var r;return te.isValidElement(t)?r=te.cloneElement(t,e):xt(t)?r=t(e):r=te.createElement(tO,uk({},e,{className:"recharts-reference-area-rect"})),r});function UX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function t4e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return aPe(n,r)}function r4e(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function Qx(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function n4e(t,e){return UX(t,e+1)}function i4e(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,c=1,d=a,f=function(){var x=n?.[l];if(x===void 0)return{v:UX(n,c)};var y=l,b,_=function(){return b===void 0&&(b=r(x,y)),b},C=x.coordinate,E=l===0||Qx(t,C,_,d,s);E||(l=0,d=a,c+=1),E&&(d=C+t*(_()/2+i),l+=c)},p;c<=o.length;)if(p=f(),p)return p.v;return[]}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){o4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o4e(t,e,r){return e=a4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a4e(t){var e=s4e(t,"string");return cy(e)=="symbol"?e:e+""}function s4e(t,e){if(cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l4e(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(p){var g=o[p],x,y=function(){return x===void 0&&(x=r(g,p)),x};if(p===a-1){var b=t*(g.coordinate+t*y()/2-l);o[p]=g=ni(ni({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[p]=g=ni(ni({},g),{},{tickCoord:g.coordinate});var _=Qx(t,g.tickCoord,y,s,l);_&&(l=g.tickCoord-t*(y()/2+i),o[p]=ni(ni({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function c4e(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var d=n[s-1],f=r(d,s-1),p=t*(d.coordinate+t*f/2-c);a[s-1]=d=ni(ni({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var g=Qx(t,d.tickCoord,function(){return f},l,c);g&&(c=d.tickCoord-t*(f/2+i),a[s-1]=ni(ni({},d),{},{isShow:!0}))}for(var x=o?s-1:s,y=function(C){var E=a[C],P,I=function(){return P===void 0&&(P=r(E,C)),P};if(C===0){var T=t*(E.coordinate-t*I()/2-l);a[C]=E=ni(ni({},E),{},{tickCoord:T<0?E.coordinate-T*t:E.coordinate})}else a[C]=E=ni(ni({},E),{},{tickCoord:E.coordinate});var N=Qx(t,E.tickCoord,I,l,c);N&&(l=E.tickCoord+t*(I()/2+i),a[C]=ni(ni({},E),{},{isShow:!0}))},b=0;b<x;b++)y(b);return a}function cO(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Re(l)||Ad.isSsr)return n4e(i,typeof l=="number"&&Re(l)?l:0);var p=[],g=s==="top"||s==="bottom"?"width":"height",x=d&&g==="width"?ag(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(E,P){var I=xt(c)?c(E.value,P):E.value;return g==="width"?t4e(ag(I,{fontSize:e,letterSpacing:r}),x,f):ag(I,{fontSize:e,letterSpacing:r})[g]},b=i.length>=2?_i(i[1].coordinate-i[0].coordinate):1,_=r4e(o,b,g);return l==="equidistantPreserveStart"?i4e(b,_,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=c4e(b,_,y,i,a,l==="preserveStartEnd"):p=l4e(b,_,y,i,a),p.filter(function(C){return C.isShow}))}var u4e=["viewBox"],d4e=["viewBox"],f4e=["ticks"];function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bf.apply(this,arguments)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){uO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xT(t,e){if(t==null)return{};var r=h4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WX(n.key),n)}}function m4e(t,e,r){return e&&bV(t.prototype,e),r&&bV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g4e(t,e,r){return e=Zx(e),y4e(t,zX()?Reflect.construct(e,r||[],Zx(t).constructor):e.apply(t,r))}function y4e(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v4e(t)}function v4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zX=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(t)}function x4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fk(t,e)}function uO(t,e,r){return e=WX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WX(t){var e=b4e(t,"string");return Vh(e)=="symbol"?e:e+""}function b4e(t,e){if(Vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gp=(function(t){function e(r){var n;return p4e(this,e),n=g4e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return x4e(e,t),m4e(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=xT(n,u4e),s=this.props,l=s.viewBox,c=xT(s,d4e);return!Qf(o,l)||!Qf(a,c)||!Qf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,p=i.tickMargin,g,x,y,b,_,C,E=f?-1:1,P=n.tickSize||d,I=Re(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":g=x=n.coordinate,b=a+ +!f*l,y=b-E*P,C=y-E*p,_=I;break;case"left":y=b=n.coordinate,x=o+ +!f*s,g=x-E*P,_=g-E*p,C=I;break;case"right":y=b=n.coordinate,x=o+ +f*s,g=x+E*P,_=g+E*p,C=I;break;default:g=x=n.coordinate,b=a+ +f*l,y=b+E*P,C=y+E*p,_=I;break}return{line:{x1:g,y1:y,x2:x,y2:b},tick:{x:_,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=fn(fn(fn({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=fn(fn({},f),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=fn(fn({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return te.createElement("line",Bf({},f,{className:Tt("recharts-cartesian-axis-line",go(d,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,g=cO(fn(fn({},this.props),{},{ticks:n}),i,o),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=ct(this.props,!1),_=ct(d,!1),C=fn(fn({},b),{},{fill:"none"},ct(l,!1)),E=g.map(function(P,I){var T=a.getTickLineCoord(P),N=T.line,S=T.tick,j=fn(fn(fn(fn({textAnchor:x,verticalAnchor:y},b),{},{stroke:"none",fill:c},_),S),{},{index:I,payload:P,visibleTicksCount:g.length,tickFormatter:f});return te.createElement(Gt,Bf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},ld(a.props,P,I)),l&&te.createElement("line",Bf({},C,N,{className:Tt("recharts-cartesian-axis-tick-line",go(l,"className"))})),d&&e.renderTickItem(d,j,"".concat(xt(f)?f(P.value,I):P.value).concat(p||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,p=f.ticks,g=xT(f,f4e),x=p;return xt(l)&&(x=p&&p.length>0?l(this.props):l(g)),a<=0||s<=0||!x||!x.length?null:te.createElement(Gt,{className:Tt("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a,s=Tt(i.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?a=te.cloneElement(n,fn(fn({},i),{},{className:s})):xt(n)?a=n(fn(fn({},i),{},{className:s})):a=te.createElement(cd,Bf({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(k.Component);uO(gp,"displayName","CartesianAxis");uO(gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var w4e=["x1","y1","x2","y2","key"],_4e=["offset"];function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function wV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(r),!0).forEach(function(n){A4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A4e(t,e,r){return e=C4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4e(t){var e=E4e(t,"string");return fd(e)=="symbol"?e:e+""}function E4e(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}function _V(t,e){if(t==null)return{};var r=S4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var T4e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return te.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HX(t,e){var r;if(te.isValidElement(t))r=te.cloneElement(t,e);else if(xt(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=_V(e,w4e),c=ct(l,!1);c.offset;var d=_V(c,_4e);r=te.createElement("line",$u({},d,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function N4e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ai(ai({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return HX(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function I4e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ai(ai({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return HX(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function k4e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==d[0]&&d.unshift(0);var f=d.map(function(p,g){var x=!d[g+1],y=x?i+a-p:d[g+1]-p;if(y<=0)return null;var b=g%e.length;return te.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function P4e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(p){return Math.round(p+o-o)}).sort(function(p,g){return p-g});o!==d[0]&&d.unshift(0);var f=d.map(function(p,g){var x=!d[g+1],y=x?o+s-p:d[g+1]-p;if(y<=0)return null;var b=g%n.length;return te.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:y,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var O4e=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return qY(cO(ai(ai(ai({},gp.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},j4e=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return qY(cO(ai(ai(ai({},gp.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},yf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function yp(t){var e,r,n,i,o,a,s=oO(),l=aO(),c=bPe(),d=ai(ai({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yf.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:yf.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:yf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:yf.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:yf.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:yf.verticalFill,x:Re(t.x)?t.x:c.left,y:Re(t.y)?t.y:c.top,width:Re(t.width)?t.width:c.width,height:Re(t.height)?t.height:c.height}),f=d.x,p=d.y,g=d.width,x=d.height,y=d.syncWithTicks,b=d.horizontalValues,_=d.verticalValues,C=yPe(),E=vPe();if(!Re(g)||g<=0||!Re(x)||x<=0||!Re(f)||f!==+f||!Re(p)||p!==+p)return null;var P=d.verticalCoordinatesGenerator||O4e,I=d.horizontalCoordinatesGenerator||j4e,T=d.horizontalPoints,N=d.verticalPoints;if((!T||!T.length)&&xt(I)){var S=b&&b.length,j=I({yAxis:E?ai(ai({},E),{},{ticks:S?b:E.ticks}):void 0,width:s,height:l,offset:c},S?!0:y);ba(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fd(j),"]")),Array.isArray(j)&&(T=j)}if((!N||!N.length)&&xt(P)){var B=_&&_.length,M=P({xAxis:C?ai(ai({},C),{},{ticks:B?_:C.ticks}):void 0,width:s,height:l,offset:c},B?!0:y);ba(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fd(M),"]")),Array.isArray(M)&&(N=M)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(T4e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),te.createElement(N4e,$u({},d,{offset:c,horizontalPoints:T,xAxis:C,yAxis:E})),te.createElement(I4e,$u({},d,{offset:c,verticalPoints:N,xAxis:C,yAxis:E})),te.createElement(k4e,$u({},d,{horizontalPoints:T})),te.createElement(P4e,$u({},d,{verticalPoints:N})))}yp.displayName="CartesianGrid";var R4e=["type","layout","connectNulls","ref"],D4e=["key"];function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function AV(t,e){if(t==null)return{};var r=M4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fg.apply(this,arguments)}function CV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(r),!0).forEach(function(n){ua(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vf(t){return V4e(t)||B4e(t)||L4e(t)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(t,e){if(t){if(typeof t=="string")return hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(t,e)}}function B4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V4e(t){if(Array.isArray(t))return hk(t)}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GX(n.key),n)}}function U4e(t,e,r){return e&&EV(t.prototype,e),r&&EV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z4e(t,e,r){return e=Jx(e),W4e(t,qX()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function W4e(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H4e(t)}function H4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function q4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pk(t,e)}function ua(t,e,r){return e=GX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){var e=G4e(t,"string");return $h(e)=="symbol"?e:e+""}function G4e(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vo=(function(t){function e(){var r;$4e(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=z4e(this,e,[].concat(i)),ua(r,"state",{isAnimationFinished:!0,totalLength:0}),ua(r,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),ua(r,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(_,C){return _+C});if(!c)return r.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/c),f=a%c,p=s-a,g=[],x=0,y=0;x<l.length;y+=l[x],++x)if(y+l[x]>f){g=[].concat(vf(l.slice(0,x)),[f-y]);break}var b=g.length%2===0?[0,p]:[p];return[].concat(vf(e.repeat(l,d)),vf(g),b).map(function(_){return"".concat(_,"px")}).join(", ")}),ua(r,"id",dp("recharts-line-")),ua(r,"pathRef",function(a){r.mainCurve=a}),ua(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ua(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q4e(e,t),U4e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=yo(d,Gy);if(!f)return null;var p=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:vn(y.payload,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return te.createElement(Gt,g,f.map(function(x){return te.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=ct(this.props,!1),p=ct(l,!0),g=c.map(function(y,b){var _=ro(ro(ro({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,_)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return te.createElement(Gt,fg({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(n,i,o,a){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=AV(s,R4e),p=ro(ro(ro({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},a),{},{type:l,layout:c,connectNulls:d});return te.createElement(jx,fg({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,g=a.animationId,x=a.animateNewValues,y=a.width,b=a.height,_=this.state,C=_.prevPoints,E=_.totalLength;return te.createElement(ps,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var I=P.t;if(C){var T=C.length/s.length,N=s.map(function(L,F){var $=Math.floor(F*T);if(C[$]){var q=C[$],X=ao(q.x,L.x),J=ao(q.y,L.y);return ro(ro({},L),{},{x:X(I),y:J(I)})}if(x){var H=ao(y*2,L.x),oe=ao(b/2,L.y);return ro(ro({},L),{},{x:H(I),y:oe(I)})}return ro(ro({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(N,n,i)}var S=ao(0,E),j=S(I),B;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});B=o.getStrokeDasharray(j,E,M)}else B=o.generateSimpleStrokeDasharray(E,j);return o.renderCurveStatically(s,n,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!c&&d>0||!qy(c,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,p=i.left,g=i.width,x=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,C=s.length===1,E=Tt("recharts-line",l),P=c&&c.allowDataOverflow,I=d&&d.allowDataOverflow,T=P||I,N=Et(b)?this.id:b,S=(n=ct(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},j=S.r,B=j===void 0?3:j,M=S.strokeWidth,L=M===void 0?2:M,F=C1e(a)?a:{},$=F.clipDot,q=$===void 0?!0:$,X=B*2+L;return te.createElement(Gt,{className:E},P||I?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(N)},te.createElement("rect",{x:P?p:p-g/2,y:I?f:f-x/2,width:P?g:g*2,height:I?x:x*2})),!q&&te.createElement("clipPath",{id:"clipPath-dots-".concat(N)},te.createElement("rect",{x:p-X/2,y:f-X/2,width:g+X,height:x+X}))):null,!C&&this.renderCurve(T,N),this.renderErrorBar(T,N),(C||a)&&this.renderDots(T,q,N),(!y||_)&&il.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(vf(n),[0]):n,a=[],s=0;s<i;++s)a=[].concat(vf(a),vf(o));return a}},{key:"renderDotItem",value:function(n,i){var o;if(te.isValidElement(n))o=te.cloneElement(n,i);else if(xt(n))o=n(i);else{var a=i.key,s=AV(i,D4e),l=Tt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=te.createElement(Nw,fg({key:a},s,{className:l}))}return o}}])})(k.PureComponent);ua(vo,"displayName","Line");ua(vo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ad.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ua(vo,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(p,g){var x=vn(p,a);return d==="horizontal"?{x:T9({axis:r,ticks:i,bandSize:s,entry:p,index:g}),y:Et(x)?null:n.scale(x),value:x,payload:p}:{x:Et(x)?null:r.scale(x),y:T9({axis:n,ticks:o,bandSize:s,entry:p,index:g}),value:x,payload:p}});return ro({points:f,layout:d},c)});function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function K4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XX(n.key),n)}}function X4e(t,e,r){return e&&Y4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q4e(t,e,r){return e=eb(e),Z4e(t,KX()?Reflect.construct(e,r||[],eb(t).constructor):e.apply(t,r))}function Z4e(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(t)}function J4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!t})()}function eb(t){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(t)}function e3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mk(t,e)}function YX(t,e,r){return e=XX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XX(t){var e=t3e(t,"string");return Uh(e)=="symbol"?e:e+""}function t3e(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gk.apply(this,arguments)}function r3e(t){var e=t.xAxisId,r=oO(),n=aO(),i=RX(e);return i==null?null:k.createElement(gp,gk({},i,{className:Tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Qs(a,!0)}}))}var Wc=(function(t){function e(){return K4e(this,e),Q4e(this,e,arguments)}return e3e(e,t),X4e(e,[{key:"render",value:function(){return k.createElement(r3e,this.props)}}])})(k.Component);YX(Wc,"displayName","XAxis");YX(Wc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function n3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JX(n.key),n)}}function o3e(t,e,r){return e&&i3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a3e(t,e,r){return e=tb(e),s3e(t,QX()?Reflect.construct(e,r||[],tb(t).constructor):e.apply(t,r))}function s3e(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l3e(t)}function l3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QX=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(t)}function c3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yk(t,e)}function ZX(t,e,r){return e=JX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JX(t){var e=u3e(t,"string");return zh(e)=="symbol"?e:e+""}function u3e(t,e){if(zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vk(){return vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vk.apply(this,arguments)}var d3e=function(e){var r=e.yAxisId,n=oO(),i=aO(),o=DX(r);return o==null?null:k.createElement(gp,vk({},o,{className:Tt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Qs(s,!0)}}))},Hc=(function(t){function e(){return n3e(this,e),a3e(this,e,arguments)}return c3e(e,t),o3e(e,[{key:"render",value:function(){return k.createElement(d3e,this.props)}}])})(k.Component);ZX(Hc,"displayName","YAxis");ZX(Hc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SV(t){return m3e(t)||p3e(t)||h3e(t)||f3e()}function f3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3e(t,e){if(t){if(typeof t=="string")return xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(t,e)}}function p3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m3e(t){if(Array.isArray(t))return xk(t)}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bk=function(e,r,n,i,o){var a=yo(e,lO),s=yo(e,Fw),l=[].concat(SV(a),SV(s)),c=yo(e,Bw),d="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(y,b){if(b.props[d]===n&&cs(b.props,"extendDomain")&&Re(b.props[f])){var _=b.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},p)),c.length){var g="".concat(f,"1"),x="".concat(f,"2");p=c.reduce(function(y,b){if(b.props[d]===n&&cs(b.props,"extendDomain")&&Re(b.props[g])&&Re(b.props[x])){var _=b.props[g],C=b.props[x];return[Math.min(y[0],_,C),Math.max(y[1],_,C)]}return y},p)}return o&&o.length&&(p=o.reduce(function(y,b){return Re(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},p)),p},bT={exports:{}},TV;function g3e(){return TV||(TV=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,p),x=r?r+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,x=new Array(g);p<g;p++)x[p]=f[p].fn;return x},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,p,g,x){var y=r?r+c:c;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,C,E;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,g),!0;case 6:return b.fn.call(b.context,d,f,p,g,x),!0}for(E=1,C=new Array(_-1);E<_;E++)C[E-1]=arguments[E];b.fn.apply(b.context,C)}else{var P=b.length,I;for(E=0;E<P;E++)switch(b[E].once&&this.removeListener(c,b[E].fn,void 0,!0),_){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,p);break;default:if(!C)for(I=1,C=new Array(_-1);I<_;I++)C[I-1]=arguments[I];b[E].fn.apply(b[E].context,C)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,p){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!p||x.once)&&(!f||x.context===f)&&a(this,g);else{for(var y=0,b=[],_=x.length;y<_;y++)(x[y].fn!==d||p&&!x[y].once||f&&x[y].context!==f)&&b.push(x[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(bT)),bT.exports}var y3e=g3e();const v3e=Yt(y3e);var wT=new v3e,_T="recharts.syncMouseEvents";function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function x3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eQ(n.key),n)}}function w3e(t,e,r){return e&&b3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AT(t,e,r){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQ(t){var e=_3e(t,"string");return uy(e)=="symbol"?e:e+""}function _3e(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A3e=(function(){function t(){x3e(this,t),AT(this,"activeIndex",0),AT(this,"coordinateList",[]),AT(this,"layout","horizontal")}return w3e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,p=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function C3e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Re(n)&&Re(i))return!0}return!1}function E3e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function tQ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=_r(e,r,n,i),s=_r(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function S3e(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,p=_r(s,l,c,f),g=_r(s,l,d,f);n=p.x,i=p.y,o=g.x,a=g.y}else return tQ(e);return[{x:n,y:i},{x:o,y:a}]}function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function NV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(r),!0).forEach(function(n){T3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T3e(t,e,r){return e=N3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N3e(t){var e=I3e(t,"string");return dy(e)=="symbol"?e:e+""}function I3e(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k3e(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var x,y=jx;if(p==="ScatterChart")x=a,y=QNe;else if(p==="BarChart")x=E3e(f,a,l,d),y=tO;else if(f==="radial"){var b=tQ(a),_=b.cx,C=b.cy,E=b.radius,P=b.startAngle,I=b.endAngle;x={cx:_,cy:C,startAngle:P,endAngle:I,innerRadius:E,outerRadius:E},y=nX}else x={points:S3e(f,a,l)},y=jx;var T=Hv(Hv(Hv(Hv({stroke:"#ccc",pointerEvents:"none"},l),x),ct(g,!1)),{},{payload:s,payloadIndex:c,className:Tt("recharts-tooltip-cursor",g.className)});return k.isValidElement(g)?k.cloneElement(g,T):k.createElement(y,T)}var P3e=["item"],O3e=["children","className","width","height","style","compact","title","desc"];function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vf.apply(this,arguments)}function IV(t,e){return D3e(t)||R3e(t,e)||nQ(t,e)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function D3e(t){if(Array.isArray(t))return t}function kV(t,e){if(t==null)return{};var r=M3e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iQ(n.key),n)}}function B3e(t,e,r){return e&&L3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V3e(t,e,r){return e=rb(e),$3e(t,rQ()?Reflect.construct(e,r||[],rb(t).constructor):e.apply(t,r))}function $3e(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3e(t)}function U3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(t)}function z3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wk(t,e)}function Hh(t){return q3e(t)||H3e(t)||nQ(t)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(t,e){if(t){if(typeof t=="string")return _k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _k(t,e)}}function H3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q3e(t){if(Array.isArray(t))return _k(t)}function _k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(r),!0).forEach(function(n){dt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dt(t,e,r){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iQ(t){var e=G3e(t,"string");return Wh(e)=="symbol"?e:e+""}function G3e(t,e){if(Wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K3e={xAxis:["bottom","top"],yAxis:["left","right"]},Y3e={width:"100%",height:"100%"},oQ={x:0,y:0};function qv(t){return t}var X3e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Q3e=function(e,r,n,i){var o=r.find(function(d){return d&&d.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return _e(_e(_e({},i),_r(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return _e(_e(_e({},i),_r(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return oQ},Vw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Hh(s),Hh(c)):s},[]);return a.length>0?a:e&&e.length&&Re(i)&&Re(o)?e.slice(i,o+1):[]};function aQ(t){return t==="number"?[0,"auto"]:void 0}var Ak=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Vw(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;p=ox(g,a.dataKey,i)}else p=f&&f[n]||s[n];return p?[].concat(Hh(l),[QY(c,p)]):l},[])},OV=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=X3e(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=wEe(a,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,p=Ak(e,r,d,f),g=Q3e(n,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:g}}return null},Z3e=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,g=HY(d,o);return n.reduce(function(x,y){var b,_=y.type.defaultProps!==void 0?_e(_e({},y.type.defaultProps),y.props):y.props,C=_.type,E=_.dataKey,P=_.allowDataOverflow,I=_.allowDuplicatedCategory,T=_.scale,N=_.ticks,S=_.includeHidden,j=_[a];if(x[j])return x;var B=Vw(e.data,{graphicalItems:i.filter(function(ee){var W,xe=a in ee.props?ee.props[a]:(W=ee.type.defaultProps)===null||W===void 0?void 0:W[a];return xe===j}),dataStartIndex:l,dataEndIndex:c}),M=B.length,L,F,$;C3e(_.domain,P,C)&&(L=FI(_.domain,null,P),g&&(C==="number"||T!=="auto")&&($=lg(B,E,"category")));var q=aQ(C);if(!L||L.length===0){var X,J=(X=_.domain)!==null&&X!==void 0?X:q;if(E){if(L=lg(B,E,C),C==="category"&&g){var H=p1e(L);I&&H?(F=L,L=zx(0,M)):I||(L=P9(J,L,y).reduce(function(ee,W){return ee.indexOf(W)>=0?ee:[].concat(Hh(ee),[W])},[]))}else if(C==="category")I?L=L.filter(function(ee){return ee!==""&&!Et(ee)}):L=P9(J,L,y).reduce(function(ee,W){return ee.indexOf(W)>=0||W===""||Et(W)?ee:[].concat(Hh(ee),[W])},[]);else if(C==="number"){var oe=SEe(B,i.filter(function(ee){var W,xe,Ne=a in ee.props?ee.props[a]:(W=ee.type.defaultProps)===null||W===void 0?void 0:W[a],ie="hide"in ee.props?ee.props.hide:(xe=ee.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Ne===j&&(S||!ie)}),E,o,d);oe&&(L=oe)}g&&(C==="number"||T!=="auto")&&($=lg(B,E,"category"))}else g?L=zx(0,M):s&&s[j]&&s[j].hasStack&&C==="number"?L=p==="expand"?[0,1]:XY(s[j].stackGroups,l,c):L=WY(B,i.filter(function(ee){var W=a in ee.props?ee.props[a]:ee.type.defaultProps[a],xe="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return W===j&&(S||!xe)}),C,d,!0);if(C==="number")L=bk(f,L,j,o,N),J&&(L=FI(J,L,P));else if(C==="category"&&J){var z=J,Q=L.every(function(ee){return z.indexOf(ee)>=0});Q&&(L=z)}}return _e(_e({},x),{},dt({},j,_e(_e({},_),{},{axisType:o,domain:L,categoricalDomain:$,duplicateDomain:F,originalDomain:(b=_.domain)!==null&&b!==void 0?b:q,isCategorical:g,layout:d})))},{})},J3e=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,p=Vw(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),g=p.length,x=HY(d,o),y=-1;return n.reduce(function(b,_){var C=_.type.defaultProps!==void 0?_e(_e({},_.type.defaultProps),_.props):_.props,E=C[a],P=aQ("number");if(!b[E]){y++;var I;return x?I=zx(0,g):s&&s[E]&&s[E].hasStack?(I=XY(s[E].stackGroups,l,c),I=bk(f,I,E,o)):(I=FI(P,WY(p,n.filter(function(T){var N,S,j=a in T.props?T.props[a]:(N=T.type.defaultProps)===null||N===void 0?void 0:N[a],B="hide"in T.props?T.props.hide:(S=T.type.defaultProps)===null||S===void 0?void 0:S.hide;return j===E&&!B}),"number",d),i.defaultProps.allowDataOverflow),I=bk(f,I,E,o)),_e(_e({},b),{},dt({},E,_e(_e({axisType:o},i.defaultProps),{},{hide:!0,orientation:go(K3e,"".concat(o,".").concat(y%2),null),domain:I,originalDomain:P,isCategorical:x,layout:d})))}return b},{})},eOe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),p=yo(d,o),g={};return p&&p.length?g=Z3e(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=J3e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},tOe=function(e){var r=dc(e),n=Qs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:N3(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:kx(r,n)}},jV=function(e){var r=e.children,n=e.defaultShowTooltip,i=oo(r,Dh),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},rOe=function(e){return!e||!e.length?!1:e.some(function(r){var n=rl(r&&r.type);return n&&n.indexOf("Bar")>=0})},RV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nOe=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,p=n.margin||{},g=oo(f,Dh),x=oo(f,xc),y=Object.keys(l).reduce(function(I,T){var N=l[T],S=N.orientation;return!N.mirror&&!N.hide?_e(_e({},I),{},dt({},S,I[S]+N.width)):I},{left:p.left||0,right:p.right||0}),b=Object.keys(a).reduce(function(I,T){var N=a[T],S=N.orientation;return!N.mirror&&!N.hide?_e(_e({},I),{},dt({},S,go(I,"".concat(S))+N.height)):I},{top:p.top||0,bottom:p.bottom||0}),_=_e(_e({},b),y),C=_.bottom;g&&(_.bottom+=g.props.height||Dh.defaultProps.height),x&&r&&(_=CEe(_,i,n,r));var E=c-_.left-_.right,P=d-_.top-_.bottom;return _e(_e({brushBottom:C},_),{},{width:Math.max(E,0),height:Math.max(P,0)})},iOe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},sQ=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(_,C){var E=C.graphicalItems,P=C.stackGroups,I=C.offset,T=C.updateId,N=C.dataStartIndex,S=C.dataEndIndex,j=_.barSize,B=_.layout,M=_.barGap,L=_.barCategoryGap,F=_.maxBarSize,$=RV(B),q=$.numericAxisName,X=$.cateAxisName,J=rOe(E),H=[];return E.forEach(function(oe,z){var Q=Vw(_.data,{graphicalItems:[oe],dataStartIndex:N,dataEndIndex:S}),ee=oe.type.defaultProps!==void 0?_e(_e({},oe.type.defaultProps),oe.props):oe.props,W=ee.dataKey,xe=ee.maxBarSize,Ne=ee["".concat(q,"Id")],ie=ee["".concat(X,"Id")],se={},we=l.reduce(function(Cr,Qr){var di=C["".concat(Qr.axisType,"Map")],Se=ee["".concat(Qr.axisType,"Id")];di&&di[Se]||Qr.axisType==="zAxis"||dd();var Ve=di[Se];return _e(_e({},Cr),{},dt(dt({},Qr.axisType,Ve),"".concat(Qr.axisType,"Ticks"),Qs(Ve)))},se),me=we[X],re=we["".concat(X,"Ticks")],le=P&&P[Ne]&&P[Ne].hasStack&&DEe(oe,P[Ne].stackGroups),G=rl(oe.type).indexOf("Bar")>=0,ge=kx(me,re),Ee=[],$e=J&&_Ee({barSize:j,stackGroups:P,totalSize:iOe(we,X)});if(G){var We,ut,ft=Et(xe)?F:xe,_t=(We=(ut=kx(me,re,!0))!==null&&ut!==void 0?ut:ft)!==null&&We!==void 0?We:0;Ee=AEe({barGap:M,barCategoryGap:L,bandSize:_t!==ge?_t:ge,sizeList:$e[ie],maxBarSize:ft}),_t!==ge&&(Ee=Ee.map(function(Cr){return _e(_e({},Cr),{},{position:_e(_e({},Cr.position),{},{offset:Cr.position.offset-_t/2})})}))}var gt=oe&&oe.type&&oe.type.getComposedData;gt&&H.push({props:_e(_e({},gt(_e(_e({},we),{},{displayedData:Q,props:_,dataKey:W,item:oe,bandSize:ge,barPosition:Ee,offset:I,stackedData:le,layout:B,dataStartIndex:N,dataEndIndex:S}))),{},dt(dt(dt({key:oe.key||"item-".concat(z)},q,we[q]),X,we[X]),"animationId",T)),childIndex:T1e(oe,_.children),item:oe})}),H},g=function(_,C){var E=_.props,P=_.dataStartIndex,I=_.dataEndIndex,T=_.updateId;if(!H8({props:E}))return null;var N=E.children,S=E.layout,j=E.stackOffset,B=E.data,M=E.reverseStackOrder,L=RV(S),F=L.numericAxisName,$=L.cateAxisName,q=yo(N,n),X=jEe(B,q,"".concat(F,"Id"),"".concat($,"Id"),j,M),J=l.reduce(function(ee,W){var xe="".concat(W.axisType,"Map");return _e(_e({},ee),{},dt({},xe,eOe(E,_e(_e({},W),{},{graphicalItems:q,stackGroups:W.axisType===F&&X,dataStartIndex:P,dataEndIndex:I}))))},{}),H=nOe(_e(_e({},J),{},{props:E,graphicalItems:q}),C?.legendBBox);Object.keys(J).forEach(function(ee){J[ee]=d(E,J[ee],H,ee.replace("Map",""),r)});var oe=J["".concat($,"Map")],z=tOe(oe),Q=p(E,_e(_e({},J),{},{dataStartIndex:P,dataEndIndex:I,updateId:T,graphicalItems:q,stackGroups:X,offset:H}));return _e(_e({formattedGraphicalItems:Q,graphicalItems:q,offset:H,stackGroups:X},z),J)},x=(function(b){function _(C){var E,P,I;return F3e(this,_),I=V3e(this,_,[C]),dt(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),dt(I,"accessibilityManager",new A3e),dt(I,"handleLegendBBoxUpdate",function(T){if(T){var N=I.state,S=N.dataStartIndex,j=N.dataEndIndex,B=N.updateId;I.setState(_e({legendBBox:T},g({props:I.props,dataStartIndex:S,dataEndIndex:j,updateId:B},_e(_e({},I.state),{},{legendBBox:T}))))}}),dt(I,"handleReceiveSyncEvent",function(T,N,S){if(I.props.syncId===T){if(S===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(N)}}),dt(I,"handleBrushChange",function(T){var N=T.startIndex,S=T.endIndex;if(N!==I.state.dataStartIndex||S!==I.state.dataEndIndex){var j=I.state.updateId;I.setState(function(){return _e({dataStartIndex:N,dataEndIndex:S},g({props:I.props,dataStartIndex:N,dataEndIndex:S,updateId:j},I.state))}),I.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),dt(I,"handleMouseEnter",function(T){var N=I.getMouseInfo(T);if(N){var S=_e(_e({},N),{},{isTooltipActive:!0});I.setState(S),I.triggerSyncEvent(S);var j=I.props.onMouseEnter;xt(j)&&j(S,T)}}),dt(I,"triggeredAfterMouseMove",function(T){var N=I.getMouseInfo(T),S=N?_e(_e({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(S),I.triggerSyncEvent(S);var j=I.props.onMouseMove;xt(j)&&j(S,T)}),dt(I,"handleItemMouseEnter",function(T){I.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),dt(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),dt(I,"handleMouseMove",function(T){T.persist(),I.throttleTriggeredAfterMouseMove(T)}),dt(I,"handleMouseLeave",function(T){I.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};I.setState(N),I.triggerSyncEvent(N);var S=I.props.onMouseLeave;xt(S)&&S(N,T)}),dt(I,"handleOuterEvent",function(T){var N=S1e(T),S=go(I.props,"".concat(N));if(N&&xt(S)){var j,B;/.*touch.*/i.test(N)?B=I.getMouseInfo(T.changedTouches[0]):B=I.getMouseInfo(T),S((j=B)!==null&&j!==void 0?j:{},T)}}),dt(I,"handleClick",function(T){var N=I.getMouseInfo(T);if(N){var S=_e(_e({},N),{},{isTooltipActive:!0});I.setState(S),I.triggerSyncEvent(S);var j=I.props.onClick;xt(j)&&j(S,T)}}),dt(I,"handleMouseDown",function(T){var N=I.props.onMouseDown;if(xt(N)){var S=I.getMouseInfo(T);N(S,T)}}),dt(I,"handleMouseUp",function(T){var N=I.props.onMouseUp;if(xt(N)){var S=I.getMouseInfo(T);N(S,T)}}),dt(I,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),dt(I,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&I.handleMouseDown(T.changedTouches[0])}),dt(I,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&I.handleMouseUp(T.changedTouches[0])}),dt(I,"handleDoubleClick",function(T){var N=I.props.onDoubleClick;if(xt(N)){var S=I.getMouseInfo(T);N(S,T)}}),dt(I,"handleContextMenu",function(T){var N=I.props.onContextMenu;if(xt(N)){var S=I.getMouseInfo(T);N(S,T)}}),dt(I,"triggerSyncEvent",function(T){I.props.syncId!==void 0&&wT.emit(_T,I.props.syncId,T,I.eventEmitterSymbol)}),dt(I,"applySyncEvent",function(T){var N=I.props,S=N.layout,j=N.syncMethod,B=I.state.updateId,M=T.dataStartIndex,L=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)I.setState(_e({dataStartIndex:M,dataEndIndex:L},g({props:I.props,dataStartIndex:M,dataEndIndex:L,updateId:B},I.state)));else if(T.activeTooltipIndex!==void 0){var F=T.chartX,$=T.chartY,q=T.activeTooltipIndex,X=I.state,J=X.offset,H=X.tooltipTicks;if(!J)return;if(typeof j=="function")q=j(H,T);else if(j==="value"){q=-1;for(var oe=0;oe<H.length;oe++)if(H[oe].value===T.activeLabel){q=oe;break}}var z=_e(_e({},J),{},{x:J.left,y:J.top}),Q=Math.min(F,z.x+z.width),ee=Math.min($,z.y+z.height),W=H[q]&&H[q].value,xe=Ak(I.state,I.props.data,q),Ne=H[q]?{x:S==="horizontal"?H[q].coordinate:Q,y:S==="horizontal"?ee:H[q].coordinate}:oQ;I.setState(_e(_e({},T),{},{activeLabel:W,activeCoordinate:Ne,activePayload:xe,activeTooltipIndex:q}))}else I.setState(T)}),dt(I,"renderCursor",function(T){var N,S=I.state,j=S.isTooltipActive,B=S.activeCoordinate,M=S.activePayload,L=S.offset,F=S.activeTooltipIndex,$=S.tooltipAxisBandSize,q=I.getTooltipEventType(),X=(N=T.props.active)!==null&&N!==void 0?N:j,J=I.props.layout,H=T.key||"_recharts-cursor";return te.createElement(k3e,{key:H,activeCoordinate:B,activePayload:M,activeTooltipIndex:F,chartName:r,element:T,isActive:X,layout:J,offset:L,tooltipAxisBandSize:$,tooltipEventType:q})}),dt(I,"renderPolarAxis",function(T,N,S){var j=go(T,"type.axisType"),B=go(I.state,"".concat(j,"Map")),M=T.type.defaultProps,L=M!==void 0?_e(_e({},M),T.props):T.props,F=B&&B[L["".concat(j,"Id")]];return k.cloneElement(T,_e(_e({},F),{},{className:Tt(j,F.className),key:T.key||"".concat(N,"-").concat(S),ticks:Qs(F,!0)}))}),dt(I,"renderPolarGrid",function(T){var N=T.props,S=N.radialLines,j=N.polarAngles,B=N.polarRadius,M=I.state,L=M.radiusAxisMap,F=M.angleAxisMap,$=dc(L),q=dc(F),X=q.cx,J=q.cy,H=q.innerRadius,oe=q.outerRadius;return k.cloneElement(T,{polarAngles:Array.isArray(j)?j:Qs(q,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(B)?B:Qs($,!0).map(function(z){return z.coordinate}),cx:X,cy:J,innerRadius:H,outerRadius:oe,key:T.key||"polar-grid",radialLines:S})}),dt(I,"renderLegend",function(){var T=I.state.formattedGraphicalItems,N=I.props,S=N.children,j=N.width,B=N.height,M=I.props.margin||{},L=j-(M.left||0)-(M.right||0),F=UY({children:S,formattedGraphicalItems:T,legendWidth:L,legendContent:c});if(!F)return null;var $=F.item,q=kV(F,P3e);return k.cloneElement($,_e(_e({},q),{},{chartWidth:j,chartHeight:B,margin:M,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),dt(I,"renderTooltip",function(){var T,N=I.props,S=N.children,j=N.accessibilityLayer,B=oo(S,vi);if(!B)return null;var M=I.state,L=M.isTooltipActive,F=M.activeCoordinate,$=M.activePayload,q=M.activeLabel,X=M.offset,J=(T=B.props.active)!==null&&T!==void 0?T:L;return k.cloneElement(B,{viewBox:_e(_e({},X),{},{x:X.left,y:X.top}),active:J,label:q,payload:J?$:[],coordinate:F,accessibilityLayer:j})}),dt(I,"renderBrush",function(T){var N=I.props,S=N.margin,j=N.data,B=I.state,M=B.offset,L=B.dataStartIndex,F=B.dataEndIndex,$=B.updateId;return k.cloneElement(T,{key:T.key||"_recharts-brush",onChange:$v(I.handleBrushChange,T.props.onChange),data:j,x:Re(T.props.x)?T.props.x:M.left,y:Re(T.props.y)?T.props.y:M.top+M.height+M.brushBottom-(S.bottom||0),width:Re(T.props.width)?T.props.width:M.width,startIndex:L,endIndex:F,updateId:"brush-".concat($)})}),dt(I,"renderReferenceElement",function(T,N,S){if(!T)return null;var j=I,B=j.clipPathId,M=I.state,L=M.xAxisMap,F=M.yAxisMap,$=M.offset,q=T.type.defaultProps||{},X=T.props,J=X.xAxisId,H=J===void 0?q.xAxisId:J,oe=X.yAxisId,z=oe===void 0?q.yAxisId:oe;return k.cloneElement(T,{key:T.key||"".concat(N,"-").concat(S),xAxis:L[H],yAxis:F[z],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:B})}),dt(I,"renderActivePoints",function(T){var N=T.item,S=T.activePoint,j=T.basePoint,B=T.childIndex,M=T.isRange,L=[],F=N.props.key,$=N.item.type.defaultProps!==void 0?_e(_e({},N.item.type.defaultProps),N.item.props):N.item.props,q=$.activeDot,X=$.dataKey,J=_e(_e({index:B,dataKey:X,cx:S.x,cy:S.y,r:4,fill:eO(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},ct(q,!1)),ax(q));return L.push(_.renderActiveDot(q,J,"".concat(F,"-activePoint-").concat(B))),j?L.push(_.renderActiveDot(q,_e(_e({},J),{},{cx:j.x,cy:j.y}),"".concat(F,"-basePoint-").concat(B))):M&&L.push(null),L}),dt(I,"renderGraphicChild",function(T,N,S){var j=I.filterFormatItem(T,N,S);if(!j)return null;var B=I.getTooltipEventType(),M=I.state,L=M.isTooltipActive,F=M.tooltipAxis,$=M.activeTooltipIndex,q=M.activeLabel,X=I.props.children,J=oo(X,vi),H=j.props,oe=H.points,z=H.isRange,Q=H.baseLine,ee=j.item.type.defaultProps!==void 0?_e(_e({},j.item.type.defaultProps),j.item.props):j.item.props,W=ee.activeDot,xe=ee.hide,Ne=ee.activeBar,ie=ee.activeShape,se=!!(!xe&&L&&J&&(W||Ne||ie)),we={};B!=="axis"&&J&&J.props.trigger==="click"?we={onClick:$v(I.handleItemMouseEnter,T.props.onClick)}:B!=="axis"&&(we={onMouseLeave:$v(I.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:$v(I.handleItemMouseEnter,T.props.onMouseEnter)});var me=k.cloneElement(T,_e(_e({},j.props),we));function re(Qr){return typeof F.dataKey=="function"?F.dataKey(Qr.payload):null}if(se)if($>=0){var le,G;if(F.dataKey&&!F.allowDuplicatedCategory){var ge=typeof F.dataKey=="function"?re:"payload.".concat(F.dataKey.toString());le=ox(oe,ge,q),G=z&&Q&&ox(Q,ge,q)}else le=oe?.[$],G=z&&Q&&Q[$];if(ie||Ne){var Ee=T.props.activeIndex!==void 0?T.props.activeIndex:$;return[k.cloneElement(T,_e(_e(_e({},j.props),we),{},{activeIndex:Ee})),null,null]}if(!Et(le))return[me].concat(Hh(I.renderActivePoints({item:j,activePoint:le,basePoint:G,childIndex:$,isRange:z})))}else{var $e,We=($e=I.getItemByXY(I.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:me},ut=We.graphicalItem,ft=ut.item,_t=ft===void 0?T:ft,gt=ut.childIndex,Cr=_e(_e(_e({},j.props),we),{},{activeIndex:gt});return[k.cloneElement(_t,Cr),null,null]}return z?[me,null,null]:[me,null]}),dt(I,"renderCustomized",function(T,N,S){return k.cloneElement(T,_e(_e({key:"recharts-customized-".concat(S)},I.props),I.state))}),dt(I,"renderMap",{CartesianGrid:{handler:qv,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:qv},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:qv},YAxis:{handler:qv},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((E=C.id)!==null&&E!==void 0?E:dp("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=$K(I.triggeredAfterMouseMove,(P=C.throttleDelay)!==null&&P!==void 0?P:1e3/60),I.state={},I}return z3e(_,b),B3e(_,[{key:"componentDidMount",value:function(){var E,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,P=E.children,I=E.data,T=E.height,N=E.layout,S=oo(P,vi);if(S){var j=S.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,M=Ak(this.state,I,j,B),L=this.state.tooltipTicks[j].coordinate,F=(this.state.offset.top+T)/2,$=N==="horizontal",q=$?{x:L,y:F}:{y:L,x:F},X=this.state.formattedGraphicalItems.find(function(H){var oe=H.item;return oe.type.name==="Scatter"});X&&(q=_e(_e({},q),X.props.points[j].tooltipPosition),M=X.props.points[j].tooltipPayload);var J={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:B,activePayload:M,activeCoordinate:q};this.setState(J),this.renderCursor(S),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var I,T;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(E){oI([oo(E.children,vi)],[oo(this.props.children,vi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=oo(this.props.children,vi);if(E&&typeof E.props.shared=="boolean"){var P=E.props.shared?"axis":"item";return s.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var P=this.container,I=P.getBoundingClientRect(),T=h2e(I),N={chartX:Math.round(E.pageX-T.left),chartY:Math.round(E.pageY-T.top)},S=I.width/P.offsetWidth||1,j=this.inRange(N.chartX,N.chartY,S);if(!j)return null;var B=this.state,M=B.xAxisMap,L=B.yAxisMap,F=this.getTooltipEventType(),$=OV(this.state,this.props.data,this.props.layout,j);if(F!=="axis"&&M&&L){var q=dc(M).scale,X=dc(L).scale,J=q&&q.invert?q.invert(N.chartX):null,H=X&&X.invert?X.invert(N.chartY):null;return _e(_e({},N),{},{xValue:J,yValue:H},$)}return $?_e(_e({},N),$):null}},{key:"inRange",value:function(E,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,N=E/I,S=P/I;if(T==="horizontal"||T==="vertical"){var j=this.state.offset,B=N>=j.left&&N<=j.left+j.width&&S>=j.top&&S<=j.top+j.height;return B?{x:N,y:S}:null}var M=this.state,L=M.angleAxisMap,F=M.radiusAxisMap;if(L&&F){var $=dc(L);return R9({x:N,y:S},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,P=this.getTooltipEventType(),I=oo(E,vi),T={};I&&P==="axis"&&(I.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=ax(this.props,this.handleOuterEvent);return _e(_e({},N),T)}},{key:"addListener",value:function(){wT.on(_T,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wT.removeListener(_T,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,P,I){for(var T=this.state.formattedGraphicalItems,N=0,S=T.length;N<S;N++){var j=T[N];if(j.item===E||j.props.key===E.key||P===rl(j.item.type)&&I===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,P=this.state.offset,I=P.left,T=P.top,N=P.height,S=P.width;return te.createElement("defs",null,te.createElement("clipPath",{id:E},te.createElement("rect",{x:I,y:T,height:N,width:S})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(P,I){var T=IV(I,2),N=T[0],S=T[1];return _e(_e({},P),{},dt({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(P,I){var T=IV(I,2),N=T[0],S=T[1];return _e(_e({},P),{},dt({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(E){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(E){var P=this.state,I=P.formattedGraphicalItems,T=P.activeItem;if(I&&I.length)for(var N=0,S=I.length;N<S;N++){var j=I[N],B=j.props,M=j.item,L=M.type.defaultProps!==void 0?_e(_e({},M.type.defaultProps),M.props):M.props,F=rl(M.type);if(F==="Bar"){var $=(B.data||[]).find(function(H){return PNe(E,H)});if($)return{graphicalItem:j,payload:$}}else if(F==="RadialBar"){var q=(B.data||[]).find(function(H){return R9(E,H)});if(q)return{graphicalItem:j,payload:q}}else if(jw(j,T)||Rw(j,T)||oy(j,T)){var X=eke({graphicalItem:j,activeTooltipItem:T,itemData:L.data}),J=L.activeIndex===void 0?X:L.activeIndex;return{graphicalItem:_e(_e({},j),{},{childIndex:J}),payload:oy(j,T)?L.data[X]:j.props.data[X]}}}return null}},{key:"render",value:function(){var E=this;if(!H8(this))return null;var P=this.props,I=P.children,T=P.className,N=P.width,S=P.height,j=P.style,B=P.compact,M=P.title,L=P.desc,F=kV(P,O3e),$=ct(F,!1);if(B)return te.createElement(uV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(sI,Vf({},$,{width:N,height:S,title:M,desc:L}),this.renderClipPath(),G8(I,this.renderMap)));if(this.props.accessibilityLayer){var q,X;$.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,$.role=(X=this.props.role)!==null&&X!==void 0?X:"application",$.onKeyDown=function(H){E.accessibilityManager.keyboardEvent(H)},$.onFocus=function(){E.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return te.createElement(uV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",Vf({className:Tt("recharts-wrapper",T),style:_e({position:"relative",cursor:"default",width:N,height:S},j)},J,{ref:function(oe){E.container=oe}}),te.createElement(sI,Vf({},$,{width:N,height:S,title:M,desc:L,style:Y3e}),this.renderClipPath(),G8(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);dt(x,"displayName",r),dt(x,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),dt(x,"getDerivedStateFromProps",function(b,_){var C=b.dataKey,E=b.data,P=b.children,I=b.width,T=b.height,N=b.layout,S=b.stackOffset,j=b.margin,B=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var L=jV(b);return _e(_e(_e({},L),{},{updateId:0},g(_e(_e({props:b},L),{},{updateId:0}),_)),{},{prevDataKey:C,prevData:E,prevWidth:I,prevHeight:T,prevLayout:N,prevStackOffset:S,prevMargin:j,prevChildren:P})}if(C!==_.prevDataKey||E!==_.prevData||I!==_.prevWidth||T!==_.prevHeight||N!==_.prevLayout||S!==_.prevStackOffset||!Qf(j,_.prevMargin)){var F=jV(b),$={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},q=_e(_e({},OV(_,E,N)),{},{updateId:_.updateId+1}),X=_e(_e(_e({},F),$),q);return _e(_e(_e({},X),g(_e({props:b},X),_)),{},{prevDataKey:C,prevData:E,prevWidth:I,prevHeight:T,prevLayout:N,prevStackOffset:S,prevMargin:j,prevChildren:P})}if(!oI(P,_.prevChildren)){var J,H,oe,z,Q=oo(P,Dh),ee=Q&&(J=(H=Q.props)===null||H===void 0?void 0:H.startIndex)!==null&&J!==void 0?J:B,W=Q&&(oe=(z=Q.props)===null||z===void 0?void 0:z.endIndex)!==null&&oe!==void 0?oe:M,xe=ee!==B||W!==M,Ne=!Et(E),ie=Ne&&!xe?_.updateId:_.updateId+1;return _e(_e({updateId:ie},g(_e(_e({props:b},_),{},{updateId:ie,dataStartIndex:ee,dataEndIndex:W}),_)),{},{prevChildren:P,dataStartIndex:ee,dataEndIndex:W})}return null}),dt(x,"renderActiveDot",function(b,_,C){var E;return k.isValidElement(b)?E=k.cloneElement(b,_):xt(b)?E=b(_):E=te.createElement(Nw,_),te.createElement(Gt,{className:"recharts-active-dot",key:C},E)});var y=k.forwardRef(function(_,C){return te.createElement(x,Vf({},_,{ref:C}))});return y.displayName=x.displayName,y},Yy=sQ({chartName:"LineChart",GraphicalChild:vo,axisComponents:[{axisType:"xAxis",AxisComp:Wc},{axisType:"yAxis",AxisComp:Hc}],formatAxisMap:nPe}),oOe=sQ({chartName:"PieChart",GraphicalChild:El,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ow},{axisType:"radiusAxis",AxisComp:kw}],formatAxisMap:HEe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const aOe=t=>"page"in t,sOe=t=>"action"in t,CT=t=>"href"in t;function Sl({onNavigate:t,onFeedbackClick:e}){const r=[{label:"Help",page:"help"},{label:"Feedback",action:"feedback"},{label:"Privacy",page:"privacy"},{label:"Terms",page:"terms"},{label:"GitHub",href:"https://github.com/itsjustgiio/FareFit",external:!0},{label:"LinkedIn",href:"https://www.linkedin.com/in/giovannicarrion/",external:!0}],n=(i,o)=>{aOe(i)&&t?(o.preventDefault(),t(i.page)):sOe(i)&&e&&(o.preventDefault(),e())};return u.jsx("footer",{className:"mt-auto pt-16",children:u.jsx("div",{className:"py-6 bg-gradient-to-t",style:{backgroundImage:"linear-gradient(to top, #2f7a59, #31835f)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"flex flex-wrap justify-center items-center gap-4 sm:gap-6",children:r.map((i,o)=>u.jsx("a",{href:CT(i)?i.href:"#",target:CT(i)?"_blank":void 0,rel:CT(i)?"noopener noreferrer":void 0,onClick:a=>n(i,a),className:"text-xs hover:text-white hover:underline underline-offset-4 transition-all cursor-pointer",style:{color:"white",opacity:.8},children:i.label},o))}),u.jsx("p",{className:"text-xs text-center",style:{color:"white",opacity:.6},children:"© 2025 FareFit — Helping you live healthier with AI."})]})})})})}var $w="Collapsible",[lOe]=Go($w),[cOe,dO]=lOe($w),lQ=k.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:o,onOpenChange:a,...s}=t,[l,c]=pl({prop:n,defaultProp:i??!1,onChange:a,caller:$w});return u.jsx(cOe,{scope:r,disabled:o,contentId:ss(),open:l,onOpenToggle:k.useCallback(()=>c(d=>!d),[c]),children:u.jsx(wt.div,{"data-state":hO(l),"data-disabled":o?"":void 0,...s,ref:e})})});lQ.displayName=$w;var cQ="CollapsibleTrigger",uQ=k.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=dO(cQ,r);return u.jsx(wt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":hO(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:pt(t.onClick,i.onOpenToggle)})});uQ.displayName=cQ;var fO="CollapsibleContent",dQ=k.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=dO(fO,t.__scopeCollapsible);return u.jsx(Bc,{present:r||i.open,children:({present:o})=>u.jsx(uOe,{...n,ref:e,present:o})})});dQ.displayName=fO;var uOe=k.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...o}=t,a=dO(fO,r),[s,l]=k.useState(n),c=k.useRef(null),d=Bt(e,c),f=k.useRef(0),p=f.current,g=k.useRef(0),x=g.current,y=a.open||s,b=k.useRef(y),_=k.useRef(void 0);return k.useEffect(()=>{const C=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(C)},[]),ln(()=>{const C=c.current;if(C){_.current=_.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const E=C.getBoundingClientRect();f.current=E.height,g.current=E.width,b.current||(C.style.transitionDuration=_.current.transitionDuration,C.style.animationName=_.current.animationName),l(n)}},[a.open,n]),u.jsx(wt.div,{"data-state":hO(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:y&&i})});function hO(t){return t?"open":"closed"}var dOe=lQ;function fOe({...t}){return u.jsx(dOe,{"data-slot":"collapsible",...t})}function hOe({...t}){return u.jsx(uQ,{"data-slot":"collapsible-trigger",...t})}function pOe({...t}){return u.jsx(dQ,{"data-slot":"collapsible-content",...t})}function mOe({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState("all"),[o,a]=k.useState(new Set(["Nutrition"])),[s,l]=k.useState(null),[c,d]=k.useState(null),[f,p]=k.useState(null),[g,x]=k.useState(!0),[y,b]=k.useState("");k.useEffect(()=>{(async()=>{try{x(!0);const we=or().currentUser;if(!we){b("User not logged in");return}await Gge(we.uid);const[me,re,le]=await Promise.all([qge(),Qge(we.uid),Zge(we.uid)]);l(me),d(re),p(le)}catch(se){b(se.message),console.error("Failed to fetch progress data:",se)}finally{x(!1)}})()},[]);const _=s?[{day:"Mon",consumed:s.days_consumed.monday||0,burned:s.days_burned.monday||0,net:s.days_net.monday||0,workout:s.days_burned.monday>0},{day:"Tue",consumed:s.days_consumed.tuesday||0,burned:s.days_burned.tuesday||0,net:s.days_net.tuesday||0,workout:s.days_burned.tuesday>0},{day:"Wed",consumed:s.days_consumed.wednesday||0,burned:s.days_burned.wednesday||0,net:s.days_net.wednesday||0,workout:s.days_burned.wednesday>0},{day:"Thu",consumed:s.days_consumed.thursday||0,burned:s.days_burned.thursday||0,net:s.days_net.thursday||0,workout:s.days_burned.thursday>0},{day:"Fri",consumed:s.days_consumed.friday||0,burned:s.days_burned.friday||0,net:s.days_net.friday||0,workout:s.days_burned.friday>0},{day:"Sat",consumed:s.days_consumed.saturday||0,burned:s.days_burned.saturday||0,net:s.days_net.saturday||0,workout:s.days_burned.saturday>0},{day:"Sun",consumed:s.days_consumed.sunday||0,burned:s.days_burned.sunday||0,net:s.days_net.sunday||0,workout:s.days_burned.sunday>0}]:[{day:"Mon",consumed:0,burned:0,net:0,workout:!1},{day:"Tue",consumed:0,burned:0,net:0,workout:!1},{day:"Wed",consumed:0,burned:0,net:0,workout:!1},{day:"Thu",consumed:0,burned:0,net:0,workout:!1},{day:"Fri",consumed:0,burned:0,net:0,workout:!1},{day:"Sat",consumed:0,burned:0,net:0,workout:!1},{day:"Sun",consumed:0,burned:0,net:0,workout:!1}],C=s?s.total_cals:0,E=s?s.total_burned:0,P=s?s.net_calories:0,I=s?s.total_workouts:0,T=[{name:"Nutrition",color:"#1C7C54",icon:"🥗",achievements:[{id:1,title:"Macro Master",description:"Hit protein goal 5 days in a row",earned:c?.macro_master||!1,mystery:!1},{id:2,title:"Protein Champion",description:"Hit protein goal for 30 days straight",earned:c?.protein_champ||!1,mystery:!1},{id:3,title:"Carb Control",description:"Stayed within carb range for 7 consecutive days",earned:c?.carb_control||!1,mystery:!1},{id:4,title:"Fat Balance",description:"Hit fat target for 10 days straight",earned:c?.fat_balance||!1,mystery:!1},{id:5,title:"Micronutrient Minded",description:"Logged 5 meals with fruits/veggies in a week",earned:c?.micronutr_minded||!1,mystery:!1},{id:6,title:"Clean Plate Club",description:"Logged 3 full meals + snacks for 7 days straight",earned:c?.clean_plate_club||!1,mystery:!1},{id:7,title:"Hydration Hero",description:"Drank 8+ glasses of water daily for a week",earned:c?.hydration_hero||!1,mystery:!1},{id:8,title:"Fiber Fiend",description:"Hit fiber goal 10 days total",earned:c?.fiber_fiend||!1,mystery:!1},{id:9,title:"Sugar Smart",description:"Stayed under sugar target for 7 consecutive days",earned:c?.sugar_smart||!1,mystery:!1},{id:10,title:"The Overachiever",description:"Exceed any macro goal by 20%",hint:"Go beyond your goal.",earned:!1,mystery:!0,discovered:!1}]},{name:"Workout & Fitness",color:"#4A90E2",icon:"💪",achievements:[{id:11,title:"Workout Warrior",description:"Complete 4 workouts in a week",earned:!0,mystery:!1},{id:12,title:"Iron Will",description:"Complete 20 workouts in a month",earned:!1,mystery:!1},{id:13,title:"Beast Mode",description:"Complete 100 total workouts",earned:!1,mystery:!1},{id:14,title:"No Days Off",description:"Work out 7 days in a row",earned:!1,mystery:!1},{id:15,title:"Consistency King",description:"Work out for 30 consecutive days",earned:!1,mystery:!1},{id:16,title:"Push Day Pro",description:"Log 10 push workouts",earned:!0,mystery:!1},{id:17,title:"Pull Day Performer",description:"Log 10 pull workouts",earned:!0,mystery:!1},{id:18,title:"Leg Day Legend",description:"Log 10 leg workouts",earned:!1,mystery:!1},{id:19,title:"Sweat Session",description:"Burn 500+ calories in one workout",earned:!0,mystery:!1},{id:20,title:"Summer Shred",description:"Maintain calorie deficit 10 days in June–Aug",hint:"Feel the heat.",earned:!1,mystery:!0,discovered:!1}]},{name:"Streak & Consistency",color:"#FF6B35",icon:"🔥",achievements:[{id:21,title:"7-Day Streak",description:"Log meals for 7 consecutive days",earned:!0,mystery:!1},{id:22,title:"Early Bird",description:"Log breakfast before 9 AM for 7 days",earned:!0,mystery:!1},{id:23,title:"Night Owl",description:"Log your last meal after 8 PM for 5 nights",earned:!1,mystery:!1},{id:24,title:"Routine Rookie",description:"Log activity or meals for 3 consecutive days",earned:!0,mystery:!1},{id:25,title:"The Streak Breaker",description:"Lose a streak but rebuild it again",hint:"Nobody's perfect.",earned:!1,mystery:!0,discovered:!0},{id:26,title:"Habit Hero",description:"Maintain any streak for 21 days",earned:!1,mystery:!1},{id:27,title:"Consistency Champion",description:"Log meals for 30 consecutive days",earned:!1,mystery:!1},{id:28,title:"Daily Devotee",description:"Use FitPanel 14 days in a row",earned:!0,mystery:!1},{id:29,title:"Dedication Destroyer",description:"Use FitPanel for 60 days straight",earned:!1,mystery:!1},{id:30,title:"The Comeback Kid",description:"Log in after 14 days away",hint:"They always come back…",earned:!0,mystery:!0,discovered:!0}]},{name:"Food Logging & Tracking",color:"#F4A460",icon:"📝",achievements:[{id:31,title:"Foodie Beginner",description:"Log your first meal",earned:!0,mystery:!1},{id:32,title:"Meal Machine",description:"Log 50 total meals",earned:!0,mystery:!1},{id:33,title:"Calorie Tracker",description:"Log 1,000 total calories in a day",earned:!0,mystery:!1},{id:34,title:"Balanced Bites",description:"Log a meal with all three macros",earned:!0,mystery:!1},{id:35,title:"Snack Strategist",description:"Log 20 snacks",earned:!1,mystery:!1},{id:36,title:"Prep Pro",description:"Log 5 custom recipes",earned:!1,mystery:!1},{id:37,title:"The Midnight Logger",description:"Log a meal between 12 AM–3 AM",hint:"For the night owls out there.",earned:!1,mystery:!0,discovered:!0},{id:38,title:"Weekend Logger",description:"Log every day Friday–Sunday",earned:!0,mystery:!1},{id:39,title:"Breakfast Bandit",description:"Log dessert in the morning",hint:"Who said cookies aren't breakfast?",earned:!1,mystery:!0,discovered:!1},{id:40,title:"Streak Chef",description:"Log breakfast, lunch, and dinner 7 days in a row",earned:!0,mystery:!1}]},{name:"Weight & Progress",color:"#9B59B6",icon:"⚖️",achievements:[{id:41,title:"First Step",description:"Set your first fitness goal",earned:!0,mystery:!1},{id:42,title:"Scale Shifter",description:"Lose or gain your first pound",earned:!0,mystery:!1},{id:43,title:"Milestone Marker",description:"Reach 5 pounds toward your goal",earned:!1,mystery:!1},{id:44,title:"Goal Crusher",description:"Hit your weight goal",earned:!1,mystery:!1},{id:45,title:"New Year, New Me",description:"Log 3 workouts in the first week of January",hint:"January holds surprises.",earned:!1,mystery:!0,discovered:!1}]},{name:"Community / AI Interaction",color:"#17A2B8",icon:"🤖",achievements:[{id:46,title:"Ask Barry",description:"Talk to Barry in the Help section for the first time",earned:!0,mystery:!1},{id:47,title:"AI Whisperer",description:"Chat with Barry 10+ times",hint:"Barry seems to like you.",earned:!1,mystery:!0,discovered:!1},{id:48,title:"Food Feedback",description:"Use Food AI to log a meal automatically",earned:!1,mystery:!1},{id:49,title:"Knowledge Seeker",description:"View a tip in the info section",earned:!0,mystery:!1},{id:50,title:"Feedback Friend",description:"Submit your first feedback form",earned:!0,mystery:!1}]},{name:"Mystery & Easter Eggs",color:"#6C5CE7",icon:"🎁",achievements:[{id:56,title:"Tap Tap Boom",description:"Click same button 10x fast",hint:"You're a little… curious.",earned:!1,mystery:!0,discovered:!1},{id:57,title:"Developer's Pet",description:"Find the hidden route",hint:"How did you even find this?",earned:!1,mystery:!0,discovered:!1}]}],N=T.flatMap(ie=>ie.achievements.map(se=>({...se,category:ie.name,color:ie.color,categoryIcon:ie.icon}))),S=N.filter(ie=>!ie.mystery),j=N.filter(ie=>ie.mystery),B=S.length,M=j.length,L=B+M,F=S.filter(ie=>ie.earned).length,$=j.filter(ie=>ie.earned).length,q=j.filter(ie=>ie.discovered||ie.earned).length,X=F+$,J=F/B*100,H=$/M*100,z=(ie=>ie>=50?{name:"Platinum",color:"#E5E4E2",icon:"💎"}:ie>=40?{name:"Gold",color:"#FFD700",icon:"🏆"}:ie>=25?{name:"Silver",color:"#C0C0C0",icon:"🥈"}:ie>=10?{name:"Bronze",color:"#CD7F32",icon:"🥉"}:{name:"Beginner",color:"#A8E6CF",icon:"🌱"})(X),Q=ie=>{const se=new Set(o);se.has(ie)?se.delete(ie):se.add(ie),a(se)},ee=()=>{a(new Set)},W=()=>{const ie=new Set(T.map(se=>se.name));a(ie)},xe=ie=>{if(i(ie),ie!=="all"){const se=T.filter(we=>we.achievements.some(re=>ie==="unlocked"?re.earned:ie==="locked"?!re.earned:!0)).map(we=>we.name);a(new Set(se))}},Ne=f?Math.max(f.protein_track_days||0,f.carbs_track_days||0,f.fats_track_days||0,f.loggedMeals_track_days||0,f.hyrdration_track_days||0):0;return g?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"var(--farefit-primary)"}}),u.jsx("p",{style:{color:"var(--farefit-text)"},children:"Loading your progress..."})]})}):y?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{style:{color:"var(--farefit-accent)"},children:["Error: ",y]}),u.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 rounded-md transition-colors",style:{backgroundColor:"var(--farefit-primary)",color:"white"},children:"Back to Dashboard"})]})}):u.jsxs("div",{className:"min-h-screen transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:u.jsxs("button",{onClick:t,className:"text-white hover:opacity-80 transition-opacity flex items-center gap-2",children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{style:{color:"var(--farefit-text)"},children:"Your Progress"}),u.jsx("p",{style:{color:"var(--farefit-subtext)"},children:"Track your weekly stats and achievements"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Consumed"}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-text)"},children:C.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"kcal this week"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Burned"}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-accent)"},children:E.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"kcal this week"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Net Calories"}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-primary)"},children:P.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"total this week"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(ore,{className:"w-4 h-4",style:{color:"var(--farefit-primary)"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Workouts"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-text)"},children:I}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"sessions"})]}),u.jsxs("div",{className:"rounded-lg p-5 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(mb,{className:"w-4 h-4",style:{color:"var(--farefit-accent)"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Streak"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"var(--farefit-text)"},children:Ne}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"days in a row"})]})]}),f&&u.jsxs("div",{className:"rounded-lg p-6 shadow-sm mb-6 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--farefit-text)"},children:"Current Streaks"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--farefit-primary)"},children:f.protein_track_days||0}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Protein Days"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--farefit-primary)"},children:f.carbs_track_days||0}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Carbs Days"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--farefit-primary)"},children:f.fats_track_days||0}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Fats Days"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--farefit-primary)"},children:f.fiber_track_days||0}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Fiber Days"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--farefit-text)"},children:"Daily Breakdown"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{style:{borderBottom:"2px solid var(--farefit-secondary)"},children:[u.jsx("th",{className:"text-left py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Day"}),u.jsx("th",{className:"text-right py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Consumed"}),u.jsx("th",{className:"text-right py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Burned"}),u.jsx("th",{className:"text-right py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Net"}),u.jsx("th",{className:"text-center py-3 px-2",style:{color:"var(--farefit-subtext)"},children:"Workout"})]})}),u.jsx("tbody",{children:_.map((ie,se)=>u.jsxs("tr",{style:{borderBottom:"1px solid var(--farefit-border)"},children:[u.jsx("td",{className:"py-3 px-2",style:{color:"var(--farefit-text)"},children:ie.day}),u.jsx("td",{className:"text-right py-3 px-2",style:{color:"var(--farefit-text)"},children:ie.consumed}),u.jsxs("td",{className:"text-right py-3 px-2",style:{color:"var(--farefit-accent)"},children:["-",ie.burned]}),u.jsx("td",{className:"text-right py-3 px-2",style:{color:"var(--farefit-primary)"},children:ie.net}),u.jsx("td",{className:"text-center py-3 px-2",children:ie.workout?u.jsx("span",{className:"inline-block w-6 h-6 rounded-full text-center",style:{backgroundColor:"var(--farefit-secondary)"},children:"✓"}):u.jsx("span",{style:{color:"var(--farefit-text)",opacity:.3},children:"-"})})]},se))})]})})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--farefit-text)"},children:"Weekly Trend"}),u.jsx(Eh,{width:"100%",height:300,children:u.jsxs(Yy,{data:_,children:[u.jsx(yp,{strokeDasharray:"3 3",stroke:"var(--farefit-border)"}),u.jsx(Wc,{dataKey:"day",stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(Hc,{stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)",borderRadius:"8px",color:"var(--farefit-text)"}}),u.jsx(xc,{}),u.jsx(vo,{type:"monotone",dataKey:"consumed",stroke:"var(--farefit-primary)",strokeWidth:2,dot:{fill:"var(--farefit-primary)",r:4},name:"Consumed"}),u.jsx(vo,{type:"monotone",dataKey:"burned",stroke:"var(--farefit-accent)",strokeWidth:2,dot:{fill:"var(--farefit-accent)",r:4},name:"Burned"}),u.jsx(vo,{type:"monotone",dataKey:"net",stroke:"var(--farefit-secondary)",strokeWidth:2,dot:{fill:"var(--farefit-secondary)",r:4},name:"Net"})]})})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm mb-6 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-1",style:{color:"var(--farefit-text)"},children:"🏆 Achievements"}),u.jsxs("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:[X," / ",L," unlocked (",q," mysteries discovered)"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-2xl",children:z.icon}),u.jsx("span",{style:{color:z.color},children:z.name})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)",opacity:.7},children:"FareFit Rank"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",style:{color:"var(--farefit-subtext)"},children:[u.jsx("span",{children:"Standard"}),u.jsxs("span",{children:[F,"/",B," (",Math.round(J),"%)"]})]}),u.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${J}%`,background:"linear-gradient(90deg, var(--farefit-primary) 0%, var(--farefit-secondary) 100%)"}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",style:{color:"var(--farefit-subtext)"},children:[u.jsx("span",{children:"Mystery"}),u.jsxs("span",{children:[$,"/",M," (",Math.round(H),"%)"]})]}),u.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${H}%`,background:"linear-gradient(90deg, #6C5CE7 0%, #A29BFE 100%)"}})})]})]}),u.jsx("p",{className:"text-sm text-center mt-4",style:{color:"var(--farefit-subtext)"},children:"Track your streaks, goals, and milestones to earn new badges!"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[u.jsxs("div",{className:"flex gap-3 flex-1 flex-wrap",children:[u.jsxs("button",{onClick:()=>xe("all"),className:"px-4 py-2 rounded-md text-sm transition-all",style:{backgroundColor:n==="all"?"var(--farefit-primary)":"var(--farefit-card)",borderWidth:"1px",borderStyle:"solid",borderColor:n==="all"?"var(--farefit-primary)":"var(--farefit-secondary)",color:n==="all"?"white":"var(--farefit-text)"},children:["All (",L,")"]}),u.jsxs("button",{onClick:()=>xe("unlocked"),className:"px-4 py-2 rounded-md text-sm transition-all",style:{backgroundColor:n==="unlocked"?"var(--farefit-primary)":"var(--farefit-card)",borderWidth:"1px",borderStyle:"solid",borderColor:n==="unlocked"?"var(--farefit-primary)":"var(--farefit-secondary)",color:n==="unlocked"?"white":"var(--farefit-text)"},children:["Unlocked (",X,")"]}),u.jsxs("button",{onClick:()=>xe("locked"),className:"px-4 py-2 rounded-md text-sm transition-all",style:{backgroundColor:n==="locked"?"var(--farefit-primary)":"var(--farefit-card)",borderWidth:"1px",borderStyle:"solid",borderColor:n==="locked"?"var(--farefit-primary)":"var(--farefit-secondary)",color:n==="locked"?"white":"var(--farefit-text)"},children:["Locked (",L-X,")"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:W,className:"px-4 py-2 rounded-md text-sm border transition-all",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:"Expand All"}),u.jsx("button",{onClick:ee,className:"px-4 py-2 rounded-md text-sm border transition-all",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:"Collapse All"})]})]}),T.map(ie=>{const se=ie.achievements.filter(le=>n==="unlocked"?le.earned:n==="locked"?!le.earned:!0);if(se.length===0)return null;const we=ie.achievements.filter(le=>le.earned).length,me=ie.achievements.length,re=o.has(ie.name);return u.jsx(fOe,{open:re,onOpenChange:()=>Q(ie.name),className:"mb-6",children:u.jsxs("div",{className:"rounded-lg shadow-sm overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsx(hOe,{className:"w-full",children:u.jsxs("div",{className:"flex items-center gap-3 p-4 transition-colors cursor-pointer",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xl flex-shrink-0",style:{backgroundColor:`${ie.color}20`},children:ie.icon}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("h3",{className:"mb-1",style:{color:"var(--farefit-text)"},children:ie.name}),u.jsxs("p",{className:"text-xs",style:{color:ie.color},children:[n==="all"&&`${we} / ${me} earned`,n==="unlocked"&&`${se.length} unlocked`,n==="locked"&&`${se.length} locked`]})]}),u.jsx("div",{className:"flex-shrink-0",children:re?u.jsx(pb,{className:"w-5 h-5",style:{color:"var(--farefit-subtext)"}}):u.jsx(al,{className:"w-5 h-5",style:{color:"var(--farefit-subtext)"}})})]})}),u.jsx(pOe,{className:"transition-all duration-300 ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",children:u.jsx("div",{className:"p-4 pt-0",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:se.map(le=>{const G=le.mystery,ge=le.discovered||le.earned,Ee=G&&!ge;return u.jsxs("div",{className:`rounded-lg p-4 transition-all relative overflow-hidden ${le.earned?"shadow-sm hover:shadow-md":"border border-dashed"}`,style:{backgroundColor:"var(--farefit-card)",borderWidth:le.earned?"2px":"1px",borderStyle:le.earned?"solid":"dashed",borderColor:le.earned?G?"#6C5CE7":ie.color:"var(--farefit-secondary)",opacity:le.earned?1:.6},children:[le.earned&&G&&u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(circle, #6C5CE7 0%, transparent 70%)",animation:"pulse 2s ease-in-out infinite"}})}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-xl flex-shrink-0 relative ${Ee?"blur-md":le.earned?"":"grayscale"}`,style:{backgroundColor:`${G?"#6C5CE7":ie.color}20`},children:Ee?"❓":G?"🎁":ie.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:`text-sm mb-1 ${Ee?"blur-sm":""}`,style:{color:"var(--farefit-text)"},children:Ee?"???":le.title}),u.jsx("p",{className:`text-xs ${Ee?"blur-sm":""}`,style:{color:"var(--farefit-subtext)"},children:Ee?"Keep tracking to uncover this secret.":le.description}),Ee&&le.hint&&u.jsxs("p",{className:"text-xs mt-2 italic",style:{color:"#6C5CE7",opacity:.8},children:["💡 Hint: ",le.hint]}),G&&ge&&!le.earned&&le.hint&&u.jsxs("p",{className:"text-xs mt-2 italic",style:{color:"#6C5CE7",opacity:.8},children:["💡 Hint: ",le.hint]}),le.earned&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:`${G?"#6C5CE7":ie.color}20`,color:G?"#6C5CE7":ie.color},children:[u.jsx("span",{children:G?"🎉":"✓"})," ",G?"Mystery Unlocked!":"Earned"]})}),!le.earned&&!Ee&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:G?"#6C5CE720":"var(--farefit-bg)",color:G?"#6C5CE7":"var(--farefit-text)",opacity:.6},children:["🔒 ",G?"Mystery Locked":"Locked"]})}),Ee&&u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:"text-xs px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:"#6C5CE720",color:"#6C5CE7",opacity:.8},children:"❓ Mystery"})})]})]})]},le.id)})})})})]})},ie.name)})]})]}),u.jsx(Sl,{onNavigate:e,onFeedbackClick:r})]})}function gOe({...t}){return u.jsx(r3,{"data-slot":"sheet",...t})}function yOe({...t}){return u.jsx(n3,{"data-slot":"sheet-portal",...t})}const fQ=k.forwardRef(({className:t,...e},r)=>u.jsx(Ly,{ref:r,"data-slot":"sheet-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));fQ.displayName=Ly.displayName;function vOe({className:t,children:e,side:r="right",...n}){return u.jsxs(yOe,{children:[u.jsx(fQ,{}),u.jsxs(i3,{"data-slot":"sheet-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,u.jsxs(rw,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[u.jsx(Zs,{className:"size-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xOe({className:t,...e}){return u.jsx("div",{"data-slot":"sheet-header",className:Nt("flex flex-col gap-1.5 p-4",t),...e})}function bOe({className:t,...e}){return u.jsx(o3,{"data-slot":"sheet-title",className:Nt("text-foreground font-semibold",t),...e})}function wOe({className:t,...e}){return u.jsx(a3,{"data-slot":"sheet-description",className:Nt("text-muted-foreground text-sm",t),...e})}function _Oe({isOpen:t,onClose:e}){const[r,n]=k.useState([{id:"1",text:"Hey there 👋 I'm Barry, your AI help assistant! I've got your back with anything FareFit-related. What can I help you with today?",sender:"barry",timestamp:new Date}]),[i,o]=k.useState(""),[a,s]=k.useState(!1),l=k.useRef(null),c=()=>{l.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{c()},[r]);const d=["How do I log a meal?","What's my Fitness Credit Score?","How to reset my password?","Can I scan barcodes?"],f=x=>{const y=x.toLowerCase();return y.includes("password")||y.includes("reset")?"No worries, it's easy! Just go to Settings > Account Security > Change Password. Enter your current password, then create a new one. You'll get a confirmation email once it's updated. 🔒":y.includes("log")&&(y.includes("meal")||y.includes("food"))?"Great question! Head to the Food Assistant card on your dashboard, then click 'Log Meal'. You can search for foods, scan barcodes, or even snap a photo and I'll identify it for you! 📸🍎":y.includes("barcode")||y.includes("scan")?"Yes! You can totally scan barcodes 📱 Just use the Food Assistant card on your dashboard and hit 'Scan Barcode'. Point your camera at any packaged food and boom — instant nutrition data logged. Pretty cool, right? 😎":y.includes("fitness")&&(y.includes("score")||y.includes("credit"))?"Your Fitness Credit Score is like your health report card! 📊 It tracks consistency (logging meals/workouts), hitting macro goals, workout frequency, and calorie balance over the past 30 days. The more consistent you are, the higher it goes! Keep crushing it 💪":y.includes("score")&&(y.includes("down")||y.includes("drop")||y.includes("lower"))?"Ah, I see! Your score might drop from inconsistent logging, missing workout days, or going way over your calorie goals. But don't sweat it — just get back on track! Check your Progress page for detailed insights. Small daily wins add up! 📈":y.includes("food ai")||y.includes("coach ai")||y.includes("ai")?"Ooh, AI talk! 🤖 Food AI helps you identify meals from photos, suggest recipes, and track nutrition. Coach AI analyzes your workouts, estimates calories burned, and gives you personalized tips. We're all here to help you crush your goals! You can also ask Coach AI for a daily workout plan if you'd like.":y.includes("workout")||y.includes("exercise")?"Let's get moving! 🏋️ Click the 'Log Workout' button in your Workout Overview card. You can describe your exercise in the notes-style editor, and Coach AI will estimate calories burned. Or manually enter your data if you have it from a fitness tracker. That's progress! Keep logging consistently 💪":y.includes("edit")&&y.includes("meal")?"Easy peasy! In the 'Meals Today' card, just click on any meal entry. You can adjust portion sizes, swap ingredients, or delete it entirely. Your calorie total updates automatically — pretty slick! 🍽️":y.includes("goal")||y.includes("change")?"Changing goals? No problem! Navigate to Dashboard > 'Set Your Fitness Goal' card at the bottom. Update your target weight, activity level, or calorie goals and changes take effect immediately. You got this! 🎯":y.includes("privacy")||y.includes("data")||y.includes("secure")?"Your data is totally safe with us! 🔐 Everything is encrypted and stored securely. We never sell your info to third parties. Only you can access your nutrition and fitness logs. Want to export your data? Just head to Settings > Privacy > Export Data.":"Hmm, I'm not 100% sure about that one, but I'm always learning! 🧠 Try rephrasing your question, or check out the FAQ categories above. You can also reach out to our support team at support@farefit.ai — they're awesome! Is there anything else I can help with?"},p=async()=>{if(!i.trim())return;const x={id:Date.now().toString(),text:i,sender:"user",timestamp:new Date};n(y=>[...y,x]),o(""),s(!0),setTimeout(()=>{const y={id:(Date.now()+1).toString(),text:f(i),sender:"barry",timestamp:new Date};n(b=>[...b,y]),s(!1)},800)},g=x=>{o(x)};return u.jsx(gOe,{open:t,onOpenChange:e,children:u.jsxs(vOe,{side:"right",className:"w-full sm:max-w-md p-0 flex flex-col",children:[u.jsx(xOe,{className:"px-6 py-4 border-b flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"#1C7C54"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:u.jsx(Wo,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx(bOe,{className:"text-white",children:"Barry"}),u.jsx(wOe,{className:"text-xs text-white",style:{opacity:.8},children:"Your AI Help Assistant"})]})]}),u.jsx("button",{onClick:e,className:"text-white hover:opacity-70 transition-opacity",children:u.jsx(Zs,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",style:{backgroundColor:"var(--bg-secondary)"},children:[r.map(x=>u.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${x.sender==="user"?"text-gray-800":"text-white"}`,style:{backgroundColor:x.sender==="barry"?"var(--accent-primary)":"var(--bg-primary)"},children:[u.jsx("p",{className:"text-sm leading-relaxed",children:x.text}),u.jsx("p",{className:"text-xs mt-1",style:{opacity:.6,color:x.sender==="barry"?"white":"var(--text-primary)"},children:x.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},x.id)),a&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"max-w-[80%] rounded-lg px-4 py-3 text-white",style:{backgroundColor:"var(--accent-primary)"},children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:l})]}),r.length===1&&u.jsxs("div",{className:"px-6 py-3 border-t flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#102A43",opacity:.7},children:"Quick questions:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((x,y)=>u.jsx("button",{onClick:()=>g(x),className:"text-xs px-3 py-1.5 rounded-full border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:x},y))})]}),u.jsxs("div",{className:"px-6 py-4 border-t flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Ask Barry anything...",className:"flex-1 px-4 py-2 border rounded-md text-sm",style:{borderColor:"#A8E6CF"}}),u.jsx("button",{onClick:p,disabled:!i.trim(),className:"px-4 py-2 rounded-md text-white transition-opacity disabled:opacity-50",style:{backgroundColor:"#1C7C54"},children:u.jsx(gP,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"#102A43",opacity:.5},children:"Psst! Barry's learning from your progress — soon he'll share insights right on your dashboard."})]})]})})}function AOe({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState(null),[o,a]=k.useState(!1),s=[{icon:DU,title:"Account & Settings",description:"Manage your profile, goals, and preferences",questions:[{question:"How do I reset my password?",answer:"Go to Settings > Account Security > Change Password. Enter your current password, then create a new one. You'll receive a confirmation email once it's updated."},{question:"How can I change my goals?",answer:"Navigate to Dashboard > Set Your Fitness Goal card at the bottom. Update your target weight, activity level, or calorie goals. Changes take effect immediately."},{question:"Update notification settings",answer:"Head to Settings > Notifications to customize when and how you receive reminders for meals, workouts, and AI tips. Toggle specific alerts on or off."}]},{icon:ol,title:"Food Logging",description:"Track meals and manage your nutrition",questions:[{question:"Can I scan barcodes?",answer:'Yes! Use the Food Assistant card on your dashboard. Click "Scan Barcode" and point your camera at any packaged food to instantly log nutrition data.'},{question:"How do I edit a logged meal?",answer:'In the "Meals Today" card, click on any meal entry. You can adjust portion sizes, swap ingredients, or delete the meal entirely. Changes update your calorie total automatically.'},{question:"Track custom recipes",answer:"Use Food AI to create custom recipes. Enter all ingredients and serving sizes, and the AI will calculate total macros and save it to your recipe library for quick logging."}]},{icon:IU,title:"AI Assistants",description:"Learn about Food AI and Coach AI features",questions:[{question:"What's Food AI?",answer:"Food AI is your smart nutrition assistant. It can identify foods from photos, suggest meal ideas based on your macros, and help you build custom recipes with accurate calorie tracking."},{question:"What can Coach AI do?",answer:"Coach AI analyzes your workout logs, estimates calories burned, suggests improvements to your fitness routine, and provides personalized tips based on your progress and goals."},{question:"How to get personalized tips",answer:"The AI Tip Banner shows smart suggestions based on your daily activity. For deeper insights, chat with Coach AI or Food AI directly—they learn from your habits over time."}]},{icon:oh,title:"Workouts & Recovery",description:"Log exercises and track your fitness",questions:[{question:"How do I track rest days?",answer:'In the Workout Overview card, click "Log Workout" and select "Rest Day" from the activity type. This helps maintain your fitness score by showing consistent recovery patterns.'},{question:"Can I add custom workouts?",answer:'Absolutely! Click "Log Workout" and use the notes-style editor to describe your exercise. Coach AI will estimate calories burned, or you can manually enter the data.'},{question:"Log workout calories",answer:"After logging a workout, Coach AI automatically estimates calories burned. You can also manually adjust this number if you have data from a fitness tracker or heart rate monitor."}]},{icon:wa,title:"Fitness Credit Score",description:"Understand your progress metrics",questions:[{question:"What affects my score?",answer:"Your Fitness Credit Score is based on consistency (logging meals/workouts), hitting macro goals, workout frequency, calorie balance, and overall trend over the past 30 days."},{question:"Why did it go down?",answer:"Scores drop from inconsistent logging, missing workout days, exceeding calorie goals significantly, or not meeting protein/macro targets. Check your Progress page for detailed insights."},{question:"How to improve my score",answer:"Log meals and workouts daily, hit your protein target, maintain a calorie deficit (if losing weight), exercise 3-5 times per week, and stay consistent. Small daily wins add up!"}]},{icon:If,title:"Privacy & Data",description:"Your data security and privacy options",questions:[{question:"Is my nutrition data private?",answer:"Yes. All your data is encrypted and stored securely. We never sell your information to third parties. Only you can access your nutrition and fitness logs."},{question:"Can I delete my account?",answer:"Go to Settings > Account > Delete Account. This permanently removes all your data from our servers. You'll receive a confirmation email before final deletion."},{question:"Export my data",answer:"Visit Settings > Privacy > Export Data to download a complete copy of your nutrition logs, workouts, and progress history in CSV or JSON format."}]}];return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--bg-secondary)"},children:[u.jsx("div",{className:"shadow-sm",style:{backgroundColor:"var(--bg-primary)",borderBottom:"1px solid var(--accent-light)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--text-primary)"},children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"mb-3",style:{color:"var(--text-primary)"},children:"Help Center"}),u.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"Hi there 👋 Let's get you the help you need."})]}),u.jsx("div",{className:"rounded-lg p-6 sm:p-8 shadow-sm mb-8",style:{backgroundColor:"var(--bg-primary)"},children:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(One,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:"var(--text-primary)",opacity:.4}}),u.jsx("input",{type:"text",placeholder:"Search for help...",className:"w-full pl-12 pr-4 py-3 border rounded-md",style:{borderColor:"var(--accent-light)"}})]}),u.jsx("div",{className:"text-center",children:u.jsx("span",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"or"})}),u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--accent-primary)"},children:[u.jsx(Wo,{className:"w-5 h-5"}),u.jsx("span",{children:"Ask Barry"})]}),u.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-tertiary)"},children:"Barry's your friendly AI assistant — he's got your back! 💪"})]})}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"var(--text-primary)"},children:"Common Topics"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,c)=>u.jsxs("div",{className:"rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",style:{backgroundColor:"var(--bg-primary)"},children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#1C7C5420"},children:u.jsx(l.icon,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"var(--text-primary)"},children:l.title}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:l.description}),u.jsx("div",{className:"space-y-2",children:l.questions.map((d,f)=>{const p=`${c}-${f}`,g=n===p;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>i(g?null:p),className:"w-full text-left flex items-start justify-between gap-2 p-2 rounded hover:bg-gray-50 transition-colors group",children:[u.jsx("span",{className:"text-sm flex-1",style:{color:"#1C7C54"},children:d.question}),u.jsx(al,{className:"w-4 h-4 flex-shrink-0 transition-transform mt-0.5",style:{color:"#1C7C54",transform:g?"rotate(180deg)":"rotate(0deg)"}})]}),u.jsx(yd,{children:g&&u.jsx(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:u.jsx("div",{className:"pl-4 pr-2 py-2 text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:d.answer})})})]},f)})})]},c))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--text-primary)"},children:"Troubleshooting"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border-color)"},children:[u.jsx("span",{style:{color:"var(--text-primary)"},children:"App not syncing?"}),u.jsx("button",{className:"px-4 py-2 rounded-md text-sm transition-opacity hover:opacity-90",style:{backgroundColor:"#A8E6CF",color:"var(--text-primary)"},children:"Refresh Data"})]}),u.jsxs("div",{className:"flex justify-between items-center py-3 border-b",style:{borderColor:"var(--border-color)"},children:[u.jsx("span",{style:{color:"var(--text-primary)"},children:"Missing meals or workouts?"}),u.jsx("button",{className:"px-4 py-2 rounded-md text-sm transition-opacity hover:opacity-90",style:{backgroundColor:"#A8E6CF",color:"var(--text-primary)"},children:"Recalculate"})]}),u.jsxs("div",{className:"flex justify-between items-center py-3",children:[u.jsx("span",{style:{color:"var(--text-primary)"},children:"Found a bug?"}),u.jsxs("button",{className:"px-4 py-2 rounded-md text-sm flex items-center gap-2 transition-opacity hover:opacity-90",style:{backgroundColor:"#FFB6B9",color:"var(--text-primary)"},children:[u.jsx(yre,{className:"w-4 h-4"}),"Report Issue"]})]})]})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#FFB6B920"},children:u.jsx(gg,{className:"w-6 h-6",style:{color:"#FFB6B9"}})}),u.jsx("h3",{className:"mb-2",style:{color:"var(--text-primary)"},children:"Email Support"}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Reach out to our team for personalized help"}),u.jsx("a",{href:"mailto:support@farefit.ai",className:"inline-block px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"var(--accent-light)",color:"#1C7C54"},children:"support@farefit.ai"})]})]})]}),u.jsx(Sl,{onNavigate:e,onFeedbackClick:r}),u.jsx(_Oe,{isOpen:o,onClose:()=>a(!1)})]})}var hQ="AlertDialog",[COe]=Go(hQ,[pG]),Tl=pG(),pQ=t=>{const{__scopeAlertDialog:e,...r}=t,n=Tl(e);return u.jsx(r3,{...n,...r,modal:!0})};pQ.displayName=hQ;var EOe="AlertDialogTrigger",SOe=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Tl(r);return u.jsx(j0e,{...i,...n,ref:e})});SOe.displayName=EOe;var TOe="AlertDialogPortal",mQ=t=>{const{__scopeAlertDialog:e,...r}=t,n=Tl(e);return u.jsx(n3,{...n,...r})};mQ.displayName=TOe;var NOe="AlertDialogOverlay",gQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Tl(r);return u.jsx(Ly,{...i,...n,ref:e})});gQ.displayName=NOe;var eh="AlertDialogContent",[IOe,kOe]=COe(eh),POe=Jq("AlertDialogContent"),yQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,o=Tl(r),a=k.useRef(null),s=Bt(e,a),l=k.useRef(null);return u.jsx(I0e,{contentName:eh,titleName:vQ,docsSlug:"alert-dialog",children:u.jsx(IOe,{scope:r,cancelRef:l,children:u.jsxs(i3,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:pt(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(POe,{children:n}),u.jsx(jOe,{contentRef:a})]})})})});yQ.displayName=eh;var vQ="AlertDialogTitle",xQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Tl(r);return u.jsx(o3,{...i,...n,ref:e})});xQ.displayName=vQ;var bQ="AlertDialogDescription",wQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Tl(r);return u.jsx(a3,{...i,...n,ref:e})});wQ.displayName=bQ;var OOe="AlertDialogAction",_Q=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Tl(r);return u.jsx(rw,{...i,...n,ref:e})});_Q.displayName=OOe;var AQ="AlertDialogCancel",CQ=k.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=kOe(AQ,r),o=Tl(r),a=Bt(e,i);return u.jsx(rw,{...o,...n,ref:a})});CQ.displayName=AQ;var jOe=({contentRef:t})=>{const e=`\`${eh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${eh}\` by passing a \`${bQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${eh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return k.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ROe=pQ,DOe=mQ,EQ=gQ,MOe=yQ,FOe=_Q,LOe=CQ,BOe=xQ,VOe=wQ;const DV=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,MV=Tt,SQ=(t,e)=>r=>{var n;if(e?.variants==null)return MV(t,r?.class,r?.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const d=r?.[c],f=o?.[c];if(d===null)return null;const p=DV(d)||DV(f);return i[c][p]}),s=r&&Object.entries(r).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...o,...s}[y]):{...o,...s}[y]===b})?[...c,f,p]:c},[]);return MV(t,a,l,r?.class,r?.className)},pO=SQ("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Gn({className:t,variant:e,size:r,asChild:n=!1,...i}){const o=n?Qq:"button";return u.jsx(o,{"data-slot":"button",className:Nt(pO({variant:e,size:r,className:t})),...i})}function TQ({...t}){return u.jsx(ROe,{"data-slot":"alert-dialog",...t})}function $Oe({...t}){return u.jsx(DOe,{"data-slot":"alert-dialog-portal",...t})}const NQ=k.forwardRef(({className:t,...e},r)=>u.jsx(EQ,{"data-slot":"alert-dialog-overlay",className:Nt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),ref:r,...e}));NQ.displayName=EQ.displayName;function IQ({className:t,...e}){return u.jsxs($Oe,{children:[u.jsx(NQ,{}),u.jsx(MOe,{"data-slot":"alert-dialog-content",className:Nt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function kQ({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-header",className:Nt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function PQ({className:t,...e}){return u.jsx("div",{"data-slot":"alert-dialog-footer",className:Nt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function OQ({className:t,...e}){return u.jsx(BOe,{"data-slot":"alert-dialog-title",className:Nt("text-lg font-semibold",t),...e})}function jQ({className:t,...e}){return u.jsx(VOe,{"data-slot":"alert-dialog-description",className:Nt("text-muted-foreground text-sm",t),...e})}function RQ({className:t,...e}){return u.jsx(FOe,{className:Nt(pO(),t),...e})}function DQ({className:t,...e}){return u.jsx(LOe,{className:Nt(pO({variant:"outline"}),t),...e})}function mO(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function gO(t){const[e,r]=k.useState(void 0);return ln(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;r({width:a,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Uw="Switch",[UOe]=Go(Uw),[zOe,WOe]=UOe(Uw),MQ=k.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=t,[p,g]=k.useState(null),x=Bt(e,E=>g(E)),y=k.useRef(!1),b=p?d||!!p.closest("form"):!0,[_,C]=pl({prop:i,defaultProp:o??!1,onChange:c,caller:Uw});return u.jsxs(zOe,{scope:r,checked:_,disabled:s,children:[u.jsx(wt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":VQ(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onClick:pt(t.onClick,E=>{C(P=>!P),b&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})}),b&&u.jsx(BQ,{control:p,bubbles:!y.current,name:n,value:l,checked:_,required:a,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});MQ.displayName=Uw;var FQ="SwitchThumb",LQ=k.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=WOe(FQ,r);return u.jsx(wt.span,{"data-state":VQ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});LQ.displayName=FQ;var HOe="SwitchBubbleInput",BQ=k.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},o)=>{const a=k.useRef(null),s=Bt(a,o),l=mO(r),c=gO(e);return k.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const x=new Event("click",{bubbles:n});g.call(d,r),d.dispatchEvent(x)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BQ.displayName=HOe;function VQ(t){return t?"checked":"unchecked"}var qOe=MQ,GOe=LQ;function Ya({className:t,...e}){return u.jsx(qOe,{"data-slot":"switch",className:Nt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(GOe,{"data-slot":"switch-thumb",className:Nt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var KOe="Label",$Q=k.forwardRef((t,e)=>u.jsx(wt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$Q.displayName=KOe;var YOe=$Q;function Pr({className:t,...e}){return u.jsx(YOe,{"data-slot":"label",className:Nt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function XOe({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState(!1),[o,a]=k.useState(!1),[s,l]=k.useState(!1),[c,d]=k.useState(!1),[f,p]=k.useState(!0),[g,x]=k.useState(!0),[y,b]=k.useState(!1),[_,C]=k.useState(!0),[E,P]=k.useState(!1),[I,T]=k.useState(!0),[N,S]=k.useState(!1),j=()=>{console.log("Account deletion requested"),i(!1)},B=()=>{const $=`Date,Meal,Calories,Protein,Carbs,Fat
2025-10-16,Breakfast Oats,450,15,65,12
2025-10-16,Grilled Chicken Salad,520,45,35,18
2025-10-16,Protein Shake,280,30,25,5`,q=new Blob([$],{type:"text/csv"}),X=window.URL.createObjectURL(q),J=document.createElement("a");J.href=X,J.download="fitpanel-data-export.csv",document.body.appendChild(J),J.click(),document.body.removeChild(J),window.URL.revokeObjectURL(X),d(!1)},M=[{icon:Wf,title:"Account Info",description:"Name, email, and login credentials"},{icon:ol,title:"Nutrition Data",description:"Meals, macros, and preferences you log"},{icon:oh,title:"Fitness Activity",description:"Workouts, progress scores, consistency stats"},{icon:T1,title:"Feedback & App Usage",description:"For improving features"}],L=[{type:"Meals & workouts",reason:"To personalize your AI recommendations"},{type:"Fitness Score",reason:"To track your consistency and progress"},{type:"Feedback",reason:"To improve FareFit features"},{type:"Account info",reason:"To secure your account and sync data"}],F=["All data encrypted in transit & storage","Secure JWT authentication","Passwords hashed with bcrypt","API calls protected via HTTPS"];return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"bg-white shadow-sm",style:{borderBottom:"1px solid #A8E6CF"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"#102A43"},children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(ah,{className:"w-8 h-8",style:{color:"#1C7C54"}}),u.jsx("h1",{style:{color:"#102A43"},children:"Your Privacy, Our Priority"})]}),u.jsx("p",{className:"text-lg mb-4",style:{color:"#102A43",opacity:.8},children:"We take your data seriously. FitPanel only collects what's needed to give you accurate insights — and you control it all."}),u.jsx("div",{className:"inline-block px-6 py-3 rounded-lg text-sm",style:{backgroundColor:"#1C7C5420",color:"#1C7C54"},children:"💚 We built FareFit with transparency first — no hidden tracking, no data selling."})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"What We Collect"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:M.map(($,q)=>u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#1C7C5420"},children:u.jsx($.icon,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:$.title}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:$.description})]},q))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"Why We Collect It"}),u.jsx("div",{className:"space-y-4",children:L.map(($,q)=>u.jsxs("div",{className:"flex justify-between items-center py-3 border-b last:border-b-0",style:{borderColor:"#E8F4F2"},children:[u.jsx("span",{style:{color:"#102A43"},children:$.type}),u.jsx("span",{className:"text-sm text-right max-w-xs",style:{color:"#1C7C54"},children:$.reason})]},q))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"Who Sees Your Data"}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#1C7C5420"},children:u.jsx(Wf,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("span",{className:"text-sm",style:{color:"#102A43"},children:"You"})]}),u.jsx("div",{className:"flex-1 h-0.5",style:{backgroundColor:"#A8E6CF"}}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#1C7C5420"},children:u.jsx(ah,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("span",{className:"text-sm",style:{color:"#102A43"},children:"FareFit"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Secure Storage"})]}),u.jsx("div",{className:"flex-1 h-0.5",style:{backgroundColor:"#A8E6CF"}}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{backgroundColor:"#1C7C5420"},children:u.jsx(If,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("span",{className:"text-sm",style:{color:"#102A43"},children:"AI Insights"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Aggregated Only"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"✅"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:[u.jsx("strong",{children:"Only you"})," — and the AI models working locally or via secure APIs"]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"❌"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:u.jsx("strong",{children:"We never sell your data"})})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"❌"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:u.jsx("strong",{children:"We don't share it with advertisers"})})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"📊"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:["Any analytics are ",u.jsx("strong",{children:"aggregated and anonymous"})," (used to understand app performance, not your habits)"]})]})]})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"mb-6",style:{color:"#102A43"},children:"Your Controls"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(sh,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Delete account or clear history anytime"}),u.jsx("button",{onClick:()=>i(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Delete Account"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(eN,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Disable analytics tracking"}),u.jsx("button",{onClick:()=>a(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Manage Privacy"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(xD,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Export your data as a .csv"}),u.jsx("button",{onClick:()=>d(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Download My Info"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx(If,{className:"w-5 h-5",style:{color:"#1C7C54"}})})}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Manage permissions (camera, microphone, etc.)"}),u.jsx("button",{onClick:()=>l(!0),className:"w-full px-4 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Manage Permissions"})]})]})]}),u.jsxs("div",{className:"rounded-lg p-6 sm:p-8 shadow-sm mb-10",style:{backgroundColor:"#102A4308",border:"1px solid #1C7C5430"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(If,{className:"w-6 h-6",style:{color:"#1C7C54"}}),u.jsx("h2",{className:"m-0",style:{color:"#102A43"},children:"How We Protect Your Data"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(($,q)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg",children:"🔐"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:$})]},q))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#1C7C5420"},children:u.jsx("span",{className:"text-xl",children:"🤖"})}),u.jsx("h2",{className:"m-0",style:{color:"#102A43"},children:"About AI in FareFit"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg flex-shrink-0",children:"💬"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:["AI suggestions (Food AI, Coach AI) use your data to generate insights but ",u.jsx("strong",{children:"never store your conversations permanently"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg flex-shrink-0",children:"🔒"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:[u.jsx("strong",{children:"No data is shared with external models"})," without your consent"]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-lg flex-shrink-0",children:"🧹"}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:["You can ",u.jsx("strong",{children:"clear AI history at any time"})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm text-center",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Have questions about your privacy?"}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs("a",{href:"mailto:privacy@fitpanel.ai",className:"inline-flex items-center gap-2 px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gg,{className:"w-5 h-5"}),u.jsx("span",{children:"privacy@fitpanel.ai"})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["🔄 We update this page if anything changes — last updated: ",u.jsx("strong",{children:"October 2025"})]})]})]})]}),u.jsx(TQ,{open:n,onOpenChange:i,children:u.jsxs(IQ,{children:[u.jsxs(kQ,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#FFB6B920"},children:u.jsx(FU,{className:"w-6 h-6",style:{color:"#FFB6B9"}})}),u.jsx(OQ,{style:{color:"#102A43"},children:"Delete Account"})]}),u.jsx(jQ,{asChild:!0,children:u.jsxs("div",{style:{color:"#102A43",opacity:.8},children:[u.jsx("div",{className:"mb-3",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers, including:"}),u.jsxs("ul",{className:"space-y-1 list-disc list-inside mb-3",children:[u.jsx("li",{children:"All logged meals and nutrition data"}),u.jsx("li",{children:"Workout history and progress"}),u.jsx("li",{children:"Fitness Credit Score history"}),u.jsx("li",{children:"AI conversation history"})]}),u.jsx("div",{children:"Are you absolutely sure you want to delete your account?"})]})})]}),u.jsxs(PQ,{children:[u.jsx(DQ,{style:{borderColor:"#A8E6CF"},children:"Cancel"}),u.jsx(RQ,{onClick:j,style:{backgroundColor:"#FFB6B9",color:"#102A43"},children:"Yes, Delete My Account"})]})]})}),u.jsx(bi,{open:o,onOpenChange:a,children:u.jsxs(wi,{children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Privacy Settings"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.7},children:"Control what data we collect to improve FareFit"})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"analytics",style:{color:"#102A43"},children:"Analytics Tracking"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Help us improve by sharing anonymous usage data"})]}),u.jsx(Ya,{id:"analytics",checked:f,onCheckedChange:p,style:{backgroundColor:f?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"crashes",style:{color:"#102A43"},children:"Crash Reports"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Automatically send crash reports to fix bugs"})]}),u.jsx(Ya,{id:"crashes",checked:g,onCheckedChange:x,style:{backgroundColor:g?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"marketing",style:{color:"#102A43"},children:"Marketing Emails"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Receive tips, updates, and feature announcements"})]}),u.jsx(Ya,{id:"marketing",checked:y,onCheckedChange:b,style:{backgroundColor:y?"#1C7C54":void 0}})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx("button",{onClick:()=>{console.log("Privacy settings saved:",{analyticsEnabled:f,crashReportsEnabled:g,marketingEnabled:y}),a(!1)},className:"px-6 py-2 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Save Changes"})]})]})}),u.jsx(bi,{open:c,onOpenChange:d,children:u.jsxs(wi,{children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Download Your Data"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.7},children:"Export a complete copy of your FitPanel data"})]}),u.jsxs("div",{className:"py-4",children:[u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43"},children:"Your export will include:"}),u.jsxs("ul",{className:"space-y-2 mb-6",children:[u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(ol,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"All logged meals and nutrition data"]}),u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(oh,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"Workout history and calories burned"]}),u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(If,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"Fitness Credit Score timeline"]}),u.jsxs("li",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43"},children:[u.jsx(Wf,{className:"w-4 h-4",style:{color:"#1C7C54"}}),"Account information"]})]}),u.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"#1C7C5410",border:"1px solid #1C7C5430"},children:u.jsxs("p",{className:"text-xs",style:{color:"#1C7C54"},children:["📄 Format: CSV (Comma-Separated Values)",u.jsx("br",{}),"💾 Size: ~2-5 KB",u.jsx("br",{}),"⚡ Ready in seconds"]})})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsxs("button",{onClick:B,className:"px-6 py-2 rounded-md text-white transition-opacity hover:opacity-90 flex items-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(xD,{className:"w-4 h-4"}),"Download Now"]})]})]})}),u.jsx(bi,{open:s,onOpenChange:l,children:u.jsxs(wi,{children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"App Permissions"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.7},children:"Control what FareFit can access on your device"})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx(Xu,{className:"w-5 h-5 mt-0.5",style:{color:"#1C7C54"}}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"camera",style:{color:"#102A43"},children:"Camera"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"For scanning barcodes and food photos"})]})]}),u.jsx(Ya,{id:"camera",checked:_,onCheckedChange:C,style:{backgroundColor:_?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx(dne,{className:"w-5 h-5 mt-0.5",style:{color:"#1C7C54"}}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"microphone",style:{color:"#102A43"},children:"Microphone"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"For voice commands (future feature)"})]})]}),u.jsx(Ya,{id:"microphone",checked:E,onCheckedChange:P,style:{backgroundColor:E?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx(T1,{className:"w-5 h-5 mt-0.5",style:{color:"#1C7C54"}}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"notifications",style:{color:"#102A43"},children:"Notifications"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Reminders for meals and workouts"})]})]}),u.jsx(Ya,{id:"notifications",checked:I,onCheckedChange:T,style:{backgroundColor:I?"#1C7C54":void 0}})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("div",{className:"w-5 h-5 mt-0.5 text-center",children:"📍"}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Pr,{htmlFor:"location",style:{color:"#102A43"},children:"Location"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.6},children:"Find nearby gyms and restaurants"})]})]}),u.jsx(Ya,{id:"location",checked:N,onCheckedChange:S,style:{backgroundColor:N?"#1C7C54":void 0}})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 rounded-md border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx("button",{onClick:()=>{console.log("Permissions saved:",{cameraEnabled:_,microphoneEnabled:E,notificationsEnabled:I,locationEnabled:N}),l(!1)},className:"px-6 py-2 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Save Changes"})]})]})}),u.jsx(Sl,{onNavigate:e,onFeedbackClick:r})]})}function QOe({onBack:t,onNavigate:e,onFeedbackClick:r}){const n=[{number:1,icon:mP,title:"Acceptance of Terms",content:["By accessing or using FareFit, you agree to these Terms of Use and our Privacy Policy.","If you don't agree, please stop using the app.","FareFit may update these terms occasionally — we'll notify you if major changes occur."]},{number:2,icon:Wf,title:"Eligibility & Accounts",content:["To use FitPanel, you must be at least 13 years old and capable of forming a legal agreement.","You're responsible for maintaining the confidentiality of your account credentials.","You agree not to share your account or use another user's credentials."]},{number:3,icon:FU,title:"App Purpose (Fitness Disclaimer)",highlight:!0,content:["FareFit provides nutrition and fitness tracking tools, AI-powered insights, and educational content.","It is not a substitute for professional medical advice, diagnosis, or treatment.","Always consult a qualified health provider before making major changes to your diet or exercise routine."]},{number:4,icon:nne,title:"User Responsibilities",content:["You agree to:","• Provide accurate and truthful information.","• Use the app for personal, non-commercial purposes.","• Respect other users and our community guidelines (if applicable).","• Not attempt to hack, reverse-engineer, or misuse the app's services."]},{number:5,icon:wD,title:"Intellectual Property",content:["All app content, including logos, graphics, text, AI systems, and design elements, are owned by FareFit.","You may not copy, redistribute, or resell them without permission.","However, the data you log (meals, workouts, notes) belongs to you."]},{number:6,icon:ah,title:"Data & Privacy",content:["Your data is handled according to our Privacy Policy.","We process your information only to provide the app's core features (nutrition tracking, progress scoring, and AI recommendations).","We do not sell or share personal information with third parties."]},{number:7,icon:Bre,title:"Subscription & Payment",content:["If FareFit introduces paid features, you'll be informed before purchase.","All payments will be processed securely and are non-refundable once the service period begins, unless required by law."]},{number:8,icon:If,title:"Limitation of Liability",content:["FitPanel and its creators are not liable for any damages or losses arising from app usage, data inaccuracies, or downtime.","By using the app, you understand that results are estimates and depend on your personal habits and input accuracy."]},{number:9,icon:Cne,title:"Modifications & Updates",content:["We may update or change FareFit's features, AI models, or Terms over time.","When we make major updates, we'll let you know through the app or by email.","Continued use after changes means you accept the new Terms."]},{number:10,icon:OU,title:"Termination of Use",content:["You may delete your account at any time.","FitPanel may suspend or terminate accounts that violate these terms or misuse the platform."]},{number:11,icon:kne,title:"Governing Law",content:["These Terms are governed by the laws of the United States and the State of New York.","Any disputes will be handled in accordance with applicable laws."]},{number:12,icon:gg,title:"Contact Us",content:["Have questions about these Terms?","📧 Contact us at legal@farefit.ai"]}];return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-background)"},children:[u.jsx("div",{style:{backgroundColor:"var(--color-card-bg)",borderBottom:"1px solid var(--color-border)",boxShadow:"var(--shadow-sm)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"var(--color-text)"},children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[u.jsx(wD,{className:"w-8 h-8",style:{color:"var(--color-primary)"}}),u.jsx("h1",{style:{color:"var(--color-text)"},children:"FitPanel Terms of Use"})]}),u.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--color-text)",opacity:.6},children:["Last updated: ",u.jsx("strong",{children:"October 2025"})]}),u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsx("p",{className:"text-lg mb-2",style:{color:"var(--color-text)",opacity:.9},children:"Welcome to FareFit!"}),u.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:"By using our app, you agree to these terms. Please read them carefully."})]})]}),u.jsx("div",{className:"space-y-6",children:n.map(i=>u.jsxs("div",{className:`rounded-lg p-6 sm:p-8 shadow-sm ${i.highlight?"border-2":""}`,style:{backgroundColor:i.highlight?"#FFB6B910":"var(--color-card-bg)",borderColor:i.highlight?"#FFB6B9":"transparent"},children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:i.highlight?"#FFB6B920":"var(--color-primary-light)"},children:u.jsx(i.icon,{className:"w-6 h-6",style:{color:i.highlight?"#FFB6B9":"var(--color-primary)"}})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-baseline gap-3 mb-3",children:[u.jsx("span",{className:"text-sm px-2 py-1 rounded",style:{backgroundColor:i.highlight?"#FFB6B920":"var(--color-primary-light)",color:i.highlight?"#FFB6B9":"var(--color-primary)"},children:i.number}),u.jsx("h2",{className:"m-0",style:{color:"var(--color-text)"},children:i.title})]}),u.jsx("div",{className:"space-y-3",children:i.content.map((o,a)=>u.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.85,whiteSpace:"pre-line"},children:o},a))})]})]}),i.highlight&&u.jsx("div",{className:"mt-4 p-4 rounded-md",style:{backgroundColor:"#FFB6B920"},children:u.jsxs("p",{className:"text-xs",style:{color:"var(--color-text)",opacity:.7},children:["⚠️ ",u.jsx("strong",{children:"Important:"})," This section is crucial for your safety and our legal protection. Please read carefully."]})})]},i.number))}),u.jsxs("div",{className:"mt-10 rounded-lg p-6 sm:p-8 shadow-sm text-center",style:{backgroundColor:"var(--color-card-bg)"},children:[u.jsx("h3",{className:"mb-4",style:{color:"var(--color-text)"},children:"Questions about our Terms?"}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs("a",{href:"mailto:legal@fitpanel.ai",className:"inline-flex items-center gap-2 px-6 py-3 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--color-primary)"},children:[u.jsx(gg,{className:"w-5 h-5"}),u.jsx("span",{children:"legal@fitpanel.ai"})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--color-text)",opacity:.6},children:"We're here to help clarify anything you need."})]})]}),u.jsx("div",{className:"mt-6 p-6 rounded-lg text-center",style:{backgroundColor:"var(--color-primary-light)",border:"1px solid var(--color-primary)"},children:u.jsx("p",{className:"text-sm",style:{color:"var(--color-primary)"},children:"✅ By continuing to use FareFit, you acknowledge that you have read, understood, and agree to these Terms of Use."})})]}),u.jsx(Sl,{onNavigate:e,onFeedbackClick:r})]})}function UQ({isOpen:t,onClose:e,status:r,plan:n,onViewFullPlan:i,onContinueToDashboard:o,error:a}){return r==="loading"?u.jsx(bi,{open:t,onOpenChange:e,children:u.jsx(wi,{className:"sm:max-w-md",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin"}),u.jsx(Wo,{className:"w-6 h-6 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-blue-500"})]}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🤖 AI is crafting your plan..."}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{className:"animate-pulse",children:"📊 Analyzing your goals..."}),u.jsx("p",{className:"animate-pulse delay-500",children:"🧮 Calculating nutrition targets..."}),u.jsx("p",{className:"animate-pulse delay-1000",children:"📋 Creating 4-week roadmap..."})]})]})]})})}):r==="error"?u.jsx(bi,{open:t,onOpenChange:e,children:u.jsx(wi,{className:"sm:max-w-md",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:"❌"})}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Plan Generation Failed"}),u.jsx("p",{className:"text-sm text-gray-600",children:a||"Something went wrong. Please try again."})]}),u.jsx(Gn,{onClick:e,className:"mt-4",style:{backgroundColor:"var(--farefit-primary)"},children:"Try Again"})]})})}):r==="ready"&&n?(n.planContent.weeks[0],u.jsx(bi,{open:t,onOpenChange:e,children:u.jsxs(wi,{className:"sm:max-w-lg",children:[u.jsxs(fo,{className:"text-center pb-6",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(mP,{className:"w-10 h-10 text-green-500"})})}),u.jsx(ho,{className:"text-2xl font-bold text-gray-900",children:"🎯 Your Personalized Plan is Ready!"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium mb-4",style:{backgroundColor:"#1C7C5415",color:"#1C7C54"},children:["Your goal: ",n.goalType==="cut"?"Cutting":n.goalType==="bulk"?"Bulking":"Maintaining"]})}),u.jsxs("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:"Daily calories:"}),u.jsxs("span",{className:"font-bold text-lg",children:[n.targetCalories.toLocaleString()," kcal"]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:"Protein:"}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-bold text-lg",children:[n.macros.protein,"g"]}),u.jsx("span",{className:"text-sm text-gray-600 block",children:"(muscle maintenance)"})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:"Carbs:"}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-bold text-lg",children:[n.macros.carbs,"g"]}),u.jsx("span",{className:"text-sm text-gray-600 block",children:"(energy)"})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:"Fat:"}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-bold text-lg",children:[n.macros.fat,"g"]}),u.jsx("span",{className:"text-sm text-gray-600 block",children:"(hormone health)"})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:"Fiber:"}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-bold text-lg",children:[n.macros.fiber,"g"]}),u.jsx("span",{className:"text-sm text-gray-600 block",children:"(digestion)"})]})]})]})]}),u.jsx("div",{className:"pt-6 border-t",children:u.jsx(Gn,{onClick:o,className:"w-full",style:{backgroundColor:"var(--farefit-primary)"},children:"Got it! Take me home"})})]})})):null}const ZOe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyATWSqiGWXIYxPBqK5pcmxSRBYnCNQ_7zs"};class zQ{apiKey;baseUrl="https://generativelanguage.googleapis.com/v1/models";constructor(e){this.apiKey=e}async chat(e,r="gemini-2.5-flash"){try{const n=`${this.baseUrl}/${r}:generateContent?key=${this.apiKey}`,i={contents:e,generationConfig:{temperature:.3,topK:20,topP:.8,maxOutputTokens:4096}};console.log("🤖 Gemini API Request:",{url:n.replace(this.apiKey,"***API_KEY***"),model:r,messageCount:e.length,firstMessagePreview:"text"in(e[0]?.parts[0]||{})?e[0].parts[0].text.substring(0,200)+"...":"[Image + Text]"});const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const s=await o.text();throw console.error("Gemini API Error Details:",{status:o.status,statusText:o.statusText,errorBody:s}),new Error(`Gemini API error (${o.status}): ${o.statusText} - ${s}`)}return(await o.json()).candidates?.[0]?.content?.parts?.[0]?.text||"Sorry, I could not generate a response."}catch(n){throw console.error("Error calling Gemini API:",n),n}}async*streamChat(e,r="gemini-2.5-flash"){const n=await fetch(`${this.baseUrl}/${r}:streamGenerateContent?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:e,generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:2048}})});if(!n.body)return;const i=n.body.getReader(),o=new TextDecoder("utf-8");let a="";for(;;){const{done:s,value:l}=await i.read();if(s)break;a+=o.decode(l,{stream:!0});const c=a.split(`
`);a=c.pop()||"";for(const d of c)if(!(!d.trim()||!d.startsWith("data: ")))try{const p=JSON.parse(d.slice(6)).candidates?.[0]?.content?.parts?.[0]?.text;p&&(yield p)}catch(f){console.warn("Stream parse error:",f)}}}async getFoodSuggestion(e,r){const i=[{role:"user",parts:[{text:`You are Food Assistant, a friendly nutrition coach in the FareFit app.

User's Context:
- Remaining calories: ${r.remainingCalories}
- Remaining protein: ${r.remainingProtein}g
- Remaining carbs: ${r.remainingCarbs}g
- Remaining fat: ${r.remainingFat}g
- Goal: ${r.goalType}
- Worked out today: ${r.hasWorkedOut}

Respond with:
1. A short analysis of how their nutrition looks so far.
2. 2–3 realistic food or meal suggestions to balance their macros.
3. Keep it conversational and motivational. Avoid strict dietary advice.`}]},{role:"user",parts:[{text:e}]}];return this.chat(i)}async getCoachAdvice(e,r){const i=[{role:"user",parts:[{text:`You are Coach AI, a fitness trainer in the FareFit app.

User's Profile:
- Goal: ${r.goalType}
- Experience: ${r.experienceLevel}
- Recent workouts: ${r.recentWorkouts?.join(", ")||"None logged"}

Provide specific, encouraging feedback and practical exercise advice.`}]},{role:"user",parts:[{text:e}]}];return this.chat(i)}async extractNutritionFromImage(e){try{const r=e.replace(/^data:image\/[a-z]+;base64,/,""),i=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Analyze this nutrition facts label image and extract the following information:

1. Product name (if visible on the label)
2. Brand name (if visible)
3. Serving size (e.g., "1 cup (240ml)", "2 cookies (28g)")
4. Calories per serving
5. Protein in grams
6. Total Carbohydrates in grams
7. Total Fat in grams
8. Dietary Fiber in grams

IMPORTANT:
- Return ONLY a valid JSON object, no markdown formatting, no explanation
- Use exact field names: productName, brandName, servingSize, calories, protein, carbs, fat, fiber
- If a value is not visible or unclear, use 0 for numbers and empty string for text
- For servingSize, include the unit (e.g., "1 cup (240ml)")

Example response format:
{"productName":"Protein Bar","brandName":"Quest","servingSize":"1 bar (60g)","calories":200,"protein":20,"carbs":22,"fat":8,"fiber":14}`},{inline_data:{mime_type:"image/jpeg",data:r}}]}],generationConfig:{temperature:.2,maxOutputTokens:512}})});if(!i.ok){const c=await i.text();throw console.error("❌ Gemini API error response:",c),new Error(`Gemini Vision API error (${i.status}): ${c}`)}const a=(await i.json()).candidates?.[0]?.content?.parts?.[0]?.text||"";console.log("🔍 Gemini Vision raw response:",a);const s=a.match(/\{[\s\S]*\}/);if(!s)throw new Error("No JSON found in Gemini response");const l=JSON.parse(s[0]);return console.log("✅ Parsed nutrition data:",l),{productName:l.productName||"",brandName:l.brandName||"",servingSize:l.servingSize||"1 serving",calories:Number(l.calories)||0,protein:Number(l.protein)||0,carbs:Number(l.carbs)||0,fat:Number(l.fat)||0,fiber:Number(l.fiber)||0}}catch(r){throw console.error("Error extracting nutrition from image:",r),r}}async generatePersonalizedPlan(e){const r={cut:"lose fat while preserving muscle",bulk:"build lean muscle mass with minimal fat gain",maintain:"maintain current weight and improve body composition"},i=[{role:"user",parts:[{text:`Create a fitness plan as JSON. Respond with ONLY this JSON structure and no other text:

{
  "summary": {
    "daily_calories": ${e.targetCalories},
    "macros": {
      "protein": ${e.macros.protein},
      "carbs": ${e.macros.carbs},
      "fat": ${e.macros.fat},
      "fiber": ${e.macros.fiber}
    },
    "goal_description": "${r[e.goalType]}"
  },
  "weeks": [
    {
      "week": 1,
      "focus": "Foundation Building",
      "nutrition": ["Track calories daily", "Eat protein with meals", "Stay hydrated"],
      "workouts": ["3x strength training", "2x cardio"],
      "motivation": "Start small, build consistency!"
    },
    {
      "week": 2,
      "focus": "Building Momentum", 
      "nutrition": ["Meal prep twice weekly", "Include vegetables", "Control portions"],
      "workouts": ["4x strength training", "2x cardio"],
      "motivation": "Consistency beats perfection."
    },
    {
      "week": 3,
      "focus": "Pushing Forward",
      "nutrition": ["Focus on whole foods", "Time nutrients", "Plan ahead"],
      "workouts": ["4x strength training", "3x cardio"],
      "motivation": "You're building lasting habits."
    },
    {
      "week": 4,
      "focus": "Finishing Strong",
      "nutrition": ["Trust the process", "Adjust as needed", "Celebrate progress"],
      "workouts": ["5x strength training", "3x cardio"],
      "motivation": "Strong finishes create strong beginnings."
    }
  ]
}`}]}],o=await this.chat(i,"gemini-2.5-flash");return console.log("🤖 Raw Gemini response:",o),console.log("🤖 Response length:",o.length),console.log("🤖 First 200 chars:",o.substring(0,200)),this.cleanJsonResponse(o)}cleanJsonResponse(e){let r=e.replace(/```json\n?/g,"").replace(/```\n?/g,"");r=r.trim();const n=r.indexOf("{"),i=r.lastIndexOf("}");n!==-1&&i!==-1&&i>n&&(r=r.substring(n,i+1));try{return JSON.parse(r),r}catch(o){throw console.error("❌ Invalid JSON response from Gemini:",o),new Error("Gemini returned invalid JSON format")}}}let ET=null;function zw(){if(!ET){console.log("🔑 Checking Gemini API key..."),console.log("Environment variables available:",Object.keys(ZOe));const t="AIzaSyATWSqiGWXIYxPBqK5pcmxSRBYnCNQ_7zs";t.startsWith("AIza")||console.warn('⚠️ Gemini API key format may be incorrect - should start with "AIza"'),console.log("✅ Gemini API key loaded successfully"),ET=new zQ(t)}return ET}const JOe=Object.freeze(Object.defineProperty({__proto__:null,GeminiService:zQ,getGeminiService:zw},Symbol.toStringTag,{value:"Module"}));function eje(t,e,r,n){const i=10*t+6.25*e-5*r;return Math.round(n==="male"?i+5:i-161)}function tje(t,e){const r=parseFloat(e);if(r<1.2||r>2)throw new Error(`Invalid activity level: ${e}. Expected between 1.2 and 2.0`);return Math.round(t*r)}function rje(t,e){switch(e){case"cut":return Math.round(t*.85);case"bulk":return Math.round(t*1.15);case"maintain":default:return t}}function nje(t,e,r){let n,i;switch(e){case"cut":n=Math.round(r*2.2),i=.25;break;case"bulk":n=Math.round(r*2),i=.2;break;case"maintain":default:n=Math.round(r*1.8),i=.3;break}const o=n*4,a=t*i,s=Math.round(a/9),l=t-o-a,c=Math.round(l/4),d=Math.round(t/1e3*14);return{protein:n,carbs:c,fat:s,fiber:d}}function ije(t){const e=WQ(t);if(!e.isValid)throw new Error(`Invalid user data: ${e.errors.join(", ")}`);const r=eje(t.weight,t.height,t.age,t.gender),n=tje(r,t.activityLevel),i=rje(n,t.goalType),o=nje(i,t.goalType,t.weight);return{bmr:r,tdee:n,targetCalories:i,macros:o}}function WQ(t){const e=[];(!t.age||t.age<15||t.age>120)&&e.push("Age must be between 15 and 120 years"),(!t.weight||t.weight<30||t.weight>300)&&e.push("Weight must be between 30 and 300 kg"),(!t.height||t.height<120||t.height>250)&&e.push("Height must be between 120 and 250 cm"),(!t.gender||!["male","female"].includes(t.gender))&&e.push('Gender must be either "male" or "female"');const r=parseFloat(t.activityLevel);return(isNaN(r)||r<1.2||r>2)&&e.push("Activity level must be between 1.2 and 2.0"),(!t.goalType||!["cut","maintain","bulk"].includes(t.goalType))&&e.push('Goal type must be "cut", "maintain", or "bulk"'),{isValid:e.length===0,errors:e}}const fy="User_Plans";async function HQ(t,e,r,n,i,o){try{const a=await aje(t),s=`${t}_v${a}`,l={userId:t,goalType:e,tdee:r,targetCalories:n,macros:i,planContent:o,generatedAt:new Date,isActive:!0,version:a},c=fq(tt);(await sje(t)).forEach(p=>{const g=st(tt,fy,p.id);c.update(g,{isActive:!1})});const f=st(tt,fy,s);return c.set(f,{...l,generatedAt:Rt.fromDate(l.generatedAt)}),await c.commit(),console.log(`✅ Successfully saved plan ${s} for user ${t}`),{id:s,...l}}catch(a){throw console.error("❌ Error saving user plan:",a),new Error(`Failed to save plan: ${a instanceof Error?a.message:"Unknown error"}`)}}async function qQ(t){try{const e=ky(Ny(tt,fy),gh("userId","==",t),gh("isActive","==",!0),Hb("version","desc"),Gb(1)),r=await Oy(e);if(r.empty)return console.log(`No active plan found for user ${t}`),null;const n=r.docs[0],i=n.data();return{id:n.id,userId:i.userId,goalType:i.goalType,tdee:i.tdee,targetCalories:i.targetCalories,macros:i.macros,planContent:i.planContent,generatedAt:i.generatedAt.toDate(),isActive:i.isActive,version:i.version}}catch(e){if(console.error("❌ Error getting active user plan:",e),e instanceof Error&&e.message.includes("requires an index"))return console.log("⚠️ Firestore index not ready, returning null for now"),null;throw new Error(`Failed to get active plan: ${e instanceof Error?e.message:"Unknown error"}`)}}async function oje(t){try{const e=await qQ(t);if(!e)return null;const r=Math.floor((Date.now()-e.generatedAt.getTime())/(1e3*60*60*24)),n=Math.min(Math.floor(r/7)+1,4),o=e.planContent.weeks.find(a=>a.week===n)?.focus||"Getting Started";return{goalType:e.goalType,targetCalories:e.targetCalories,macros:e.macros,currentWeek:n,currentFocus:o,generatedAt:e.generatedAt,version:e.version}}catch(e){return console.error("❌ Error getting user plan summary:",e),null}}async function aje(t){try{const e=ky(Ny(tt,fy),gh("userId","==",t),Hb("version","desc"),Gb(1)),r=await Oy(e);return r.empty?1:r.docs[0].data().version+1}catch(e){return console.error("❌ Error getting next plan version:",e),1}}async function sje(t){try{const e=ky(Ny(tt,fy),gh("userId","==",t),gh("isActive","==",!0));return(await Oy(e)).docs.map(n=>{const i=n.data();return{id:n.id,userId:i.userId,goalType:i.goalType,tdee:i.tdee,targetCalories:i.targetCalories,macros:i.macros,planContent:i.planContent,generatedAt:i.generatedAt.toDate(),isActive:i.isActive,version:i.version}})}catch(e){return console.error("❌ Error getting active user plans:",e),[]}}const lje=Object.freeze(Object.defineProperty({__proto__:null,getActiveUserPlan:qQ,getUserPlanSummary:oje,saveUserPlan:HQ},Symbol.toStringTag,{value:"Module"}));var Nf=(t=>(t.GEMINI_API_TIMEOUT="GEMINI_API_TIMEOUT",t.INVALID_USER_DATA="INVALID_USER_DATA",t.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",t.SCHEMA_VALIDATION_FAILED="SCHEMA_VALIDATION_FAILED",t.FIRESTORE_ERROR="FIRESTORE_ERROR",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t))(Nf||{});function cje(t,e,r){return{target_calories:t.summary.daily_calories||e.targetCalories,protein_target:t.summary.macros.protein||e.macros.protein,carbs_target:t.summary.macros.carbs||e.macros.carbs,fats_target:t.summary.macros.fat||e.macros.fat,fiber_target:t.summary.macros.fiber||e.macros.fiber,tdee:e.tdee,age:r.age,weight:r.weight,height:r.height,gender:r.gender,activity_level:r.activityLevel,goal_type:r.goalType,is_active:!0}}async function uje(t,e,r={}){console.log(`🤖 Starting plan generation for user ${t}`);try{if(console.log("📝 Validating user data..."),!WQ(e).isValid)return{success:!1,error:Nf.INVALID_USER_DATA};console.log("🧮 Calculating TDEE and macros...");const i=ije(e);console.log(`✅ TDEE: ${i.tdee}, Target: ${i.targetCalories} calories`),console.log("🤖 Generating AI plan with Gemini...");const o=await dje(e,i);console.log("✅ AI plan generation completed"),console.log("💾 Saving plan to Firestore...");const a=await HQ(t,e.goalType,i.tdee,i.targetCalories,i.macros,o);console.log(`✅ Plan saved with ID: ${a.id}`);const s=cje(o,i,e);if(console.log("📊 Extracted macro data for fitness goals update:",s),r.updateFitnessGoals){console.log("🎯 Automatically updating fitness goals with plan data...");try{await KN(t,s),console.log("✅ Fitness goals updated successfully with AI plan data")}catch(l){console.error("⚠️ Failed to update fitness goals automatically:",l)}}return FV(t,"success",{goalType:e.goalType,tdee:i.tdee,planVersion:a.version}),{success:!0,plan:a,macroData:s}}catch(n){console.error("❌ Plan generation failed:",n),FV(t,"failed",{error:n instanceof Error?n.message:"Unknown error"});let i=Nf.UNKNOWN_ERROR;return n instanceof Error&&(n.message.includes("Gemini")?i=Nf.GEMINI_API_TIMEOUT:n.message.includes("Firestore")||n.message.includes("Failed to save")?i=Nf.FIRESTORE_ERROR:(n.message.includes("JSON")||n.message.includes("schema"))&&(i=Nf.SCHEMA_VALIDATION_FAILED)),{success:!1,error:i}}}async function dje(t,e){try{const r=zw(),n={age:t.age,weight:t.weight,height:t.height,gender:t.gender,goalType:t.goalType,activityLevel:t.activityLevel,targetCalories:e.targetCalories,macros:e.macros,tdee:e.tdee},i=await r.generatePersonalizedPlan(n),o=fje(i),a=hje(o);if(!a.isValid)throw new Error(`Invalid plan structure: ${a.errors.join(", ")}`);return o}catch(r){return console.error("❌ AI plan generation failed:",r),console.log("🔄 Falling back to template plan..."),pje(t,e)}}function fje(t){try{const e=JSON.parse(t);if(!e.summary||!e.weeks||!Array.isArray(e.weeks))throw new Error("Missing required plan structure");return e}catch(e){throw console.error("❌ Failed to parse Gemini response:",e),new Error("Invalid JSON response from AI")}}function hje(t){const e=[];return t.summary?((!t.summary.daily_calories||t.summary.daily_calories<=0)&&e.push("Invalid daily calories in summary"),t.summary.macros||e.push("Missing macros in summary")):e.push("Missing plan summary"),!t.weeks||!Array.isArray(t.weeks)?e.push("Missing or invalid weeks array"):(t.weeks.length!==4&&e.push("Plan must have exactly 4 weeks"),t.weeks.forEach((r,n)=>{(!r.week||r.week!==n+1)&&e.push(`Week ${n+1} has invalid week number`),(!r.focus||r.focus.trim().length===0)&&e.push(`Week ${n+1} missing focus`),(!Array.isArray(r.nutrition)||r.nutrition.length===0)&&e.push(`Week ${n+1} missing nutrition array`),(!Array.isArray(r.workouts)||r.workouts.length===0)&&e.push(`Week ${n+1} missing workouts array`),(!r.motivation||r.motivation.trim().length===0)&&e.push(`Week ${n+1} missing motivation`)})),{isValid:e.length===0,errors:e}}function pje(t,e){const n={cut:{description:"lose fat while preserving muscle",weeks:[{focus:"Foundation Building",nutrition:["Track all meals daily","Aim for your calorie target","Prioritize protein at each meal"],workouts:["3x strength training","2x cardio sessions"],motivation:"Start small, build consistency!"},{focus:"Building Momentum",nutrition:["Meal prep 2-3 days ahead","Stay hydrated (8+ glasses)","Include vegetables in every meal"],workouts:["4x strength training","3x cardio sessions"],motivation:"Consistency beats perfection."},{focus:"Pushing Forward",nutrition:["Focus on whole foods","Time protein around workouts","Plan for social eating situations"],workouts:["4x strength training","4x cardio sessions"],motivation:"You're building lasting habits."},{focus:"Finishing Strong",nutrition:["Trust the process","Adjust portions based on hunger","Celebrate non-scale victories"],workouts:["5x strength training","4x cardio sessions"],motivation:"Strong finishes create strong beginnings."}]},bulk:{description:"build lean muscle mass",weeks:[{focus:"Foundation Building",nutrition:["Eat in a slight surplus","Protein with every meal","Don't fear carbs pre-workout"],workouts:["4x strength training","1x light cardio"],motivation:"Muscle is built with patience."},{focus:"Building Momentum",nutrition:["Track your lifts and food","Add healthy fats daily","Time carbs around training"],workouts:["4x strength training","2x light cardio"],motivation:"Progressive overload is key."},{focus:"Pushing Forward",nutrition:["Focus on food quality","Stay consistent with timing","Listen to your hunger cues"],workouts:["5x strength training","2x light cardio"],motivation:"Growth happens in the recovery."},{focus:"Finishing Strong",nutrition:["Maintain your surplus","Prioritize sleep for gains","Adjust based on progress"],workouts:["5x strength training","2x cardio sessions"],motivation:"Consistency compounds into strength."}]},maintain:{description:"maintain current weight and improve fitness",weeks:[{focus:"Foundation Building",nutrition:["Eat at maintenance level","Balance all macronutrients","Focus on food quality"],workouts:["3x strength training","2x cardio sessions"],motivation:"Maintenance is mastery."},{focus:"Building Momentum",nutrition:["Develop sustainable habits","Practice mindful eating","Stay flexible with choices"],workouts:["4x strength training","2x cardio sessions"],motivation:"Balance creates longevity."},{focus:"Pushing Forward",nutrition:["Focus on nutrient timing","Maintain consistent patterns","Trust your body's signals"],workouts:["4x strength training","3x cardio sessions"],motivation:"Stability breeds confidence."},{focus:"Finishing Strong",nutrition:["Continue proven strategies","Adapt to life changes","Maintain without obsessing"],workouts:["4x strength training","3x cardio sessions"],motivation:"Sustainable habits win long-term."}]}}[t.goalType];return{summary:{daily_calories:e.targetCalories,macros:e.macros,goal_description:n.description},weeks:n.weeks.map((i,o)=>({week:o+1,focus:i.focus,nutrition:i.nutrition,workouts:i.workouts,motivation:i.motivation}))}}function FV(t,e,r){console.log(`📊 Plan Generation Event: ${e}`,{userId:t,timestamp:new Date().toISOString(),...r})}function LV(t){return t/2.20462}function Ck(t){return t*2.20462}function BV(t,e){return(t*12+e)*2.54}function Ek(t){const e=t/2.54,r=Math.floor(e/12),n=Math.round(e%12);return{feet:r,inches:n}}function mje(t){return`${Math.round(Ck(t))} lbs (${t} kg)`}function gje(t){const{feet:e,inches:r}=Ek(t);return`${e}'${r}" (${t} cm)`}function yje(){return localStorage.getItem("farefit_units")||"imperial"}function vje(t){localStorage.setItem("farefit_units",t)}function xje({onBack:t,onSaveGoal:e,onNavigate:r,onFeedbackClick:n,onPlanGenerated:i,userId:o,userProfile:a}){const[s,l]=k.useState(a?.goalType||null),[c,d]=k.useState(!1),[f,p]=k.useState(()=>yje()),[g,x]=k.useState(""),[y,b]=k.useState(5),[_,C]=k.useState(7),[E,P]=k.useState(""),[I,T]=k.useState(""),N=G=>{if(!G)return"1.4";const ge={sedentary:"1.2","lightly-active":"1.3","moderately-active":"1.4","very-active":"1.55","super-active":"1.7"};return ge[G]?ge[G]:G.match(/^\d+\.?\d*$/)?G:"1.4"},[S,j]=k.useState(()=>N(a?.activityLevel)||"1.4");k.useEffect(()=>{console.log("🔄 SimpleFitnessGoalPage - userProfile prop changed:",a)},[a]),k.useEffect(()=>{(async()=>{if(!a&&o){console.log("🔍 User profile is missing, attempting to fetch directly...");try{const ge=await nx(o);console.log("👤 Directly fetched profile:",ge)}catch(ge){console.error("❌ Failed to fetch profile directly:",ge)}}})()},[a,o]),k.useEffect(()=>{if(console.log("🔧 Initializing form values from userProfile:",a),a?.weight)if(f==="imperial"){const G=Math.round(Ck(a.weight)).toString();console.log(`⚖️ Setting weight - kg: ${a.weight} -> lbs: ${G}`),x(G)}else console.log(`⚖️ Setting weight - kg: ${a.weight}`),P(a.weight.toString());if(a?.height)if(f==="imperial"){const{feet:G,inches:ge}=Ek(a.height);console.log(`📏 Setting height - cm: ${a.height} -> ${G}'${ge}"`),b(G),C(ge)}else console.log(`📏 Setting height - cm: ${a.height}`),T(a.height.toString());if(a?.activityLevel){const G=N(a.activityLevel);console.log(`🏃 Setting activity level: ${a.activityLevel} -> ${G}`),j(G)}},[a,f]);const[B,M]=k.useState(!1),[L,F]=k.useState("loading"),[$,q]=k.useState(null),[X,J]=k.useState(""),[H,oe]=k.useState({target_calories:2e3,target_weight:150,protein_target:150,carbs_target:200,fats_target:50,fiber_target:25}),[z,Q]=k.useState(!1),ee=async()=>{const ge=or().currentUser;if(!ge){console.error("❌ No authenticated user found");return}Q(!0);try{await KN(ge.uid,H),console.log("✅ All fitness goals updated in batch!"),Ue.success("Macros updated successfully!")}catch(Ee){console.error("❌ Error updating fitness goals:",Ee),Ue.error("Failed to update macros")}finally{Q(!1)}},W=(G,ge)=>{oe(Ee=>({...Ee,[G]:ge}))},xe=async()=>{if(!a?.age||!a?.gender){Ue.error("Profile data missing for macro generation");return}Q(!0);try{const G=we(),ge=me(),Ee=a.gender==="male"?88.362+13.397*G+4.799*ge-5.677*a.age:447.593+9.247*G+3.098*ge-4.33*a.age,$e=parseFloat(S),We=Math.round(Ee*$e);let ut=We;s==="cut"&&(ut=Math.round(We*.85)),s==="bulk"&&(ut=Math.round(We*1.15));const ft={target_calories:ut,target_weight:G,protein_target:Math.round(G*2.2),carbs_target:Math.round(ut*.4/4),fats_target:Math.round(ut*.3/9),fiber_target:Math.round(ut/100)};console.log("🧪 Test generated macros:",ft),oe(ft),await KN(o,ft),Ue.success("Test macros generated and saved!")}catch(G){console.error("❌ Error generating test macros:",G),Ue.error("Failed to generate test macros")}finally{Q(!1)}},Ne=[{id:"cut",title:"Cutting",subtitle:"Lose fat, keep muscle",icon:Kne,color:"#1C7C54",bgColor:"#1C7C5410"},{id:"maintain",title:"Maintaining",subtitle:"Stay at current level",icon:hne,color:"#A8E6CF",bgColor:"#A8E6CF20"},{id:"bulk",title:"Bulking",subtitle:"Build muscle mass",icon:wa,color:"#FFB6B9",bgColor:"#FFB6B920"}],ie=[{value:"1.2",label:"Sedentary (desk job, no exercise)"},{value:"1.3",label:"Lightly active (1-3 workouts/week)"},{value:"1.4",label:"Moderately active (3-5 workouts/week)"},{value:"1.55",label:"Very active (6-7 workouts/week)"},{value:"1.7",label:"Super active (physical job + daily training)"}],se=a?.age&&a?.weight&&a?.height&&a?.gender,we=()=>{if(f==="imperial"){const G=parseFloat(g),ge=G?LV(G):a?.weight||0;return console.log("🏋️ Weight conversion - lbs:",g,"parsed:",G,"converted to kg:",ge),ge}else{const G=parseFloat(E)||a?.weight||0;return console.log("🏋️ Weight (metric) - input:",E,"profile:",a?.weight,"final:",G),G}},me=()=>{if(f==="imperial"){const G=y&&_>=0?BV(y,_):a?.height||0;return console.log("📏 Height conversion - feet:",y,"inches:",_,"converted to cm:",G),G}else{const G=parseFloat(I)||a?.height||0;return console.log("📏 Height (metric) - input:",I,"profile:",a?.height,"final:",G),G}},re=()=>{const G=f==="imperial"?"metric":"imperial";if(p(G),vje(G),G==="metric")g&&P(LV(parseFloat(g)).toFixed(1)),y&&_>=0&&T(Math.round(BV(y,_)).toString());else if(E&&x(Math.round(Ck(parseFloat(E))).toString()),I){const{feet:ge,inches:Ee}=Ek(parseFloat(I));b(ge),C(Ee)}},le=async()=>{if(console.log("🎯 Starting plan generation..."),console.log("User ID:",o),console.log("Selected goal:",s),console.log("User profile:",a),console.log("Unit system:",f),console.log("Imperial inputs - weightLbs:",g,"feet:",y,"inches:",_),console.log("Metric inputs - weight:",E,"height:",I),!o){Ue.error("User not found. Please try logging in again.");return}if(!s){Ue.error("Please select a fitness goal.");return}const G=we(),ge=me(),Ee=a?.age,$e=a?.gender;if(console.log("📊 Calculated values:"),console.log("Current weight (kg):",G),console.log("Current height (cm):",ge),console.log("Current age:",Ee),console.log("Current gender:",$e),!Ee){console.log("❌ Age validation failed - age:",Ee),console.log("🔍 User profile is:",a),Ue.error("Age is missing from your profile. Please complete your profile in Account Settings.");return}if(!$e){console.log("❌ Gender validation failed - gender:",$e),console.log("🔍 User profile is:",a),Ue.error("Gender is missing from your profile. Please complete your profile in Account Settings.");return}if(!G||G<=0){console.log("❌ Weight validation failed"),Ue.error("Weight is required. Please enter your current weight.");return}if(!ge||ge<=0){console.log("❌ Height validation failed"),Ue.error("Height is required. Please enter your current height.");return}try{F("loading"),M(!0);const We={age:Ee,weight:G,height:ge,gender:$e,activityLevel:S,goalType:s};console.log("🤖 Generating AI plan with data:",We);const ut=new Promise((_t,gt)=>{setTimeout(()=>gt(new Error("Plan generation timeout after 30 seconds")),3e4)}),ft=await Promise.race([uje(o,We,{updateFitnessGoals:!0}),ut]);if(ft.success&&ft.plan){M(!1);const _t={...We,tdee:ft.plan.tdee,targetCalories:ft.plan.targetCalories,protein:ft.plan.macros.protein,carbs:ft.plan.macros.carbs,fat:ft.plan.macros.fat,fiber:ft.plan.macros.fiber},gt={target_calories:ft.plan.targetCalories,target_weight:We.weight,protein_target:ft.plan.macros.protein,carbs_target:ft.plan.macros.carbs,fats_target:ft.plan.macros.fat,fiber_target:ft.plan.macros.fiber};console.log("🎯 AI generated macros:",gt),oe(gt),Ue.success("AI plan and macros saved successfully!"),e(_t),t(),setTimeout(()=>{i?.(ft.plan)},100)}else J("Plan generation failed. Please try again."),F("error")}catch(We){console.error("❌ Plan generation error:",We),J("An unexpected error occurred while generating your plan."),F("error")}};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"bg-white shadow-sm",style:{borderBottom:"1px solid #A8E6CF"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 hover:opacity-70 transition-opacity",style:{color:"#102A43"},children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold mb-3",style:{color:"#102A43"},children:"Set Your Fitness Goal"}),u.jsx("p",{className:"text-lg mb-4",style:{color:"#102A43",opacity:.8},children:"Choose your goal and we'll create a personalized plan"}),u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("span",{className:`text-sm ${f==="metric"?"font-semibold":"opacity-60"}`,children:"Metric (kg, cm)"}),u.jsx("button",{onClick:re,className:"p-1 hover:opacity-70 transition-opacity",style:{color:"#1C7C54"},children:f==="imperial"?u.jsx(Hne,{className:"w-8 h-8"}):u.jsx(zne,{className:"w-8 h-8"})}),u.jsx("span",{className:`text-sm ${f==="imperial"?"font-semibold":"opacity-60"}`,children:"Imperial (lbs, ft/in)"})]})]}),se?u.jsxs("div",{className:"bg-white rounded-lg p-6 mb-8 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",style:{color:"#102A43"},children:"Your Profile"}),u.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 text-sm px-3 py-1 rounded-md transition-colors",style:{color:"#1C7C54",backgroundColor:c?"#1C7C5415":"transparent"},children:[u.jsx(xne,{className:"w-4 h-4"}),c?"Done":"Update"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"opacity-70",children:"Age:"}),u.jsxs("div",{className:"font-medium",children:[a?.age," years"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"opacity-70",children:"Gender:"}),u.jsx("div",{className:"font-medium capitalize",children:a?.gender})]}),u.jsxs("div",{children:[u.jsx("span",{className:"opacity-70",children:"Weight:"}),c?f==="imperial"?u.jsx("input",{type:"number",value:g,onChange:G=>x(G.target.value),className:"w-full mt-1 p-1 border rounded text-sm",placeholder:"lbs"}):u.jsx("input",{type:"number",value:E,onChange:G=>P(G.target.value),className:"w-full mt-1 p-1 border rounded text-sm",placeholder:"kg"}):u.jsx("div",{className:"font-medium",children:mje(a?.weight||0)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"opacity-70",children:"Height:"}),c?f==="imperial"?u.jsxs("div",{className:"flex gap-1",children:[u.jsx("input",{type:"number",value:y,onChange:G=>b(parseInt(G.target.value)||0),className:"w-12 mt-1 p-1 border rounded text-sm",placeholder:"ft",min:"3",max:"8"}),u.jsx("span",{className:"text-xs self-end pb-1",children:"'"}),u.jsx("input",{type:"number",value:_===0?"":_,onChange:G=>{const ge=G.target.value;C(ge===""?0:parseInt(ge)||0)},className:"w-12 mt-1 p-1 border rounded text-sm",placeholder:"0",min:"0",max:"11"}),u.jsx("span",{className:"text-xs self-end pb-1",children:'"'})]}):u.jsx("input",{type:"number",value:I,onChange:G=>T(G.target.value),className:"w-full mt-1 p-1 border rounded text-sm",placeholder:"cm"}):u.jsx("div",{className:"font-medium",children:gje(a?.height||0)})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm opacity-70 mb-2",children:"Activity Level:"}),u.jsx("select",{value:S,onChange:G=>j(G.target.value),className:"w-full p-2 border rounded-md text-sm",disabled:!c,children:ie.map(G=>u.jsx("option",{value:G.value,children:G.label},G.value))})]})]}):u.jsxs("div",{className:"bg-white rounded-lg p-6 mb-8 shadow-sm border-l-4",style:{borderColor:"#FFB6B9"},children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"#102A43"},children:"Complete Your Profile"}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43",opacity:.7},children:"We need some basic information to generate your personalized plan."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm opacity-70 mb-2",children:["Weight (",f==="imperial"?"lbs":"kg","):"]}),f==="imperial"?u.jsx("input",{type:"number",value:g,onChange:G=>x(G.target.value),className:"w-full p-2 border rounded-md",placeholder:"Enter your weight in lbs"}):u.jsx("input",{type:"number",value:E,onChange:G=>P(G.target.value),className:"w-full p-2 border rounded-md",placeholder:"Enter your weight in kg"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm opacity-70 mb-2",children:["Height (",f==="imperial"?"ft/in":"cm","):"]}),f==="imperial"?u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"number",value:y,onChange:G=>b(parseInt(G.target.value)||0),className:"w-16 p-2 border rounded-md",placeholder:"ft",min:"3",max:"8"}),u.jsx("span",{className:"text-sm opacity-70",children:"ft"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"number",value:_===0?"":_,onChange:G=>{const ge=G.target.value;C(ge===""?0:parseInt(ge)||0)},className:"w-16 p-2 border rounded-md",placeholder:"0",min:"0",max:"11"}),u.jsx("span",{className:"text-sm opacity-70",children:"in"})]})]}):u.jsx("input",{type:"number",value:I,onChange:G=>T(G.target.value),className:"w-full p-2 border rounded-md",placeholder:"Enter your height in cm"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm opacity-70 mb-2",children:"Activity Level:"}),u.jsx("select",{value:S,onChange:G=>j(G.target.value),className:"w-full p-2 border rounded-md text-sm",children:ie.map(G=>u.jsx("option",{value:G.value,children:G.label},G.value))})]}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Target Macros"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:xe,disabled:z,className:"text-xs px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:z?"Generating...":"🧪 Test Generate"}),u.jsx("button",{onClick:ee,disabled:z,className:"text-xs px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:z?"Saving...":"💾 Save Macros"})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(H).map(([G,ge])=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:G.replace("_"," ").replace("target","").trim()}),u.jsx("input",{type:"number",value:ge,onChange:Ee=>W(G,Number(Ee.target.value)),className:"w-full p-1 border rounded text-xs",disabled:z})]},G))}),z&&u.jsx("div",{className:"mt-2 text-xs text-blue-600",children:"⏳ Updating macros..."})]})]}),!a&&u.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6 rounded-md",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[u.jsx("strong",{children:"Loading Profile..."})," We're fetching your profile information to calculate accurate calorie targets."]})}),u.jsx("button",{onClick:async()=>{if(o){console.log("🔄 Manual profile fetch triggered");try{const G=await nx(o);console.log("👤 Manual fetch result:",G),Ue.success("Profile loaded! Please try generating your plan again.")}catch(G){console.error("❌ Manual fetch failed:",G),Ue.error("Failed to load profile. Please refresh the page.")}}},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Reload Profile"})]})}),a&&(!a?.age||!a?.gender)&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 rounded-md",children:u.jsx("div",{className:"flex",children:u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm text-yellow-700",children:[u.jsx("strong",{children:"Missing Profile Information:"})," We need your age and gender to calculate accurate calorie targets.",u.jsx("br",{}),u.jsxs("span",{className:"mt-2 inline-block",children:["Please complete your profile in",u.jsx("button",{onClick:()=>r("account"),className:"ml-1 text-yellow-800 underline hover:no-underline",children:"Account Settings"}),"or refresh this page."]})]})})})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-semibold mb-6 text-center",style:{color:"#102A43"},children:"What's your current focus?"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Ne.map(G=>u.jsxs("button",{onClick:()=>l(G.id),className:`relative bg-white rounded-lg p-6 text-center transition-all hover:shadow-md ${s===G.id?"ring-2 shadow-lg":""}`,style:{borderColor:s===G.id?G.color:"transparent",backgroundColor:s===G.id?G.bgColor:"white"},children:[s===G.id&&u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx(gd,{className:"w-5 h-5",style:{color:G.color}})}),u.jsx(G.icon,{className:"w-12 h-12 mx-auto mb-4",style:{color:G.color}}),u.jsx("h4",{className:"font-semibold mb-2",style:{color:"#102A43"},children:G.title}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:G.subtitle})]},G.id))})]}),u.jsx("div",{className:"text-center",children:u.jsx("button",{onClick:le,disabled:!s,className:"px-8 py-4 rounded-lg font-semibold text-white text-lg transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",style:{backgroundColor:s?"#1C7C54":"#cccccc"},children:"🎯 Generate My Personalized Plan"})})]}),u.jsx(UQ,{isOpen:B,onClose:()=>M(!1),status:L,plan:$,onContinueToDashboard:()=>{M(!1),t()},error:X}),u.jsx(Sl,{onNavigate:r,onFeedbackClick:n})]})}function bje({onBack:t,onNavigate:e,onFeedbackClick:r}){const[n,i]=k.useState([{id:"1",text:"Hey there! 👋 I'm Coach AI, your personal training assistant. I'm here to help you train smarter, recover better, and stay on track. What would you like to work on today?",sender:"ai",timestamp:new Date}]),[o,a]=k.useState(""),[s,l]=k.useState("Intermediate"),[c,d]=k.useState(!1),[f,p]=k.useState(!1),g=k.useRef(null),x=k.useRef(null),y={todayWorkout:"Push Day - Completed",fitnessLevel:s,currentGoal:"Lean Bulk",consistencyImprovement:12},b=["Build me a 3-day full-body plan.","How can I increase bench press strength?","What's the best post-workout meal?","I feel sore every day — am I overtraining?","Give me a beginner's guide to progressive overload."],_=[{icon:oh,label:"Workout Advice",prompt:"Give me workout advice for today"},{icon:ol,label:"Nutrition",prompt:"What should I eat to support my fitness goals?"},{icon:mne,label:"Recovery",prompt:"How can I optimize my recovery?"},{icon:Yh,label:"Goals",prompt:"Help me set realistic fitness goals"}];k.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[n,f]),k.useEffect(()=>{const N=localStorage.getItem("coachAI_messages");if(N)try{const S=JSON.parse(N);i(S.map(j=>({...j,timestamp:new Date(j.timestamp)})))}catch(S){console.error("Failed to load messages:",S)}},[]),k.useEffect(()=>{n.length>1&&localStorage.setItem("coachAI_messages",JSON.stringify(n))},[n]);const C=N=>{const S=N.toLowerCase();return S.includes("3-day")&&S.includes("plan")?s==="Beginner"?`Great choice! Here's a simple 3-day full-body plan:

**Day 1 - Full Body A**
• Squats: 3 sets of 8-10 reps
• Bench Press: 3 sets of 8-10 reps
• Bent Over Rows: 3 sets of 8-10 reps
• Plank: 3 sets of 30-60 seconds

**Day 2 - Rest or Light Cardio**

**Day 3 - Full Body B**
• Deadlifts: 3 sets of 6-8 reps
• Overhead Press: 3 sets of 8-10 reps
• Pull-ups/Lat Pulldowns: 3 sets of 8-10 reps
• Bicycle Crunches: 3 sets of 15 reps

**Day 4-5 - Rest**

**Day 6 - Full Body C**
• Lunges: 3 sets of 10 reps per leg
• Incline Dumbbell Press: 3 sets of 10 reps
• Cable Rows: 3 sets of 10 reps
• Russian Twists: 3 sets of 20 reps

Remember to warm up before each session and focus on proper form! 💪`:`Perfect! Here's an intermediate/advanced 3-day full-body split:

**Day 1 - Strength Focus**
• Squats: 5x5 (heavy)
• Bench Press: 4x6-8
• Pendlay Rows: 4x6-8
• Face Pulls: 3x15
• Ab Rollouts: 3x10

**Day 2 - Hypertrophy Focus**
• Romanian Deadlifts: 4x8-10
• Overhead Press: 4x8-10
• Weighted Pull-ups: 4x6-8
• Dumbbell Lateral Raises: 3x12-15
• Hanging Leg Raises: 3x12

**Day 3 - Volume Focus**
• Front Squats: 4x10-12
• Incline Bench: 4x10-12
• Cable Rows: 4x10-12
• Dumbbell Curls: 3x12
• Tricep Dips: 3x12

Use progressive overload by adding 2.5-5lbs per week or increasing reps. Track your RPE (Rate of Perceived Exertion) and aim for 7-9 on compound lifts. 🔥`:S.includes("bench press")&&S.includes("strength")?`To increase your bench press strength, focus on these key strategies:

**1. Progressive Overload**
Increase weight by 2.5-5lbs every 1-2 weeks. If you can't add weight, add 1-2 reps.

**2. Frequency**
Bench 2-3x per week with varied intensities (heavy/medium/light).

**3. Accessory Work**
• Close-grip bench press (triceps)
• Incline press (upper chest)
• Dumbbell press (stabilizers)
• Tricep dips

**4. Form Check**
• Retract shoulder blades
• Arch your lower back slightly
• Plant feet firmly
• Bar path: straight down to mid-chest

**5. Deload Week**
Every 4-6 weeks, reduce volume by 40% to allow recovery.

What's your current bench weight? I can help create a specific progression plan! 💪`:S.includes("post-workout meal")||S.includes("eat")&&S.includes("workout")?`Great question! Post-workout nutrition is crucial for recovery and muscle growth:

**Ideal Post-Workout Meal (within 2 hours):**

🍗 **Protein (20-40g)**
• Chicken breast
• Salmon
• Greek yogurt
• Protein shake
• Eggs

🍚 **Carbs (40-80g)**
• White rice
• Sweet potato
• Oats
• Pasta
• Fruit

**Sample Meals:**
1. Grilled chicken (6oz) + white rice (1 cup) + veggies
2. Protein shake + banana + oats
3. Salmon (5oz) + sweet potato + broccoli
4. Greek yogurt (2 cups) + berries + granola

**Pro Tip:** `+(s==="Beginner"?"Don't overthink it! Just get protein and carbs within a few hours of training. Whole foods are best!":"Optimize your post-workout window by having fast-digesting protein and high-GI carbs to spike insulin and shuttle nutrients to muscles. Consider adding 5g creatine here too.")+" 🍎":S.includes("sore")&&(S.includes("overtraining")||S.includes("every day"))?`Constant soreness can be a sign of inadequate recovery. Let's assess:

**Signs of Overtraining:**
✓ Persistent muscle soreness (3+ days)
✓ Declining performance
✓ Fatigue and low energy
✓ Poor sleep quality
✓ Increased resting heart rate
✓ Mood changes/irritability

**Recovery Strategies:**

**1. Sleep** - Aim for 7-9 hours
**2. Nutrition** - Eat at maintenance or slight surplus
**3. Deload** - Reduce volume by 40-50% for 1 week
**4. Active Recovery** - Light walking, stretching, yoga
**5. Hydration** - 0.5-1oz per lb bodyweight daily

**Soreness vs. Injury:**
• DOMS (Delayed Onset Muscle Soreness) = normal, peaks 24-72hrs
• Sharp pain = potential injury, rest immediately

I see you worked out today. Consider taking tomorrow as a rest or active recovery day!`:S.includes("progressive overload")?s==="Beginner"?`**Progressive Overload for Beginners 📈**

Progressive overload means gradually increasing the stress on your muscles over time. It's the key to getting stronger!

**Simple Ways to Progress:**

1. **Add Weight** (easiest)
   Example: Squatting 135lbs → 140lbs next week

2. **Add Reps**
   Example: 3 sets of 8 → 3 sets of 9 → 3 sets of 10

3. **Add Sets**
   Example: 3 sets → 4 sets

**How to Apply It:**
• Week 1: Squat 3x8 @ 135lbs
• Week 2: Squat 3x9 @ 135lbs
• Week 3: Squat 3x10 @ 135lbs
• Week 4: Squat 3x8 @ 140lbs ← restart cycle

**Golden Rule:** Only progress if you can do ALL reps with good form!

Start tracking your workouts in FareFit to see your progress over time! 💪`:`**Advanced Progressive Overload Strategies 📊**

You know the basics — let's dive deeper into periodization and advanced tactics:

**1. Wave Loading**
Vary intensity weekly:
• Week 1: 4x6 @ 80% 1RM
• Week 2: 4x8 @ 75% 1RM
• Week 3: 4x10 @ 70% 1RM
• Week 4: Deload (50% volume)

**2. RPE Progression**
Increase effort over weeks:
• Week 1-2: RPE 7
• Week 3-4: RPE 8
• Week 5-6: RPE 9
• Week 7: Deload

**3. Volume Landmarks**
Track total tonnage (sets × reps × weight):
• Aim for 10-20% volume increase every 4 weeks

**4. Tempo Manipulation**
• Increase time under tension: 3-1-1-0 → 4-1-1-0

**5. Advanced Techniques**
• Drop sets
• Rest-pause sets
• Cluster sets

Remember: Progress isn't always linear. Respect deload weeks and listen to your body. 🔥`:S.includes("workout")&&S.includes("today")?`Nice job on your ${y.todayWorkout}! 💪

Since you've already trained today, let's focus on recovery:

**Post-Workout Checklist:**
✓ Protein shake or meal within 2 hours
✓ Hydrate (16-24oz water)
✓ Light stretching or foam rolling
✓ Get 7-9 hours of sleep tonight

Want me to review form tips for your next push workout or plan tomorrow's session?`:S.includes("meal")||S.includes("eat today")?`Based on your current goal (${y.currentGoal}), here are 3 meal ideas:

**Option 1: High Protein Bowl**
• 6oz grilled chicken
• 1 cup quinoa
• Roasted vegetables
• Avocado
≈ 650 cal | 50g protein

**Option 2: Power Breakfast**
• 4 whole eggs scrambled
• 2 slices whole grain toast
• Greek yogurt with berries
≈ 580 cal | 40g protein

**Option 3: Post-Workout Fuel**
• 8oz salmon
• Sweet potato (large)
• Steamed broccoli
• Olive oil drizzle
≈ 720 cal | 55g protein

For lean bulk, aim for a 200-300 calorie surplus with high protein! 💪`:`That's a great question! I'm here to help with:

• Workout programming and planning
• Strength and muscle building advice
• Nutrition and meal planning
• Recovery and injury prevention
• Form checks and technique tips
• Motivation and accountability

Could you provide more details about what you'd like help with? The more specific you are, the better I can assist! 💪`},E=N=>{const S=N||o.trim();if(!S)return;const j={id:Date.now().toString(),text:S,sender:"user",timestamp:new Date};i(B=>[...B,j]),a(""),p(!0),setTimeout(()=>{const B={id:(Date.now()+1).toString(),text:C(S),sender:"ai",timestamp:new Date};i(M=>[...M,B]),p(!1)},1e3+Math.random()*1e3)},P=N=>{E(N)},I=N=>{E(N)},T=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),E())};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Go back",children:u.jsx(Ea,{className:"w-5 h-5",style:{color:"#102A43"}})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Wo,{className:"w-6 h-6",style:{color:"#1C7C54"}}),u.jsx("h1",{style:{color:"#102A43"},children:"Coach AI"})]}),u.jsx("p",{className:"text-sm mt-1",style:{color:"#102A43",opacity:.7},children:"Your personal training assistant"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 px-4 py-2 rounded-lg border transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsxs("span",{className:"text-sm",style:{color:"#102A43"},children:["Level: ",u.jsx("span",{style:{color:"#1C7C54"},children:s})]}),u.jsx(al,{className:"w-4 h-4",style:{color:"#102A43",opacity:.6}})]}),c&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-20",style:{borderColor:"#A8E6CF"},children:["Beginner","Intermediate","Advanced"].map(N=>u.jsxs("button",{onClick:()=>{l(N),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg",style:{backgroundColor:s===N?"#E8F4F2":"white",color:s===N?"#1C7C54":"#102A43"},children:[u.jsx("div",{className:"text-sm",children:N}),u.jsxs("div",{className:"text-xs mt-0.5",style:{opacity:.7},children:[N==="Beginner"&&"Simple language & basics",N==="Intermediate"&&"RPE, progressive overload",N==="Advanced"&&"Mesocycles, periodization"]})]},N))})]})]})})}),u.jsxs("div",{className:"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col gap-4 overflow-hidden",children:[u.jsx("div",{className:"bg-white rounded-lg p-4 sm:p-5 shadow-sm flex-shrink-0",children:u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Today's Activity"}),u.jsx("p",{className:"text-sm",style:{color:"#1C7C54"},children:y.todayWorkout})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Current Goal"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:y.currentGoal})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Fitness Level"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:y.fitnessLevel})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Consistency"}),u.jsxs("p",{className:"text-sm",style:{color:"#FFB6B9"},children:["+",y.consistencyImprovement,"% this month 📈"]})]})]})}),u.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-5 shadow-sm flex-shrink-0",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43",opacity:.8},children:"💡 Try asking:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((N,S)=>u.jsx("button",{onClick:()=>P(N),className:"px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm border transition-all hover:shadow-md hover:bg-white hover:-translate-y-1 active:translate-y-0",style:{borderColor:"#A8E6CF",backgroundColor:"#E8F4F2",color:"#102A43"},children:N},S))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col overflow-hidden",style:{height:"600px"},children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-6",ref:x,children:u.jsxs("div",{className:"space-y-4",children:[n.map(N=>u.jsx("div",{className:`flex ${N.sender==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:u.jsxs("div",{className:`max-w-[85%] sm:max-w-[75%] rounded-2xl px-4 py-3 break-words ${N.sender==="user"?"rounded-br-sm":"rounded-bl-sm"}`,style:{backgroundColor:N.sender==="user"?"#1C7C54":"#F5F5F5",color:N.sender==="user"?"white":"#102A43"},children:[u.jsx("div",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:N.text}),u.jsx("p",{className:"text-xs mt-2",style:{opacity:.6,color:N.sender==="user"?"white":"#102A43"},children:N.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},N.id)),f&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"rounded-2xl rounded-bl-sm px-4 py-3",style:{backgroundColor:"#F5F5F5"},children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:g})]})}),u.jsx("div",{className:"border-t px-4 sm:px-6 py-3 flex-shrink-0",style:{borderColor:"#E8F4F2"},children:u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:_.map((N,S)=>{const j=N.icon;return u.jsxs("button",{onClick:()=>I(N.prompt),className:"flex items-center gap-2 px-3 py-2 rounded-lg border text-sm whitespace-nowrap transition-all hover:shadow-sm hover:bg-gray-50 hover:-translate-y-0.5 active:translate-y-0 flex-shrink-0",style:{borderColor:"#A8E6CF",backgroundColor:"white",color:"#102A43"},children:[u.jsx(j,{className:"w-4 h-4",style:{color:"#1C7C54"}}),N.label]},S)})})}),u.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"#E8F4F2",backgroundColor:"white"},children:u.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[u.jsx("input",{type:"text",value:o,onChange:N=>a(N.target.value),onKeyPress:T,placeholder:"Ask me anything...",className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 rounded-lg border outline-none transition-all focus:border-opacity-100 text-sm sm:text-base",style:{borderColor:"#A8E6CF",backgroundColor:"white",color:"#102A43"}}),u.jsx("button",{onClick:()=>E(),disabled:!o.trim(),className:"px-4 sm:px-6 py-2 sm:py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-md flex items-center justify-center",style:{backgroundColor:"#1C7C54",color:"white"},children:u.jsx(gP,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})})]})]}),u.jsx(Sl,{onNavigate:e,onFeedbackClick:r})]})}function wje(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const _je=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Aje=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cje={};function VV(t,e){return(Cje.jsx?Aje:_je).test(t)}const Eje=/[ \t\n\f\r]/g;function Sje(t){return typeof t=="object"?t.type==="text"?$V(t.value):!1:$V(t)}function $V(t){return t.replace(Eje,"")===""}class Xy{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}}Xy.prototype.normal={};Xy.prototype.property={};Xy.prototype.space=void 0;function GQ(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new Xy(r,n,e)}function Sk(t){return t.toLowerCase()}class Wi{constructor(e,r){this.attribute=r,this.property=e}}Wi.prototype.attribute="";Wi.prototype.booleanish=!1;Wi.prototype.boolean=!1;Wi.prototype.commaOrSpaceSeparated=!1;Wi.prototype.commaSeparated=!1;Wi.prototype.defined=!1;Wi.prototype.mustUseProperty=!1;Wi.prototype.number=!1;Wi.prototype.overloadedBoolean=!1;Wi.prototype.property="";Wi.prototype.spaceSeparated=!1;Wi.prototype.space=void 0;let Tje=0;const It=Td(),rn=Td(),Tk=Td(),Oe=Td(),gr=Td(),th=Td(),no=Td();function Td(){return 2**++Tje}const Nk=Object.freeze(Object.defineProperty({__proto__:null,boolean:It,booleanish:rn,commaOrSpaceSeparated:no,commaSeparated:th,number:Oe,overloadedBoolean:Tk,spaceSeparated:gr},Symbol.toStringTag,{value:"Module"})),ST=Object.keys(Nk);class yO extends Wi{constructor(e,r,n,i){let o=-1;if(super(e,r),UV(this,"space",i),typeof n=="number")for(;++o<ST.length;){const a=ST[o];UV(this,ST[o],(n&Nk[a])===Nk[a])}}}yO.prototype.defined=!0;function UV(t,e,r){r&&(t[e]=r)}function vp(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const o=new yO(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,r[Sk(n)]=n,r[Sk(o.attribute)]=n}return new Xy(e,r,t.space)}const KQ=vp({properties:{ariaActiveDescendant:null,ariaAtomic:rn,ariaAutoComplete:null,ariaBusy:rn,ariaChecked:rn,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:gr,ariaCurrent:null,ariaDescribedBy:gr,ariaDetails:null,ariaDisabled:rn,ariaDropEffect:gr,ariaErrorMessage:null,ariaExpanded:rn,ariaFlowTo:gr,ariaGrabbed:rn,ariaHasPopup:null,ariaHidden:rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gr,ariaLevel:Oe,ariaLive:null,ariaModal:rn,ariaMultiLine:rn,ariaMultiSelectable:rn,ariaOrientation:null,ariaOwns:gr,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:rn,ariaReadOnly:rn,ariaRelevant:null,ariaRequired:rn,ariaRoleDescription:gr,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:rn,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function YQ(t,e){return e in t?t[e]:e}function XQ(t,e){return YQ(t,e.toLowerCase())}const Nje=vp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:th,acceptCharset:gr,accessKey:gr,action:null,allow:null,allowFullScreen:It,allowPaymentRequest:It,allowUserMedia:It,alt:null,as:null,async:It,autoCapitalize:null,autoComplete:gr,autoFocus:It,autoPlay:It,blocking:gr,capture:null,charSet:null,checked:It,cite:null,className:gr,cols:Oe,colSpan:null,content:null,contentEditable:rn,controls:It,controlsList:gr,coords:Oe|th,crossOrigin:null,data:null,dateTime:null,decoding:null,default:It,defer:It,dir:null,dirName:null,disabled:It,download:Tk,draggable:rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:It,formTarget:null,headers:gr,height:Oe,hidden:Tk,high:Oe,href:null,hrefLang:null,htmlFor:gr,httpEquiv:gr,id:null,imageSizes:null,imageSrcSet:null,inert:It,inputMode:null,integrity:null,is:null,isMap:It,itemId:null,itemProp:gr,itemRef:gr,itemScope:It,itemType:gr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:It,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:It,muted:It,name:null,nonce:null,noModule:It,noValidate:It,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:It,optimum:Oe,pattern:null,ping:gr,placeholder:null,playsInline:It,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:It,referrerPolicy:null,rel:gr,required:It,reversed:It,rows:Oe,rowSpan:Oe,sandbox:gr,scope:null,scoped:It,seamless:It,selected:It,shadowRootClonable:It,shadowRootDelegatesFocus:It,shadowRootMode:null,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:It,useMap:null,value:rn,width:Oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gr,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:It,declare:It,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:It,noHref:It,noShade:It,noWrap:It,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:rn,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:It,disableRemotePlayback:It,prefix:null,property:null,results:Oe,security:null,unselectable:null},space:"html",transform:XQ}),Ije=vp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:no,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:gr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:It,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:th,g2:th,glyphName:th,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:no,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:no,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:no,rev:no,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:no,requiredFeatures:no,requiredFonts:no,requiredFormats:no,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:no,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:no,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:no,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YQ}),QQ=vp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ZQ=vp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:XQ}),JQ=vp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),kje={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Pje=/[A-Z]/g,zV=/-[a-z]/g,Oje=/^data[-\w.:]+$/i;function jje(t,e){const r=Sk(e);let n=e,i=Wi;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Oje.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(zV,Dje);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!zV.test(o)){let a=o.replace(Pje,Rje);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=yO}return new i(n,e)}function Rje(t){return"-"+t.toLowerCase()}function Dje(t){return t.charAt(1).toUpperCase()}const Mje=GQ([KQ,Nje,QQ,ZQ,JQ],"html"),vO=GQ([KQ,Ije,QQ,ZQ,JQ],"svg");function Fje(t){return t.join(" ").trim()}var xf={},TT,WV;function Lje(){if(WV)return TT;WV=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",f="",p="comment",g="declaration";TT=function(y,b){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];b=b||{};var _=1,C=1;function E(F){var $=F.match(e);$&&(_+=$.length);var q=F.lastIndexOf(l);C=~q?F.length-q:C+F.length}function P(){var F={line:_,column:C};return function($){return $.position=new I(F),S(),$}}function I(F){this.start=F,this.end={line:_,column:C},this.source=b.source}I.prototype.content=y;function T(F){var $=new Error(b.source+":"+_+":"+C+": "+F);if($.reason=F,$.filename=b.source,$.line=_,$.column=C,$.source=y,!b.silent)throw $}function N(F){var $=F.exec(y);if($){var q=$[0];return E(q),y=y.slice(q.length),$}}function S(){N(r)}function j(F){var $;for(F=F||[];$=B();)$!==!1&&F.push($);return F}function B(){var F=P();if(!(c!=y.charAt(0)||d!=y.charAt(1))){for(var $=2;f!=y.charAt($)&&(d!=y.charAt($)||c!=y.charAt($+1));)++$;if($+=2,f===y.charAt($-1))return T("End of comment missing");var q=y.slice(2,$-2);return C+=2,E(q),y=y.slice($),C+=2,F({type:p,comment:q})}}function M(){var F=P(),$=N(n);if($){if(B(),!N(i))return T("property missing ':'");var q=N(o),X=F({type:g,property:x($[0].replace(t,f)),value:q?x(q[0].replace(t,f)):f});return N(a),X}}function L(){var F=[];j(F);for(var $;$=M();)$!==!1&&(F.push($),j(F));return F}return S(),L()};function x(y){return y?y.replace(s,f):f}return TT}var HV;function Bje(){if(HV)return xf;HV=1;var t=xf&&xf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xf,"__esModule",{value:!0}),xf.default=r;const e=t(Lje());function r(n,i){let o=null;if(!n||typeof n!="string")return o;const a=(0,e.default)(n),s=typeof i=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:d}=l;s?i(c,d,l):d&&(o=o||{},o[c]=d)}),o}return xf}var Em={},qV;function Vje(){if(qV)return Em;qV=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(c){return!c||r.test(c)||t.test(c)},a=function(c,d){return d.toUpperCase()},s=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),o(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(e,a))};return Em.camelCase=l,Em}var Sm,GV;function $je(){if(GV)return Sm;GV=1;var t=Sm&&Sm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Bje()),r=Vje();function n(i,o){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(s,l){s&&l&&(a[(0,r.camelCase)(s,o)]=l)}),a}return n.default=n,Sm=n,Sm}var Uje=$je();const zje=Yt(Uje),eZ=tZ("end"),xO=tZ("start");function tZ(t){return e;function e(r){const n=r&&r.position&&r.position[t]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Wje(t){const e=xO(t),r=eZ(t);if(e&&r)return{start:e,end:r}}function hg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?KV(t.position):"start"in t||"end"in t?KV(t):"line"in t||"column"in t?Ik(t):""}function Ik(t){return YV(t&&t.line)+":"+YV(t&&t.column)}function KV(t){return Ik(t&&t.start)+"-"+Ik(t&&t.end)}function YV(t){return t&&typeof t=="number"?t:1}class ci extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",o={},a=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?o.ruleId=n:(o.source=n.slice(0,l),o.ruleId=n.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=hg(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ci.prototype.file="";ci.prototype.name="";ci.prototype.reason="";ci.prototype.message="";ci.prototype.stack="";ci.prototype.column=void 0;ci.prototype.line=void 0;ci.prototype.ancestors=void 0;ci.prototype.cause=void 0;ci.prototype.fatal=void 0;ci.prototype.place=void 0;ci.prototype.ruleId=void 0;ci.prototype.source=void 0;const bO={}.hasOwnProperty,Hje=new Map,qje=/[A-Z]/g,Gje=new Set(["table","tbody","thead","tfoot","tr"]),Kje=new Set(["td","th"]),rZ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Yje(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=nRe(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=rRe(r,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?vO:Mje,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=nZ(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function nZ(t,e,r){if(e.type==="element")return Xje(t,e,r);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Qje(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Jje(t,e,r);if(e.type==="mdxjsEsm")return Zje(t,e);if(e.type==="root")return eRe(t,e,r);if(e.type==="text")return tRe(t,e)}function Xje(t,e,r){const n=t.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=vO,t.schema=i),t.ancestors.push(e);const o=oZ(t,e.tagName,!1),a=iRe(t,e);let s=_O(t,e);return Gje.has(e.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Sje(l):!0})),iZ(t,a,o,e),wO(a,s),t.ancestors.pop(),t.schema=n,t.create(e,o,a,r)}function Qje(t,e){if(e.data&&e.data.estree&&t.evaluater){const n=e.data.estree.body[0];return n.type,t.evaluater.evaluateExpression(n.expression)}hy(t,e.position)}function Zje(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);hy(t,e.position)}function Jje(t,e,r){const n=t.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=vO,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:oZ(t,e.name,!0),a=oRe(t,e),s=_O(t,e);return iZ(t,a,o,e),wO(a,s),t.ancestors.pop(),t.schema=n,t.create(e,o,a,r)}function eRe(t,e,r){const n={};return wO(n,_O(t,e)),t.create(e,t.Fragment,n,r)}function tRe(t,e){return e.value}function iZ(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function wO(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function rRe(t,e,r){return n;function n(i,o,a,s){const c=Array.isArray(a.children)?r:e;return s?c(o,a,s):c(o,a)}}function nRe(t,e){return r;function r(n,i,o,a){const s=Array.isArray(o.children),l=xO(n);return e(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function iRe(t,e){const r={};let n,i;for(i in e.properties)if(i!=="children"&&bO.call(e.properties,i)){const o=aRe(t,i,e.properties[i]);if(o){const[a,s]=o;t.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&Kje.has(e.tagName)?n=s:r[a]=s}}if(n){const o=r.style||(r.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function oRe(t,e){const r={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&t.evaluater){const o=n.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(r,t.evaluater.evaluateExpression(s.argument))}else hy(t,e.position);else{const i=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&t.evaluater){const s=n.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else hy(t,e.position);else o=n.value===null?!0:n.value;r[i]=o}return r}function _O(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:Hje;for(;++n<e.children.length;){const o=e.children[n];let a;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const s=nZ(t,o,a);s!==void 0&&r.push(s)}return r}function aRe(t,e,r){const n=jje(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?wje(r):Fje(r)),n.property==="style"){let i=typeof r=="object"?r:sRe(t,String(r));return t.stylePropertyNameCase==="css"&&(i=lRe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?kje[n.property]||n.property:n.attribute,r]}}function sRe(t,e){try{return zje(e,{reactCompat:!0})}catch(r){if(t.ignoreInvalidStyle)return{};const n=r,i=new ci("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=rZ+"#cannot-parse-style-attribute",i}}function oZ(t,e,r){let n;if(!r)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const s=VV(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}n=a}else n=VV(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return bO.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);hy(t)}function hy(t,e){const r=new ci("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=rZ+"#cannot-handle-mdx-estrees-without-createevaluater",r}function lRe(t){const e={};let r;for(r in t)bO.call(t,r)&&(e[cRe(r)]=t[r]);return e}function cRe(t){let e=t.replace(qje,uRe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function uRe(t){return"-"+t.toLowerCase()}const NT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},dRe={};function fRe(t,e){const r=dRe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return aZ(t,n,i)}function aZ(t,e,r){if(hRe(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return XV(t.children,e,r)}return Array.isArray(t)?XV(t,e,r):""}function XV(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=aZ(t[i],e,r);return n.join("")}function hRe(t){return!!(t&&typeof t=="object")}const QV=document.createElement("i");function AO(t){const e="&"+t+";";QV.innerHTML=e;const r=QV.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===e?!1:r}function ms(t,e,r,n){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(e,r),t.splice(...a);else for(r&&t.splice(e,r);o<n.length;)a=n.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Mo(t,e){return t.length>0?(ms(t,t.length,0,e),t):e}const ZV={}.hasOwnProperty;function pRe(t){const e={};let r=-1;for(;++r<t.length;)mRe(e,t[r]);return e}function mRe(t,e){let r;for(r in e){const i=(ZV.call(t,r)?t[r]:void 0)||(t[r]={}),o=e[r];let a;if(o)for(a in o){ZV.call(i,a)||(i[a]=[]);const s=o[a];gRe(i[a],Array.isArray(s)?s:s?[s]:[])}}}function gRe(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);ms(t,0,0,n)}function sZ(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function rh(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qa=qc(/[A-Za-z]/),po=qc(/[\dA-Za-z]/),yRe=qc(/[#-'*+\--9=?A-Z^-~]/);function kk(t){return t!==null&&(t<32||t===127)}const Pk=qc(/\d/),vRe=qc(/[\dA-Fa-f]/),xRe=qc(/[!-/:-@[-`{-~]/);function bt(t){return t!==null&&t<-2}function Ui(t){return t!==null&&(t<0||t===32)}function Jt(t){return t===-2||t===-1||t===32}const bRe=qc(/\p{P}|\p{S}/u),wRe=qc(/\s/);function qc(t){return e;function e(r){return r!==null&&r>-1&&t.test(String.fromCharCode(r))}}function xp(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const o=t.charCodeAt(r);let a="";if(o===37&&po(t.charCodeAt(r+1))&&po(t.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(r+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="�"}else a=String.fromCharCode(o);a&&(e.push(t.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function wr(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Jt(l)?(t.enter(r),s(l)):e(l)}function s(l){return Jt(l)&&o++<i?(t.consume(l),s):(t.exit(r),e(l))}}const _Re={tokenize:ARe};function ARe(t){const e=t.attempt(this.parser.constructs.contentInitial,n,i);let r;return e;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),wr(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return bt(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const CRe={tokenize:ERe},JV={tokenize:SRe};function ERe(t){const e=this,r=[];let n=0,i,o,a;return s;function s(E){if(n<r.length){const P=r[n];return e.containerState=P[1],t.attempt(P[0].continuation,l,c)(E)}return c(E)}function l(E){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const P=e.events.length;let I=P,T;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){T=e.events[I][1].end;break}_(n);let N=P;for(;N<e.events.length;)e.events[N][1].end={...T},N++;return ms(e.events,I+1,0,e.events.slice(P)),e.events.length=N,c(E)}return s(E)}function c(E){if(n===r.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return x(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(JV,d,f)(E)}function d(E){return i&&C(),_(n),p(E)}function f(E){return e.parser.lazy[e.now().line]=n!==r.length,a=e.now().offset,x(E)}function p(E){return e.containerState={},t.attempt(JV,g,x)(E)}function g(E){return n++,r.push([e.currentConstruct,e.containerState]),p(E)}function x(E){if(E===null){i&&C(),_(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(E)}function y(E){if(E===null){b(t.exit("chunkFlow"),!0),_(0),t.consume(E);return}return bt(E)?(t.consume(E),b(t.exit("chunkFlow")),n=0,e.interrupt=void 0,s):(t.consume(E),y)}function b(E,P){const I=e.sliceStream(E);if(P&&I.push(null),E.previous=o,o&&(o.next=E),o=E,i.defineSkip(E.start),i.write(I),e.parser.lazy[E.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<a&&(!i.events[T][1].end||i.events[T][1].end.offset>a))return;const N=e.events.length;let S=N,j,B;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){if(j){B=e.events[S][1].end;break}j=!0}for(_(n),T=N;T<e.events.length;)e.events[T][1].end={...B},T++;ms(e.events,S+1,0,e.events.slice(N)),e.events.length=T}}function _(E){let P=r.length;for(;P-- >E;){const I=r[P];e.containerState=I[1],I[0].exit.call(e,t)}r.length=E}function C(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function SRe(t,e,r){return wr(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function e$(t){if(t===null||Ui(t)||wRe(t))return 1;if(bRe(t))return 2}function CO(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!n.includes(o)&&(e=o(e,r),n.push(o))}return e}const Ok={name:"attention",resolveAll:TRe,tokenize:NRe};function TRe(t,e){let r=-1,n,i,o,a,s,l,c,d;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const f={...t[n][1].end},p={...t[r][1].start};t$(f,-l),t$(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...t[r][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...t[n][1].end},end:{...t[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},t[n][1].end={...a.start},t[r][1].start={...s.end},c=[],t[n][1].end.offset-t[n][1].start.offset&&(c=Mo(c,[["enter",t[n][1],e],["exit",t[n][1],e]])),c=Mo(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),c=Mo(c,CO(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),c=Mo(c,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(d=2,c=Mo(c,[["enter",t[r][1],e],["exit",t[r][1],e]])):d=0,ms(t,n-1,r-n+3,c),r=n+c.length-d-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function NRe(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=e$(n);let o;return a;function a(l){return o=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===o)return t.consume(l),s;const c=t.exit("attentionSequence"),d=e$(l),f=!d||d===2&&i||r.includes(l),p=!i||i===2&&d||r.includes(n);return c._open=!!(o===42?f:f&&(i||!p)),c._close=!!(o===42?p:p&&(d||!f)),e(l)}}function t$(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const IRe={name:"autolink",tokenize:kRe};function kRe(t,e,r){let n=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(g){return Qa(g)?(t.consume(g),a):g===64?r(g):c(g)}function a(g){return g===43||g===45||g===46||po(g)?(n=1,s(g)):c(g)}function s(g){return g===58?(t.consume(g),n=0,l):(g===43||g===45||g===46||po(g))&&n++<32?(t.consume(g),s):(n=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||kk(g)?r(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),d):yRe(g)?(t.consume(g),c):r(g)}function d(g){return po(g)?f(g):r(g)}function f(g){return g===46?(t.consume(g),n=0,d):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||po(g))&&n++<63){const x=g===45?p:f;return t.consume(g),x}return r(g)}}const Ww={partial:!0,tokenize:PRe};function PRe(t,e,r){return n;function n(o){return Jt(o)?wr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||bt(o)?e(o):r(o)}}const lZ={continuation:{tokenize:jRe},exit:RRe,name:"blockQuote",tokenize:ORe};function ORe(t,e,r){const n=this;return i;function i(a){if(a===62){const s=n.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return r(a)}function o(a){return Jt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function jRe(t,e,r){const n=this;return i;function i(a){return Jt(a)?wr(t,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(lZ,e,r)(a)}}function RRe(t){t.exit("blockQuote")}const cZ={name:"characterEscape",tokenize:DRe};function DRe(t,e,r){return n;function n(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return xRe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(o)}}const uZ={name:"characterReference",tokenize:MRe};function MRe(t,e,r){const n=this;let i=0,o,a;return s;function s(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,a=po,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=vRe,d):(t.enter("characterReferenceValue"),o=7,a=Pk,d(f))}function d(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return a===po&&!AO(n.sliceSerialize(p))?r(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&i++<o?(t.consume(f),d):r(f)}}const r$={partial:!0,tokenize:LRe},n$={concrete:!0,name:"codeFenced",tokenize:FRe};function FRe(t,e,r){const n=this,i={partial:!0,tokenize:I};let o=0,a=0,s;return l;function l(T){return c(T)}function c(T){const N=n.events[n.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,s=T,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(T)}function d(T){return T===s?(a++,t.consume(T),d):a<3?r(T):(t.exit("codeFencedFenceSequence"),Jt(T)?wr(t,f,"whitespace")(T):f(T))}function f(T){return T===null||bt(T)?(t.exit("codeFencedFence"),n.interrupt?e(T):t.check(r$,y,P)(T)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===null||bt(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(T)):Jt(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),wr(t,g,"whitespace")(T)):T===96&&T===s?r(T):(t.consume(T),p)}function g(T){return T===null||bt(T)?f(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(T))}function x(T){return T===null||bt(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(T)):T===96&&T===s?r(T):(t.consume(T),x)}function y(T){return t.attempt(i,P,b)(T)}function b(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),_}function _(T){return o>0&&Jt(T)?wr(t,C,"linePrefix",o+1)(T):C(T)}function C(T){return T===null||bt(T)?t.check(r$,y,P)(T):(t.enter("codeFlowValue"),E(T))}function E(T){return T===null||bt(T)?(t.exit("codeFlowValue"),C(T)):(t.consume(T),E)}function P(T){return t.exit("codeFenced"),e(T)}function I(T,N,S){let j=0;return B;function B(q){return T.enter("lineEnding"),T.consume(q),T.exit("lineEnding"),M}function M(q){return T.enter("codeFencedFence"),Jt(q)?wr(T,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):L(q)}function L(q){return q===s?(T.enter("codeFencedFenceSequence"),F(q)):S(q)}function F(q){return q===s?(j++,T.consume(q),F):j>=a?(T.exit("codeFencedFenceSequence"),Jt(q)?wr(T,$,"whitespace")(q):$(q)):S(q)}function $(q){return q===null||bt(q)?(T.exit("codeFencedFence"),N(q)):S(q)}}}function LRe(t,e,r){const n=this;return i;function i(a){return a===null?r(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}const IT={name:"codeIndented",tokenize:VRe},BRe={partial:!0,tokenize:$Re};function VRe(t,e,r){const n=this;return i;function i(c){return t.enter("codeIndented"),wr(t,o,"linePrefix",5)(c)}function o(c){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):bt(c)?t.attempt(BRe,a,l)(c):(t.enter("codeFlowValue"),s(c))}function s(c){return c===null||bt(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),s)}function l(c){return t.exit("codeIndented"),e(c)}}function $Re(t,e,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):bt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):wr(t,o,"linePrefix",5)(a)}function o(a){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):bt(a)?i(a):r(a)}}const URe={name:"codeText",previous:WRe,resolve:zRe,tokenize:HRe};function zRe(t){let e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[e][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function WRe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HRe(t,e,r){let n=0,i,o;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),s(f)}function s(f){return f===96?(t.consume(f),n++,s):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(o=t.enter("codeTextSequence"),i=0,d(f)):bt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||bt(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(o.type="codeTextData",c(f))}}class qRe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Tm(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Tm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Tm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);Tm(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Tm(this.left,r.reverse())}}}function Tm(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function dZ(t){const e={};let r=-1,n,i,o,a,s,l,c;const d=new qRe(t);for(;++r<d.length;){for(;r in e;)r=e[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,GRe(d,r)),r=e[r],c=!0);else if(n[1]._container){for(o=r,i=void 0;o--;)if(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},s=d.slice(i,r),s.unshift(n),d.splice(i,r-i+1,s))}}return ms(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function GRe(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const o=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let d,f,p=-1,g=r,x=0,y=0;const b=[y];for(;g;){for(;t.get(++i)[1]!==g;);o.push(i),g._tokenizer||(d=n.sliceStream(g),g.next||d.push(null),f&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(y=p+1,b.push(y),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),p=b.length;p--;){const _=s.slice(b[p],b[p+1]),C=o.pop();l.push([C,C+_.length-1]),t.splice(C,2,_)}for(l.reverse(),p=-1;++p<l.length;)c[x+l[p][0]]=x+l[p][1],x+=l[p][1]-l[p][0]-1;return c}const KRe={resolve:XRe,tokenize:QRe},YRe={partial:!0,tokenize:ZRe};function XRe(t){return dZ(t),t}function QRe(t,e){let r;return n;function n(s){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):bt(s)?t.check(YRe,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function ZRe(t,e,r){const n=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),wr(t,o,"linePrefix")}function o(a){if(a===null||bt(a))return r(a);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(n.parser.constructs.flow,r,e)(a)}}function fZ(t,e,r,n,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(_){return _===60?(t.enter(n),t.enter(i),t.enter(o),t.consume(_),t.exit(o),p):_===null||_===32||_===41||kk(_)?r(_):(t.enter(n),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),y(_))}function p(_){return _===62?(t.enter(o),t.consume(_),t.exit(o),t.exit(i),t.exit(n),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===62?(t.exit("chunkString"),t.exit(s),p(_)):_===null||_===60||bt(_)?r(_):(t.consume(_),_===92?x:g)}function x(_){return _===60||_===62||_===92?(t.consume(_),g):g(_)}function y(_){return!d&&(_===null||_===41||Ui(_))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(n),e(_)):d<c&&_===40?(t.consume(_),d++,y):_===41?(t.consume(_),d--,y):_===null||_===32||_===40||kk(_)?r(_):(t.consume(_),_===92?b:y)}function b(_){return _===40||_===41||_===92?(t.consume(_),y):y(_)}}function hZ(t,e,r,n,i,o){const a=this;let s=0,l;return c;function c(g){return t.enter(n),t.enter(i),t.consume(g),t.exit(i),t.enter(o),d}function d(g){return s>999||g===null||g===91||g===93&&!l||g===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?r(g):g===93?(t.exit(o),t.enter(i),t.consume(g),t.exit(i),t.exit(n),e):bt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||bt(g)||s++>999?(t.exit("chunkString"),d(g)):(t.consume(g),l||(l=!Jt(g)),g===92?p:f)}function p(g){return g===91||g===92||g===93?(t.consume(g),s++,f):f(g)}}function pZ(t,e,r,n,i,o){let a;return s;function s(p){return p===34||p===39||p===40?(t.enter(n),t.enter(i),t.consume(p),t.exit(i),a=p===40?41:p,l):r(p)}function l(p){return p===a?(t.enter(i),t.consume(p),t.exit(i),t.exit(n),e):(t.enter(o),c(p))}function c(p){return p===a?(t.exit(o),l(a)):p===null?r(p):bt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),wr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||bt(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:d)}function f(p){return p===a||p===92?(t.consume(p),d):d(p)}}function pg(t,e){let r;return n;function n(i){return bt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):Jt(i)?wr(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const JRe={name:"definition",tokenize:tDe},eDe={partial:!0,tokenize:rDe};function tDe(t,e,r){const n=this;let i;return o;function o(g){return t.enter("definition"),a(g)}function a(g){return hZ.call(n,t,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function s(g){return i=rh(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):r(g)}function l(g){return Ui(g)?pg(t,c)(g):c(g)}function c(g){return fZ(t,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return t.attempt(eDe,f,f)(g)}function f(g){return Jt(g)?wr(t,p,"whitespace")(g):p(g)}function p(g){return g===null||bt(g)?(t.exit("definition"),n.parser.defined.push(i),e(g)):r(g)}}function rDe(t,e,r){return n;function n(s){return Ui(s)?pg(t,i)(s):r(s)}function i(s){return pZ(t,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Jt(s)?wr(t,a,"whitespace")(s):a(s)}function a(s){return s===null||bt(s)?e(s):r(s)}}const nDe={name:"hardBreakEscape",tokenize:iDe};function iDe(t,e,r){return n;function n(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return bt(o)?(t.exit("hardBreakEscape"),e(o)):r(o)}}const oDe={name:"headingAtx",resolve:aDe,tokenize:sDe};function aDe(t,e){let r=t.length-2,n=3,i,o;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},o={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},ms(t,n,r-n+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function sDe(t,e,r){let n=0;return i;function i(d){return t.enter("atxHeading"),o(d)}function o(d){return t.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&n++<6?(t.consume(d),a):d===null||Ui(d)?(t.exit("atxHeadingSequence"),s(d)):r(d)}function s(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||bt(d)?(t.exit("atxHeading"),e(d)):Jt(d)?wr(t,s,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Ui(d)?(t.exit("atxHeadingText"),s(d)):(t.consume(d),c)}}const lDe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],i$=["pre","script","style","textarea"],cDe={concrete:!0,name:"htmlFlow",resolveTo:fDe,tokenize:hDe},uDe={partial:!0,tokenize:mDe},dDe={partial:!0,tokenize:pDe};function fDe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function hDe(t,e,r){const n=this;let i,o,a,s,l;return c;function c(W){return d(W)}function d(W){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(W),f}function f(W){return W===33?(t.consume(W),p):W===47?(t.consume(W),o=!0,y):W===63?(t.consume(W),i=3,n.interrupt?e:z):Qa(W)?(t.consume(W),a=String.fromCharCode(W),b):r(W)}function p(W){return W===45?(t.consume(W),i=2,g):W===91?(t.consume(W),i=5,s=0,x):Qa(W)?(t.consume(W),i=4,n.interrupt?e:z):r(W)}function g(W){return W===45?(t.consume(W),n.interrupt?e:z):r(W)}function x(W){const xe="CDATA[";return W===xe.charCodeAt(s++)?(t.consume(W),s===xe.length?n.interrupt?e:L:x):r(W)}function y(W){return Qa(W)?(t.consume(W),a=String.fromCharCode(W),b):r(W)}function b(W){if(W===null||W===47||W===62||Ui(W)){const xe=W===47,Ne=a.toLowerCase();return!xe&&!o&&i$.includes(Ne)?(i=1,n.interrupt?e(W):L(W)):lDe.includes(a.toLowerCase())?(i=6,xe?(t.consume(W),_):n.interrupt?e(W):L(W)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(W):o?C(W):E(W))}return W===45||po(W)?(t.consume(W),a+=String.fromCharCode(W),b):r(W)}function _(W){return W===62?(t.consume(W),n.interrupt?e:L):r(W)}function C(W){return Jt(W)?(t.consume(W),C):B(W)}function E(W){return W===47?(t.consume(W),B):W===58||W===95||Qa(W)?(t.consume(W),P):Jt(W)?(t.consume(W),E):B(W)}function P(W){return W===45||W===46||W===58||W===95||po(W)?(t.consume(W),P):I(W)}function I(W){return W===61?(t.consume(W),T):Jt(W)?(t.consume(W),I):E(W)}function T(W){return W===null||W===60||W===61||W===62||W===96?r(W):W===34||W===39?(t.consume(W),l=W,N):Jt(W)?(t.consume(W),T):S(W)}function N(W){return W===l?(t.consume(W),l=null,j):W===null||bt(W)?r(W):(t.consume(W),N)}function S(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||Ui(W)?I(W):(t.consume(W),S)}function j(W){return W===47||W===62||Jt(W)?E(W):r(W)}function B(W){return W===62?(t.consume(W),M):r(W)}function M(W){return W===null||bt(W)?L(W):Jt(W)?(t.consume(W),M):r(W)}function L(W){return W===45&&i===2?(t.consume(W),X):W===60&&i===1?(t.consume(W),J):W===62&&i===4?(t.consume(W),Q):W===63&&i===3?(t.consume(W),z):W===93&&i===5?(t.consume(W),oe):bt(W)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(uDe,ee,F)(W)):W===null||bt(W)?(t.exit("htmlFlowData"),F(W)):(t.consume(W),L)}function F(W){return t.check(dDe,$,ee)(W)}function $(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),q}function q(W){return W===null||bt(W)?F(W):(t.enter("htmlFlowData"),L(W))}function X(W){return W===45?(t.consume(W),z):L(W)}function J(W){return W===47?(t.consume(W),a="",H):L(W)}function H(W){if(W===62){const xe=a.toLowerCase();return i$.includes(xe)?(t.consume(W),Q):L(W)}return Qa(W)&&a.length<8?(t.consume(W),a+=String.fromCharCode(W),H):L(W)}function oe(W){return W===93?(t.consume(W),z):L(W)}function z(W){return W===62?(t.consume(W),Q):W===45&&i===2?(t.consume(W),z):L(W)}function Q(W){return W===null||bt(W)?(t.exit("htmlFlowData"),ee(W)):(t.consume(W),Q)}function ee(W){return t.exit("htmlFlow"),e(W)}}function pDe(t,e,r){const n=this;return i;function i(a){return bt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):r(a)}function o(a){return n.parser.lazy[n.now().line]?r(a):e(a)}}function mDe(t,e,r){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ww,e,r)}}const gDe={name:"htmlText",tokenize:yDe};function yDe(t,e,r){const n=this;let i,o,a;return s;function s(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),l}function l(z){return z===33?(t.consume(z),c):z===47?(t.consume(z),I):z===63?(t.consume(z),E):Qa(z)?(t.consume(z),S):r(z)}function c(z){return z===45?(t.consume(z),d):z===91?(t.consume(z),o=0,x):Qa(z)?(t.consume(z),C):r(z)}function d(z){return z===45?(t.consume(z),g):r(z)}function f(z){return z===null?r(z):z===45?(t.consume(z),p):bt(z)?(a=f,J(z)):(t.consume(z),f)}function p(z){return z===45?(t.consume(z),g):f(z)}function g(z){return z===62?X(z):z===45?p(z):f(z)}function x(z){const Q="CDATA[";return z===Q.charCodeAt(o++)?(t.consume(z),o===Q.length?y:x):r(z)}function y(z){return z===null?r(z):z===93?(t.consume(z),b):bt(z)?(a=y,J(z)):(t.consume(z),y)}function b(z){return z===93?(t.consume(z),_):y(z)}function _(z){return z===62?X(z):z===93?(t.consume(z),_):y(z)}function C(z){return z===null||z===62?X(z):bt(z)?(a=C,J(z)):(t.consume(z),C)}function E(z){return z===null?r(z):z===63?(t.consume(z),P):bt(z)?(a=E,J(z)):(t.consume(z),E)}function P(z){return z===62?X(z):E(z)}function I(z){return Qa(z)?(t.consume(z),T):r(z)}function T(z){return z===45||po(z)?(t.consume(z),T):N(z)}function N(z){return bt(z)?(a=N,J(z)):Jt(z)?(t.consume(z),N):X(z)}function S(z){return z===45||po(z)?(t.consume(z),S):z===47||z===62||Ui(z)?j(z):r(z)}function j(z){return z===47?(t.consume(z),X):z===58||z===95||Qa(z)?(t.consume(z),B):bt(z)?(a=j,J(z)):Jt(z)?(t.consume(z),j):X(z)}function B(z){return z===45||z===46||z===58||z===95||po(z)?(t.consume(z),B):M(z)}function M(z){return z===61?(t.consume(z),L):bt(z)?(a=M,J(z)):Jt(z)?(t.consume(z),M):j(z)}function L(z){return z===null||z===60||z===61||z===62||z===96?r(z):z===34||z===39?(t.consume(z),i=z,F):bt(z)?(a=L,J(z)):Jt(z)?(t.consume(z),L):(t.consume(z),$)}function F(z){return z===i?(t.consume(z),i=void 0,q):z===null?r(z):bt(z)?(a=F,J(z)):(t.consume(z),F)}function $(z){return z===null||z===34||z===39||z===60||z===61||z===96?r(z):z===47||z===62||Ui(z)?j(z):(t.consume(z),$)}function q(z){return z===47||z===62||Ui(z)?j(z):r(z)}function X(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):r(z)}function J(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),H}function H(z){return Jt(z)?wr(t,oe,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):oe(z)}function oe(z){return t.enter("htmlTextData"),a(z)}}const EO={name:"labelEnd",resolveAll:wDe,resolveTo:_De,tokenize:ADe},vDe={tokenize:CDe},xDe={tokenize:EDe},bDe={tokenize:SDe};function wDe(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&ms(t,0,t.length,r),t}function _De(t,e){let r=t.length,n=0,i,o,a,s;for(;r--;)if(i=t[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},d={type:"labelText",start:{...t[o+n+2][1].end},end:{...t[a-2][1].start}};return s=[["enter",l,e],["enter",c,e]],s=Mo(s,t.slice(o+1,o+n+3)),s=Mo(s,[["enter",d,e]]),s=Mo(s,CO(e.parser.constructs.insideSpan.null,t.slice(o+n+4,a-3),e)),s=Mo(s,[["exit",d,e],t[a-2],t[a-1],["exit",c,e]]),s=Mo(s,t.slice(a+1)),s=Mo(s,[["exit",l,e]]),ms(t,o,t.length,s),t}function ADe(t,e,r){const n=this;let i=n.events.length,o,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return s;function s(p){return o?o._inactive?f(p):(a=n.parser.defined.includes(rh(n.sliceSerialize({start:o.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):r(p)}function l(p){return p===40?t.attempt(vDe,d,a?d:f)(p):p===91?t.attempt(xDe,d,a?c:f)(p):a?d(p):f(p)}function c(p){return t.attempt(bDe,d,f)(p)}function d(p){return e(p)}function f(p){return o._balanced=!0,r(p)}}function CDe(t,e,r){return n;function n(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Ui(f)?pg(t,o)(f):o(f)}function o(f){return f===41?d(f):fZ(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Ui(f)?pg(t,l)(f):d(f)}function s(f){return r(f)}function l(f){return f===34||f===39||f===40?pZ(t,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ui(f)?pg(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):r(f)}}function EDe(t,e,r){const n=this;return i;function i(s){return hZ.call(n,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return n.parser.defined.includes(rh(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(s):r(s)}function a(s){return r(s)}}function SDe(t,e,r){return n;function n(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):r(o)}}const TDe={name:"labelStartImage",resolveAll:EO.resolveAll,tokenize:NDe};function NDe(t,e,r){const n=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):r(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):e(s)}}const IDe={name:"labelStartLink",resolveAll:EO.resolveAll,tokenize:kDe};function kDe(t,e,r){const n=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}const kT={name:"lineEnding",tokenize:PDe};function PDe(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),wr(t,e,"linePrefix")}}const w1={name:"thematicBreak",tokenize:ODe};function ODe(t,e,r){let n=0,i;return o;function o(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||bt(c))?(t.exit("thematicBreak"),e(c)):r(c)}function l(c){return c===i?(t.consume(c),n++,l):(t.exit("thematicBreakSequence"),Jt(c)?wr(t,s,"whitespace")(c):s(c))}}const Ri={continuation:{tokenize:MDe},exit:LDe,name:"list",tokenize:DDe},jDe={partial:!0,tokenize:BDe},RDe={partial:!0,tokenize:FDe};function DDe(t,e,r){const n=this,i=n.events[n.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(g){const x=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:Pk(g)){if(n.containerState.type||(n.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(w1,r,c)(g):c(g);if(!n.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return r(g)}function l(g){return Pk(g)&&++a<10?(t.consume(g),l):(!n.interrupt||a<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):r(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,t.check(Ww,n.interrupt?r:d,t.attempt(jDe,p,f))}function d(g){return n.containerState.initialBlankLine=!0,o++,p(g)}function f(g){return Jt(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):r(g)}function p(g){return n.containerState.size=o+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function MDe(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Ww,i,o);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,wr(t,e,"listItemIndent",n.containerState.size+1)(s)}function o(s){return n.containerState.furtherBlankLines||!Jt(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(RDe,e,a)(s))}function a(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,wr(t,t.attempt(Ri,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function FDe(t,e,r){const n=this;return wr(t,i,"listItemIndent",n.containerState.size+1);function i(o){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?e(o):r(o)}}function LDe(t){t.exit(this.containerState.type)}function BDe(t,e,r){const n=this;return wr(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=n.events[n.events.length-1];return!Jt(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):r(o)}}const o$={name:"setextUnderline",resolveTo:VDe,tokenize:$De};function VDe(t,e){let r=t.length,n,i,o;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!o&&t[r][1].type==="definition"&&(o=r);const a={type:"setextHeading",start:{...t[n][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[n][1],e]),t[n][1].end={...t[o][1].end}):t[n][1]=a,t.push(["exit",a,e]),t}function $De(t,e,r){const n=this;let i;return o;function o(c){let d=n.events.length,f;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){f=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(t.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return t.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(t.consume(c),s):(t.exit("setextHeadingLineSequence"),Jt(c)?wr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||bt(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}const UDe={tokenize:zDe};function zDe(t){const e=this,r=t.attempt(Ww,n,t.attempt(this.parser.constructs.flowInitial,i,wr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(KRe,i)),"linePrefix")));return r;function n(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,r}}const WDe={resolveAll:gZ()},HDe=mZ("string"),qDe=mZ("text");function mZ(t){return{resolveAll:gZ(t==="text"?GDe:void 0),tokenize:e};function e(r){const n=this,i=this.parser.constructs[t],o=r.attempt(i,a,s);return a;function a(d){return c(d)?o(d):s(d)}function s(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),l}function l(d){return c(d)?(r.exit("data"),o(d)):(r.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const g=f[p];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function gZ(t){return e;function e(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(r,n):r}}function GDe(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(s=0),s){const c={type:r===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:n.start._bufferIndex+a,_index:n.start._index+o,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(t.splice(r,0,["enter",c,e],["exit",c,e]),r+=2)}r++}return t}const KDe={42:Ri,43:Ri,45:Ri,48:Ri,49:Ri,50:Ri,51:Ri,52:Ri,53:Ri,54:Ri,55:Ri,56:Ri,57:Ri,62:lZ},YDe={91:JRe},XDe={[-2]:IT,[-1]:IT,32:IT},QDe={35:oDe,42:w1,45:[o$,w1],60:cDe,61:o$,95:w1,96:n$,126:n$},ZDe={38:uZ,92:cZ},JDe={[-5]:kT,[-4]:kT,[-3]:kT,33:TDe,38:uZ,42:Ok,60:[IRe,gDe],91:IDe,92:[nDe,cZ],93:EO,95:Ok,96:URe},e6e={null:[Ok,WDe]},t6e={null:[42,95]},r6e={null:[]},n6e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:t6e,contentInitial:YDe,disable:r6e,document:KDe,flow:QDe,flowInitial:XDe,insideSpan:e6e,string:ZDe,text:JDe},Symbol.toStringTag,{value:"Module"}));function i6e(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:N(I),check:N(T),consume:C,enter:E,exit:P,interrupt:N(T,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:x,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function f(M){return a=Mo(a,M),b(),a[a.length-1]!==null?[]:(S(e,0),c.events=CO(o,c.events,c),c.events)}function p(M,L){return a6e(g(M),L)}function g(M){return o6e(a,M)}function x(){const{_bufferIndex:M,_index:L,line:F,column:$,offset:q}=n;return{_bufferIndex:M,_index:L,line:F,column:$,offset:q}}function y(M){i[M.line]=M.column,B()}function b(){let M;for(;n._index<a.length;){const L=a[n._index];if(typeof L=="string")for(M=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===M&&n._bufferIndex<L.length;)_(L.charCodeAt(n._bufferIndex));else _(L)}}function _(M){d=d(M)}function C(M){bt(M)?(n.line++,n.column=1,n.offset+=M===-3?2:1,B()):M!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=M}function E(M,L){const F=L||{};return F.type=M,F.start=x(),c.events.push(["enter",F,c]),s.push(F),F}function P(M){const L=s.pop();return L.end=x(),c.events.push(["exit",L,c]),L}function I(M,L){S(M,L.from)}function T(M,L){L.restore()}function N(M,L){return F;function F($,q,X){let J,H,oe,z;return Array.isArray($)?ee($):"tokenize"in $?ee([$]):Q($);function Q(ie){return se;function se(we){const me=we!==null&&ie[we],re=we!==null&&ie.null,le=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(re)?re:re?[re]:[]];return ee(le)(we)}}function ee(ie){return J=ie,H=0,ie.length===0?X:W(ie[H])}function W(ie){return se;function se(we){return z=j(),oe=ie,ie.partial||(c.currentConstruct=ie),ie.name&&c.parser.constructs.disable.null.includes(ie.name)?Ne():ie.tokenize.call(L?Object.assign(Object.create(c),L):c,l,xe,Ne)(we)}}function xe(ie){return M(oe,z),q}function Ne(ie){return z.restore(),++H<J.length?W(J[H]):X}}}function S(M,L){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&ms(c.events,L,c.events.length-L,M.resolve(c.events.slice(L),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function j(){const M=x(),L=c.previous,F=c.currentConstruct,$=c.events.length,q=Array.from(s);return{from:$,restore:X};function X(){n=M,c.previous=L,c.currentConstruct=F,c.events.length=$,s=q,B()}}function B(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function o6e(t,e){const r=e.start._index,n=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(r===i)a=[t[r].slice(n,o)];else{if(a=t.slice(r,i),n>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(n):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function a6e(t,e){let r=-1;const n=[];let i;for(;++r<t.length;){const o=t[r];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,n.push(a)}return n.join("")}function s6e(t){const n={constructs:pRe([n6e,...(t||{}).extensions||[]]),content:i(_Re),defined:[],document:i(CRe),flow:i(UDe),lazy:{},string:i(HDe),text:i(qDe)};return n;function i(o){return a;function a(s){return i6e(n,o,s)}}}function l6e(t){for(;!dZ(t););return t}const a$=/[\0\t\n\r]/g;function c6e(){let t=1,e="",r=!0,n;return i;function i(o,a,s){const l=[];let c,d,f,p,g;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,e="",r&&(o.charCodeAt(0)===65279&&f++,r=void 0);f<o.length;){if(a$.lastIndex=f,c=a$.exec(o),p=c&&c.index!==void 0?c.index:o.length,g=o.charCodeAt(p),!c){e=o.slice(f);break}if(g===10&&f===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<p&&(l.push(o.slice(f,p)),t+=p-f),g){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:n=!0,t=1}f=p+1}return s&&(n&&l.push(-5),e&&l.push(e),l.push(null)),l}}const u6e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function d6e(t){return t.replace(u6e,f6e)}function f6e(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),o=i===120||i===88;return sZ(r.slice(o?2:1),o?16:10)}return AO(r)||t}const yZ={}.hasOwnProperty;function h6e(t,e,r){return typeof e!="string"&&(r=e,e=void 0),p6e(r)(l6e(s6e(r).document().write(c6e()(t,e,!0))))}function p6e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(_t),autolinkProtocol:j,autolinkEmail:j,atxHeading:o($e),blockQuote:o(re),characterEscape:j,characterReference:j,codeFenced:o(le),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(le,a),codeText:o(G,a),codeTextData:j,data:j,codeFlowValue:j,definition:o(ge),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Ee),hardBreakEscape:o(We),hardBreakTrailing:o(We),htmlFlow:o(ut,a),htmlFlowData:j,htmlText:o(ut,a),htmlTextData:j,image:o(ft),label:a,link:o(_t),listItem:o(Cr),listItemValue:p,listOrdered:o(gt,f),listUnordered:o(gt),paragraph:o(Qr),reference:W,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o($e),strong:o(di),thematicBreak:o(Ve)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:me,autolinkProtocol:we,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:ie,characterReference:se,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:B,codeIndented:l(_),codeText:l(q),codeTextData:B,data:B,definition:l(),definitionDestinationString:P,definitionLabelString:C,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(F),htmlFlowData:B,htmlText:l($),htmlTextData:B,image:l(J),label:oe,labelText:H,lineEnding:M,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:xe,resourceDestinationString:z,resourceTitleString:Q,resource:ee,setextHeading:l(S),setextHeadingLineSequence:N,setextHeadingText:T,strong:l(),thematicBreak:l()}};vZ(e,(t||{}).mdastExtensions||[]);const r={};return n;function n(ue){let Ae={type:"root",children:[]};const ce={stack:[Ae],tokenStack:[],config:e,enter:s,exit:c,buffer:a,resume:d,data:r},Le=[];let rt=-1;for(;++rt<ue.length;)if(ue[rt][1].type==="listOrdered"||ue[rt][1].type==="listUnordered")if(ue[rt][0]==="enter")Le.push(rt);else{const Vt=Le.pop();rt=i(ue,Vt,rt)}for(rt=-1;++rt<ue.length;){const Vt=e[ue[rt][0]];yZ.call(Vt,ue[rt][1].type)&&Vt[ue[rt][1].type].call(Object.assign({sliceSerialize:ue[rt][2].sliceSerialize},ce),ue[rt][1])}if(ce.tokenStack.length>0){const Vt=ce.tokenStack[ce.tokenStack.length-1];(Vt[1]||s$).call(ce,void 0,Vt[0])}for(Ae.position={start:ec(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:ec(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},rt=-1;++rt<e.transforms.length;)Ae=e.transforms[rt](Ae)||Ae;return Ae}function i(ue,Ae,ce){let Le=Ae-1,rt=-1,Vt=!1,fr,Dr,Ei,fi;for(;++Le<=ce;){const ar=ue[Le];switch(ar[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ar[0]==="enter"?rt++:rt--,fi=void 0;break}case"lineEndingBlank":{ar[0]==="enter"&&(fr&&!fi&&!rt&&!Ei&&(Ei=Le),fi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fi=void 0}if(!rt&&ar[0]==="enter"&&ar[1].type==="listItemPrefix"||rt===-1&&ar[0]==="exit"&&(ar[1].type==="listUnordered"||ar[1].type==="listOrdered")){if(fr){let qi=Le;for(Dr=void 0;qi--;){const Cn=ue[qi];if(Cn[1].type==="lineEnding"||Cn[1].type==="lineEndingBlank"){if(Cn[0]==="exit")continue;Dr&&(ue[Dr][1].type="lineEndingBlank",Vt=!0),Cn[1].type="lineEnding",Dr=qi}else if(!(Cn[1].type==="linePrefix"||Cn[1].type==="blockQuotePrefix"||Cn[1].type==="blockQuotePrefixWhitespace"||Cn[1].type==="blockQuoteMarker"||Cn[1].type==="listItemIndent"))break}Ei&&(!Dr||Ei<Dr)&&(fr._spread=!0),fr.end=Object.assign({},Dr?ue[Dr][1].start:ar[1].end),ue.splice(Dr||Le,0,["exit",fr,ar[2]]),Le++,ce++}if(ar[1].type==="listItemPrefix"){const qi={type:"listItem",_spread:!1,start:Object.assign({},ar[1].start),end:void 0};fr=qi,ue.splice(Le,0,["enter",qi,ar[2]]),Le++,ce++,Ei=void 0,fi=!0}}}return ue[Ae][1]._spread=Vt,ce}function o(ue,Ae){return ce;function ce(Le){s.call(this,ue(Le),Le),Ae&&Ae.call(this,Le)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(ue,Ae,ce){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([Ae,ce||void 0]),ue.position={start:ec(Ae.start),end:void 0}}function l(ue){return Ae;function Ae(ce){ue&&ue.call(this,ce),c.call(this,ce)}}function c(ue,Ae){const ce=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==ue.type&&(Ae?Ae.call(this,ue,Le[0]):(Le[1]||s$).call(this,ue,Le[0]));else throw new Error("Cannot close `"+ue.type+"` ("+hg({start:ue.start,end:ue.end})+"): it’s not open");ce.position.end=ec(ue.end)}function d(){return fRe(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ue){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=ue}function x(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=ue}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=ue.replace(/(\r?\n|\r)$/g,"")}function C(ue){const Ae=this.resume(),ce=this.stack[this.stack.length-1];ce.label=Ae,ce.identifier=rh(this.sliceSerialize(ue)).toLowerCase()}function E(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=ue}function P(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=ue}function I(ue){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const ce=this.sliceSerialize(ue).length;Ae.depth=ce}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function N(ue){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function j(ue){const ce=this.stack[this.stack.length-1].children;let Le=ce[ce.length-1];(!Le||Le.type!=="text")&&(Le=Se(),Le.position={start:ec(ue.start),end:void 0},ce.push(Le)),this.stack.push(Le)}function B(ue){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(ue),Ae.position.end=ec(ue.end)}function M(ue){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ce=Ae.children[Ae.children.length-1];ce.position.end=ec(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ae.type)&&(j.call(this,ue),B.call(this,ue))}function L(){this.data.atHardBreak=!0}function F(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=ue}function $(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=ue}function q(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=ue}function X(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=Ae,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function J(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=Ae,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function H(ue){const Ae=this.sliceSerialize(ue),ce=this.stack[this.stack.length-2];ce.label=d6e(Ae),ce.identifier=rh(Ae).toLowerCase()}function oe(){const ue=this.stack[this.stack.length-1],Ae=this.resume(),ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,ce.type==="link"){const Le=ue.children;ce.children=Le}else ce.alt=Ae}function z(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=ue}function Q(){const ue=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=ue}function ee(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function xe(ue){const Ae=this.resume(),ce=this.stack[this.stack.length-1];ce.label=Ae,ce.identifier=rh(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function Ne(ue){this.data.characterReferenceType=ue.type}function ie(ue){const Ae=this.sliceSerialize(ue),ce=this.data.characterReferenceType;let Le;ce?(Le=sZ(Ae,ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=AO(Ae);const rt=this.stack[this.stack.length-1];rt.value+=Le}function se(ue){const Ae=this.stack.pop();Ae.position.end=ec(ue.end)}function we(ue){B.call(this,ue);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(ue)}function me(ue){B.call(this,ue);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(ue)}function re(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function $e(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function ut(){return{type:"html",value:""}}function ft(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function gt(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function Cr(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function Qr(){return{type:"paragraph",children:[]}}function di(){return{type:"strong",children:[]}}function Se(){return{type:"text",value:""}}function Ve(){return{type:"thematicBreak"}}}function ec(t){return{line:t.line,column:t.column,offset:t.offset}}function vZ(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?vZ(t,n):m6e(t,n)}}function m6e(t,e){let r;for(r in e)if(yZ.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function s$(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+hg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+hg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+hg({start:e.start,end:e.end})+") is still open")}function g6e(t){const e=this;e.parser=r;function r(n){return h6e(n,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function y6e(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function v6e(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function x6e(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function b6e(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function w6e(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function _6e(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=xp(n.toLowerCase()),o=t.footnoteOrder.indexOf(n);let a,s=t.footnoteCounts.get(n);s===void 0?(s=0,t.footnoteOrder.push(n),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function A6e(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function C6e(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function xZ(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function E6e(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return xZ(t,e);const i={src:xp(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function S6e(t,e){const r={src:xp(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function T6e(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function N6e(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return xZ(t,e);const i={href:xp(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function I6e(t,e){const r={href:xp(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function k6e(t,e,r){const n=t.all(e),i=r?P6e(r):bZ(e),o={},a=[];if(typeof e.checked=="boolean"){const d=n[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const d=n[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,c),t.applyData(e,c)}function P6e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const r=t.children;let n=-1;for(;!e&&++n<r.length;)e=bZ(r[n])}return e}function bZ(t){const e=t.spread;return e??t.children.length>1}function O6e(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,o),t.applyData(e,o)}function j6e(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function R6e(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function D6e(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function M6e(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},s=xO(e.children[1]),l=eZ(e.children[e.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function F6e(t,e,r){const n=r?r.children:void 0,o=(n?n.indexOf(e):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,s=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<s;){const f=e.children[l],p={},g=a?a[l]:void 0;g&&(p.align=g);let x={type:"element",tagName:o,properties:p,children:[]};f&&(x.children=t.all(f),t.patch(f,x),x=t.applyData(f,x)),c.push(x)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function L6e(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const l$=9,c$=32;function B6e(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const o=[];for(;n;)o.push(u$(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return o.push(u$(e.slice(i),i>0,!1)),o.join("")}function u$(t,e,r){let n=0,i=t.length;if(e){let o=t.codePointAt(n);for(;o===l$||o===c$;)n++,o=t.codePointAt(n)}if(r){let o=t.codePointAt(i-1);for(;o===l$||o===c$;)i--,o=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function V6e(t,e){const r={type:"text",value:B6e(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function $6e(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const U6e={blockquote:y6e,break:v6e,code:x6e,delete:b6e,emphasis:w6e,footnoteReference:_6e,heading:A6e,html:C6e,imageReference:E6e,image:S6e,inlineCode:T6e,linkReference:N6e,link:I6e,listItem:k6e,list:O6e,paragraph:j6e,root:R6e,strong:D6e,table:M6e,tableCell:L6e,tableRow:F6e,text:V6e,thematicBreak:$6e,toml:Gv,yaml:Gv,definition:Gv,footnoteDefinition:Gv};function Gv(){}const wZ=-1,Hw=0,mg=1,nb=2,SO=3,TO=4,NO=5,IO=6,_Z=7,AZ=8,d$=typeof self=="object"?self:globalThis,z6e=(t,e)=>{const r=(i,o)=>(t.set(o,i),i),n=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case Hw:case wZ:return r(a,i);case mg:{const s=r([],i);for(const l of a)s.push(n(l));return s}case nb:{const s=r({},i);for(const[l,c]of a)s[n(l)]=n(c);return s}case SO:return r(new Date(a),i);case TO:{const{source:s,flags:l}=a;return r(new RegExp(s,l),i)}case NO:{const s=r(new Map,i);for(const[l,c]of a)s.set(n(l),n(c));return s}case IO:{const s=r(new Set,i);for(const l of a)s.add(n(l));return s}case _Z:{const{name:s,message:l}=a;return r(new d$[s](l),i)}case AZ:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return r(new DataView(s),a)}}return r(new d$[o](a),i)};return n},f$=t=>z6e(new Map,t)(0),bf="",{toString:W6e}={},{keys:H6e}=Object,Nm=t=>{const e=typeof t;if(e!=="object"||!t)return[Hw,e];const r=W6e.call(t).slice(8,-1);switch(r){case"Array":return[mg,bf];case"Object":return[nb,bf];case"Date":return[SO,bf];case"RegExp":return[TO,bf];case"Map":return[NO,bf];case"Set":return[IO,bf];case"DataView":return[mg,r]}return r.includes("Array")?[mg,r]:r.includes("Error")?[_Z,r]:[nb,r]},Kv=([t,e])=>t===Hw&&(e==="function"||e==="symbol"),q6e=(t,e,r,n)=>{const i=(a,s)=>{const l=n.push(a)-1;return r.set(s,l),l},o=a=>{if(r.has(a))return r.get(a);let[s,l]=Nm(a);switch(s){case Hw:{let d=a;switch(l){case"bigint":s=AZ,d=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([wZ],a)}return i([s,d],a)}case mg:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const d=[],f=i([s,d],a);for(const p of a)d.push(o(p));return f}case nb:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const d=[],f=i([s,d],a);for(const p of H6e(a))(t||!Kv(Nm(a[p])))&&d.push([o(p),o(a[p])]);return f}case SO:return i([s,a.toISOString()],a);case TO:{const{source:d,flags:f}=a;return i([s,{source:d,flags:f}],a)}case NO:{const d=[],f=i([s,d],a);for(const[p,g]of a)(t||!(Kv(Nm(p))||Kv(Nm(g))))&&d.push([o(p),o(g)]);return f}case IO:{const d=[],f=i([s,d],a);for(const p of a)(t||!Kv(Nm(p)))&&d.push(o(p));return f}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},h$=(t,{json:e,lossy:r}={})=>{const n=[];return q6e(!(e||r),!!e,new Map,n)(t),n},ib=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?f$(h$(t,e)):structuredClone(t):(t,e)=>f$(h$(t,e));function G6e(t,e){const r=[{type:"text",value:"↩"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function K6e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Y6e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||G6e,n=t.options.footnoteBackLabel||K6e,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),p=xp(f.toLowerCase());let g=0;const x=[],y=t.footnoteCounts.get(f);for(;y!==void 0&&++g<=y;){x.length>0&&x.push({type:"text",value:" "});let C=typeof r=="string"?r:r(l,g);typeof C=="string"&&(C={type:"text",value:C}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,g),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const C=b.children[b.children.length-1];C&&C.type==="text"?C.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...x)}else d.push(...x);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(c,_),s.push(_)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ib(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const CZ=(function(t){if(t==null)return J6e;if(typeof t=="function")return qw(t);if(typeof t=="object")return Array.isArray(t)?X6e(t):Q6e(t);if(typeof t=="string")return Z6e(t);throw new Error("Expected function, string, or object as test")});function X6e(t){const e=[];let r=-1;for(;++r<t.length;)e[r]=CZ(t[r]);return qw(n);function n(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Q6e(t){const e=t;return qw(r);function r(n){const i=n;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Z6e(t){return qw(e);function e(r){return r&&r.type===t}}function qw(t){return e;function e(r,n,i){return!!(e5e(r)&&t.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function J6e(){return!0}function e5e(t){return t!==null&&typeof t=="object"&&"type"in t}const EZ=[],t5e=!0,p$=!1,r5e="skip";function n5e(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const o=CZ(i),a=n?-1:1;s(t,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=EZ,x,y,b;if((!e||o(l,c,d[d.length-1]||void 0))&&(g=i5e(r(l,d)),g[0]===p$))return g;if("children"in l&&l.children){const _=l;if(_.children&&g[0]!==r5e)for(y=(n?_.children.length:-1)+a,b=d.concat(_);y>-1&&y<_.children.length;){const C=_.children[y];if(x=s(C,y,b)(),x[0]===p$)return x;y=typeof x[1]=="number"?x[1]:y+a}}return g}}}function i5e(t){return Array.isArray(t)?t:typeof t=="number"?[t5e,t]:t==null?EZ:[t]}function SZ(t,e,r,n){let i,o,a;typeof e=="function"&&typeof r!="function"?(o=void 0,a=e,i=r):(o=e,a=r,i=n),n5e(t,o,s,i);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return a(l,f,d)}}const jk={}.hasOwnProperty,o5e={};function a5e(t,e){const r=e||o5e,n=new Map,i=new Map,o=new Map,a={...U6e,...r.handlers},s={all:c,applyData:l5e,definitionById:n,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:r,patch:s5e,wrap:u5e};return SZ(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?n:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,g=s.handlers[p];if(jk.call(s.handlers,p)&&g)return g(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,_=ib(b);return _.children=s.all(d),_}return ib(d)}return(s.options.unknownHandler||c5e)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let g=-1;for(;++g<p.length;){const x=s.one(p[g],d);if(x){if(g&&p[g-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=m$(x.value)),!Array.isArray(x)&&x.type==="element")){const y=x.children[0];y&&y.type==="text"&&(y.value=m$(y.value))}Array.isArray(x)?f.push(...x):f.push(x)}}}return f}}function s5e(t,e){t.position&&(e.position=Wje(t))}function l5e(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&o&&Object.assign(r.properties,ib(o)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function c5e(t,e){const r=e.data||{},n="value"in e&&!(jk.call(r,"hProperties")||jk.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function u5e(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function m$(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function g$(t,e){const r=a5e(t,e),n=r.one(t,void 0),i=Y6e(r),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function d5e(t,e){return t&&"run"in t?async function(r,n){const i=g$(r,{file:n,...e});await t.run(i,n)}:function(r,n){return g$(r,{file:n,...t||e})}}function y$(t){if(t)throw t}var PT,v$;function f5e(){if(v$)return PT;v$=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},o=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var d=t.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var p;for(p in c);return typeof p>"u"||t.call(c,p)},a=function(c,d){r&&d.name==="__proto__"?r(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(t.call(c,d)){if(n)return n(c,d).value}else return;return c[d]};return PT=function l(){var c,d,f,p,g,x,y=arguments[0],b=1,_=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<_;++b)if(c=arguments[b],c!=null)for(d in c)f=s(y,d),p=s(c,d),y!==p&&(C&&p&&(o(p)||(g=i(p)))?(g?(g=!1,x=f&&i(f)?f:[]):x=f&&o(f)?f:{},a(y,{name:d,newValue:l(C,x,p)})):typeof p<"u"&&a(y,{name:d,newValue:p}));return y},PT}var h5e=f5e();const OT=Yt(h5e);function Rk(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function p5e(){const t=[],e={run:r,use:n};return e;function r(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const d=t[++o];let f=-1;if(l){a(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?m5e(d,s)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function m5e(t,e){let r;return n;function n(...a){const s=t.length>a.length;let l;s&&a.push(i);try{l=t.apply(this,a)}catch(c){const d=c;if(s&&r)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){r||(r=!0,e(a,...s))}function o(a){i(null,a)}}const Ga={basename:g5e,dirname:y5e,extname:v5e,join:x5e,sep:"/"};function g5e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Qy(t);let r=0,n=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){r=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(n=i):(s=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function y5e(t){if(Qy(t),t.length===0)return".";let e=-1,r=t.length,n;for(;--r;)if(t.codePointAt(r)===47){if(n){e=r;break}}else n||(n=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function v5e(t){Qy(t);let e=t.length,r=-1,n=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){n=e+1;break}continue}r<0&&(a=!0,r=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===n+1?"":t.slice(i,r)}function x5e(...t){let e=-1,r;for(;++e<t.length;)Qy(t[e]),t[e]&&(r=r===void 0?t[e]:r+"/"+t[e]);return r===void 0?".":b5e(r)}function b5e(t){Qy(t);const e=t.codePointAt(0)===47;let r=w5e(t,!e);return r.length===0&&!e&&(r="."),r.length>0&&t.codePointAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function w5e(t,e){let r="",n=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(r.length>0){r="",n=0,i=a,o=0;continue}}e&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return r}function Qy(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const _5e={cwd:A5e};function A5e(){return"/"}function Dk(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function C5e(t){if(typeof t=="string")t=new URL(t);else if(!Dk(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return E5e(t)}function E5e(t){if(t.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=t.pathname;let r=-1;for(;++r<e.length;)if(e.codePointAt(r)===37&&e.codePointAt(r+1)===50){const n=e.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const jT=["history","path","basename","stem","extname","dirname"];class TZ{constructor(e){let r;e?Dk(e)?r={path:e}:typeof e=="string"||S5e(e)?r={value:e}:r=e:r={},this.cwd="cwd"in r?"":_5e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<jT.length;){const o=jT[n];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)jT.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Ga.basename(this.path):void 0}set basename(e){DT(e,"basename"),RT(e,"basename"),this.path=Ga.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ga.dirname(this.path):void 0}set dirname(e){x$(this.basename,"dirname"),this.path=Ga.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ga.extname(this.path):void 0}set extname(e){if(RT(e,"extname"),x$(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ga.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Dk(e)&&(e=C5e(e)),DT(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ga.basename(this.path,this.extname):void 0}set stem(e){DT(e,"stem"),RT(e,"stem"),this.path=Ga.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new ci(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function RT(t,e){if(t&&t.includes(Ga.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ga.sep+"`")}function DT(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function x$(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function S5e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const T5e=(function(t){const n=this.constructor.prototype,i=n[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,n),o}),N5e={}.hasOwnProperty;class kO extends T5e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=p5e()}copy(){const e=new kO;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(OT(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(LT("data",this.frozen),this.namespace[e]=r,this):N5e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(LT("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=Yv(e),n=this.parser||this.Parser;return MT("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),MT("process",this.parser||this.Parser),FT("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,a){const s=Yv(e),l=n.parse(s);n.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const g=f,x=n.stringify(g,p);P5e(x)?p.value=x:p.result=x,c(d,p)});function c(d,f){d||!f?a(d):o?o(f):r(void 0,f)}}}processSync(e){let r=!1,n;return this.freeze(),MT("processSync",this.parser||this.Parser),FT("processSync",this.compiler||this.Compiler),this.process(e,i),w$("processSync","process",r),n;function i(o,a){r=!0,y$(o),n=a}}run(e,r,n){b$(e),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?o(void 0,n):new Promise(o);function o(a,s){const l=Yv(r);i.run(e,l,c);function c(d,f,p){const g=f||e;d?s(d):a?a(g):n(void 0,g,p)}}}runSync(e,r){let n=!1,i;return this.run(e,r,o),w$("runSync","run",n),i;function o(a,s){y$(a),i=s,n=!0}}stringify(e,r){this.freeze();const n=Yv(r),i=this.compiler||this.Compiler;return FT("stringify",i),b$(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(LT("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=OT(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];o(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===c){p=f;break}if(p===-1)n.push([c,...d]);else if(d.length>0){let[g,...x]=d;const y=n[p][1];Rk(y)&&Rk(g)&&(g=OT(!0,y,g)),n[p]=[c,g,...x]}}}}const I5e=new kO().freeze();function MT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function FT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function LT(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b$(t){if(!Rk(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function w$(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Yv(t){return k5e(t)?t:new TZ(t)}function k5e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function P5e(t){return typeof t=="string"||O5e(t)}function O5e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const j5e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",_$=[],A$={allowDangerousHtml:!0},R5e=/^(https?|ircs?|mailto|xmpp)$/i,D5e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function M5e(t){const e=F5e(t),r=L5e(t);return B5e(e.runSync(e.parse(r),r),t)}function F5e(t){const e=t.rehypePlugins||_$,r=t.remarkPlugins||_$,n=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...A$}:A$;return I5e().use(g6e).use(r).use(d5e,n).use(e)}function L5e(t){const e=t.children||"",r=new TZ;return typeof e=="string"&&(r.value=e),r}function B5e(t,e){const r=e.allowedElements,n=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,s=e.unwrapDisallowed,l=e.urlTransform||V5e;for(const d of D5e)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+j5e+d.id,void 0);return SZ(t,c),Yje(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return a?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let g;for(g in NT)if(Object.hasOwn(NT,g)&&Object.hasOwn(d.properties,g)){const x=d.properties[g],y=NT[g];(y===null||y.includes(d.tagName))&&(d.properties[g]=l(String(x||""),g,d))}}if(d.type==="element"){let g=r?!r.includes(d.tagName):o?o.includes(d.tagName):!1;if(!g&&n&&typeof f=="number"&&(g=!n(d,f,p)),g&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function V5e(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||R5e.test(t.slice(0,e))?t:""}function $5e({onBack:t,userGoal:e,loggedMacros:r}){const n={calories:e?e.targetCalories-r.calories:750,protein:e?e.protein-r.protein:70,carbs:e?e.carbs-r.carbs:80,fat:e?e.fat-r.fat:25,fiber:30-r.fiber},i=e?.goalType||"maintain",[o,a]=k.useState([{id:"1",text:`Hey there! 🍎 I'm your Food Assistant, here to help you hit your macro goals with smart meal suggestions.

Based on your current progress today, you have **${n.calories} calories** left with **${n.protein}g protein**, **${n.carbs}g carbs**, and **${n.fat}g fat** remaining.

What would you like help with?`,sender:"assistant",timestamp:new Date}]),[s,l]=k.useState(""),[c,d]=k.useState(!1),f=k.useRef(null),p=()=>f.current?.scrollIntoView({behavior:"smooth"});k.useEffect(()=>{p()},[o]);const g=["What should I eat for dinner?","Suggest a high-protein snack","I need more carbs today","Low-calorie meal ideas"],x=async()=>{if(!s.trim())return;const b={id:Date.now().toString(),text:s,sender:"user",timestamp:new Date};a(C=>[...C,b]),l(""),d(!0);const _={id:(Date.now()+1).toString(),text:"",sender:"assistant",timestamp:new Date};a(C=>[...C,_]);try{const C=`
You are a friendly nutrition analysis assistant.

The user says:
${b.text}

User’s current macro data:
Calories left: ${n.calories}
Protein left: ${n.protein}g
Carbs left: ${n.carbs}g
Fat left: ${n.fat}g
Fiber left: ${n.fiber}g
Goal type: ${i}

Your job:
1. Analyze their nutrition and give tailored meal/snack suggestions.
2. Identify missing nutrients or imbalances.
3. Suggest 2–3 specific foods or meal ideas to balance the day.
4. Keep your tone casual, motivational, and concise (1–2 short paragraphs).
5. Use markdown for formatting (bold, bullet points, headers).
6. If any food requires macros lookup, use Google Search grounding to check typical values before answering.
`,P=await zw().streamChat([{role:"user",parts:[{text:C}]}],"gemini-2.5-flash");let I="";for await(const T of P)I+=T,a(N=>N.map(S=>S.id===_.id?{...S,text:I}:S))}catch(C){console.error("Gemini error:",C),a(E=>[...E,{id:(Date.now()+2).toString(),text:"⚠️ Sorry, something went wrong while contacting the AI.",sender:"assistant",timestamp:new Date}])}finally{d(!1)}},y=b=>l(b);return u.jsxs("div",{className:"min-h-screen flex flex-col transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"shadow-sm sticky top-0 z-10 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-colors hover:opacity-70","aria-label":"Go back",style:{backgroundColor:"transparent"},children:u.jsx(Ea,{className:"w-5 h-5",style:{color:"var(--farefit-text)"}})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ol,{className:"w-6 h-6",style:{color:"var(--farefit-primary)"}}),u.jsx("h1",{style:{color:"var(--farefit-text)"},children:"Food Assistant"})]}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--farefit-subtext)"},children:"Get meal suggestions based on your macro goals"})]})]})})}),u.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"rounded-lg p-6 mb-6 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(wa,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Today's Macro Status"})]}),e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-4 pb-4 border-b transition-colors duration-300",style:{borderColor:"var(--farefit-secondary)"},children:u.jsxs("p",{className:"text-sm mb-2",style:{color:"var(--farefit-subtext)"},children:["Goal:"," ",u.jsx("span",{style:{color:"var(--farefit-primary)",textTransform:"capitalize"},children:i})," ","(",e.targetCalories," kcal/day)"]})}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[["Remaining",n.calories,n.calories<0?"over":"kcal left"],["Protein",n.protein,`${r.protein}/${e.protein}g`],["Carbs",n.carbs,`${r.carbs}/${e.carbs}g`],["Fat",n.fat,`${r.fat}/${e.fat}g`],["Fiber",n.fiber,`${r.fiber}/30g`]].map(([b,_,C],E)=>u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:b}),u.jsxs("p",{className:"text-2xl",style:{color:Number(_)<0?"var(--farefit-accent)":"var(--farefit-primary)"},children:[Math.abs(_),b==="Remaining"?"":"g"]}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:C})]},E))})]}):u.jsx("div",{className:"text-center py-4",children:u.jsx("p",{style:{color:"var(--farefit-subtext)"},children:"No fitness goal set yet. Set your goals to get personalized macro tracking!"})})]})}),u.jsx("div",{className:"flex-1 max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 pb-6 overflow-y-auto",children:u.jsxs("div",{className:"space-y-6",children:[o.map(b=>u.jsx("div",{className:`flex ${b.sender==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[85%] rounded-lg p-4 transition-colors duration-300 ${b.sender==="user"?"":"text-white"}`,style:{backgroundColor:b.sender==="assistant"?"var(--farefit-primary)":"var(--farefit-card)",border:b.sender==="user"?"1px solid var(--farefit-secondary)":void 0,color:b.sender==="user"?"var(--farefit-text)":void 0},children:[b.sender==="assistant"?u.jsx("div",{className:"prose prose-sm max-w-none prose-invert",children:u.jsx(M5e,{components:{h3:({children:_})=>u.jsx("h3",{className:"text-white text-base font-medium mt-0 mb-3 flex items-center gap-2",children:_}),p:({children:_})=>u.jsx("p",{className:"text-white text-sm leading-relaxed mb-3 last:mb-0",children:_}),ul:({children:_})=>u.jsx("ul",{className:"text-white text-sm space-y-2 mb-3 list-none pl-0",children:_}),li:({children:_})=>u.jsxs("li",{className:"text-white text-sm leading-relaxed flex items-start gap-2",children:[u.jsx("span",{className:"opacity-70",children:"•"}),u.jsx("span",{children:_})]}),strong:({children:_})=>u.jsx("strong",{className:"font-medium",children:_})},children:b.text})}):u.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--farefit-text)"},children:b.text}),u.jsx("p",{className:"text-xs mt-2",style:{opacity:.6,color:b.sender==="assistant"?"white":"var(--farefit-text)"},children:b.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},b.id)),c&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"max-w-[85%] rounded-lg p-4 text-white transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce",style:{animationDelay:"300ms"}})]})})}),u.jsx("div",{ref:f})]})}),o.length===1&&u.jsx("div",{className:"max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 pb-4",children:u.jsxs("div",{className:"rounded-lg p-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Cre,{className:"w-4 h-4",style:{color:"var(--farefit-primary)"}}),u.jsx("p",{className:"text-sm m-0",style:{color:"var(--farefit-subtext)"},children:"Quick suggestions:"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((b,_)=>u.jsx("button",{onClick:()=>y(b),className:"text-xs px-3 py-2 rounded-full border transition-all",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-primary)",backgroundColor:"var(--farefit-card)"},children:b},_))})]})}),u.jsx("div",{className:"sticky bottom-0 border-t transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",borderColor:"var(--farefit-secondary)"},children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:s,onChange:b=>l(b.target.value),onKeyDown:b=>b.key==="Enter"&&x(),placeholder:"Ask about meals, macros, or food suggestions...",className:"flex-1 px-4 py-3 border rounded-lg text-sm transition-colors duration-300",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)",backgroundColor:"var(--farefit-card)"}}),u.jsxs("button",{onClick:x,disabled:!s.trim(),className:"px-6 py-3 rounded-lg text-white transition-opacity disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--farefit-primary)"},children:[u.jsx(gP,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),u.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"var(--farefit-subtext)"},children:"Food Assistant suggests meals based on your macro data — always verify nutrition info! 🍎"})]})})]})}function xr({className:t,type:e,...r}){return u.jsx("input",{type:e,"data-slot":"input",className:Nt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function U5e({onBack:t,onCoachAIClick:e,workoutData:r,onSaveWorkout:n}){const[i,o]=k.useState(r?.workoutType||"Push Day 💪"),[a,s]=k.useState(r?.duration||0),[l,c]=k.useState(r?.caloriesBurned||0),[d,f]=k.useState(!1),[p,g]=k.useState(!1),[x,y]=k.useState([]),[b,_]=k.useState(!0),[C,E]=k.useState(null),P=or(),I=x.reduce((re,le)=>re+le.sets.length,0),T=x.reduce((re,le)=>re+le.sets.reduce((G,ge)=>G+ge.reps,0),0),N=x.reduce((re,le)=>re+le.sets.reduce((G,ge)=>G+ge.volume,0),0);k.useEffect(()=>{S(),YN()},[]);const S=async()=>{try{_(!0);const re=await $ge();if(re.workout.length>0){const le=re.workout[0];o(le.day_type||"Push Day 💪"),s(le.duration||0),c(le.calories_burned||0);const G=le.exercises.map((ge,Ee)=>{let $e;return Array.isArray(ge.sets)?$e=ge.sets:$e=[{id:`${Ee}-1`,reps:ge.reps||0,weight:ge.weight||0,volume:ge.volume||0}],{id:ge.id||`exercise-${Date.now()}-${Ee}`,name:ge.name||"New Exercise",sets:$e,notes:ge.notes||"",startTime:ge.startTime||void 0,endTime:ge.endTime||void 0,isExpanded:!1}});y(G)}else y([]),s(0),c(0)}catch(re){console.error("Error loading workout:",re),Ue.error("Failed to load workout data")}finally{_(!1)}},j=async re=>{try{console.log(`🔍 Looking for previous ${re} workout...`);const le=await zge();console.log("📚 Workout history:",le);const G=le.find(Ee=>{const $e=Ee.day_type?.toLowerCase().includes(re.toLowerCase());return console.log(`Checking workout: ${Ee.day_type} - Match: ${$e}`),$e});if(!G){Ue.error(`No previous ${re} Day workout found`),console.log(`❌ No ${re} workout found in history`);return}console.log("✅ Found previous workout:",G);const ge=G.exercises.map((Ee,$e)=>{let We;return Array.isArray(Ee.sets)?We=Ee.sets.map((ut,ft)=>({id:`${Date.now()}-${$e}-${ft}`,reps:ut.reps||0,weight:ut.weight||0,volume:ut.volume||0})):We=[{id:`${Date.now()}-${$e}-1`,reps:Ee.reps||0,weight:Ee.weight||0,volume:Ee.volume||0}],{id:`exercise-${Date.now()}-${$e}`,name:Ee.name||"New Exercise",sets:We,notes:Ee.notes||"",startTime:void 0,endTime:void 0,isExpanded:!1}});y(ge),o(G.day_type||`${re} Day`),s(0),c(0),f(!0),Ue.success(`Loaded previous ${re} Day workout! 💪`)}catch(le){console.error("Error loading previous workout:",le),Ue.error("Failed to load previous workout")}},B=[{name:"Mon",volume:8500},{name:"Tue",volume:0},{name:"Wed",volume:9200},{name:"Thu",volume:0},{name:"Fri",volume:9550},{name:"Sat",volume:0},{name:"Today",volume:N}],M=[{name:"Chest",value:45,color:"#1C7C54"},{name:"Shoulders",value:30,color:"#A8E6CF"},{name:"Triceps",value:25,color:"#FFB6B9"}],L=()=>{const re={id:Date.now().toString(),name:"New Exercise",sets:[{id:`${Date.now()}-1`,reps:10,weight:0,volume:0}],notes:"",startTime:void 0,endTime:void 0,isExpanded:!0};y([...x,re]),f(!0)},F=re=>{y(x.filter(le=>le.id!==re)),Ue.success("Exercise removed")},$=(re,le)=>{y(x.map(G=>G.id===re?{...G,name:le}:G))},q=(re,le)=>{y(x.map(G=>G.id===re?{...G,notes:le}:G))},X=(re,le,G)=>{y(x.map(ge=>ge.id===re?{...ge,[le]:G}:ge))},J=re=>{y(x.map(le=>le.id===re?{...le,isExpanded:!le.isExpanded}:le))},H=re=>{y(x.map(le=>{if(le.id===re){const G=le.sets[le.sets.length-1],ge={id:`${re}-${Date.now()}`,reps:G?.reps||10,weight:G?.weight||0,volume:(G?.reps||10)*(G?.weight||0)};return{...le,sets:[...le.sets,ge]}}return le}))},oe=(re,le)=>{y(x.map(G=>G.id===re&&G.sets.length>1?{...G,sets:G.sets.filter(ge=>ge.id!==le)}:G))},z=(re,le,G,ge)=>{y(x.map(Ee=>Ee.id===re?{...Ee,sets:Ee.sets.map($e=>{if($e.id===le){const We={...$e,[G]:ge};return We.volume=We.reps*We.weight,We}return $e})}:Ee))},Q=re=>{const le=re.sets.reduce((ge,Ee)=>ge+Ee.reps,0),G=re.sets.reduce((ge,Ee)=>ge+Ee.volume,0);return{totalReps:le,totalVolume:G}},ee=async()=>{try{f(!1);const re={day_type:i,duration:a||0,calories_burned:l||0,total_sets:I,total_reps:T,volume:N,exercises:x.map(G=>({name:G.name,sets:G.sets,notes:G.notes,startTime:G.startTime||null,endTime:G.endTime||null})),date:we()};console.log("💾 Saving workout:",JSON.stringify(re,null,2)),await Uge(re);const le=P.currentUser?.uid;le&&await Y4(le,"logged_workout"),Ue.success("Workout saved successfully! 💪")}catch(re){console.error("Error saving workout:",re),Ue.error("Failed to save workout")}},W=(re,le)=>{const G=new Date().toISOString();X(re,le,G),Ue.success(`${le==="startTime"?"Start":"End"} time set!`)},xe=(re,le,G)=>{if(!G){X(re,le,void 0);return}const ge=new Date,[Ee,$e]=G.split(" ");let[We,ut]=Ee.split(":").map(Number);$e&&($e.toLowerCase()==="pm"&&We<12?We+=12:$e.toLowerCase()==="am"&&We===12&&(We=0));const ft=new Date(ge);ft.setHours(We,ut,0,0),ge.getHours()<6&&We>=20&&ft.setDate(ft.getDate()-1),X(re,le,ft.toISOString()),E(null),Ue.success(`${le==="startTime"?"Start":"End"} time set!`)},Ne=re=>re?new Date(re).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"—",ie=re=>re?new Date(re).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):"",se=()=>{g(!0),setTimeout(()=>{let re=0,le=null,G=null;for(const _t of x){if(_t.startTime){const gt=new Date(_t.startTime);isNaN(gt.getTime())||(!le||gt.getTime()<le.getTime())&&(le=gt)}if(_t.endTime){const gt=new Date(_t.endTime);isNaN(gt.getTime())||(!G||gt.getTime()>G.getTime())&&(G=gt)}}le&&G&&(re=Math.round((G.getTime()-le.getTime())/6e4));const ge=["bench press","squat","deadlift","overhead press","barbell row","pull-up"],Ee=x.filter(_t=>ge.some(gt=>_t.name.toLowerCase().includes(gt))).length;let $e=re*6.5;const We=Math.min(N/100,200),ut=$e*(Ee*.15),ft=Math.round($e+We+ut);s(re),c(ft),g(!1),Ue.success(`Calculated: ${ft} calories in ${re} minutes! 🔥`),x.length>0&&ee()},1500)},we=()=>vh(),me=({exerciseId:re,type:le,currentTime:G})=>{const[ge,Ee]=k.useState(G||"");return u.jsxs("div",{className:"absolute z-10 mt-2 p-4 rounded-lg shadow-lg border transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)",borderColor:"var(--farefit-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Af,{className:"w-4 h-4",style:{color:"var(--farefit-primary)"}}),u.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--farefit-text)"},children:["Set ",le==="start"?"Start":"End"," Time"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(xr,{type:"time",value:ge,onChange:$e=>Ee($e.target.value),className:"flex-1"}),u.jsx(Gn,{onClick:()=>W(re,le==="start"?"startTime":"endTime"),size:"sm",style:{backgroundColor:"var(--farefit-primary)",color:"white"},children:"Now"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Gn,{onClick:()=>xe(re,le==="start"?"startTime":"endTime",ge),size:"sm",className:"flex-1",style:{backgroundColor:"var(--farefit-accent)",color:"white"},children:"Set Time"}),u.jsx(Gn,{onClick:()=>E(null),size:"sm",variant:"outline",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:"Cancel"})]})]})};return b?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"var(--farefit-primary)"}}),u.jsx("p",{className:"mt-4",style:{color:"var(--farefit-text)"},children:"Loading your workout..."})]})}):u.jsxs("div",{className:"min-h-screen flex flex-col transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"sticky top-0 z-10 px-4 sm:px-6 lg:px-8 py-4 transition-colors duration-300",style:{backgroundColor:"var(--farefit-primary)"},children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity",children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-2 px-4 py-2 rounded-md text-white border border-white/30 hover:bg-white/10 transition-all",children:[u.jsx(MU,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:d?"Cancel Edit":"Edit Workout"})]}),d&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:se,disabled:p,className:"flex items-center gap-2 px-4 py-2 rounded-md text-white transition-all disabled:opacity-50",style:{backgroundColor:"var(--farefit-accent)"},children:[u.jsx(xre,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:p?"Calculating...":"Calculate Calories"})]}),u.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 rounded-md text-white hover:opacity-90 transition-all",style:{backgroundColor:"var(--farefit-primary)"},children:[u.jsx(N1,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Save"})]})]})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6 pb-16",children:[u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[u.jsxs("div",{children:[d?u.jsx(xr,{value:i,onChange:re=>o(re.target.value),className:"text-2xl border-2 mb-2",style:{borderColor:"var(--farefit-primary)",color:"var(--farefit-text)"}}):u.jsx("h1",{className:"mb-2",style:{color:"var(--farefit-text)"},children:i}),u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),u.jsxs("button",{onClick:e,className:"mt-4 sm:mt-0 flex items-center gap-2 px-4 py-2 rounded-md text-white transition-opacity hover:opacity-90",style:{backgroundColor:"var(--farefit-accent)"},children:[u.jsx(T1,{className:"w-4 h-4"}),"Ask Coach AI"]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Duration"}),u.jsx("p",{className:"text-2xl",style:{color:a>0?"var(--farefit-primary)":"var(--farefit-text)"},children:a>0?a:"—"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:a>0?"minutes":"not calculated"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Calories"}),u.jsx("p",{className:"text-2xl",style:{color:l>0?"var(--farefit-primary)":"var(--farefit-text)"},children:l>0?l:"—"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:l>0?"burned":"not calculated"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Total Sets"}),u.jsx("p",{className:"text-2xl",style:{color:"var(--farefit-primary)"},children:I}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"sets"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Total Reps"}),u.jsx("p",{className:"text-2xl",style:{color:"var(--farefit-primary)"},children:T}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"reps"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"var(--farefit-subtext)"},children:"Volume"}),u.jsx("p",{className:"text-2xl",style:{color:"var(--farefit-primary)"},children:N.toLocaleString()}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"lb"})]})]})]}),u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Exercise Log"}),d&&u.jsxs(Gn,{onClick:L,className:"flex items-center gap-2",style:{backgroundColor:"var(--farefit-primary)",color:"white"},children:[u.jsx(ga,{className:"w-4 h-4"}),"Add Exercise"]})]}),d&&u.jsx("div",{className:"mb-4 p-4 rounded-lg transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)",border:"1px solid var(--farefit-secondary)"},children:u.jsxs("p",{className:"text-sm m-0",style:{color:"var(--farefit-text)"},children:[u.jsx("strong",{children:"⏱️ How it works:"})," Click an exercise to expand and add multiple sets with different reps/weights. Set start and end times for each exercise. Click ",u.jsx("strong",{children:'"Calculate Calories"'})," to automatically estimate calories and duration. All totals are summed automatically!"]})}),u.jsx("div",{className:"space-y-4",children:x.map(re=>{const{totalReps:le,totalVolume:G}=Q(re);return u.jsxs("div",{className:"border rounded-lg overflow-hidden transition-colors duration-300",style:{borderColor:"var(--farefit-secondary)",backgroundColor:"var(--farefit-card)"},children:[u.jsx("div",{className:"p-4",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsxs("div",{className:"flex items-center gap-3",children:[d&&u.jsx(Yre,{className:"w-5 h-5 cursor-move",style:{color:"var(--farefit-subtext)"}}),u.jsxs("div",{className:"flex-1",children:[d?u.jsx(xr,{value:re.name,onChange:ge=>$(re.id,ge.target.value),className:"font-semibold mb-2",style:{color:"var(--farefit-text)"}}):u.jsx("h3",{className:"m-0 mb-2",style:{color:"var(--farefit-text)"},children:re.name}),u.jsxs("div",{className:"flex items-center gap-3 text-sm flex-wrap",style:{color:"var(--farefit-subtext)"},children:[u.jsxs("span",{children:[re.sets.length," set",re.sets.length!==1?"s":""]}),u.jsx("span",{children:"•"}),u.jsxs("span",{children:[le," total reps"]}),u.jsx("span",{children:"•"}),u.jsxs("span",{className:"font-medium",style:{color:"var(--farefit-primary)"},children:[G.toLocaleString()," lb"]}),(re.startTime||re.endTime)&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"•"}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Af,{className:"w-3 h-3"}),Ne(re.startTime)," - ",Ne(re.endTime)]})]})]})]}),u.jsx("button",{onClick:()=>J(re.id),className:"p-2 rounded-lg transition-colors",style:{color:"var(--farefit-text)"},children:re.isExpanded?u.jsx(pb,{className:"w-5 h-5"}):u.jsx(al,{className:"w-5 h-5"})}),d&&u.jsx("button",{onClick:()=>F(re.id),className:"p-2 rounded-lg transition-colors",style:{color:"var(--farefit-accent)"},children:u.jsx(sh,{className:"w-5 h-5"})})]})}),re.isExpanded&&u.jsxs("div",{className:"p-4 space-y-3",children:[re.sets.map((ge,Ee)=>u.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",style:{borderColor:"var(--farefit-secondary)"},children:[u.jsxs("span",{className:"text-sm font-medium w-16",style:{color:"var(--farefit-subtext)"},children:["Set ",Ee+1]}),u.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs block mb-1",style:{color:"var(--farefit-subtext)"},children:"Reps"}),d?u.jsx(xr,{type:"number",value:ge.reps,onChange:$e=>z(re.id,ge.id,"reps",parseInt($e.target.value)||0),className:"w-full"}):u.jsx("div",{className:"px-3 py-2 border rounded-lg text-sm",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:ge.reps})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs block mb-1",style:{color:"var(--farefit-subtext)"},children:"Weight (lb)"}),d?u.jsx(xr,{type:"number",value:ge.weight,onChange:$e=>z(re.id,ge.id,"weight",parseInt($e.target.value)||0),className:"w-full"}):u.jsx("div",{className:"px-3 py-2 border rounded-lg text-sm",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:ge.weight})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs block mb-1",style:{color:"var(--farefit-subtext)"},children:"Volume"}),u.jsxs("div",{className:"px-3 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:"var(--farefit-bg)",color:"var(--farefit-primary)"},children:[ge.volume.toLocaleString()," lb"]})]})]}),d&&re.sets.length>1&&u.jsx("button",{onClick:()=>oe(re.id,ge.id),className:"p-2 rounded-lg transition-colors",style:{color:"var(--farefit-accent)"},children:u.jsx(sh,{className:"w-4 h-4"})})]},ge.id)),d&&u.jsxs("button",{onClick:()=>H(re.id),className:"w-full py-2 border-2 border-dashed rounded-lg flex items-center justify-center gap-2 transition-colors",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-subtext)"},children:[u.jsx(ga,{className:"w-4 h-4"}),"Add Set"]}),u.jsxs("div",{className:"pt-3 mt-3 space-y-3",style:{borderTop:"1px solid var(--farefit-secondary)"},children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs block mb-1",style:{color:"var(--farefit-subtext)"},children:"Start Time"}),d?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>E(C?.id===re.id&&C.type==="start"?null:{id:re.id,type:"start"}),className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm w-full border transition-colors",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-primary)"},children:[u.jsx(Af,{className:"w-3 h-3"}),Ne(re.startTime)]}),C?.id===re.id&&C.type==="start"&&u.jsx(me,{exerciseId:re.id,type:"start",currentTime:ie(re.startTime)})]}):u.jsx("div",{className:"px-3 py-2 border rounded-lg text-sm",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:Ne(re.startTime)})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"text-xs block mb-1",style:{color:"var(--farefit-subtext)"},children:"End Time"}),d?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>E(C?.id===re.id&&C.type==="end"?null:{id:re.id,type:"end"}),className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm w-full border transition-colors",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-accent)"},children:[u.jsx(Af,{className:"w-3 h-3"}),Ne(re.endTime)]}),C?.id===re.id&&C.type==="end"&&u.jsx(me,{exerciseId:re.id,type:"end",currentTime:ie(re.endTime)})]}):u.jsx("div",{className:"px-3 py-2 border rounded-lg text-sm",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:Ne(re.endTime)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs block mb-1",style:{color:"var(--farefit-subtext)"},children:"Notes"}),d?u.jsx(nw,{value:re.notes,onChange:ge=>q(re.id,ge.target.value),placeholder:"Add notes about this exercise...",rows:2}):u.jsx("div",{className:"px-3 py-2 border rounded-lg text-sm",style:{borderColor:"var(--farefit-secondary)",color:"var(--farefit-text)"},children:re.notes||"—"})]})]})]})]},re.id)})}),x.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"mb-4",style:{color:"var(--farefit-subtext)"},children:"No exercises yet. Start by adding one!"}),u.jsxs(Gn,{onClick:L,className:"inline-flex items-center gap-2",style:{backgroundColor:"var(--farefit-primary)",color:"white"},children:[u.jsx(ga,{className:"w-5 h-5"}),"Add Your First Exercise"]})]}),x.length>0&&u.jsx("div",{className:"mt-6 pt-4 flex justify-end gap-8 transition-colors duration-300",style:{borderTop:"2px solid var(--farefit-primary)"},children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"var(--farefit-subtext)"},children:"Total Volume"}),u.jsxs("p",{className:"text-xl",style:{color:"var(--farefit-primary)"},children:[N.toLocaleString()," lb"]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(wa,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Volume Progress"})]}),u.jsx(Eh,{width:"100%",height:250,children:u.jsxs(Yy,{data:B,children:[u.jsx(yp,{strokeDasharray:"3 3",stroke:"var(--farefit-border)"}),u.jsx(Wc,{dataKey:"name",stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(Hc,{stroke:"var(--farefit-subtext)",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"var(--farefit-card)",border:"1px solid var(--farefit-secondary)",borderRadius:"8px",color:"var(--farefit-text)"}}),u.jsx(vo,{type:"monotone",dataKey:"volume",stroke:"var(--farefit-primary)",strokeWidth:3,dot:{fill:"var(--farefit-primary)",r:4},activeDot:{r:6}})]})}),u.jsx("p",{className:"text-sm text-center mt-2",style:{color:"var(--farefit-subtext)"},children:"Last 7 Push Days"})]}),u.jsxs("div",{className:"rounded-lg p-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Yh,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Muscle Focus"})]}),u.jsx(Eh,{width:"100%",height:250,children:u.jsxs(oOe,{children:[u.jsx(El,{data:M,cx:"50%",cy:"50%",labelLine:!1,label:re=>`${re.name} ${re.value}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:M.map((re,le)=>u.jsx(gw,{fill:re.color},`cell-${le}`))}),u.jsx(vi,{})]})}),u.jsx("p",{className:"text-sm text-center mt-2",style:{color:"var(--farefit-subtext)"},children:"Today's workout distribution"})]})]}),u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(mb,{className:"w-5 h-5",style:{color:"var(--farefit-accent)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Weekly Progress"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"h-4 rounded-full overflow-hidden transition-colors duration-300",style:{backgroundColor:"var(--farefit-bg)"},children:u.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:"80%",backgroundColor:"var(--farefit-primary)"}})})}),u.jsx("p",{className:"text-xl",style:{color:"var(--farefit-primary)"},children:"4/5"})]}),u.jsx("p",{className:"text-sm mt-2",style:{color:"var(--farefit-subtext)"},children:"🔥 4 workouts this week — Keep the streak alive!"})]}),x.length===0&&u.jsxs("div",{className:"rounded-lg p-6 mb-6 shadow-sm transition-colors duration-300",style:{backgroundColor:"var(--farefit-card)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Af,{className:"w-5 h-5",style:{color:"var(--farefit-primary)"}}),u.jsx("h3",{className:"m-0",style:{color:"var(--farefit-text)"},children:"Load Previous Workout"})]}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--farefit-subtext)"},children:"Quickly load your last workout to save time logging"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("button",{onClick:()=>j("Push"),className:"p-4 border-2 rounded-lg hover:shadow-md transition-all text-center",style:{borderColor:"var(--farefit-secondary)",backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"text-3xl mb-2",children:"💪"}),u.jsx("h4",{className:"mb-1",style:{color:"var(--farefit-text)"},children:"Load Push Day"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Load your most recent push workout"})]}),u.jsxs("button",{onClick:()=>j("Pull"),className:"p-4 border-2 rounded-lg hover:shadow-md transition-all text-center",style:{borderColor:"var(--farefit-secondary)",backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"text-3xl mb-2",children:"🏋️"}),u.jsx("h4",{className:"mb-1",style:{color:"var(--farefit-text)"},children:"Load Pull Day"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Load your most recent pull workout"})]}),u.jsxs("button",{onClick:()=>j("Leg"),className:"p-4 border-2 rounded-lg hover:shadow-md transition-all text-center",style:{borderColor:"var(--farefit-secondary)",backgroundColor:"var(--farefit-bg)"},children:[u.jsx("div",{className:"text-3xl mb-2",children:"🦵"}),u.jsx("h4",{className:"mb-1",style:{color:"var(--farefit-text)"},children:"Load Leg Day"}),u.jsx("p",{className:"text-xs",style:{color:"var(--farefit-subtext)"},children:"Load your most recent leg workout"})]})]})]})]}),u.jsx(Sl,{onNavigate:()=>{},onFeedbackClick:()=>{}})]})}function z5e({meal:t,isOpen:e,onClose:r,onFoodAssistantClick:n,userGoal:i}){const[o,a]=k.useState(!1),[s,l]=k.useState([]);if(!t||t.type!=="meal")return null;const c=o?s:t.foods||[],d=c.reduce((L,F)=>L+F.calories,0),f=c.reduce((L,F)=>L+F.protein,0),p=c.reduce((L,F)=>L+F.carbs,0),g=c.reduce((L,F)=>L+F.fat,0),x=i?f/i.protein*100:0,y=i?p/i.carbs*100:0,b=i?g/i.fat*100:0,_=()=>{if(!i)return"Set your fitness goal to get personalized meal insights!";const L=[];return f<i.protein/3*.7?L.push("⚠️ This meal is low on protein. Add Greek yogurt (+17g) or chicken breast (+25g) to boost it."):f>=i.protein/3&&L.push(`✅ Excellent protein content! You're ${Math.round(x)}% toward your daily goal from this meal alone.`),!(f>=15&&p>=20&&g>=10)&&d>200&&L.push("💡 Consider balancing this meal with all three macros for sustained energy."),t.name==="Breakfast"&&d<300&&L.push("🌅 Breakfast is a bit light. Consider adding oatmeal (+150 kcal) or a banana (+105 kcal) for more energy."),L.length===0&&L.push(`🎯 This meal looks well-balanced and fits your ${i.goalType==="cut"?"cutting":i.goalType==="bulk"?"bulking":"maintenance"} goals!`),L[0]},C=()=>{l([...t.foods||[]]),a(!0)},E=()=>{a(!1),l([])},P=()=>{Ue.success("Meal updated successfully!"),a(!1)},I=()=>{Ue.success("Meal deleted"),r()},T=()=>{Ue.success("Meal duplicated for tomorrow!")},N=()=>{Ue.success(`"${t.name}" saved as preset!`)},S=()=>{Ue.success("Meal added to today!")},j=L=>{const F=[...s];F.splice(L,1),l(F)},B=()=>{l([...s,{name:"New Food",calories:0,protein:0,carbs:0,fat:0,serving:"1 serving"}])},M=(L,F,$)=>{const q=[...s];q[L]={...q[L],[F]:$},l(q)};return u.jsx(bi,{open:e,onOpenChange:r,children:u.jsxs(wi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[u.jsx(fo,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(ol,{className:"w-5 h-5",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx(ho,{style:{color:"#102A43"},children:t.name}),u.jsx(Bo,{style:{color:"#102A43",opacity:.6},children:t.time})]})]}),!o&&u.jsx("div",{className:"flex gap-2",children:u.jsxs(Gn,{variant:"outline",size:"sm",onClick:C,className:"gap-2",children:[u.jsx(MU,{className:"w-4 h-4"}),"Edit"]})})]})}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Calories"}),u.jsx("p",{className:"text-xl",style:{color:"#102A43"},children:d})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Protein"}),u.jsxs("p",{className:"text-xl",style:{color:"#102A43"},children:[f,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Carbs"}),u.jsxs("p",{className:"text-xl",style:{color:"#102A43"},children:[p,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Fat"}),u.jsxs("p",{className:"text-xl",style:{color:"#102A43"},children:[g,"g"]})]})]}),i&&u.jsxs("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#A8E6CF"},children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43",opacity:.7},children:"Contribution to Daily Goal"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{style:{color:"#102A43"},children:"Protein"}),u.jsxs("span",{style:{color:"#1C7C54"},children:[Math.round(x),"% of daily target"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{style:{color:"#102A43"},children:"Carbs"}),u.jsxs("span",{style:{color:"#1C7C54"},children:[Math.round(y),"% of daily target"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{style:{color:"#102A43"},children:"Fat"}),u.jsxs("span",{style:{color:"#1C7C54"},children:[Math.round(b),"% of daily target"]})]})]})]}),u.jsx(it.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 rounded-lg",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Wo,{className:"w-5 h-5 text-white flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white text-sm mb-1",style:{fontWeight:600},children:"AI Insight"}),u.jsx("p",{className:"text-white text-sm opacity-95",children:_()})]})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{style:{color:"#102A43"},children:"Foods in this meal"}),o&&u.jsxs(Gn,{variant:"outline",size:"sm",onClick:B,className:"gap-2",children:[u.jsx(ga,{className:"w-4 h-4"}),"Add Food"]})]}),u.jsx("div",{className:"space-y-3",children:u.jsx(yd,{children:c.map((L,F)=>u.jsx(it.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 rounded-lg border",style:{borderColor:"#E8F4F2"},children:o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xr,{value:L.name,onChange:$=>M(F,"name",$.target.value),className:"flex-1",placeholder:"Food name"}),u.jsx(Gn,{variant:"ghost",size:"sm",onClick:()=>j(F),className:"text-red-500 hover:text-red-600",children:u.jsx(Zs,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[u.jsx(xr,{type:"number",value:L.calories,onChange:$=>M(F,"calories",parseInt($.target.value)||0),placeholder:"Cal",className:"text-sm"}),u.jsx(xr,{type:"number",value:L.protein,onChange:$=>M(F,"protein",parseInt($.target.value)||0),placeholder:"Protein",className:"text-sm"}),u.jsx(xr,{type:"number",value:L.carbs,onChange:$=>M(F,"carbs",parseInt($.target.value)||0),placeholder:"Carbs",className:"text-sm"}),u.jsx(xr,{type:"number",value:L.fat,onChange:$=>M(F,"fat",parseInt($.target.value)||0),placeholder:"Fat",className:"text-sm"}),u.jsx(xr,{value:L.serving,onChange:$=>M(F,"serving",$.target.value),placeholder:"Serving",className:"text-sm"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("p",{style:{color:"#102A43"},children:L.name}),u.jsxs("p",{style:{color:"#102A43"},children:[L.calories," kcal"]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm",style:{color:"#102A43",opacity:.7},children:[u.jsxs("span",{children:["P: ",L.protein,"g"]}),u.jsxs("span",{children:["C: ",L.carbs,"g"]}),u.jsxs("span",{children:["F: ",L.fat,"g"]}),u.jsx("span",{className:"ml-auto",children:L.serving})]})]})},F))})})]}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",style:{borderColor:"#E8F4F2"},children:o?u.jsxs(u.Fragment,{children:[u.jsxs(Gn,{onClick:P,className:"flex-1 gap-2",style:{backgroundColor:"#1C7C54",color:"white"},children:[u.jsx(N1,{className:"w-4 h-4"}),"Save Changes"]}),u.jsx(Gn,{onClick:E,variant:"outline",className:"flex-1",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsxs(Gn,{onClick:S,variant:"outline",className:"flex-1 gap-2",children:[u.jsx(JT,{className:"w-4 h-4"}),"Recreate This Meal"]}),u.jsxs(Gn,{onClick:N,variant:"outline",className:"flex-1 gap-2",children:[u.jsx(N1,{className:"w-4 h-4"}),"Save as Preset"]}),u.jsxs(Gn,{onClick:n,className:"flex-1 gap-2",style:{backgroundColor:"#FFB6B9",color:"white"},children:[u.jsx(Wo,{className:"w-4 h-4"}),"Ask Food AI"]})]})}),!o&&u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Gn,{onClick:T,variant:"outline",size:"sm",className:"gap-2",children:[u.jsx(JT,{className:"w-4 h-4"}),"Duplicate"]}),u.jsxs(Gn,{onClick:I,variant:"outline",size:"sm",className:"gap-2 text-red-500 hover:text-red-600 hover:border-red-300",children:[u.jsx(sh,{className:"w-4 h-4"}),"Delete Meal"]})]})]})})}function NZ({isOpen:t,onClose:e}){const r=[{day:"Mon",score:75,date:"Oct 11"},{day:"Tue",score:78,date:"Oct 12"},{day:"Wed",score:80,date:"Oct 13"},{day:"Thu",score:77,date:"Oct 14"},{day:"Fri",score:83,date:"Oct 15"},{day:"Sat",score:85,date:"Oct 16"},{day:"Today",score:82,date:"Oct 17"}],n=82,i=Math.round(r.reduce((p,g)=>p+g.score,0)/r.length),o=n-r[0].score,a=[{category:"Calorie Balance",icon:Yh,points:30,maxPoints:35,status:"good",details:[{text:"Within target range",earned:!0,points:20},{text:"Consistent daily tracking",earned:!0,points:10},{text:"No extreme fluctuations",earned:!1,points:5}],color:"#1C7C54"},{category:"Macro Adherence",icon:TU,points:25,maxPoints:30,status:"good",details:[{text:"Hit protein goal (95g/165g)",earned:!0,points:15},{text:"Carbs within range",earned:!0,points:10},{text:"Fat target met",earned:!1,points:5}],color:"#4A90E2"},{category:"Workout Consistency",icon:mb,points:20,maxPoints:25,status:"excellent",details:[{text:"Worked out today (Push Day)",earned:!0,points:15},{text:"4 workouts this week",earned:!0,points:5},{text:"Rest days optimized",earned:!1,points:5}],color:"#FFB6B9"},{category:"Streak & Habits",icon:wa,points:7,maxPoints:10,status:"fair",details:[{text:"7-day logging streak",earned:!0,points:5},{text:"Logged before 10 PM",earned:!0,points:2},{text:"All meals logged",earned:!1,points:3}],color:"#A8E6CF"}],s=a.reduce((p,g)=>p+g.points,0),l=a.reduce((p,g)=>p+g.maxPoints,0),c=[{icon:ga,tip:"Log one more snack to complete your meal tracking",impact:"+3 points",color:"#1C7C54"},{icon:ga,tip:"Hit your fat macro target (48g / 73g remaining)",impact:"+5 points",color:"#FFB6B9"},{icon:ga,tip:"Add cardio or active recovery tomorrow",impact:"+5 points",color:"#4A90E2"}],f=(p=>({label:"Excellent",color:"#1C7C54",emoji:"💪"}))();return u.jsx(bi,{open:t,onOpenChange:e,children:u.jsxs(wi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Your Fitness Score Breakdown"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.6},children:"Understanding how your daily actions contribute to your overall fitness"})]}),u.jsxs("div",{className:"text-center p-6 rounded-lg",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:[u.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[u.jsxs("div",{className:"relative w-24 h-24",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"rgba(255,255,255,0.3)",strokeWidth:"8",fill:"none"}),u.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"white",strokeWidth:"8",fill:"none",strokeDasharray:`${n/100*251} 251`,strokeLinecap:"round"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-4xl text-white",children:n}),u.jsx("span",{className:"text-xs text-white opacity-90",children:"/ 100"})]})]}),u.jsxs("div",{className:"text-left",children:[u.jsxs("p",{className:"text-3xl text-white mb-1",children:[f.emoji," ",f.label]}),u.jsxs("p",{className:"text-white opacity-90",children:[s," / ",l," points earned today"]})]})]}),u.jsxs("p",{className:"text-white text-sm opacity-95",children:["You're ",o>=0?"up":"down"," ",u.jsxs("strong",{children:[Math.abs(o)," points"]})," from Monday. Week average: ",u.jsx("strong",{children:i})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 border-2",style:{borderColor:"#E8F4F2"},children:[u.jsx("h4",{className:"mb-4",style:{color:"#102A43"},children:"7-Day Trend"}),u.jsx(Eh,{width:"100%",height:200,children:u.jsxs(Yy,{data:r,children:[u.jsx(yp,{strokeDasharray:"3 3",stroke:"#E8F4F2"}),u.jsx(Wc,{dataKey:"day",stroke:"#102A43",style:{fontSize:"12px"}}),u.jsx(Hc,{domain:[0,100],stroke:"#102A43",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"white",border:"1px solid #A8E6CF",borderRadius:"8px"},formatter:p=>[`${p} pts`,"Score"]}),u.jsx(vo,{type:"monotone",dataKey:"score",stroke:"#1C7C54",strokeWidth:3,dot:{fill:"#1C7C54",r:5},activeDot:{r:7}})]})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"mb-4",style:{color:"#102A43"},children:"How It's Calculated"}),u.jsx("div",{className:"space-y-4",children:a.map((p,g)=>u.jsxs(it.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},className:"p-4 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${p.color}20`},children:u.jsx(p.icon,{className:"w-5 h-5",style:{color:p.color}})}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:p.category}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[p.points," / ",p.maxPoints," points"]})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("div",{className:"text-2xl mb-1",style:{color:p.color},children:p.points})})]}),u.jsx("div",{className:"w-full h-2 rounded-full overflow-hidden mb-3",style:{backgroundColor:"#E8F4F2"},children:u.jsx("div",{className:"h-full transition-all duration-500 rounded-full",style:{width:`${p.points/p.maxPoints*100}%`,backgroundColor:p.color}})}),u.jsx("div",{className:"space-y-2 pl-2",children:p.details.map((x,y)=>u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.earned?u.jsx(PU,{className:"w-4 h-4 flex-shrink-0",style:{color:p.color}}):u.jsx(OU,{className:"w-4 h-4 flex-shrink-0",style:{color:"#102A43",opacity:.3}}),u.jsx("span",{style:{color:"#102A43",opacity:x.earned?1:.5,textDecoration:x.earned?"none":"line-through"},children:x.text}),u.jsx("span",{className:"ml-auto text-xs",style:{color:p.color},children:x.earned?`+${x.points}`:`${x.points}`})]},y))})]},p.category))})]}),u.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(wa,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsx("h4",{style:{color:"#102A43"},children:"How to Improve Your Score"})]}),u.jsx("div",{className:"space-y-3",children:c.map((p,g)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"white"},children:u.jsx(p.icon,{className:"w-4 h-4",style:{color:p.color}})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{style:{color:"#102A43"},children:p.tip}),u.jsx("p",{className:"text-sm",style:{color:p.color},children:p.impact})]})]},g))})]}),u.jsx("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#A8E6CF",backgroundColor:"#A8E6CF10"},children:u.jsxs("p",{className:"text-sm",style:{color:"#102A43"},children:[u.jsx("strong",{children:"📊 About Your Score:"})," Your Fitness Score is calculated daily based on calorie balance, macro adherence, workout consistency, and logging habits. Aim for 80+ to stay on track with your goals!"]})})]})})}function W5e({onBack:t,onNavigate:e,onFeedbackClick:r,userGoal:n,loggedMacros:i}){const[o,a]=k.useState(()=>new Date(`${vh()}T00:00:00`)),[s,l]=k.useState(null),[c,d]=k.useState(!1),{meals:f,totals:p,loading:g}=X4(o);if(g)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mb-4 text-2xl",style:{color:"#1C7C54"},children:"🍽️"}),u.jsx("p",{style:{color:"#1C7C54"},children:"Loading your timeline..."})]})});const x=f.reduce((ie,se)=>{const we=se.meal_type||"meal";if(ie[we]||(ie[we]={meal_type:we,total_calories:0,foods:[],meal_time:null}),ie[we].total_calories+=se.calories||0,ie[we].foods.push({name:se.food_name||"Unknown food",calories:se.calories||0,protein:se.protein||0,carbs:se.carbs||0,fat:se.fats||0,serving:se.serving_size?.toString()||"1"}),se.meal_time){const me=typeof se.meal_time=="object"&&se.meal_time.seconds?new Date(se.meal_time.seconds*1e3):new Date(se.meal_time);(!ie[we].meal_time||me<ie[we].meal_time)&&(ie[we].meal_time=me)}return ie},{}),y=Object.values(x).map((ie,se)=>({id:`meal-group-${ie.meal_type}-${se}`,type:"meal",name:ie.meal_type.toLowerCase().replace(/^\w/,we=>we.toUpperCase()),calories:ie.total_calories,time:ie.meal_time?ie.meal_time.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"—",timestamp:ie.meal_time||new Date,status:"CONSUMED",foods:ie.foods})),b=o.toDateString()===new Date().toDateString(),_=b?[{id:"workout-1",type:"workout",name:"Push Day",calories:-517,time:"6:15 PM",timestamp:new Date(2025,9,17,18,15),status:"WORKOUT",exercises:[{name:"Bench Press",sets:4,reps:8},{name:"Incline DB Press",sets:3,reps:10},{name:"Lateral Raises",sets:3,reps:12},{name:"Tricep Pushdowns",sets:3,reps:15}]}]:[],C=[...y,..._].sort((ie,se)=>ie.timestamp.getTime()-se.timestamp.getTime()),E=C.reduce((ie,se,we)=>{const me=we>0?ie[we-1].calories:0,re=we>0?ie[we-1].burned:0;return se.type==="meal"?ie.push({time:se.time,calories:me+se.calories,burned:re,net:me+se.calories-re}):ie.push({time:se.time,calories:me,burned:re+Math.abs(se.calories),net:me-(re+Math.abs(se.calories))}),ie},[]),P=p.calories||0,I=517,T=P-I,S=(n?.targetCalories||2200)-T,j=p.protein||0,B=p.carbs||0,M=p.fat||0,L=p.fiber||0,F=n?.protein||165,$=n?.carbs||220,q=n?.fat||73,X=30,J=j/F*100,H=B/$*100,oe=M/q*100,z=L/X*100,Q=()=>{const ie=new Date(o);ie.setDate(ie.getDate()-1),a(ie)},ee=()=>{const ie=new Date(o);ie.setDate(ie.getDate()+1),a(ie)},W=o>new Date,xe=ie=>{const se=new Date,we=new Date(se);return we.setDate(we.getDate()-1),ie.toDateString()===se.toDateString()?"Today":ie.toDateString()===we.toDateString()?"Yesterday":ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Ne=ie=>{ie.type==="meal"?l(ie):e("workout-detail")};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("header",{className:"px-4 sm:px-6 lg:px-8 py-4",style:{backgroundColor:"#1C7C54"},children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("button",{onClick:t,className:"text-white hover:opacity-80 transition-opacity flex items-center gap-2",children:[u.jsx(Ea,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Dashboard"})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-3 hover:opacity-90 transition-opacity",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"rgba(255,255,255,0.3)",strokeWidth:"5",fill:"none"}),u.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"white",strokeWidth:"5",fill:"none",strokeDasharray:`${82/100*176} 176`,strokeLinecap:"round"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl text-white",children:"82"})})]}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"text-sm text-white opacity-90",children:"Fitness"}),u.jsx("p",{className:"text-white",children:"Score"})]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-16",children:[u.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:Q,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"#1C7C54"},children:u.jsx(kU,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(jm,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsx("h2",{style:{color:"#102A43"},children:xe(o)})]}),u.jsx("button",{onClick:ee,disabled:W,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-30 disabled:cursor-not-allowed",style:{color:"#1C7C54"},children:u.jsx(S1,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(ol,{className:"w-4 h-4",style:{color:"#1C7C54"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Consumed"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"#102A43"},children:P}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"kcal"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(mb,{className:"w-4 h-4",style:{color:"#FFB6B9"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Burned"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"#FFB6B9"},children:I}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"kcal"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(wa,{className:"w-4 h-4",style:{color:"#1C7C54"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Net Calories"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:"#1C7C54"},children:T}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"kcal"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Yh,{className:"w-4 h-4",style:{color:"#102A43"}}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Remaining"})]}),u.jsx("p",{className:"text-3xl mb-1",style:{color:S>=0?"#102A43":"#FFB6B9"},children:Math.abs(S)}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:S>=0?"kcal left":"kcal over"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm mb-6",children:[u.jsx("h3",{className:"mb-6",style:{color:"#102A43"},children:"Macros"}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#F5A623"},children:"Protein"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#F5A623",strokeWidth:"10",fill:"none",strokeDasharray:`${J/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:j}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",F,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,F-j),"g left"]})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#4DD4AC"},children:"Carbohydrates"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#4DD4AC",strokeWidth:"10",fill:"none",strokeDasharray:`${H/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:B}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",$,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,$-B),"g left"]})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#6B47DC"},children:"Fat"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#6B47DC",strokeWidth:"10",fill:"none",strokeDasharray:`${oe/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:M}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",q,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,q-M),"g left"]})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:"Fiber"}),u.jsxs("div",{className:"relative w-32 h-32 mb-3",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#E8F4F2",strokeWidth:"10",fill:"none"}),u.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#1C7C54",strokeWidth:"10",fill:"none",strokeDasharray:`${z/100*352} 352`,strokeLinecap:"round",className:"transition-all duration-500"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-3xl",style:{color:"#102A43"},children:L}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["/",X,"g"]})]})]}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[Math.max(0,X-L),"g left"]})]})]})]}),u.jsx(it.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-5 rounded-lg shadow-sm",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Wo,{className:"w-5 h-5 text-white flex-shrink-0 mt-1"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white mb-2",children:u.jsx("span",{style:{fontWeight:600},children:"AI Daily Recap:"})}),u.jsxs("p",{className:"text-white opacity-95",children:["You've hit ",u.jsx("strong",{children:"66% of your calorie goal"})," so far today with excellent protein intake at ",u.jsx("strong",{children:"58%"}),". You burned 517 calories during your Push Day workout — consider adding ",u.jsx("strong",{children:"70g more protein"})," and ",u.jsx("strong",{children:"80g carbs"})," for dinner to support recovery and hit your daily targets."]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Daily Timeline"}),u.jsx("div",{className:"space-y-4",children:C.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"mb-4 text-4xl",children:"📅"}),u.jsxs("p",{className:"mb-2",style:{color:"#102A43"},children:["No meals logged for ",xe(o)]}),b?u.jsx("button",{onClick:t,className:"mt-4 px-6 py-3 rounded-lg text-white transition-all hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Go to Dashboard to Log Meal"}):u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"This day had no activity"})]}):C.map((ie,se)=>u.jsxs(it.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:se*.05},onClick:()=>Ne(ie),className:"flex items-start gap-4 p-4 rounded-lg border-2 border-transparent hover:border-gray-200 transition-all cursor-pointer hover:shadow-sm group",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{backgroundColor:ie.type==="workout"?"#A8E6CF":"#E8F4F2"},children:ie.type==="workout"?u.jsx(oh,{className:"w-5 h-5",style:{color:"#1C7C54"}}):u.jsx(ol,{className:"w-5 h-5",style:{color:"#1C7C54"}})}),se<C.length-1&&u.jsx("div",{className:"w-0.5 h-12 mt-2",style:{backgroundColor:"#E8F4F2"}})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{style:{color:"#102A43"},children:ie.name}),u.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:ie.type==="workout"?"#A8E6CF":"#E8F4F2",color:"#102A43"},children:ie.status})]}),u.jsxs("p",{className:"text-sm",style:{color:ie.calories<0?"#1C7C54":"#102A43"},children:[ie.calories>0?"+":"",ie.calories," kcal"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#102A43",opacity:.6},children:[u.jsx(Af,{className:"w-3 h-3"}),u.jsx("span",{children:ie.time})]}),ie.type==="meal"&&ie.foods&&u.jsx("p",{className:"text-sm mt-2 truncate",style:{color:"#102A43",opacity:.7},children:ie.foods.map(we=>we.name).join(", ")}),ie.type==="workout"&&ie.exercises&&u.jsxs("p",{className:"text-sm mt-2 truncate",style:{color:"#102A43",opacity:.7},children:[ie.exercises.length," exercises completed"]})]})]},ie.id))})]}),u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Calorie Flow"}),u.jsx(Eh,{width:"100%",height:400,children:u.jsxs(Yy,{data:E,children:[u.jsx(yp,{strokeDasharray:"3 3",stroke:"#E8F4F2"}),u.jsx(Wc,{dataKey:"time",stroke:"#102A43",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),u.jsx(Hc,{stroke:"#102A43",style:{fontSize:"12px"}}),u.jsx(vi,{contentStyle:{backgroundColor:"white",border:"1px solid #A8E6CF",borderRadius:"8px"}}),u.jsx(xc,{}),u.jsx(vo,{type:"monotone",dataKey:"calories",stroke:"#102A43",strokeWidth:2,dot:{fill:"#102A43",r:4},name:"Consumed"}),u.jsx(vo,{type:"monotone",dataKey:"burned",stroke:"#FFB6B9",strokeWidth:2,dot:{fill:"#FFB6B9",r:4},name:"Burned"}),u.jsx(vo,{type:"monotone",dataKey:"net",stroke:"#1C7C54",strokeWidth:3,dot:{fill:"#1C7C54",r:5},name:"Net"})]})})]})]})]}),u.jsx(Sl,{onNavigate:e,onFeedbackClick:r})]}),u.jsx(z5e,{meal:s,isOpen:!!s,onClose:()=>l(null),onFoodAssistantClick:()=>e("food-assistant"),userGoal:n}),u.jsx(NZ,{isOpen:c,onClose:()=>d(!1)})]})}function qa({isOpen:t,onClose:e,currentPage:r="Dashboard"}){const[n,i]=k.useState(null),[o,a]=k.useState(""),[s,l]=k.useState(0),[c,d]=k.useState(!1),[f,p]=k.useState(""),[g,x]=k.useState(null),[y,b]=k.useState(!1),_=()=>{i(null),a(""),l(0),d(!1),p(""),x(null),b(!1)},C=()=>{_(),e()},E=()=>{console.log({type:n,text:o,rating:s,email:c?f:null,screenshot:g,page:r}),b(!0),setTimeout(()=>{C()},3e3)},P=T=>{T.target.files&&T.target.files[0]&&x(T.target.files[0])},I=n&&o.trim().length>0;return y?u.jsx(bi,{open:t,onOpenChange:C,children:u.jsxs(wi,{className:"sm:max-w-md",children:[u.jsxs(fo,{children:[u.jsx(ho,{className:"sr-only",children:"Feedback Submitted"}),u.jsx(Bo,{className:"sr-only",children:"Your feedback has been successfully submitted"})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"var(--color-primary-light)"},children:u.jsx(mP,{className:"w-8 h-8",style:{color:"var(--color-primary)"}})}),u.jsx("h3",{className:"mb-2",style:{color:"var(--color-text)"},children:"Feedback sent — thank you!"}),u.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:"Your input helps make FareFit even better 💪"}),u.jsx("button",{onClick:_,className:"mt-6 px-6 py-2 rounded-md border transition-all hover:bg-gray-50 dark:hover:bg-gray-800",style:{borderColor:"var(--color-border)",color:"var(--color-text)"},children:"Send Another"})]})]})}):u.jsx(bi,{open:t,onOpenChange:C,children:u.jsxs(wi,{className:"sm:max-w-lg",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"var(--color-text)"},children:"We value your feedback"}),u.jsx(Bo,{style:{color:"var(--color-text)",opacity:.7},children:"How can we make FareFit better?"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(Pr,{style:{color:"var(--color-text)"},children:"What would you like to share?"}),u.jsx("div",{className:"space-y-2",children:[{value:"bug",label:"Report a bug"},{value:"feature",label:"Suggest a feature"},{value:"general",label:"Share general feedback"}].map(T=>u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-md border cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderColor:n===T.value?"var(--color-primary)":"var(--color-border)",backgroundColor:n===T.value?"var(--color-primary-light)":"transparent"},children:[u.jsx("input",{type:"radio",name:"feedbackType",value:T.value,checked:n===T.value,onChange:N=>i(N.target.value),className:"w-4 h-4",style:{accentColor:"var(--color-primary)"}}),u.jsx("span",{style:{color:"var(--color-text)"},children:T.label})]},T.value))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{htmlFor:"feedback-text",style:{color:"var(--color-text)"},children:"Your feedback"}),u.jsx(nw,{id:"feedback-text",value:o,onChange:T=>a(T.target.value),placeholder:"Type your feedback here...",className:"min-h-[120px]",style:{borderColor:"var(--color-border)"}}),u.jsxs("p",{className:"text-xs",style:{color:"var(--color-text)",opacity:.5},children:["Feedback from: ",r]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{style:{color:"var(--color-text)"},children:"How would you rate your FareFit experience today?"}),u.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(T=>u.jsx("button",{type:"button",onClick:()=>l(T),className:"transition-transform hover:scale-110",children:u.jsx(yP,{className:"w-8 h-8",fill:T<=s?"#FFB6B9":"none",stroke:T<=s?"#FFB6B9":"var(--color-border)",strokeWidth:2})},T))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{htmlFor:"screenshot",style:{color:"var(--color-text)"},children:"Attach screenshot (optional)"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("label",{htmlFor:"screenshot",className:"flex items-center gap-2 px-4 py-2 rounded-md border cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text)"},children:[u.jsx(LU,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Choose File"})]}),g&&u.jsx("span",{className:"text-sm",style:{color:"var(--color-primary)"},children:g.name})]}),u.jsx("input",{id:"screenshot",type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:T=>d(T.target.checked),className:"w-4 h-4",style:{accentColor:"var(--color-primary)"}}),u.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:"Would you like us to reach out?"})]}),c&&u.jsx("input",{type:"email",value:f,onChange:T=>p(T.target.value),placeholder:"your.email@example.com",className:"w-full px-4 py-2 border rounded-md text-sm",style:{borderColor:"var(--color-border)",color:"var(--color-text)",backgroundColor:"var(--color-card-bg)"}})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:C,className:"flex-1 px-6 py-2 rounded-md border transition-all hover:bg-gray-50 dark:hover:bg-gray-800",style:{borderColor:"var(--color-border)",color:"var(--color-text)"},children:"Cancel"}),u.jsx("button",{onClick:E,disabled:!I,className:"flex-1 px-6 py-2 rounded-md text-white transition-opacity disabled:opacity-50",style:{backgroundColor:"var(--color-primary)"},children:"Send Feedback"})]})]})]})})}const nh="/assets/77bf03e5d71328d3253fb9c4f7bef47edf94924a-DKHPKU7D.png";function H5e({onGetStarted:t,onLogin:e,onDemoLogin:r}){const n=[{icon:nie,title:"Track Meals",description:"Log your nutrition with AI assistance and smart macro tracking"},{icon:oh,title:"Log Workouts",description:"Record exercises and track progress with detailed analytics"},{icon:wa,title:"See Results",description:"Visualize your fitness journey with beautiful charts and insights"}],i=[{name:"Sarah M.",text:"Lost 15 lbs in 2 months!",rating:5},{name:"Mike T.",text:"Best fitness tracker I've used",rating:5},{name:"Emma L.",text:"The AI coach is incredible",rating:5}];return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("header",{className:"sticky top-0 z-50",style:{backgroundColor:"#E8F4F2"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:nh,alt:"FareFit Logo",className:"w-10 h-10 object-contain"}),u.jsx("span",{className:"text-xl",style:{color:"#102A43"},children:"FareFit"})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[u.jsx("a",{href:"#features",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Features"}),u.jsx("a",{href:"#why-farefit",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"About"}),r&&u.jsx("button",{onClick:r,className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Demo"})]})]})})}),u.jsxs("section",{className:"relative overflow-hidden py-16 sm:py-24 lg:py-32",children:[u.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:"radial-gradient(ellipse at top right, #A8E6CF 0%, transparent 50%)"}}),u.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsx("img",{src:nh,alt:"FareFit Logo",className:"w-32 h-32 sm:w-40 sm:h-40 object-contain"})}),u.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl mb-6 leading-tight",style:{color:"#102A43"},children:["Track your progress.",u.jsx("br",{}),u.jsxs("span",{className:"relative inline-block",children:["Transform your habits.",u.jsx("div",{className:"absolute bottom-2 left-0 right-0 h-3 -z-10 rounded",style:{backgroundColor:"#FFB6B9",opacity:.4}})]})]}),u.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl mb-10 max-w-3xl mx-auto",style:{color:"#2F3E46",opacity:.8},children:"Personalized fitness and nutrition insights — all in one place."}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-4",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-white text-lg transition-all hover:shadow-xl hover:-translate-y-0.5",style:{backgroundColor:"#1C7C54",boxShadow:"0 4px 14px rgba(28, 124, 84, 0.2)"},onMouseEnter:o=>o.currentTarget.style.backgroundColor="#3BB273",onMouseLeave:o=>o.currentTarget.style.backgroundColor="#1C7C54",children:"Sign Up"}),u.jsx("button",{onClick:e,className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-lg border-2 transition-all hover:shadow-md hover:-translate-y-0.5",style:{borderColor:"#1C7C54",color:"#1C7C54",backgroundColor:"transparent"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#1C7C54",o.currentTarget.style.color="white"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="transparent",o.currentTarget.style.color="#1C7C54"},children:"Log In"})]}),r&&u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"h-px w-8",style:{backgroundColor:"#102A43",opacity:.2}}),u.jsx("button",{onClick:r,className:"text-sm px-6 py-2 rounded-full transition-all hover:shadow-md",style:{color:"#1C7C54",backgroundColor:"#A8E6CF"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#1C7C54",o.currentTarget.style.color="white"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="#A8E6CF",o.currentTarget.style.color="#1C7C54"},children:"✨ Try Demo"}),u.jsx("div",{className:"h-px w-8",style:{backgroundColor:"#102A43",opacity:.2}})]})]})})]}),u.jsx("section",{id:"features",className:"py-16 sm:py-20",style:{backgroundColor:"white"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((o,a)=>u.jsxs(it.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1+a*.1},className:"group rounded-3xl p-8 text-center transition-all hover:shadow-lg hover:-translate-y-1",style:{backgroundColor:"rgba(168, 230, 207, 0.15)",boxShadow:"0 2px 8px rgba(16, 42, 67, 0.05)",borderBottom:"2px solid transparent"},onMouseEnter:s=>s.currentTarget.style.borderBottomColor="#FFB6B9",onMouseLeave:s=>s.currentTarget.style.borderBottomColor="transparent",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-6 flex items-center justify-center transition-colors",style:{backgroundColor:"#A8E6CF"},children:u.jsx(o.icon,{className:"w-8 h-8 transition-colors",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"text-xl mb-3",style:{color:"#102A43"},children:o.title}),u.jsx("p",{className:"text-sm leading-relaxed",style:{color:"#2F3E46",opacity:.8},children:o.description})]},a))})})}),u.jsx("section",{id:"why-farefit",className:"py-16 sm:py-20",style:{background:"linear-gradient(to bottom, #E8F4F2, #A8E6CF)"},children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(it.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl mb-4",style:{color:"#102A43"},children:"Why users love FareFit"}),u.jsx("p",{style:{color:"#2F3E46",opacity:.8},children:"Join thousands who've transformed their health journey"})]}),u.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:i.map((o,a)=>u.jsxs(it.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1+a*.1},className:"rounded-2xl p-6 text-center",style:{backgroundColor:"white",boxShadow:"0 2px 12px rgba(16, 42, 67, 0.08)"},children:[u.jsx("div",{className:"flex justify-center gap-1 mb-3",children:[...Array(o.rating)].map((s,l)=>u.jsx(yP,{className:"w-4 h-4 fill-current",style:{color:"#FFB6B9"}},l))}),u.jsxs("p",{className:"mb-3 text-sm italic",style:{color:"#102A43"},children:['"',o.text,'"']}),u.jsxs("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:["— ",o.name]})]},a))})]})}),u.jsx("section",{className:"py-16 sm:py-20",style:{background:"linear-gradient(90deg, #E8F4F2 0%, #FFB6B9 10%, #E8F4F2 100%)"},children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:u.jsxs(it.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[u.jsx("h2",{className:"text-3xl sm:text-4xl mb-4",style:{color:"#102A43"},children:"Start your journey to better health today"}),u.jsx("p",{className:"text-lg mb-8",style:{color:"#2F3E46",opacity:.8},children:"Join FareFit and take control of your fitness goals"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-white text-lg transition-all hover:shadow-xl hover:-translate-y-0.5",style:{backgroundColor:"#1C7C54"},children:"Sign Up"}),u.jsx("button",{onClick:()=>window.location.href="#features",className:"w-full sm:w-auto px-10 py-4 rounded-2xl text-lg border-2 transition-all hover:shadow-md hover:-translate-y-0.5",style:{borderColor:"#1C7C54",color:"#1C7C54",backgroundColor:"white"},children:"Learn More"})]})]})})}),u.jsx("footer",{className:"py-8",style:{backgroundColor:"white",borderTop:"1px solid #FFB6B9"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:nh,alt:"FareFit Logo",className:"w-8 h-8 object-contain"}),u.jsx("span",{style:{color:"#102A43",opacity:.7},children:"© 2025 FareFit"})]}),u.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[u.jsx("a",{href:"#privacy",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Privacy Policy"}),u.jsx("a",{href:"#terms",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Terms"}),u.jsx("a",{href:"#support",className:"transition-colors",style:{color:"#102A43",opacity:.7},onMouseEnter:o=>o.currentTarget.style.color="#1C7C54",onMouseLeave:o=>o.currentTarget.style.color="#102A43",children:"Support"})]})]})})})]})}function C$({onLogin:t,onSignup:e,onBack:r,onGoogleLogin:n,initialMode:i="login"}){const[o,a]=k.useState(i==="login"),[s,l]=k.useState(""),[c,d]=k.useState(""),[f,p]=k.useState(""),[g,x]=k.useState(""),[y,b]=k.useState(!1),[_,C]=k.useState(!1),[E,P]=k.useState(""),I=T=>{if(T.preventDefault(),P(""),!s||!c){P("Please fill in all fields");return}if(!o&&!g){P("Please enter your name");return}if(c.length<6){P("Password must be at least 6 characters");return}if(!o&&c!==f){P("Passwords do not match");return}o?t(s,c):e(s,c,g)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"white"},children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("img",{src:nh,alt:"FareFit Logo",className:"w-32 h-32 object-contain mx-auto mb-4"}),u.jsx("h1",{className:"text-3xl mb-2",style:{color:"#102A43"},children:o?"Welcome back":"Create your account"}),u.jsx("p",{style:{color:"#102A43",opacity:.6},children:o?"Sign in to continue your fitness journey":"Start your personalized fitness journey"})]}),u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!o&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Wf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:"text",value:g,onChange:T=>x(T.target.value),placeholder:"John Doe",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:T=>T.target.style.borderColor="#1C7C54",onBlur:T=>T.target.style.borderColor="#A8E6CF"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(gg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:"email",value:s,onChange:T=>l(T.target.value),placeholder:"you@example.com",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:T=>T.target.style.borderColor="#1C7C54",onBlur:T=>T.target.style.borderColor="#A8E6CF"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ah,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:y?"text":"password",value:c,onChange:T=>d(T.target.value),placeholder:"••••••••",className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:T=>T.target.style.borderColor="#1C7C54",onBlur:T=>T.target.style.borderColor="#A8E6CF"}),u.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-4 top-1/2 -translate-y-1/2",style:{color:"#102A43",opacity:.4},children:y?u.jsx(bD,{className:"w-5 h-5"}):u.jsx(eN,{className:"w-5 h-5"})})]})]}),!o&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm mb-2",style:{color:"#102A43"},children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ah,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#102A43",opacity:.4}}),u.jsx("input",{type:_?"text":"password",value:f,onChange:T=>p(T.target.value),placeholder:"••••••••",className:"w-full pl-12 pr-12 py-3 rounded-xl border-2 transition-all focus:outline-none",style:{borderColor:"#A8E6CF",color:"#102A43"},onFocus:T=>T.target.style.borderColor="#1C7C54",onBlur:T=>T.target.style.borderColor="#A8E6CF"}),u.jsx("button",{type:"button",onClick:()=>C(!_),className:"absolute right-4 top-1/2 -translate-y-1/2",style:{color:"#102A43",opacity:.4},children:_?u.jsx(bD,{className:"w-5 h-5"}):u.jsx(eN,{className:"w-5 h-5"})})]})]}),E&&u.jsx("div",{className:"p-3 rounded-xl text-sm",style:{backgroundColor:"#FFB6B9",color:"#102A43"},children:E}),o&&u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"button",className:"text-sm hover:underline",style:{color:"#1C7C54"},children:"Forgot Password?"})}),u.jsx("button",{type:"submit",className:"w-full py-4 rounded-xl text-white transition-all shadow-md hover:shadow-lg flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:o?"Log In":"Continue"})]}),o&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t",style:{borderColor:"#A8E6CF"}})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-white",style:{color:"#102A43",opacity:.6},children:"or continue with"})})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"button",onClick:n,className:"flex-1 py-3 px-4 rounded-xl border-2 transition-all hover:shadow-md flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),u.jsxs("button",{type:"button",className:"flex-1 py-3 px-4 rounded-xl border-2 transition-all hover:shadow-md flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("button",{type:"button",onClick:()=>{a(!o),P("")},className:"text-sm hover:underline",style:{color:"#1C7C54"},children:o?"Don't have an account? Sign up":"Already have an account? Log In"})}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:r,className:"text-sm hover:underline",style:{color:"#102A43",opacity:.6},children:"← Back to home"})})]})})})}function ob(t,[e,r]){return Math.min(r,Math.max(e,t))}var q5e=k.createContext(void 0);function Gw(t){const e=k.useContext(q5e);return t||e||"ltr"}function PO(t){const e=t+"CollectionProvider",[r,n]=Go(e),[i,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:_}=y,C=te.useRef(null),E=te.useRef(new Map).current;return u.jsx(i,{scope:b,itemMap:E,collectionRef:C,children:_})};a.displayName=e;const s=t+"CollectionSlot",l=xh(s),c=te.forwardRef((y,b)=>{const{scope:_,children:C}=y,E=o(s,_),P=Bt(b,E.collectionRef);return u.jsx(l,{ref:P,children:C})});c.displayName=s;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=xh(d),g=te.forwardRef((y,b)=>{const{scope:_,children:C,...E}=y,P=te.useRef(null),I=Bt(b,P),T=o(d,_);return te.useEffect(()=>(T.itemMap.set(P,{ref:P,...E}),()=>void T.itemMap.delete(P))),u.jsx(p,{[f]:"",ref:I,children:C})});g.displayName=d;function x(y){const b=o(t+"CollectionConsumer",y);return te.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((T,N)=>E.indexOf(T.ref.current)-E.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},x,n]}var IZ=["PageUp","PageDown"],kZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PZ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bp="Slider",[Mk,G5e,K5e]=PO(bp),[OZ]=Go(bp,[K5e]),[Y5e,Kw]=OZ(bp),jZ=k.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:x,...y}=t,b=k.useRef(new Set),_=k.useRef(0),E=a==="horizontal"?X5e:Q5e,[P=[],I]=pl({prop:d,defaultProp:c,onChange:M=>{[...b.current][_.current]?.focus(),f(M)}}),T=k.useRef(P);function N(M){const L=rMe(P,M);B(M,L)}function S(M){B(M,_.current)}function j(){const M=T.current[_.current];P[_.current]!==M&&p(P)}function B(M,L,{commit:F}={commit:!1}){const $=aMe(o),q=sMe(Math.round((M-n)/o)*o+n,$),X=ob(q,[n,i]);I((J=[])=>{const H=eMe(J,X,L);if(oMe(H,l*o)){_.current=H.indexOf(X);const oe=String(H)!==String(J);return oe&&F&&p(H),oe?H:J}else return J})}return u.jsx(Y5e,{scope:t.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:_,thumbs:b.current,values:P,orientation:a,form:x,children:u.jsx(Mk.Provider,{scope:t.__scopeSlider,children:u.jsx(Mk.Slot,{scope:t.__scopeSlider,children:u.jsx(E,{"aria-disabled":s,"data-disabled":s?"":void 0,...y,ref:e,onPointerDown:pt(y.onPointerDown,()=>{s||(T.current=P)}),min:n,max:i,inverted:g,onSlideStart:s?void 0:N,onSlideMove:s?void 0:S,onSlideEnd:s?void 0:j,onHomeKeyDown:()=>!s&&B(n,0,{commit:!0}),onEndKeyDown:()=>!s&&B(i,P.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:L})=>{if(!s){const q=IZ.includes(M.key)||M.shiftKey&&kZ.includes(M.key)?10:1,X=_.current,J=P[X],H=o*q*L;B(J+H,X,{commit:!0})}}})})})})});jZ.displayName=bp;var[RZ,DZ]=OZ(bp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),X5e=k.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,p]=k.useState(null),g=Bt(e,E=>p(E)),x=k.useRef(void 0),y=Gw(i),b=y==="ltr",_=b&&!o||!b&&o;function C(E){const P=x.current||f.getBoundingClientRect(),I=[0,P.width],N=OO(I,_?[r,n]:[n,r]);return x.current=P,N(E-P.left)}return u.jsx(RZ,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:u.jsx(MZ,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const P=C(E.clientX);a?.(P)},onSlideMove:E=>{const P=C(E.clientX);s?.(P)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:E=>{const I=PZ[_?"from-left":"from-right"].includes(E.key);c?.({event:E,direction:I?-1:1})}})})}),Q5e=k.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,d=k.useRef(null),f=Bt(e,d),p=k.useRef(void 0),g=!i;function x(y){const b=p.current||d.current.getBoundingClientRect(),_=[0,b.height],E=OO(_,g?[n,r]:[r,n]);return p.current=b,E(y-b.top)}return u.jsx(RZ,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:u.jsx(MZ,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=x(y.clientY);o?.(b)},onSlideMove:y=>{const b=x(y.clientY);a?.(b)},onSlideEnd:()=>{p.current=void 0,s?.()},onStepKeyDown:y=>{const _=PZ[g?"from-bottom":"from-top"].includes(y.key);l?.({event:y,direction:_?-1:1})}})})}),MZ=k.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,d=Kw(bp,r);return u.jsx(wt.span,{...c,ref:e,onKeyDown:pt(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):IZ.concat(kZ).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:pt(t.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(p)?p.focus():n(f)}),onPointerMove:pt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:pt(t.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),o(f))})})}),FZ="SliderTrack",LZ=k.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Kw(FZ,r);return u.jsx(wt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});LZ.displayName=FZ;var Fk="SliderRange",BZ=k.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Kw(Fk,r),o=DZ(Fk,r),a=k.useRef(null),s=Bt(e,a),l=i.values.length,c=i.values.map(p=>UZ(p,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(wt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});BZ.displayName=Fk;var Lk="SliderThumb",VZ=k.forwardRef((t,e)=>{const r=G5e(t.__scopeSlider),[n,i]=k.useState(null),o=Bt(e,s=>i(s)),a=k.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return u.jsx(Z5e,{...t,ref:o,index:a})}),Z5e=k.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...o}=t,a=Kw(Lk,r),s=DZ(Lk,r),[l,c]=k.useState(null),d=Bt(e,C=>c(C)),f=l?a.form||!!l.closest("form"):!0,p=gO(l),g=a.values[n],x=g===void 0?0:UZ(g,a.min,a.max),y=tMe(n,a.values.length),b=p?.[s.size],_=b?nMe(b,x,s.direction):0;return k.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${x}% + ${_}px)`},children:[u.jsx(Mk.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(wt.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:pt(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&u.jsx($Z,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},n)]})});VZ.displayName=Lk;var J5e="RadioBubbleInput",$Z=k.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=k.useRef(null),o=Bt(i,n),a=mO(e);return k.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[a,e]),u.jsx(wt.input,{style:{display:"none"},...r,ref:o,defaultValue:e})});$Z.displayName=J5e;function eMe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,o)=>i-o)}function UZ(t,e,r){const o=100/(r-e)*(t-e);return ob(o,[0,100])}function tMe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function rMe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function nMe(t,e,r){const n=t/2,o=OO([0,50],[0,n]);return(n-o(e)*r)*r}function iMe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function oMe(t,e){if(e>0){const r=iMe(t);return Math.min(...r)>=e}return!0}function OO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function aMe(t){return(String(t).split(".")[1]||"").length}function sMe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var lMe=jZ,cMe=LZ,uMe=BZ,dMe=VZ;function zZ({className:t,defaultValue:e,value:r,min:n=0,max:i=100,...o}){const a=k.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,i],[r,e,n,i]);return u.jsxs(lMe,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:i,className:Nt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...o,children:[u.jsx(cMe,{"data-slot":"slider-track",className:Nt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(uMe,{"data-slot":"slider-range",className:Nt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(s,l)=>u.jsx(dMe,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}function fMe({value:t="",onChange:e,onValidationChange:r,placeholder:n="MM/DD/YYYY",className:i="",minDate:o,maxDate:a,required:s=!1}){const[l,c]=k.useState(""),[d,f]=k.useState(""),[p,g]=k.useState(""),[x,y]=k.useState(null),[b,_]=k.useState("type"),C=k.useRef(null),E=k.useRef(null),P=k.useRef(null);k.useEffect(()=>{if(t&&t.includes("-")){const[$,q,X]=t.split("-");$&&q&&X&&(g($),c(q),f(X))}},[t]);const I=($,q,X)=>{if(!$||!q||!X){r?.(!1);return}const J=parseInt($),H=parseInt(q),oe=parseInt(X);if(J<1||J>12){r?.(!1,"Invalid month");return}if(H<1||H>31){r?.(!1,"Invalid day");return}if(X.length!==4||oe<1900||oe>new Date().getFullYear()){r?.(!1,"Invalid year");return}const z=new Date(oe,J-1,H);if(z.getMonth()!==J-1||z.getDate()!==H){r?.(!1,"Invalid date");return}const Q=`${X}-${$.padStart(2,"0")}-${q.padStart(2,"0")}`;if(o&&Q<o){r?.(!1,"Date is too early");return}if(a&&Q>a){r?.(!1,"Date is too late");return}r?.(!0),e(Q)},T=$=>{$.length>2||(c($),$.length===2&&E.current?.focus(),I($,d,p))},N=$=>{$.length>2||(f($),$.length===2&&P.current?.focus(),I(l,$,p))},S=$=>{$.length>4||(g($),I(l,d,$))},j=($,q)=>{if(![8,9,27,13,37,39,38,40,46].includes($.keyCode)&&!(($.ctrlKey||$.metaKey)&&[65,67,86,88].includes($.keyCode))&&(($.shiftKey||$.keyCode<48||$.keyCode>57)&&($.keyCode<96||$.keyCode>105)&&$.preventDefault(),$.keyCode===8)){const X=$.target;(X.value===""||X.selectionStart===0)&&(q==="day"&&C.current?C.current.focus():q==="year"&&E.current&&E.current.focus())}},B=[{value:"",label:"Month"},{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],M=[{value:"",label:"Day"},...Array.from({length:31},($,q)=>({value:(q+1).toString().padStart(2,"0"),label:(q+1).toString()}))],L=new Date().getFullYear(),F=[{value:"",label:"Year"},...Array.from({length:120},($,q)=>{const X=L-q;return{value:X.toString(),label:X.toString()}})];return u.jsxs("div",{className:`flex flex-col items-center gap-4 ${i}`,children:[u.jsxs("div",{className:"inline-flex items-center bg-white rounded-lg p-1 shadow-sm border border-gray-200 mb-3",children:[u.jsx("button",{onClick:()=>_("type"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${b==="type"?"bg-[#A8E6CF] text-[#102A43] shadow-sm":"text-gray-600 hover:text-[#102A43]"}`,children:"Type"}),u.jsx("button",{onClick:()=>_("dropdown"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${b==="dropdown"?"bg-[#A8E6CF] text-[#102A43] shadow-sm":"text-gray-600 hover:text-[#102A43]"}`,children:"Select"})]}),b==="type"?u.jsxs("div",{className:"inline-flex items-center justify-center gap-2 p-4 rounded-2xl bg-white/50 backdrop-blur-sm border border-white/20 shadow-lg",children:[u.jsx("div",{className:"relative",children:u.jsx("input",{ref:C,type:"text",value:l,onChange:$=>T($.target.value),onKeyDown:$=>j($,"month"),onFocus:()=>y("month"),onBlur:()=>y(null),placeholder:"MM",className:`w-14 h-12 text-center text-lg font-bold rounded-lg border-2 outline-none transition-all duration-300 bg-white ${x==="month"?"border-[#A8E6CF] shadow-lg scale-105":"border-gray-200 hover:border-[#A8E6CF] hover:shadow-md"}`,style:{color:"#102A43"},maxLength:2})}),u.jsx("span",{className:"text-lg font-medium",style:{color:"#102A43",opacity:.5},children:"/"}),u.jsx("div",{className:"relative",children:u.jsx("input",{ref:E,type:"text",value:d,onChange:$=>N($.target.value),onKeyDown:$=>j($,"day"),onFocus:()=>y("day"),onBlur:()=>y(null),placeholder:"DD",className:`w-14 h-12 text-center text-lg font-bold rounded-lg border-2 outline-none transition-all duration-300 bg-white ${x==="day"?"border-[#A8E6CF] shadow-lg scale-105":"border-gray-200 hover:border-[#A8E6CF] hover:shadow-md"}`,style:{color:"#102A43"},maxLength:2})}),u.jsx("span",{className:"text-lg font-medium",style:{color:"#102A43",opacity:.5},children:"/"}),u.jsx("div",{className:"relative",children:u.jsx("input",{ref:P,type:"text",value:p,onChange:$=>S($.target.value),onKeyDown:$=>j($,"year"),onFocus:()=>y("year"),onBlur:()=>y(null),placeholder:"YYYY",className:`w-20 h-12 text-center text-lg font-bold rounded-lg border-2 outline-none transition-all duration-300 bg-white ${x==="year"?"border-[#A8E6CF] shadow-lg scale-105":"border-gray-200 hover:border-[#A8E6CF] hover:shadow-md"}`,style:{color:"#102A43"},maxLength:4})})]}):u.jsxs("div",{className:"inline-flex items-center justify-center gap-2 p-4 rounded-2xl bg-white/50 backdrop-blur-sm border border-white/20 shadow-lg",children:[u.jsx("div",{className:"relative",children:u.jsx("select",{value:l,onChange:$=>{c($.target.value),I($.target.value,d,p)},className:"w-32 h-12 text-sm font-medium rounded-lg border-2 outline-none transition-all duration-300 bg-white appearance-none cursor-pointer hover:border-[#A8E6CF] hover:shadow-md pl-3 pr-8",style:{color:"#102A43",borderColor:"#A8E6CF"},children:B.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})}),u.jsx("div",{className:"relative",children:u.jsx("select",{value:d,onChange:$=>{f($.target.value),I(l,$.target.value,p)},className:"w-16 h-12 text-sm font-medium rounded-lg border-2 outline-none transition-all duration-300 bg-white cursor-pointer hover:border-[#A8E6CF] hover:shadow-md pl-3 pr-2",style:{color:"#102A43",borderColor:"#A8E6CF"},children:M.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})}),u.jsx("div",{className:"relative",children:u.jsx("select",{value:p,onChange:$=>{g($.target.value),I(l,d,$.target.value)},className:"w-20 h-12 text-sm font-medium rounded-lg border-2 outline-none transition-all duration-300 bg-white appearance-none cursor-pointer hover:border-[#A8E6CF] hover:shadow-md pl-3 pr-6",style:{color:"#102A43",borderColor:"#A8E6CF"},children:F.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})})]})]})}const hMe=t=>{if(!t)return"Please select your birth date";const e=new Date(t),r=new Date,n=new Date,i=new Date;return n.setFullYear(r.getFullYear()-13),i.setFullYear(r.getFullYear()-120),e>r?"Birth date cannot be in the future":e>n?"You must be at least 13 years old to use this app":e<i?"Please enter a valid birth date":null},pMe=()=>new Date().toISOString().split("T")[0],mMe=()=>{const t=new Date;return t.setFullYear(t.getFullYear()-120),t.toISOString().split("T")[0]};function gMe({onComplete:t}){const[e,r]=k.useState(0),[n,i]=k.useState({sex:null,birthday:null,height:0,heightUnit:"ft",weight:0,weightUnit:"lb",activityLevel:null,goal:null,notificationsEnabled:!0}),o=9,a=async()=>{const d=or().currentUser;if(d){if(e===3&&n.height<=0)try{await id(d.uid,"height",170),console.log(`✅ Default height 170cm saved for ${d.uid}`),i({...n,height:170})}catch(f){console.error("Error saving default height:",f)}else if(e===4&&n.weight<=0)try{await id(d.uid,"weight",70),console.log(`✅ Default weight 70kg saved for ${d.uid}`),i({...n,weight:70})}catch(f){console.error("Error saving default weight:",f)}}e<o-1?r(e+1):t(n)},s=()=>{e>0&&r(e-1)},l=d=>{i({...n,...d})},c=()=>{switch(e){case 0:return!0;case 1:return n.sex!==null;case 2:return n.birthday!==null;case 3:return!0;case 4:return!0;case 5:return n.activityLevel!==null;case 6:return n.goal!==null;case 7:return!0;case 8:return!0;default:return!1}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"white",overflow:"hidden"},children:u.jsxs("div",{className:"relative w-full max-w-md h-[700px] flex flex-col justify-center",children:[e>0&&e<o-1&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-white transition-colors",style:{color:"#1C7C54"},children:u.jsx(kU,{className:"w-5 h-5"})}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[e," of ",o-2]})]}),u.jsx("div",{className:"w-full h-1.5 rounded-full",style:{backgroundColor:"#A8E6CF"},children:u.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${e/(o-2)*100}%`,backgroundColor:"#1C7C54"}})})]}),u.jsxs(yd,{mode:"sync",children:[e===0&&u.jsx(yMe,{onContinue:a},"welcome"),e===1&&u.jsx(vMe,{value:n.sex,onChange:d=>l({sex:d}),onContinue:a},"sex"),e===2&&u.jsx(xMe,{value:n.birthday,onChange:d=>l({birthday:d}),onContinue:a}),e===3&&u.jsx(bMe,{height:n.height,unit:n.heightUnit,onHeightChange:d=>l({height:d}),onUnitChange:d=>l({heightUnit:d}),onContinue:a},"height"),e===4&&u.jsx(wMe,{weight:n.weight,unit:n.weightUnit,onWeightChange:d=>l({weight:d}),onUnitChange:d=>l({weightUnit:d}),onContinue:a},"weight"),e===5&&u.jsx(_Me,{value:n.activityLevel,onChange:d=>l({activityLevel:d}),onContinue:a},"activity"),e===6&&u.jsx(AMe,{value:n.goal,onChange:d=>l({goal:d}),onContinue:a},"goals"),e===7&&u.jsx(CMe,{value:n.notificationsEnabled,onChange:d=>l({notificationsEnabled:d}),onContinue:a},"notifications"),e===8&&u.jsx(EMe,{onContinue:a},"final")]}),e>0&&e!==7&&e!==8&&u.jsx(it.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onClick:a,disabled:!c(),className:"w-full py-4 rounded-2xl text-white transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-lg hover:shadow-xl mt-6 flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Continue"})]})})}function yMe({onContinue:t}){const e=[{name:"Sarah M.",text:"Lost 15 lbs in 2 months!",rating:5},{name:"Mike T.",text:"Best fitness tracker I've used",rating:5},{name:"Emma L.",text:"The AI coach is incredible",rating:5}];return u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl text-center",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("img",{src:nh,alt:"FareFit Logo",className:"w-32 h-32 object-contain mx-auto mb-4"}),u.jsx("p",{className:"text-sm mb-2",style:{color:"#1C7C54"},children:"Trusted by millions worldwide"}),u.jsx("h1",{className:"text-3xl mb-3",style:{color:"#102A43"},children:"Welcome to FareFit"}),u.jsx("p",{className:"text-lg",style:{color:"#102A43",opacity:.7},children:"Let's personalize your experience"})]}),u.jsx("div",{className:"space-y-3 mb-8",children:e.map((r,n)=>u.jsxs("div",{className:"p-4 rounded-xl text-left",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"flex items-center gap-1 mb-2",children:[...Array(r.rating)].map((i,o)=>u.jsx(yP,{className:"w-4 h-4 fill-current",style:{color:"#FFB6B9"}},o))}),u.jsxs("p",{className:"text-sm mb-1",style:{color:"#102A43"},children:['"',r.text,'"']}),u.jsxs("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:["— ",r.name]})]},n))}),u.jsx("button",{onClick:t,className:"w-full py-4 rounded-2xl text-white transition-all shadow-lg hover:shadow-xl flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Continue"}),u.jsx("p",{className:"text-xs mt-4",style:{color:"#102A43",opacity:.5},children:"Takes about 2 minutes"})]})}function vMe({value:t,onChange:e,onContinue:r}){const n=or(),i=async o=>{try{e(o);const a=n.currentUser;a&&(await id(a.uid,"gender",o),console.log(`User gender set to ${o} in Firebase`)),setTimeout(r,300)}catch(a){console.error("Error updating user gender:",a)}};return u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"What is your assigned sex at birth?"}),u.jsx("p",{className:"text-center mb-8",style:{color:"#102A43",opacity:.6},children:"This helps us calculate accurate calorie and macro targets"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{e("male"),i("male"),setTimeout(r,300)},className:"w-full py-5 rounded-2xl border-2 transition-all flex items-center justify-center",style:{backgroundColor:t==="male"?"#A8E6CF":"white",borderColor:t==="male"?"#1C7C54":"#A8E6CF",color:"#102A43"},children:"Male"}),u.jsx("button",{onClick:()=>{e("female"),i("female"),setTimeout(r,300)},className:"w-full py-5 rounded-2xl border-2 transition-all flex items-center justify-center",style:{backgroundColor:t==="female"?"#A8E6CF":"white",borderColor:t==="female"?"#1C7C54":"#A8E6CF",color:"#102A43"},children:"Female"})]})]})}function xMe({value:t,onChange:e,onContinue:r}){const[n,i]=k.useState(!1),[o,a]=k.useState(null),[s,l]=k.useState(!1),c=or(),d=async p=>{e(p);const g=hMe(p);if(g){a(g),l(!1);return}a(null),l(!0),i(!0);const[x,y,b]=p.split("-"),_=parseInt(x),C=parseInt(y),E=parseInt(b),P=new Date;let I=P.getFullYear()-_;const T=P.getMonth()+1-C;(T<0||T===0&&P.getDate()<E)&&I--;try{const N=c.currentUser;if(N){const S=st(tt,"Users",N.uid);await Hn(S,{birthDate:p,age:I},{merge:!0}),console.log(`✅ Birthday (${p}) + age (${I}) saved in Users/${N.uid}`)}setTimeout(r,800)}catch(N){console.error("Error updating birthday:",N),a("Failed to save birth date. Please try again."),l(!1)}finally{i(!1)}},f=(p,g)=>{l(p),a(g||null)};return u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"When were you born?"}),u.jsx("p",{className:"text-center mb-2",style:{color:"#102A43",opacity:.6},children:"This helps calculate your age for your calorie and fitness targets"}),u.jsx("p",{className:"text-center mb-8 text-sm",style:{color:"#102A43",opacity:.5},children:"You must be at least 13 years old to use this app"}),u.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[u.jsxs(it.div,{className:"flex flex-col items-center space-y-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.4,ease:"easeOut"},children:[u.jsx(fMe,{value:t||"",onChange:d,onValidationChange:f,minDate:mMe(),maxDate:pMe(),className:`${o?"opacity-75":""}`}),u.jsx("p",{className:"text-sm text-center font-medium",style:{color:"#102A43",opacity:.6},children:"📅 Type or select your birth date above"})]}),o&&u.jsx(it.div,{className:"text-red-600 text-sm text-center bg-red-50 px-6 py-3 rounded-xl border-l-4 border-red-400 shadow-sm max-w-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-red-500",children:"⚠️"}),o]})}),n&&u.jsxs(it.div,{className:"flex items-center gap-3 text-center text-sm bg-blue-50 px-6 py-3 rounded-xl border-l-4 border-blue-400 shadow-sm",style:{color:"#102A43"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"font-medium",children:"Saving your information..."})]}),s&&!o&&!n&&t&&u.jsx(it.div,{className:"text-green-700 text-sm text-center bg-green-50 px-6 py-3 rounded-xl border-l-4 border-green-400 shadow-sm",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-green-500",children:"✅"}),u.jsx("span",{className:"font-medium",children:"Date saved successfully!"})]})})]})]})}const bMe=k.memo(function({height:e,unit:r,onHeightChange:n,onUnitChange:i,onContinue:o}){const[a,s]=k.useState(5),[l,c]=k.useState(7),[d,f]=k.useState(170),[p,g]=k.useState(null),[x,y]=k.useState(!1),[b,_]=k.useState(!1),[C,E]=k.useState(0),P=or(),[I,T]=k.useState(null);k.useEffect(()=>{if(e>0)if(r==="cm")f(Math.round(e)),E(Math.round(e));else{const ee=e/2.54,W=Math.floor(ee/12),xe=Math.round(ee%12);s(W),c(xe),E(W*12+xe)}else r==="cm"?(f(170),E(170)):(s(5),c(7),E(67))},[e,r]);const N=()=>a*12+l,S=r==="cm"?107:42,j=r==="cm"?244:96,B=1,M=b?C:r==="cm"?d:N(),L=(ee,W)=>{const xe=ee*12+W;return Math.round(xe*2.54)},F=(ee,W)=>ee<3||ee>8?`Height must be between 3'0" and 8'0"`:W<0||W>11?"Inches must be between 0 and 11":ee===3&&W<6?`Minimum height is 3'6"`:ee===8&&W>0?`Maximum height is 8'0"`:null,$=ee=>ee<107||ee>244?"Height must be between 107cm and 244cm":null,q=async ee=>{try{const W=P.currentUser;W&&(await id(W.uid,"height",ee),console.log(`Height updated to ${ee}cm for user ${W.uid}`)),n(ee),g(null)}catch(W){console.error("Error updating height:",W),g("Failed to save height. Please try again.")}},X=ee=>{I&&clearTimeout(I);const W=setTimeout(()=>q(ee),400);T(W)},J=ee=>{_(!0),E(ee[0])},H=async ee=>{_(!1);const W=ee[0];let xe;if(r==="cm"){const Ne=Math.round(W);f(Ne),xe=Ne}else{const Ne=Math.round(W),ie=Math.floor(Ne/12),se=Ne%12;s(ie),c(se),xe=L(ie,se)}g(null),await q(xe)},oe=ee=>{const W=parseInt(ee)||0;if(W<3||W>8)return;s(W),E(W*12+l);const xe=F(W,l);if(xe){g(xe);return}const Ne=L(W,l);g(null),X(Ne)},z=ee=>{const W=parseInt(ee)||0;if(W<0||W>11)return;c(W),E(a*12+W);const xe=F(a,W);if(xe){g(xe);return}const Ne=L(a,W);g(null),X(Ne)},Q=ee=>{const W=parseInt(ee)||0;if(W<107||W>244)return;f(W),E(W);const xe=$(W);if(xe){g(xe);return}g(null),X(W)};return k.useEffect(()=>()=>{I&&clearTimeout(I)},[I]),u.jsxs(it.div,{layout:!1,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"rounded-3xl p-8 shadow-xl h-[600px] overflow-hidden",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(RU,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("h2",{className:"text-2xl mb-3",style:{color:"#102A43"},children:"How tall are you?"})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"inline-flex rounded-full p-1",style:{backgroundColor:"#D4EDDA"},children:[u.jsx("button",{onClick:()=>{i("ft"),g(null)},className:"px-6 py-2 rounded-full transition-all",style:{backgroundColor:r==="ft"?"#1C7C54":"transparent",color:r==="ft"?"white":"#102A43"},children:"ft/in"}),u.jsx("button",{onClick:()=>{i("cm"),g(null)},className:"px-6 py-2 rounded-full transition-all",style:{backgroundColor:r==="cm"?"#1C7C54":"transparent",color:r==="cm"?"white":"#102A43"},children:"cm"})]})}),u.jsx("div",{className:"text-center mb-4",children:u.jsx("div",{className:"flex items-center justify-center gap-2 h-[100px] w-full",children:r==="ft"?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",inputMode:"numeric",value:b?Math.floor(C/12):a,onChange:ee=>oe(ee.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-16",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},maxLength:1,readOnly:b}),u.jsx("span",{className:"text-5xl font-bold",style:{color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},children:"′"}),u.jsx("input",{type:"text",inputMode:"numeric",value:b?Math.round(C%12):l,onChange:ee=>z(ee.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-16",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},maxLength:2,readOnly:b}),u.jsx("span",{className:"text-5xl font-bold",style:{color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},children:"″"})]}):u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",inputMode:"numeric",value:b?Math.round(C):d,onChange:ee=>Q(ee.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-24",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},maxLength:3,readOnly:b}),u.jsx("span",{className:"text-5xl font-bold",style:{color:b?"#4A90A4":"#1C7C54",opacity:b?.8:1},children:"cm"})]})})}),u.jsx("div",{className:"text-center mb-6 h-[20px]",children:b?u.jsx("p",{className:"text-xs",style:{color:"#4A90A4",opacity:.8},children:"Preview - release to set"}):u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Tap numbers to edit or use slider below"})}),u.jsxs("div",{className:"mb-8 px-4",children:[u.jsx(zZ,{value:[M],onValueChange:J,onValueCommit:H,min:S,max:j,step:B,className:"w-full"}),u.jsxs("div",{className:"flex justify-between text-xs mt-2",style:{color:"#102A43",opacity:.5},children:[u.jsx("span",{children:r==="ft"?`3'6"`:"107cm"}),u.jsx("span",{children:r==="ft"?`8'0"`:"244cm"})]})]}),u.jsx("div",{className:"min-h-[40px] text-center mb-4",children:p&&u.jsx("p",{className:"text-red-600 text-sm bg-red-50 px-4 py-2 rounded-lg border border-red-200 inline-block",children:p})}),u.jsx("div",{className:"h-[40px] mb-4"}),u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:r==="ft"?`Range: 3'6" - 8'0"`:"Range: 107cm - 244cm"})})]})}),wMe=k.memo(function({weight:e,unit:r,onWeightChange:n,onUnitChange:i,onContinue:o}){const[a,s]=k.useState(e||70),[l,c]=k.useState(!1),[d,f]=k.useState(0),[p,g]=k.useState(!1),[x,y]=k.useState(""),[b,_]=k.useState(null),C=or();k.useEffect(()=>{if(e>0){s(e);const q=r==="lb"?(e*2.20462).toFixed(1):e.toFixed(1);y(q),f(r==="lb"?e*2.20462:e)}else{s(70);const q=r==="lb"?(70*2.20462).toFixed(1):70 .toFixed(1);y(q),f(r==="lb"?70*2.20462:70)}},[e,r]),k.useEffect(()=>()=>{b&&clearTimeout(b)},[b]);const E=()=>l?d.toFixed(1):p?x:r==="lb"?(a*2.20462).toFixed(1):a.toFixed(1),P=q=>{b&&clearTimeout(b);const X=setTimeout(()=>L(q),500);_(X)},I=q=>{if(!/^\d*\.?\d*$/.test(q))return;y(q);const X=parseFloat(q);if(!isNaN(X)&&X>=S&&X<=j){const J=r==="lb"?X/2.20462:X,H=Math.round(J*100)/100;s(H),f(r==="lb"?H*2.20462:H),P(H)}},T=()=>{g(!0),y(E())},N=()=>{g(!1);const q=parseFloat(x);if(!isNaN(q)&&q>=S&&q<=j){const J=r==="lb"?q/2.20462:q,H=Math.round(J*100)/100;s(H),f(r==="lb"?H*2.20462:H),L(H)}const X=r==="lb"?(a*2.20462).toFixed(1):a.toFixed(1);y(X)},S=r==="lb"?66:30,j=r==="lb"?440:200,B=.1,M=l?d:r==="lb"?a*2.20462:a,L=async q=>{try{const X=C.currentUser;X&&(await id(X.uid,"weight",q),console.log("Weight saved to Firebase:",q)),n(q)}catch(X){console.error("Error saving weight:",X)}},F=q=>{c(!0),f(q[0])},$=async q=>{c(!1);const X=r==="lb"?q[0]/2.20462:q[0],J=Math.round(X*100)/100;s(J);const H=r==="lb"?(J*2.20462).toFixed(1):J.toFixed(1);y(H),await L(J)};return u.jsxs(it.div,{layout:!1,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"rounded-3xl p-8 shadow-xl h-[600px] overflow-hidden",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(oie,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("h2",{className:"text-2xl mb-3",style:{color:"#102A43"},children:"How much do you weigh?"})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"inline-flex rounded-full p-1",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("button",{onClick:()=>i("kg"),className:"px-6 py-2 rounded-full transition-all flex items-center justify-center",style:{backgroundColor:r==="kg"?"#1C7C54":"transparent",color:r==="kg"?"white":"#102A43"},children:"kg"}),u.jsx("button",{onClick:()=>i("lb"),className:"px-6 py-2 rounded-full transition-all flex items-center justify-center",style:{backgroundColor:r==="lb"?"#1C7C54":"transparent",color:r==="lb"?"white":"#102A43"},children:"lb"})]})}),u.jsx("div",{className:"text-center mb-4",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 h-[100px] w-full",children:[u.jsx("input",{type:"text",inputMode:"decimal",value:E(),onChange:q=>I(q.target.value),onFocus:T,onBlur:N,className:"text-5xl font-bold text-center bg-transparent border-none outline-none w-32",style:{fontVariantNumeric:"tabular-nums",transition:"none",color:l?"#4A90A4":"#1C7C54",opacity:l?.8:1},readOnly:l}),u.jsx("span",{className:"text-5xl font-bold",style:{color:l?"#4A90A4":"#1C7C54",opacity:l?.8:1},children:r})]})}),u.jsx("div",{className:"text-center mb-6 h-[20px]",children:l?u.jsx("p",{className:"text-xs",style:{color:"#4A90A4",opacity:.8},children:"Preview - release to set"}):u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Tap number to edit or use slider below"})}),u.jsxs("div",{className:"px-4 mb-6",children:[u.jsx(zZ,{value:[M],onValueChange:F,onValueCommit:$,min:S,max:j,step:B,className:"mb-4"}),u.jsxs("div",{className:"flex justify-between text-xs",style:{color:"#102A43",opacity:.5},children:[u.jsx("span",{children:r==="lb"?"66 lb":"30 kg"}),u.jsx("span",{children:r==="lb"?"440 lb":"200 kg"})]})]}),u.jsx("p",{className:"text-center text-sm",style:{color:"#102A43",opacity:.6},children:"Don't have a scale? Enter your best estimate."})]})});function _Me({value:t,onChange:e,onContinue:r}){const n=or(),i=[{label:"Not Active",description:"Little to no exercise, desk job",value:"sedentary"},{label:"Lightly Active",description:"Exercise 1-3 days/week",value:"lightly-active"},{label:"Moderately Active",description:"Exercise 3-5 days/week",value:"moderately-active"},{label:"Very Active",description:"Exercise 6-7 days/week",value:"very-active"},{label:"Extremely Active",description:"Exercise 2× per day",value:"extremely-active"}],o=async a=>{e(a);try{const s=n.currentUser;s&&(await id(s.uid,"activityLevel",a),console.log("Activity level saved to Firebase:",a))}catch(s){console.error("Error saving activity level:",s)}setTimeout(r,300)};return u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"How active are you? 💪"}),u.jsx("p",{className:"text-center mb-8",style:{color:"#102A43",opacity:.6},children:"This helps us calculate your daily calorie needs"}),u.jsx("div",{className:"space-y-3",children:i.map(a=>u.jsxs("button",{onClick:()=>o(a.value),className:"w-full p-5 rounded-2xl border-2 transition-all text-left",style:{backgroundColor:t===a.value?"#A8E6CF":"white",borderColor:t===a.value?"#1C7C54":"#A8E6CF"},children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:a.label}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:a.description})]},a.value))})]})}function AMe({value:t,onChange:e,onContinue:r}){const n=or(),i=[{label:"Lose Weight",description:"Lean out and reduce body fat",value:"lose",emoji:"🔥"},{label:"Maintain Weight",description:"Stay at current weight and build healthy habits",value:"maintain",emoji:"⚖️"},{label:"Gain Weight",description:"Build muscle and increase mass",value:"gain",emoji:"💪"}],o=async a=>{e(a);try{const s=n.currentUser;s&&(await id(s.uid,"goals",a),console.log("Goal saved to Firebase:",a))}catch(s){console.error("Error saving goal:",s)}setTimeout(r,300)};return u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("h2",{className:"text-2xl mb-3 text-center",style:{color:"#102A43"},children:"What's your main goal?"}),u.jsx("p",{className:"text-center mb-8",style:{color:"#102A43",opacity:.6},children:"This helps us personalize your calorie and macro targets"}),u.jsx("div",{className:"space-y-3",children:i.map(a=>u.jsx("button",{onClick:()=>o(a.value),className:"w-full p-5 rounded-2xl border-2 transition-all text-left",style:{backgroundColor:t===a.value?"#A8E6CF":"white",borderColor:t===a.value?"#1C7C54":"#A8E6CF"},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:a.emoji}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:a.label}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:a.description})]})]})},a.value))})]})}function CMe({value:t,onChange:e,onContinue:r}){return u.jsxs(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-3xl p-8 shadow-xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(NU,{className:"w-8 h-8",style:{color:"#1C7C54"}})}),u.jsx("h2",{className:"text-2xl mb-3",style:{color:"#102A43"},children:"Reach your goals with notifications"}),u.jsx("p",{style:{color:"#102A43",opacity:.6},children:"Get timely updates to keep you motivated. You can turn off notifications anytime in Settings."})]}),u.jsx("div",{className:"p-4 rounded-2xl mb-8 shadow-md",style:{backgroundColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("img",{src:nh,alt:"FareFit",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:"FareFit"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Great job logging breakfast! You're 25% towards your protein goal."}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"now"})]})]})}),u.jsxs("div",{className:"flex items-center justify-between mb-8 p-4 rounded-2xl",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Enable Notifications"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"You can change this later"})]}),u.jsx(Ya,{checked:t,onCheckedChange:e})]}),u.jsx("button",{onClick:r,className:"w-full py-4 rounded-2xl text-white transition-all shadow-lg hover:shadow-xl flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Continue"})]})}function EMe({onContinue:t}){return u.jsxs(it.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"rounded-3xl p-8 shadow-xl text-center",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#A8E6CF"},children:u.jsx(PU,{className:"w-14 h-14",style:{color:"#1C7C54"}})}),u.jsx("h1",{className:"text-4xl mb-4",style:{color:"#102A43"},children:"You're all set!"}),u.jsx("p",{className:"text-lg mb-8",style:{color:"#102A43",opacity:.7},children:"Your personalized dashboard is ready. Let's start your fitness journey!"}),u.jsx("button",{onClick:t,className:"w-full py-5 rounded-2xl text-white text-lg transition-all shadow-lg hover:shadow-xl flex items-center justify-center",style:{backgroundColor:"#1C7C54"},children:"Go to Dashboard"})]})}function SMe({userName:t,onClose:e}){return u.jsxs(it.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mx-4 sm:mx-6 lg:mx-8 mt-4 rounded-2xl p-6 shadow-lg relative overflow-hidden",style:{background:"linear-gradient(135deg, #1C7C54 0%, #A8E6CF 100%)"},children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-10",children:u.jsx(yne,{className:"w-full h-full",style:{color:"white"}})}),u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-white hover:bg-opacity-20 transition-all",children:u.jsx(Zs,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("h3",{className:"text-white text-2xl mb-2",children:["Welcome to FareFit, ",t,"! 🎉"]}),u.jsx("p",{className:"text-white opacity-90 mb-4",children:"You're all set! Your personalized dashboard is ready. Let's start tracking your fitness journey."}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),u.jsx("span",{children:"Track meals & macros"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),u.jsx("span",{children:"Log workouts"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),u.jsx("span",{children:"Get AI coaching"})]})]})]})]})}var BT="rovingFocusGroup.onEntryFocus",TMe={bubbles:!1,cancelable:!0},Zy="RovingFocusGroup",[Bk,WZ,NMe]=PO(Zy),[IMe,HZ]=Go(Zy,[NMe]),[kMe,PMe]=IMe(Zy),qZ=k.forwardRef((t,e)=>u.jsx(Bk.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Bk.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(OMe,{...t,ref:e})})}));qZ.displayName=Zy;var OMe=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=k.useRef(null),g=Bt(e,p),x=Gw(o),[y,b]=pl({prop:a,defaultProp:s??null,onChange:l,caller:Zy}),[_,C]=k.useState(!1),E=ml(c),P=WZ(r),I=k.useRef(!1),[T,N]=k.useState(0);return k.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(BT,E),()=>S.removeEventListener(BT,E)},[E]),u.jsx(kMe,{scope:r,orientation:n,dir:x,loop:i,currentTabStopId:y,onItemFocus:k.useCallback(S=>b(S),[b]),onItemShiftTab:k.useCallback(()=>C(!0),[]),onFocusableItemAdd:k.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:k.useCallback(()=>N(S=>S-1),[]),children:u.jsx(wt.div,{tabIndex:_||T===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{I.current=!0}),onFocus:pt(t.onFocus,S=>{const j=!I.current;if(S.target===S.currentTarget&&j&&!_){const B=new CustomEvent(BT,TMe);if(S.currentTarget.dispatchEvent(B),!B.defaultPrevented){const M=P().filter(X=>X.focusable),L=M.find(X=>X.active),F=M.find(X=>X.id===y),q=[L,F,...M].filter(Boolean).map(X=>X.ref.current);YZ(q,d)}}I.current=!1}),onBlur:pt(t.onBlur,()=>C(!1))})})}),GZ="RovingFocusGroupItem",KZ=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=ss(),c=o||l,d=PMe(GZ,r),f=d.currentTabStopId===c,p=WZ(r),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:y}=d;return k.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),u.jsx(Bk.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:u.jsx(wt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:pt(t.onMouseDown,b=>{n?d.onItemFocus(c):b.preventDefault()}),onFocus:pt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:pt(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=DMe(b,d.orientation,d.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=p().filter(P=>P.focusable).map(P=>P.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const P=E.indexOf(b.currentTarget);E=d.loop?MMe(E,P+1):E.slice(P+1)}setTimeout(()=>YZ(E))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});KZ.displayName=GZ;var jMe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RMe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DMe(t,e,r){const n=RMe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jMe[n]}function YZ(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function MMe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var FMe=qZ,LMe=KZ,Yw="Tabs",[BMe]=Go(Yw,[HZ]),XZ=HZ(),[VMe,jO]=BMe(Yw),QZ=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,d=Gw(s),[f,p]=pl({prop:n,onChange:i,defaultProp:o??"",caller:Yw});return u.jsx(VMe,{scope:r,baseId:ss(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:l,children:u.jsx(wt.div,{dir:d,"data-orientation":a,...c,ref:e})})});QZ.displayName=Yw;var ZZ="TabsList",JZ=k.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,o=jO(ZZ,r),a=XZ(r);return u.jsx(FMe,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:u.jsx(wt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});JZ.displayName=ZZ;var eJ="TabsTrigger",tJ=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=t,a=jO(eJ,r),s=XZ(r),l=iJ(a.baseId,n),c=oJ(a.baseId,n),d=n===a.value;return u.jsx(LMe,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:pt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:pt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:pt(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(n)})})})});tJ.displayName=eJ;var rJ="TabsContent",nJ=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...a}=t,s=jO(rJ,r),l=iJ(s.baseId,n),c=oJ(s.baseId,n),d=n===s.value,f=k.useRef(d);return k.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Bc,{present:i||d,children:({present:p})=>u.jsx(wt.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});nJ.displayName=rJ;function iJ(t,e){return`${t}-trigger-${e}`}function oJ(t,e){return`${t}-content-${e}`}var $Me=QZ,UMe=JZ,zMe=tJ,WMe=nJ;function aJ({className:t,...e}){return u.jsx($Me,{"data-slot":"tabs",className:Nt("flex flex-col gap-2",t),...e})}function sJ({className:t,...e}){return u.jsx(UMe,{"data-slot":"tabs-list",className:Nt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Uu({className:t,...e}){return u.jsx(zMe,{"data-slot":"tabs-trigger",className:Nt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function zu({className:t,...e}){return u.jsx(WMe,{"data-slot":"tabs-content",className:Nt("flex-1 outline-none",t),...e})}const HMe=["top","right","bottom","left"],Oc=Math.min,so=Math.max,ab=Math.round,Xv=Math.floor,us=t=>({x:t,y:t}),qMe={left:"right",right:"left",bottom:"top",top:"bottom"},GMe={start:"end",end:"start"};function Vk(t,e,r){return so(t,Oc(e,r))}function xl(t,e){return typeof t=="function"?t(e):t}function bl(t){return t.split("-")[0]}function wp(t){return t.split("-")[1]}function RO(t){return t==="x"?"y":"x"}function DO(t){return t==="y"?"height":"width"}const KMe=new Set(["top","bottom"]);function Ja(t){return KMe.has(bl(t))?"y":"x"}function MO(t){return RO(Ja(t))}function YMe(t,e,r){r===void 0&&(r=!1);const n=wp(t),i=MO(t),o=DO(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=sb(a)),[a,sb(a)]}function XMe(t){const e=sb(t);return[$k(t),e,$k(e)]}function $k(t){return t.replace(/start|end/g,e=>GMe[e])}const E$=["left","right"],S$=["right","left"],QMe=["top","bottom"],ZMe=["bottom","top"];function JMe(t,e,r){switch(t){case"top":case"bottom":return r?e?S$:E$:e?E$:S$;case"left":case"right":return e?QMe:ZMe;default:return[]}}function e8e(t,e,r,n){const i=wp(t);let o=JMe(bl(t),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map($k)))),o}function sb(t){return t.replace(/left|right|bottom|top/g,e=>qMe[e])}function t8e(t){return{top:0,right:0,bottom:0,left:0,...t}}function lJ(t){return typeof t!="number"?t8e(t):{top:t,right:t,bottom:t,left:t}}function lb(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function T$(t,e,r){let{reference:n,floating:i}=t;const o=Ja(e),a=MO(e),s=DO(a),l=bl(e),c=o==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let g;switch(l){case"top":g={x:d,y:n.y-i.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-i.width,y:f};break;default:g={x:n.x,y:n.y}}switch(wp(e)){case"start":g[a]-=p*(r&&c?-1:1);break;case"end":g[a]+=p*(r&&c?-1:1);break}return g}const r8e=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=T$(c,n,l),p=n,g={},x=0;for(let y=0;y<s.length;y++){const{name:b,fn:_}=s[y],{x:C,y:E,data:P,reset:I}=await _({x:d,y:f,initialPlacement:n,placement:p,strategy:i,middlewareData:g,rects:c,platform:a,elements:{reference:t,floating:e}});d=C??d,f=E??f,g={...g,[b]:{...g[b],...P}},I&&x<=50&&(x++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(c=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:d,y:f}=T$(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function py(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=xl(e,t),x=lJ(g),b=s[p?f==="floating"?"reference":"floating":f],_=lb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),C=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),P=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},I=lb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:C,offsetParent:E,strategy:l}):C);return{top:(_.top-I.top+x.top)/P.y,bottom:(I.bottom-_.bottom+x.bottom)/P.y,left:(_.left-I.left+x.left)/P.x,right:(I.right-_.right+x.right)/P.x}}const n8e=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:d=0}=xl(t,e)||{};if(c==null)return{};const f=lJ(d),p={x:r,y:n},g=MO(i),x=DO(g),y=await a.getDimensions(c),b=g==="y",_=b?"top":"left",C=b?"bottom":"right",E=b?"clientHeight":"clientWidth",P=o.reference[x]+o.reference[g]-p[g]-o.floating[x],I=p[g]-o.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let N=T?T[E]:0;(!N||!await(a.isElement==null?void 0:a.isElement(T)))&&(N=s.floating[E]||o.floating[x]);const S=P/2-I/2,j=N/2-y[x]/2-1,B=Oc(f[_],j),M=Oc(f[C],j),L=B,F=N-y[x]-M,$=N/2-y[x]/2+S,q=Vk(L,$,F),X=!l.arrow&&wp(i)!=null&&$!==q&&o.reference[x]/2-($<L?B:M)-y[x]/2<0,J=X?$<L?$-L:$-F:0;return{[g]:p[g]+J,data:{[g]:q,centerOffset:$-q-J,...X&&{alignmentOffset:J}},reset:X}}}),i8e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=xl(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const _=bl(i),C=Ja(s),E=bl(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=p||(E||!y?[sb(s)]:XMe(s)),T=x!=="none";!p&&T&&I.push(...e8e(s,y,x,P));const N=[s,...I],S=await py(e,b),j=[];let B=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&j.push(S[_]),f){const $=YMe(i,a,P);j.push(S[$[0]],S[$[1]])}if(B=[...B,{placement:i,overflows:j}],!j.every($=>$<=0)){var M,L;const $=(((M=o.flip)==null?void 0:M.index)||0)+1,q=N[$];if(q&&(!(f==="alignment"?C!==Ja(q):!1)||B.every(H=>Ja(H.placement)===C?H.overflows[0]>0:!0)))return{data:{index:$,overflows:B},reset:{placement:q}};let X=(L=B.filter(J=>J.overflows[0]<=0).sort((J,H)=>J.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!X)switch(g){case"bestFit":{var F;const J=(F=B.filter(H=>{if(T){const oe=Ja(H.placement);return oe===C||oe==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(oe=>oe>0).reduce((oe,z)=>oe+z,0)]).sort((H,oe)=>H[1]-oe[1])[0])==null?void 0:F[0];J&&(X=J);break}case"initialPlacement":X=s;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function N$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function I$(t){return HMe.some(e=>t[e]>=0)}const o8e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=xl(t,e);switch(n){case"referenceHidden":{const o=await py(e,{...i,elementContext:"reference"}),a=N$(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:I$(a)}}}case"escaped":{const o=await py(e,{...i,altBoundary:!0}),a=N$(o,r.floating);return{data:{escapedOffsets:a,escaped:I$(a)}}}default:return{}}}}},cJ=new Set(["left","top"]);async function a8e(t,e){const{placement:r,platform:n,elements:i}=t,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=bl(r),s=wp(r),l=Ja(r)==="y",c=cJ.has(a)?-1:1,d=o&&l?-1:1,f=xl(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof x=="number"&&(g=s==="end"?x*-1:x),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const s8e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await a8e(e,t);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},l8e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x:_,y:C}=b;return{x:_,y:C}}},...l}=xl(t,e),c={x:r,y:n},d=await py(e,l),f=Ja(bl(i)),p=RO(f);let g=c[p],x=c[f];if(o){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",C=g+d[b],E=g-d[_];g=Vk(C,g,E)}if(a){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",C=x+d[b],E=x-d[_];x=Vk(C,x,E)}const y=s.fn({...e,[p]:g,[f]:x});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:o,[f]:a}}}}}},c8e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=xl(t,e),d={x:r,y:n},f=Ja(i),p=RO(f);let g=d[p],x=d[f];const y=xl(s,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",P=o.reference[p]-o.floating[E]+b.mainAxis,I=o.reference[p]+o.reference[E]-b.mainAxis;g<P?g=P:g>I&&(g=I)}if(c){var _,C;const E=p==="y"?"width":"height",P=cJ.has(bl(i)),I=o.reference[f]-o.floating[E]+(P&&((_=a.offset)==null?void 0:_[f])||0)+(P?0:b.crossAxis),T=o.reference[f]+o.reference[E]+(P?0:((C=a.offset)==null?void 0:C[f])||0)-(P?b.crossAxis:0);x<I?x=I:x>T&&(x=T)}return{[p]:g,[f]:x}}}},u8e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=xl(t,e),d=await py(e,c),f=bl(i),p=wp(i),g=Ja(i)==="y",{width:x,height:y}=o.floating;let b,_;f==="top"||f==="bottom"?(b=f,_=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(_=f,b=p==="end"?"top":"bottom");const C=y-d.top-d.bottom,E=x-d.left-d.right,P=Oc(y-d[b],C),I=Oc(x-d[_],E),T=!e.middlewareData.shift;let N=P,S=I;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(S=E),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=C),T&&!p){const B=so(d.left,0),M=so(d.right,0),L=so(d.top,0),F=so(d.bottom,0);g?S=x-2*(B!==0||M!==0?B+M:so(d.left,d.right)):N=y-2*(L!==0||F!==0?L+F:so(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:N});const j=await a.getDimensions(s.floating);return x!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}};function Xw(){return typeof window<"u"}function _p(t){return uJ(t)?(t.nodeName||"").toLowerCase():"#document"}function xo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function As(t){var e;return(e=(uJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uJ(t){return Xw()?t instanceof Node||t instanceof xo(t).Node:!1}function Aa(t){return Xw()?t instanceof Element||t instanceof xo(t).Element:!1}function gs(t){return Xw()?t instanceof HTMLElement||t instanceof xo(t).HTMLElement:!1}function k$(t){return!Xw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xo(t).ShadowRoot}const d8e=new Set(["inline","contents"]);function Jy(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ca(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!d8e.has(i)}const f8e=new Set(["table","td","th"]);function h8e(t){return f8e.has(_p(t))}const p8e=[":popover-open",":modal"];function Qw(t){return p8e.some(e=>{try{return t.matches(e)}catch{return!1}})}const m8e=["transform","translate","scale","rotate","perspective"],g8e=["transform","translate","scale","rotate","perspective","filter"],y8e=["paint","layout","strict","content"];function FO(t){const e=LO(),r=Aa(t)?Ca(t):t;return m8e.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||g8e.some(n=>(r.willChange||"").includes(n))||y8e.some(n=>(r.contain||"").includes(n))}function v8e(t){let e=jc(t);for(;gs(e)&&!qh(e);){if(FO(e))return e;if(Qw(e))return null;e=jc(e)}return null}function LO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x8e=new Set(["html","body","#document"]);function qh(t){return x8e.has(_p(t))}function Ca(t){return xo(t).getComputedStyle(t)}function Zw(t){return Aa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jc(t){if(_p(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k$(t)&&t.host||As(t);return k$(e)?e.host:e}function dJ(t){const e=jc(t);return qh(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&Jy(e)?e:dJ(e)}function my(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=dJ(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),a=xo(i);if(o){const s=Uk(a);return e.concat(a,a.visualViewport||[],Jy(i)?i:[],s&&r?my(s):[])}return e.concat(i,my(i,[],r))}function Uk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fJ(t){const e=Ca(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=gs(t),o=i?t.offsetWidth:r,a=i?t.offsetHeight:n,s=ab(r)!==o||ab(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function BO(t){return Aa(t)?t:t.contextElement}function ih(t){const e=BO(t);if(!gs(e))return us(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=fJ(e);let a=(o?ab(r.width):r.width)/n,s=(o?ab(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const b8e=us(0);function hJ(t){const e=xo(t);return!LO()||!e.visualViewport?b8e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w8e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==xo(t)?!1:e}function hd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=BO(t);let a=us(1);e&&(n?Aa(n)&&(a=ih(n)):a=ih(t));const s=w8e(o,r,n)?hJ(o):us(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const p=xo(o),g=n&&Aa(n)?xo(n):n;let x=p,y=Uk(x);for(;y&&n&&g!==x;){const b=ih(y),_=y.getBoundingClientRect(),C=Ca(y),E=_.left+(y.clientLeft+parseFloat(C.paddingLeft))*b.x,P=_.top+(y.clientTop+parseFloat(C.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=E,c+=P,x=xo(y),y=Uk(x)}}return lb({width:d,height:f,x:l,y:c})}function Jw(t,e){const r=Zw(t).scrollLeft;return e?e.left+r:hd(As(t)).left+r}function pJ(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Jw(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function _8e(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",a=As(n),s=e?Qw(e.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=us(1);const d=us(0),f=gs(n);if((f||!f&&!o)&&((_p(n)!=="body"||Jy(a))&&(l=Zw(n)),gs(n))){const g=hd(n);c=ih(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const p=a&&!f&&!o?pJ(a,l):us(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function A8e(t){return Array.from(t.getClientRects())}function C8e(t){const e=As(t),r=Zw(t),n=t.ownerDocument.body,i=so(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=so(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Jw(t);const s=-r.scrollTop;return Ca(n).direction==="rtl"&&(a+=so(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}const P$=25;function E8e(t,e){const r=xo(t),n=As(t),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const d=LO();(!d||d&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=Jw(n);if(c<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(n.clientWidth-f.clientWidth-g);x<=P$&&(o-=x)}else c<=P$&&(o+=c);return{width:o,height:a,x:s,y:l}}const S8e=new Set(["absolute","fixed"]);function T8e(t,e){const r=hd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=gs(t)?ih(t):us(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function O$(t,e,r){let n;if(e==="viewport")n=E8e(t,r);else if(e==="document")n=C8e(As(t));else if(Aa(e))n=T8e(e,r);else{const i=hJ(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return lb(n)}function mJ(t,e){const r=jc(t);return r===e||!Aa(r)||qh(r)?!1:Ca(r).position==="fixed"||mJ(r,e)}function N8e(t,e){const r=e.get(t);if(r)return r;let n=my(t,[],!1).filter(s=>Aa(s)&&_p(s)!=="body"),i=null;const o=Ca(t).position==="fixed";let a=o?jc(t):t;for(;Aa(a)&&!qh(a);){const s=Ca(a),l=FO(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&S8e.has(i.position)||Jy(a)&&!l&&mJ(t,a))?n=n.filter(d=>d!==a):i=s,a=jc(a)}return e.set(t,n),n}function I8e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?Qw(e)?[]:N8e(e,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,d)=>{const f=O$(e,d,i);return c.top=so(f.top,c.top),c.right=Oc(f.right,c.right),c.bottom=Oc(f.bottom,c.bottom),c.left=so(f.left,c.left),c},O$(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function k8e(t){const{width:e,height:r}=fJ(t);return{width:e,height:r}}function P8e(t,e,r){const n=gs(e),i=As(e),o=r==="fixed",a=hd(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=us(0);function c(){l.x=Jw(i)}if(n||!n&&!o)if((_p(e)!=="body"||Jy(i))&&(s=Zw(e)),n){const g=hd(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!n&&i&&c();const d=i&&!n&&!o?pJ(i,s):us(0),f=a.left+s.scrollLeft-l.x-d.x,p=a.top+s.scrollTop-l.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function VT(t){return Ca(t).position==="static"}function j$(t,e){if(!gs(t)||Ca(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return As(t)===r&&(r=r.ownerDocument.body),r}function gJ(t,e){const r=xo(t);if(Qw(t))return r;if(!gs(t)){let i=jc(t);for(;i&&!qh(i);){if(Aa(i)&&!VT(i))return i;i=jc(i)}return r}let n=j$(t,e);for(;n&&h8e(n)&&VT(n);)n=j$(n,e);return n&&qh(n)&&VT(n)&&!FO(n)?r:n||v8e(t)||r}const O8e=async function(t){const e=this.getOffsetParent||gJ,r=this.getDimensions,n=await r(t.floating);return{reference:P8e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function j8e(t){return Ca(t).direction==="rtl"}const R8e={convertOffsetParentRelativeRectToViewportRelativeRect:_8e,getDocumentElement:As,getClippingRect:I8e,getOffsetParent:gJ,getElementRects:O8e,getClientRects:A8e,getDimensions:k8e,getScale:ih,isElement:Aa,isRTL:j8e};function yJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function D8e(t,e){let r=null,n;const i=As(t);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=c;if(s||e(),!p||!g)return;const x=Xv(f),y=Xv(i.clientWidth-(d+p)),b=Xv(i.clientHeight-(f+g)),_=Xv(d),E={rootMargin:-x+"px "+-y+"px "+-b+"px "+-_+"px",threshold:so(0,Oc(1,l))||1};let P=!0;function I(T){const N=T[0].intersectionRatio;if(N!==l){if(!P)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!yJ(c,t.getBoundingClientRect())&&a(),P=!1}try{r=new IntersectionObserver(I,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(I,E)}r.observe(t)}return a(!0),o}function M8e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=BO(t),d=i||o?[...c?my(c):[],...my(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),o&&_.addEventListener("resize",r)});const f=c&&s?D8e(c,r):null;let p=-1,g=null;a&&(g=new ResizeObserver(_=>{let[C]=_;C&&C.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),r()}),c&&!l&&g.observe(c),g.observe(e));let x,y=l?hd(t):null;l&&b();function b(){const _=hd(t);y&&!yJ(y,_)&&r(),y=_,x=requestAnimationFrame(b)}return r(),()=>{var _;d.forEach(C=>{i&&C.removeEventListener("scroll",r),o&&C.removeEventListener("resize",r)}),f?.(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const F8e=s8e,L8e=l8e,B8e=i8e,V8e=u8e,$8e=o8e,R$=n8e,U8e=c8e,z8e=(t,e,r)=>{const n=new Map,i={platform:R8e,...r},o={...i.platform,_c:n};return r8e(t,e,{...i,platform:o})};var W8e=typeof document<"u",H8e=function(){},_1=W8e?k.useLayoutEffect:H8e;function cb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!cb(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!cb(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function vJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D$(t,e){const r=vJ(t);return Math.round(e*r)/r}function $T(t){const e=k.useRef(t);return _1(()=>{e.current=t}),e}function q8e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[d,f]=k.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=k.useState(n);cb(p,n)||g(n);const[x,y]=k.useState(null),[b,_]=k.useState(null),C=k.useCallback(H=>{H!==T.current&&(T.current=H,y(H))},[]),E=k.useCallback(H=>{H!==N.current&&(N.current=H,_(H))},[]),P=o||x,I=a||b,T=k.useRef(null),N=k.useRef(null),S=k.useRef(d),j=l!=null,B=$T(l),M=$T(i),L=$T(c),F=k.useCallback(()=>{if(!T.current||!N.current)return;const H={placement:e,strategy:r,middleware:p};M.current&&(H.platform=M.current),z8e(T.current,N.current,H).then(oe=>{const z={...oe,isPositioned:L.current!==!1};$.current&&!cb(S.current,z)&&(S.current=z,Fy.flushSync(()=>{f(z)}))})},[p,e,r,M,L]);_1(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[c]);const $=k.useRef(!1);_1(()=>($.current=!0,()=>{$.current=!1}),[]),_1(()=>{if(P&&(T.current=P),I&&(N.current=I),P&&I){if(B.current)return B.current(P,I,F);F()}},[P,I,F,B,j]);const q=k.useMemo(()=>({reference:T,floating:N,setReference:C,setFloating:E}),[C,E]),X=k.useMemo(()=>({reference:P,floating:I}),[P,I]),J=k.useMemo(()=>{const H={position:r,left:0,top:0};if(!X.floating)return H;const oe=D$(X.floating,d.x),z=D$(X.floating,d.y);return s?{...H,transform:"translate("+oe+"px, "+z+"px)",...vJ(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:oe,top:z}},[r,s,X.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:F,refs:q,elements:X,floatingStyles:J}),[d,F,q,X,J])}const G8e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?R$({element:n.current,padding:i}).fn(r):{}:n?R$({element:n,padding:i}).fn(r):{}}}},K8e=(t,e)=>({...F8e(t),options:[t,e]}),Y8e=(t,e)=>({...L8e(t),options:[t,e]}),X8e=(t,e)=>({...U8e(t),options:[t,e]}),Q8e=(t,e)=>({...B8e(t),options:[t,e]}),Z8e=(t,e)=>({...V8e(t),options:[t,e]}),J8e=(t,e)=>({...$8e(t),options:[t,e]}),eFe=(t,e)=>({...G8e(t),options:[t,e]});var tFe="Arrow",xJ=k.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...o}=t;return u.jsx(wt.svg,{...o,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});xJ.displayName=tFe;var rFe=xJ,VO="Popper",[bJ,e2]=Go(VO),[nFe,wJ]=bJ(VO),_J=t=>{const{__scopePopper:e,children:r}=t,[n,i]=k.useState(null);return u.jsx(nFe,{scope:e,anchor:n,onAnchorChange:i,children:r})};_J.displayName=VO;var AJ="PopperAnchor",CJ=k.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,o=wJ(AJ,r),a=k.useRef(null),s=Bt(e,a),l=k.useRef(null);return k.useEffect(()=>{const c=l.current;l.current=n?.current||a.current,c!==l.current&&o.onAnchorChange(l.current)}),n?null:u.jsx(wt.div,{...i,ref:s})});CJ.displayName=AJ;var $O="PopperContent",[iFe,oFe]=bJ($O),EJ=k.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=t,b=wJ($O,r),[_,C]=k.useState(null),E=Bt(e,se=>C(se)),[P,I]=k.useState(null),T=gO(P),N=T?.width??0,S=T?.height??0,j=n+(o!=="center"?"-"+o:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(c)?c:[c],L=M.length>0,F={padding:B,boundary:M.filter(sFe),altBoundary:L},{refs:$,floatingStyles:q,placement:X,isPositioned:J,middlewareData:H}=q8e({strategy:"fixed",placement:j,whileElementsMounted:(...se)=>M8e(...se,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[K8e({mainAxis:i+S,alignmentAxis:a}),l&&Y8e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?X8e():void 0,...F}),l&&Q8e({...F}),Z8e({...F,apply:({elements:se,rects:we,availableWidth:me,availableHeight:re})=>{const{width:le,height:G}=we.reference,ge=se.floating.style;ge.setProperty("--radix-popper-available-width",`${me}px`),ge.setProperty("--radix-popper-available-height",`${re}px`),ge.setProperty("--radix-popper-anchor-width",`${le}px`),ge.setProperty("--radix-popper-anchor-height",`${G}px`)}}),P&&eFe({element:P,padding:s}),lFe({arrowWidth:N,arrowHeight:S}),p&&J8e({strategy:"referenceHidden",...F})]}),[oe,z]=NJ(X),Q=ml(x);ln(()=>{J&&Q?.()},[J,Q]);const ee=H.arrow?.x,W=H.arrow?.y,xe=H.arrow?.centerOffset!==0,[Ne,ie]=k.useState();return ln(()=>{_&&ie(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:J?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(iFe,{scope:r,placedSide:oe,onArrowChange:I,arrowX:ee,arrowY:W,shouldHideArrow:xe,children:u.jsx(wt.div,{"data-side":oe,"data-align":z,...y,ref:E,style:{...y.style,animation:J?void 0:"none"}})})})});EJ.displayName=$O;var SJ="PopperArrow",aFe={top:"bottom",right:"left",bottom:"top",left:"right"},TJ=k.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,o=oFe(SJ,n),a=aFe[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(rFe,{...i,ref:r,style:{...i.style,display:"block"}})})});TJ.displayName=SJ;function sFe(t){return t!==null}var lFe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=NJ(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(i.arrow?.x??0)+s/2,g=(i.arrow?.y??0)+l/2;let x="",y="";return c==="bottom"?(x=a?f:`${p}px`,y=`${-l}px`):c==="top"?(x=a?f:`${p}px`,y=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=a?f:`${g}px`):c==="left"&&(x=`${n.floating.width+l}px`,y=a?f:`${g}px`),{data:{x,y}}}});function NJ(t){const[e,r="center"]=t.split("-");return[e,r]}var IJ=_J,kJ=CJ,PJ=EJ,OJ=TJ,jJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cFe="VisuallyHidden",RJ=k.forwardRef((t,e)=>u.jsx(wt.span,{...t,ref:e,style:{...jJ,...t.style}}));RJ.displayName=cFe;var uFe=RJ,dFe=[" ","Enter","ArrowUp","ArrowDown"],fFe=[" ","Enter"],pd="Select",[t2,r2,hFe]=PO(pd),[Ap]=Go(pd,[hFe,e2]),n2=e2(),[pFe,Gc]=Ap(pd),[mFe,gFe]=Ap(pd),DJ=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:x}=t,y=n2(e),[b,_]=k.useState(null),[C,E]=k.useState(null),[P,I]=k.useState(!1),T=Gw(c),[N,S]=pl({prop:n,defaultProp:i??!1,onChange:o,caller:pd}),[j,B]=pl({prop:a,defaultProp:s,onChange:l,caller:pd}),M=k.useRef(null),L=b?x||!!b.closest("form"):!0,[F,$]=k.useState(new Set),q=Array.from(F).map(X=>X.props.value).join(";");return u.jsx(IJ,{...y,children:u.jsxs(pFe,{required:g,scope:e,trigger:b,onTriggerChange:_,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:P,onValueNodeHasChildrenChange:I,contentId:ss(),value:j,onValueChange:B,open:N,onOpenChange:S,dir:T,triggerPointerDownPosRef:M,disabled:p,children:[u.jsx(t2.Provider,{scope:e,children:u.jsx(mFe,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(X=>{$(J=>new Set(J).add(X))},[]),onNativeOptionRemove:k.useCallback(X=>{$(J=>{const H=new Set(J);return H.delete(X),H})},[]),children:r})}),L?u.jsxs(nee,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:X=>B(X.target.value),disabled:p,form:x,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(F)]},q):null]})})};DJ.displayName=pd;var MJ="SelectTrigger",FJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,o=n2(r),a=Gc(MJ,r),s=a.disabled||n,l=Bt(e,a.onTriggerChange),c=r2(r),d=k.useRef("touch"),[f,p,g]=oee(y=>{const b=c().filter(E=>!E.disabled),_=b.find(E=>E.value===a.value),C=aee(b,y,_);C!==void 0&&a.onValueChange(C.value)}),x=y=>{s||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(kJ,{asChild:!0,...o,children:u.jsx(wt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":iee(a.value)?"":void 0,...i,ref:l,onClick:pt(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:pt(i.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:pt(i.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&dFe.includes(y.key)&&(x(),y.preventDefault())})})})});FJ.displayName=MJ;var LJ="SelectValue",BJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:a="",...s}=t,l=Gc(LJ,r),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=Bt(e,l.onValueNodeChange);return ln(()=>{c(d)},[c,d]),u.jsx(wt.span,{...s,ref:f,style:{pointerEvents:"none"},children:iee(l.value)?u.jsx(u.Fragment,{children:a}):o})});BJ.displayName=LJ;var yFe="SelectIcon",VJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(wt.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});VJ.displayName=yFe;var vFe="SelectPortal",$J=t=>u.jsx(Jb,{asChild:!0,...t});$J.displayName=vFe;var md="SelectContent",UJ=k.forwardRef((t,e)=>{const r=Gc(md,t.__scopeSelect),[n,i]=k.useState();if(ln(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?Fy.createPortal(u.jsx(zJ,{scope:t.__scopeSelect,children:u.jsx(t2.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(WJ,{...t,ref:e})});UJ.displayName=md;var la=10,[zJ,Kc]=Ap(md),xFe="SelectContentImpl",bFe=xh("SelectContent.RemoveScroll"),WJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b,..._}=t,C=Gc(md,r),[E,P]=k.useState(null),[I,T]=k.useState(null),N=Bt(e,se=>P(se)),[S,j]=k.useState(null),[B,M]=k.useState(null),L=r2(r),[F,$]=k.useState(!1),q=k.useRef(!1);k.useEffect(()=>{if(E)return fG(E)},[E]),nG();const X=k.useCallback(se=>{const[we,...me]=L().map(G=>G.ref.current),[re]=me.slice(-1),le=document.activeElement;for(const G of se)if(G===le||(G?.scrollIntoView({block:"nearest"}),G===we&&I&&(I.scrollTop=0),G===re&&I&&(I.scrollTop=I.scrollHeight),G?.focus(),document.activeElement!==le))return},[L,I]),J=k.useCallback(()=>X([S,E]),[X,S,E]);k.useEffect(()=>{F&&J()},[F,J]);const{onOpenChange:H,triggerPointerDownPosRef:oe}=C;k.useEffect(()=>{if(E){let se={x:0,y:0};const we=re=>{se={x:Math.abs(Math.round(re.pageX)-(oe.current?.x??0)),y:Math.abs(Math.round(re.pageY)-(oe.current?.y??0))}},me=re=>{se.x<=10&&se.y<=10?re.preventDefault():E.contains(re.target)||H(!1),document.removeEventListener("pointermove",we),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",me,{capture:!0})}}},[E,H,oe]),k.useEffect(()=>{const se=()=>H(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[H]);const[z,Q]=oee(se=>{const we=L().filter(le=>!le.disabled),me=we.find(le=>le.ref.current===document.activeElement),re=aee(we,se,me);re&&setTimeout(()=>re.ref.current.focus())}),ee=k.useCallback((se,we,me)=>{const re=!q.current&&!me;(C.value!==void 0&&C.value===we||re)&&(j(se),re&&(q.current=!0))},[C.value]),W=k.useCallback(()=>E?.focus(),[E]),xe=k.useCallback((se,we,me)=>{const re=!q.current&&!me;(C.value!==void 0&&C.value===we||re)&&M(se)},[C.value]),Ne=n==="popper"?zk:HJ,ie=Ne===zk?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return u.jsx(zJ,{scope:r,content:E,viewport:I,onViewportChange:T,itemRefCallback:ee,selectedItem:S,onItemLeave:W,itemTextRefCallback:xe,focusSelectedItem:J,selectedItemText:B,position:n,isPositioned:F,searchRef:z,children:u.jsx(Z4,{as:bFe,allowPinchZoom:!0,children:u.jsx(Q4,{asChild:!0,trapped:C.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:pt(i,se=>{C.trigger?.focus({preventScroll:!0}),se.preventDefault()}),children:u.jsx(Zb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:u.jsx(Ne,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:se=>se.preventDefault(),..._,...ie,onPlaced:()=>$(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:pt(_.onKeyDown,se=>{const we=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!we&&se.key.length===1&&Q(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let re=L().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(se.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const le=se.target,G=re.indexOf(le);re=re.slice(G+1)}setTimeout(()=>X(re)),se.preventDefault()}})})})})})})});WJ.displayName=xFe;var wFe="SelectItemAlignedPosition",HJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,o=Gc(md,r),a=Kc(md,r),[s,l]=k.useState(null),[c,d]=k.useState(null),f=Bt(e,N=>d(N)),p=r2(r),g=k.useRef(!1),x=k.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:_,focusSelectedItem:C}=a,E=k.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&y&&b&&_){const N=o.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),B=_.getBoundingClientRect();if(o.dir!=="rtl"){const le=B.left-S.left,G=j.left-le,ge=N.left-G,Ee=N.width+ge,$e=Math.max(Ee,S.width),We=window.innerWidth-la,ut=ob(G,[la,Math.max(la,We-$e)]);s.style.minWidth=Ee+"px",s.style.left=ut+"px"}else{const le=S.right-B.right,G=window.innerWidth-j.right-le,ge=window.innerWidth-N.right-G,Ee=N.width+ge,$e=Math.max(Ee,S.width),We=window.innerWidth-la,ut=ob(G,[la,Math.max(la,We-$e)]);s.style.minWidth=Ee+"px",s.style.right=ut+"px"}const M=p(),L=window.innerHeight-la*2,F=y.scrollHeight,$=window.getComputedStyle(c),q=parseInt($.borderTopWidth,10),X=parseInt($.paddingTop,10),J=parseInt($.borderBottomWidth,10),H=parseInt($.paddingBottom,10),oe=q+X+F+H+J,z=Math.min(b.offsetHeight*5,oe),Q=window.getComputedStyle(y),ee=parseInt(Q.paddingTop,10),W=parseInt(Q.paddingBottom,10),xe=N.top+N.height/2-la,Ne=L-xe,ie=b.offsetHeight/2,se=b.offsetTop+ie,we=q+X+se,me=oe-we;if(we<=xe){const le=M.length>0&&b===M[M.length-1].ref.current;s.style.bottom="0px";const G=c.clientHeight-y.offsetTop-y.offsetHeight,ge=Math.max(Ne,ie+(le?W:0)+G+J),Ee=we+ge;s.style.height=Ee+"px"}else{const le=M.length>0&&b===M[0].ref.current;s.style.top="0px";const ge=Math.max(xe,q+y.offsetTop+(le?ee:0)+ie)+me;s.style.height=ge+"px",y.scrollTop=we-xe+y.offsetTop}s.style.margin=`${la}px 0`,s.style.minHeight=z+"px",s.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[p,o.trigger,o.valueNode,s,c,y,b,_,o.dir,n]);ln(()=>E(),[E]);const[P,I]=k.useState();ln(()=>{c&&I(window.getComputedStyle(c).zIndex)},[c]);const T=k.useCallback(N=>{N&&x.current===!0&&(E(),C?.(),x.current=!1)},[E,C]);return u.jsx(AFe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:u.jsx(wt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});HJ.displayName=wFe;var _Fe="SelectPopperPosition",zk=k.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=la,...o}=t,a=n2(r);return u.jsx(PJ,{...a,...o,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zk.displayName=_Fe;var[AFe,UO]=Ap(md,{}),Wk="SelectViewport",qJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,o=Kc(Wk,r),a=UO(Wk,r),s=Bt(e,o.onViewportChange),l=k.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(t2.Slot,{scope:r,children:u.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pt(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p?.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const x=window.innerHeight-la*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),_=Math.max(y,b);if(_<x){const C=_+g,E=Math.min(x,C),P=C-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});qJ.displayName=Wk;var GJ="SelectGroup",[CFe,EFe]=Ap(GJ),SFe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ss();return u.jsx(CFe,{scope:r,id:i,children:u.jsx(wt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});SFe.displayName=GJ;var KJ="SelectLabel",TFe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=EFe(KJ,r);return u.jsx(wt.div,{id:i.id,...n,ref:e})});TFe.displayName=KJ;var ub="SelectItem",[NFe,YJ]=Ap(ub),XJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...a}=t,s=Gc(ub,r),l=Kc(ub,r),c=s.value===n,[d,f]=k.useState(o??""),[p,g]=k.useState(!1),x=Bt(e,C=>l.itemRefCallback?.(C,n,i)),y=ss(),b=k.useRef("touch"),_=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(NFe,{scope:r,value:n,disabled:i,textId:y,isSelected:c,onItemTextChange:k.useCallback(C=>{f(E=>E||(C?.textContent??"").trim())},[]),children:u.jsx(t2.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(wt.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:pt(a.onFocus,()=>g(!0)),onBlur:pt(a.onBlur,()=>g(!1)),onClick:pt(a.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:pt(a.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:pt(a.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:pt(a.onPointerMove,C=>{b.current=C.pointerType,i?l.onItemLeave?.():b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(a.onPointerLeave,C=>{C.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:pt(a.onKeyDown,C=>{l.searchRef?.current!==""&&C.key===" "||(fFe.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});XJ.displayName=ub;var zm="SelectItemText",QJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...o}=t,a=Gc(zm,r),s=Kc(zm,r),l=YJ(zm,r),c=gFe(zm,r),[d,f]=k.useState(null),p=Bt(e,_=>f(_),l.onItemTextChange,_=>s.itemTextRefCallback?.(_,l.value,l.disabled)),g=d?.textContent,x=k.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return ln(()=>(y(x),()=>b(x)),[y,b,x]),u.jsxs(u.Fragment,{children:[u.jsx(wt.span,{id:l.textId,...o,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Fy.createPortal(o.children,a.valueNode):null]})});QJ.displayName=zm;var ZJ="SelectItemIndicator",JJ=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return YJ(ZJ,r).isSelected?u.jsx(wt.span,{"aria-hidden":!0,...n,ref:e}):null});JJ.displayName=ZJ;var Hk="SelectScrollUpButton",eee=k.forwardRef((t,e)=>{const r=Kc(Hk,t.__scopeSelect),n=UO(Hk,t.__scopeSelect),[i,o]=k.useState(!1),a=Bt(e,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(ree,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});eee.displayName=Hk;var qk="SelectScrollDownButton",tee=k.forwardRef((t,e)=>{const r=Kc(qk,t.__scopeSelect),n=UO(qk,t.__scopeSelect),[i,o]=k.useState(!1),a=Bt(e,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(ree,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});tee.displayName=qk;var ree=k.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,o=Kc("SelectScrollButton",r),a=k.useRef(null),s=r2(r),l=k.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),ln(()=>{s().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),u.jsx(wt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:pt(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:pt(i.onPointerLeave,()=>{l()})})}),IFe="SelectSeparator",kFe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(wt.div,{"aria-hidden":!0,...n,ref:e})});kFe.displayName=IFe;var Gk="SelectArrow",PFe=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=n2(r),o=Gc(Gk,r),a=Kc(Gk,r);return o.open&&a.position==="popper"?u.jsx(OJ,{...i,...n,ref:e}):null});PFe.displayName=Gk;var OFe="SelectBubbleInput",nee=k.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=k.useRef(null),o=Bt(n,i),a=mO(e);return k.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[a,e]),u.jsx(wt.select,{...r,style:{...jJ,...r.style},ref:o,defaultValue:e})});nee.displayName=OFe;function iee(t){return t===""||t===void 0}function oee(t){const e=ml(t),r=k.useRef(""),n=k.useRef(0),i=k.useCallback(a=>{const s=r.current+a;e(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[e]),o=k.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function aee(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=jFe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function jFe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var RFe=DJ,DFe=FJ,MFe=BJ,FFe=VJ,LFe=$J,BFe=UJ,VFe=qJ,$Fe=XJ,UFe=QJ,zFe=JJ,WFe=eee,HFe=tee;function Kk({...t}){return u.jsx(RFe,{"data-slot":"select",...t})}function Yk({...t}){return u.jsx(MFe,{"data-slot":"select-value",...t})}function Xk({className:t,size:e="default",children:r,...n}){return u.jsxs(DFe,{"data-slot":"select-trigger","data-size":e,className:Nt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,u.jsx(FFe,{asChild:!0,children:u.jsx(al,{className:"size-4 opacity-50"})})]})}function Qk({className:t,children:e,position:r="popper",...n}){return u.jsx(LFe,{children:u.jsxs(BFe,{"data-slot":"select-content",className:Nt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(qFe,{}),u.jsx(VFe,{className:Nt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(GFe,{})]})})}function qs({className:t,children:e,...r}){return u.jsxs($Fe,{"data-slot":"select-item",className:Nt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(zFe,{children:u.jsx(gd,{className:"size-4"})})}),u.jsx(UFe,{children:e})]})}function qFe({className:t,...e}){return u.jsx(WFe,{"data-slot":"select-scroll-up-button",className:Nt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(pb,{className:"size-4"})})}function GFe({className:t,...e}){return u.jsx(HFe,{"data-slot":"select-scroll-down-button",className:Nt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(al,{className:"size-4"})})}var[i2]=Go("Tooltip",[e2]),o2=e2(),see="TooltipProvider",KFe=700,Zk="tooltip.open",[YFe,zO]=i2(see),lee=t=>{const{__scopeTooltip:e,delayDuration:r=KFe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:o}=t,a=k.useRef(!0),s=k.useRef(!1),l=k.useRef(0);return k.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(YFe,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:k.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:k.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};lee.displayName=see;var gy="Tooltip",[XFe,e0]=i2(gy),cee=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,l=zO(gy,t.__scopeTooltip),c=o2(e),[d,f]=k.useState(null),p=ss(),g=k.useRef(0),x=a??l.disableHoverableContent,y=s??l.delayDuration,b=k.useRef(!1),[_,C]=pl({prop:n,defaultProp:i??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(Zk))):l.onClose(),o?.(N)},caller:gy}),E=k.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),P=k.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,C(!0)},[C]),I=k.useCallback(()=>{window.clearTimeout(g.current),g.current=0,C(!1)},[C]),T=k.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,C(!0),g.current=0},y)},[y,C]);return k.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),u.jsx(IJ,{...c,children:u.jsx(XFe,{scope:e,contentId:p,open:_,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:k.useCallback(()=>{l.isOpenDelayedRef.current?T():P()},[l.isOpenDelayedRef,T,P]),onTriggerLeave:k.useCallback(()=>{x?I():(window.clearTimeout(g.current),g.current=0)},[I,x]),onOpen:P,onClose:I,disableHoverableContent:x,children:r})})};cee.displayName=gy;var Jk="TooltipTrigger",uee=k.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=e0(Jk,r),o=zO(Jk,r),a=o2(r),s=k.useRef(null),l=Bt(e,s,i.onTriggerChange),c=k.useRef(!1),d=k.useRef(!1),f=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(kJ,{asChild:!0,...a,children:u.jsx(wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:pt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:pt(t.onBlur,i.onClose),onClick:pt(t.onClick,i.onClose)})})});uee.displayName=Jk;var WO="TooltipPortal",[QFe,ZFe]=i2(WO,{forceMount:void 0}),dee=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,o=e0(WO,e);return u.jsx(QFe,{scope:e,forceMount:r,children:u.jsx(Bc,{present:r||o.open,children:u.jsx(Jb,{asChild:!0,container:i,children:n})})})};dee.displayName=WO;var Gh="TooltipContent",fee=k.forwardRef((t,e)=>{const r=ZFe(Gh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=t,a=e0(Gh,t.__scopeTooltip);return u.jsx(Bc,{present:n||a.open,children:a.disableHoverableContent?u.jsx(hee,{side:i,...o,ref:e}):u.jsx(JFe,{side:i,...o,ref:e})})}),JFe=k.forwardRef((t,e)=>{const r=e0(Gh,t.__scopeTooltip),n=zO(Gh,t.__scopeTooltip),i=k.useRef(null),o=Bt(e,i),[a,s]=k.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=n,p=k.useCallback(()=>{s(null),f(!1)},[f]),g=k.useCallback((x,y)=>{const b=x.currentTarget,_={x:x.clientX,y:x.clientY},C=nLe(_,b.getBoundingClientRect()),E=iLe(_,C),P=oLe(y.getBoundingClientRect()),I=sLe([...E,...P]);s(I),f(!0)},[f]);return k.useEffect(()=>()=>p(),[p]),k.useEffect(()=>{if(l&&d){const x=b=>g(b,d),y=b=>g(b,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),k.useEffect(()=>{if(a){const x=y=>{const b=y.target,_={x:y.clientX,y:y.clientY},C=l?.contains(b)||d?.contains(b),E=!aLe(_,a);C?p():E&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,a,c,p]),u.jsx(hee,{...t,ref:o})}),[eLe,tLe]=i2(gy,{isInside:!1}),rLe=Jq("TooltipContent"),hee=k.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=e0(Gh,r),c=o2(r),{onClose:d}=l;return k.useEffect(()=>(document.addEventListener(Zk,d),()=>document.removeEventListener(Zk,d)),[d]),k.useEffect(()=>{if(l.trigger){const f=p=>{p.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Zb,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(PJ,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(rLe,{children:n}),u.jsx(eLe,{scope:r,isInside:!0,children:u.jsx(uFe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});fee.displayName=Gh;var pee="TooltipArrow",mee=k.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=o2(r);return tLe(pee,r).isInside?null:u.jsx(OJ,{...i,...n,ref:e})});mee.displayName=pee;function nLe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function iLe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function oLe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function aLe(t,e){const{x:r,y:n}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,d=s.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-c)*(n-d)/(p-d)+c&&(i=!i)}return i}function sLe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lLe(e)}function lLe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var cLe=lee,uLe=cee,dLe=uee,fLe=dee,hLe=fee,pLe=mee;function gee({delayDuration:t=0,...e}){return u.jsx(cLe,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function mLe({...t}){return u.jsx(gee,{children:u.jsx(uLe,{"data-slot":"tooltip",...t})})}function gLe({...t}){return u.jsx(dLe,{"data-slot":"tooltip-trigger",...t})}function yLe({className:t,sideOffset:e=0,children:r,...n}){return u.jsx(fLe,{children:u.jsxs(hLe,{"data-slot":"tooltip-content",sideOffset:e,className:Nt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,u.jsx(pLe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function vLe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function xLe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var bLe=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wLe=(function(t){bLe(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),vLe(o,i.prototype),xLe(o),o}return e})(Error),_Le=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Hi=(function(t){_Le(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(wLe),ALe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),aa=(function(t){ALe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Hi),CLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),lt=(function(t){CLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Hi),ELe=(function(){function t(e){if(this.binarizer=e,e===null)throw new lt("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),SLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Rn=(function(t){SLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Hi),TLe=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),Ar=(function(){function t(){}return t.arraycopy=function(e,r,n,i,o){for(;o--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),NLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),HO=(function(t){NLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Hi),ILe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),M$=(function(t){ILe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(HO),kLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xn=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new lt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new M$(r);if(n>e)throw new M$(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var o=kLe(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=31*i+s}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,o=new Int32Array(i);return Ar.arraycopy(e,r,o,0,i),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=n(r,e[a]);if(s>0)i=a+1;else if(s<0)o=a-1;else return a}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),jt=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Dn=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Ar.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=n[i]}var s=i*32+jt.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=~n[i]}var s=i*32+jt.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new lt;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,a=n;a<=i;a++){var s=a>n?0:e&31,l=a<i?31:r&31,c=(2<<l)-(1<<s);o[a]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new lt;if(r===e)return!0;r--;for(var i=Math.floor(e/32),o=Math.floor(r/32),a=this.bits,s=i;s<=o;s++){var l=s>i?0:e&31,c=s<o?31:r&31,d=(2<<c)-(1<<l)&4294967295;if((a[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new lt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new lt("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;r[n+o]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,o=0;o<n;o++){var a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[r-o]=a}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,o=1;o<n;o++){var c=e[o];l|=c<<32-s,e[o-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&xn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+xn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t})(),eP;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(eP||(eP={}));const Vr=eP;var PLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Me=(function(t){PLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Hi),OLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lr;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(lr||(lr={}));var yn=(function(){function t(e,r,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var p=OLe(a),g=p.next();!g.done;g=p.next()){var x=g.value;t.NAME_TO_ECI.set(x,this)}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Me("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Me("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Me("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(lr.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(lr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(lr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(lr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(lr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(lr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(lr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(lr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(lr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(lr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(lr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(lr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(lr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(lr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(lr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(lr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(lr.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(lr.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(lr.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(lr.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(lr.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(lr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(lr.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(lr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(lr.Big5,28,"Big5"),t.GB18030=new t(lr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(lr.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),jLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),A1=(function(t){jLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Hi),zo=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof yn?e:yn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(yn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new A1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(yn.UTF8)||e.equals(yn.ISO8859_1)||e.equals(yn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},t})(),Ut=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return zo.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Vr.CHARACTER_SET)!==void 0)return r.get(Vr.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,a=!0,s=0,l=0,c=0,d=0,f=0,p=0,g=0,x=0,y=0,b=0,_=0,C=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,E=0;E<n&&(i||o||a);E++){var P=e[E]&255;a&&(s>0?(P&128)===0?a=!1:s--:(P&128)!==0&&((P&64)===0?a=!1:(s++,(P&32)===0?l++:(s++,(P&16)===0?c++:(s++,(P&8)===0?d++:a=!1))))),i&&(P>127&&P<160?i=!1:P>159&&(P<192||P===215||P===247)&&_++),o&&(f>0?P<64||P===127||P>252?o=!1:f--:P===128||P===160||P>239?o=!1:P>160&&P<224?(p++,x=0,g++,g>y&&(y=g)):P>127?(f++,g=0,x++,x>b&&(b=x)):(g=0,x=0))}return a&&s>0&&(a=!1),o&&f>0&&(o=!1),a&&(C||l+c+d>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||y>=3||b>=3)?t.SHIFT_JIS:i&&o?y===2&&p===2||_*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function o(s,l,c,d,f,p){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var g=f?parseInt(f.substr(1)):void 0,x;switch(p){case"s":x=r[i];break;case"c":x=r[i][0];break;case"f":x=parseFloat(r[i]).toFixed(s);break;case"p":x=parseFloat(r[i]).toPrecision(s);break;case"e":x=parseFloat(r[i]).toExponential(s);break;case"x":x=parseInt(r[i]).toString(g||16);break;case"d":x=parseFloat(parseInt(r[i],g||10).toPrecision(s)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(g);for(var y=parseInt(c),b=c&&c[0]+""=="0"?"0":" ";x.length<y;)x=l!==void 0?x+b:b+x;return x}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},t.getBytes=function(e,r){return zo.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=yn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=yn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=yn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Pt=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ut.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t})(),ys=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new lt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var a=e[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,r,n){if(e===null)throw new lt("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new lt("row lengths do not match");a=o,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[o]=!0,o++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!1,o++;else throw new lt("illegal character encountered: "+e.substring(c));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new lt("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<o;f++)i[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new lt("input matrix dimensions do not match");for(var r=new Dn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*n,l=e.getRow(o,r).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new lt("Left and top must be nonnegative");if(i<1||n<1)throw new lt("Height and width must be at least 1");var o=e+n,a=r+i;if(a>this.height||o>this.width)throw new lt("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=r;c<a;c++)for(var d=c*s,f=e;f<o;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Dn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,o=e*n,a=0;a<n;a++)r.setBulk(a*32,i[o+a]);return r},t.prototype.setRow=function(e,r){Ar.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Dn(e),i=new Dn(e),o=0,a=Math.floor((r+1)/2);o<a;o++)n=this.getRow(o,n),i=this.getRow(r-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,o=e,a=r,s=-1,l=-1,c=0;c<r;c++)for(var d=0;d<n;d++){var f=i[c*n+d];if(f!==0){if(c<a&&(a=c),c>l&&(l=c),d*32<o){for(var p=0;(f<<31-p&4294967295)===0;)p++;d*32+p<o&&(o=d*32+p)}if(d*32+31>s){for(var p=31;!(f>>>p);)p--;d*32+p>s&&(s=d*32+p)}}}return s<o||l<a?null:Int32Array.from([o,a,s-o+1,l-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,o=n%e*32,a=r[n],s=0;(a<<31-s&4294967295)===0;)s++;return o+=s,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,a=r[n],s=31;!(a>>>s);)s--;return o+=s,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&xn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+xn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Pt,o=0,a=this.height;o<a;o++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,o)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),RLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),be=(function(t){RLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Hi),DLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),MLe=(function(t){DLe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new Dn(o):n.clear(),this.initArrays(o);for(var a=i.getRow(r,this.luminances),s=this.buckets,l=0;l<o;l++)s[(a[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(o<3)for(var l=0;l<o;l++)(a[l]&255)<c&&n.set(l);else for(var d=a[0]&255,f=a[1]&255,l=1;l<o-1;l++){var p=a[l+1]&255;(f*4-d-p)/2<c&&n.set(l),d=f,f=p}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),o=new ys(n,i);this.initArrays(n);for(var a=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var p=c[f]&255;a[p>>e.LUMINANCE_SHIFT]++}for(var g=e.estimateBlackPoint(a),x=r.getMatrix(),s=0;s<i;s++)for(var y=s*n,f=0;f<n;f++){var p=x[y+f]&255;p<g&&o.set(f,s)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,o=0,a=0,s=0;s<n;s++)r[s]>a&&(o=s,a=r[s]),r[s]>i&&(i=r[s]);for(var l=0,c=0,s=0;s<n;s++){var d=s-o,f=r[s]*d*d;f>c&&(l=s,c=f)}if(o>l){var p=o;o=l,l=p}if(l-o<=n/16)throw new be;for(var g=l-1,x=-1,s=l-1;s>o;s--){var y=s-o,f=y*y*(l-s)*(i-r[s]);f>x&&(g=s,x=f)}return g<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(TLe),FLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),LLe=(function(t){FLe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&a++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var l=e.calculateBlackPoints(o,a,s,n,i),c=new ys(n,i);e.calculateThresholdForBlock(o,a,s,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,o,a,s,l){for(var c=a-e.BLOCK_SIZE,d=o-e.BLOCK_SIZE,f=0;f<i;f++){var p=f<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var g=e.cap(f,2,i-3),x=0;x<n;x++){var y=x<<e.BLOCK_SIZE_POWER;y>d&&(y=d);for(var b=e.cap(x,2,n-3),_=0,C=-2;C<=2;C++){var E=s[g+C];_+=E[b-2]+E[b-1]+E[b]+E[b+1]+E[b+2]}var P=_/25;e.thresholdBlock(r,y,p,P,o,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,o,a,s){for(var l=0,c=i*a+n;l<e.BLOCK_SIZE;l++,c+=a)for(var d=0;d<e.BLOCK_SIZE;d++)(r[c+d]&255)<=o&&s.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,o,a){for(var s=a-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,c=new Array(i),d=0;d<i;d++){c[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var p=0;p<n;p++){var g=p<<e.BLOCK_SIZE_POWER;g>l&&(g=l);for(var x=0,y=255,b=0,_=0,C=f*o+g;_<e.BLOCK_SIZE;_++,C+=o){for(var E=0;E<e.BLOCK_SIZE;E++){var P=r[C+E]&255;x+=P,P<y&&(y=P),P>b&&(b=P)}if(b-y>e.MIN_DYNAMIC_RANGE)for(_++,C+=o;_<e.BLOCK_SIZE;_++,C+=o)for(var E=0;E<e.BLOCK_SIZE;E++)x+=r[C+E]&255}var I=x>>e.BLOCK_SIZE_POWER*2;if(b-y<=e.MIN_DYNAMIC_RANGE&&(I=y/2,d>0&&p>0)){var T=(c[d-1][p]+2*c[d][p-1]+c[d-1][p-1])/4;y<T&&(I=T)}c[d][p]=I}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(MLe),a2=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new A1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new A1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new A1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Pt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var a=i[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t})(),BLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qO=(function(t){BLe(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(r[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,o){return new e(this.delegate.crop(r,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(a2),VLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$Le=(function(t){VLe(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var a=0,s=0,l=r.length;a<l;a+=4,s++){var c=void 0,d=r[a+3];if(d===0)c=255;else{var f=r[a],p=r[a+1],g=r[a+2];c=306*f+601*p+117*g+512>>10}o[s]=c}else for(var a=0,s=0,x=r.length;a<x;a+=4,s++){var c=void 0,d=r[a+3];if(d===0)c=255;else{var f=r[a],p=r[a+1],g=r[a+2];c=306*f+601*p+117*g+512>>10}o[s]=255-c}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),c=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new qO(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(a2),ULe=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),mi=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},gi=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},zLe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cp=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return mi(this,void 0,void 0,function(){var e,r,n,i,o,a,s,l,c,d,f,p;return gi(this,function(g){switch(g.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=g.sent(),r=[];try{for(n=zLe(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,l=o.label||"Video device "+(r.length+1),c=o.groupId,d={deviceId:s,label:l,kind:a,groupId:c},r.push(d))}catch(x){f={error:x}}finally{try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return mi(this,void 0,void 0,function(){var e;return gi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new ULe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return mi(this,void 0,void 0,function(){var r;return gi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return mi(this,void 0,void 0,function(){return gi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return mi(this,void 0,void 0,function(){var n,i;return gi(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return mi(this,void 0,void 0,function(){var n;return gi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return mi(this,void 0,void 0,function(){var n,i;return gi(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return mi(this,void 0,void 0,function(){return gi(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return mi(this,void 0,void 0,function(){var i,o;return gi(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return mi(this,void 0,void 0,function(){var i;return gi(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return mi(this,void 0,void 0,function(){var i;return gi(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return mi(this,void 0,void 0,function(){var n;return gi(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return mi(this,void 0,void 0,function(){return gi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new aa("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new aa("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new aa("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new aa("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new aa("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new aa("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new aa("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new aa("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new aa("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new aa("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return mi(this,void 0,void 0,function(){return gi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return mi(this,void 0,void 0,function(){return gi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode){s(new be("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);a(l)}catch(p){var c=r&&p instanceof be,d=p instanceof Rn||p instanceof Me,f=d&&n;if(c||f)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(p)}};return new Promise(function(a,s){return o(a,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var a=l instanceof Rn||l instanceof Me,s=l instanceof be;(a||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new $Le(r),i=new LLe(n);return new ELe(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),ui=(function(){function t(e,r,n,i,o,a){n===void 0&&(n=r==null?0:8*r.length),a===void 0&&(a=Ar.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=Ar.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Ar.arraycopy(r,0,n,0,r.length),Ar.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),tP;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tP||(tP={}));const nt=tP;var rP;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rP||(rP={}));const Yn=rP;var s2=(function(){function t(e,r,n,i,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Wm=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new lt;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),wc=(function(){function t(e,r){if(r.length===0)throw new lt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Ar.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,o=r.length;i!==o;i++){var a=r[i];n=Wm.addOrSubtract(n,a)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=Wm.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;Ar.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=Wm.addOrSubtract(r[s-a],n[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,l=0;l<n;l++)for(var c=r[l],d=0;d<o;d++)a[l+d]=Wm.addOrSubtract(a[l+d],s.multiply(c,i[d]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(o[a],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new lt;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],r);return new t(a,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new lt("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=r.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),a),c=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),WLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yee=(function(t){WLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Hi),HLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Li=(function(t){HLe(e,t);function e(r,n,i){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=i;for(var a=new Int32Array(n),s=1,l=0;l<n;l++)a[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);o.expTable=a;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[a[l]]=l;return o.logTable=c,o.zero=new wc(o,Int32Array.from([0])),o.one=new wc(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new lt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new wc(this,i)},e.prototype.inverse=function(r){if(r===0)throw new yee;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+jt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Wm),qLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qv=(function(t){qLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Hi),GLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),t0=(function(t){GLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Hi),l2=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new wc(n,e),o=new Int32Array(r),a=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=l,l!==0&&(a=!1)}if(!a)for(var c=new wc(n,o),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=d[0],p=d[1],g=this.findErrorLocations(f),x=this.findErrorMagnitudes(p,g),s=0;s<g.length;s++){var y=e.length-1-n.log(g[s]);if(y<0)throw new Qv("Bad error location");e[y]=Li.addOrSubtract(e[y],x[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=this.field,a=e,s=r,l=o.getZero(),c=o.getOne();s.getDegree()>=(n/2|0);){var d=a,f=l;if(a=s,l=c,a.isZero())throw new Qv("r_{i-1} was zero");s=d;for(var p=o.getZero(),g=a.getCoefficient(a.getDegree()),x=o.inverse(g);s.getDegree()>=a.getDegree()&&!s.isZero();){var y=s.getDegree()-a.getDegree(),b=o.multiply(s.getCoefficient(s.getDegree()),x);p=p.addOrSubtract(o.buildMonomial(y,b)),s=s.addOrSubtract(a.multiplyByMonomial(y,b))}if(c=p.multiply(l).addOrSubtract(f),s.getDegree()>=a.getDegree())throw new t0("Division algorithm failed to reduce polynomial?")}var _=c.getCoefficient(0);if(_===0)throw new Qv("sigmaTilde(0) was zero");var C=o.inverse(_),E=c.multiplyScalar(C),P=s.multiplyScalar(C);return[E,P]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,o=this.field,a=1;a<o.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=o.inverse(a),i++);if(i!==r)throw new Qv("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),o=this.field,a=0;a<n;a++){for(var s=o.inverse(r[a]),l=1,c=0;c<n;c++)if(a!==c){var d=o.multiply(r[c],s),f=(d&1)===0?d|1:d&-2;l=o.multiply(l,f)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(l)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],s))}return i},t})(),Un;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Un||(Un={}));var F$=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new s2(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Un.UPPER,i=Un.UPPER,o="",a=0;a<r;)if(i===Un.BINARY){if(r-a<5)break;var s=t.readCode(e,a,5);if(a+=5,s===0){if(r-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var l=0;l<s;l++){if(r-a<8){a=r;break}var c=t.readCode(e,a,8);o+=Ut.castAsNonUtf8Char(c),a+=8}i=n}else{var d=i===Un.DIGIT?4:5;if(r-a<d)break;var c=t.readCode(e,a,d);a+=d;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(o+=f,i=n)}return o},t.getTable=function(e){switch(e){case"L":return Un.LOWER;case"P":return Un.PUNCT;case"M":return Un.MIXED;case"D":return Un.DIGIT;case"B":return Un.BINARY;case"U":default:return Un.UPPER}},t.getCharacter=function(e,r){switch(e){case Un.UPPER:return t.UPPER_TABLE[r];case Un.LOWER:return t.LOWER_TABLE[r];case Un.MIXED:return t.MIXED_TABLE[r];case Un.PUNCT:return t.PUNCT_TABLE[r];case Un.DIGIT:return t.DIGIT_TABLE[r];default:throw new t0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Li.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Li.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Li.AZTEC_DATA_10):(n=12,r=Li.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new Me;for(var a=e.length%n,s=new Int32Array(o),l=0;l<o;l++,a+=n)s[l]=t.readCode(e,a,n);try{var c=new l2(r);c.decode(s,o-i)}catch(b){throw new Me(b)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var p=s[l];if(p===0||p===d)throw new Me;(p===1||p===d-1)&&f++}for(var g=new Array(i*n-f),x=0,l=0;l<i;l++){var p=s[l];if(p===1||p===d-1)g.fill(p>1,x,x+n-1),x+=n-1;else for(var y=n-1;y>=0;--y)g[x++]=(p&1<<y)!==0}return g},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<o.length;s++)o[s]=s;else for(var l=i+1+2*jt.truncDivision(jt.truncDivision(i,2)-1,15),c=i/2,d=jt.truncDivision(l,2),s=0;s<c;s++){var f=s+jt.truncDivision(s,15);o[c-s-1]=d-f-1,o[c+s]=d+f+1}for(var s=0,p=0;s<n;s++){for(var g=(n-s)*4+(r?9:12),x=s*2,y=i-1-x,b=0;b<g;b++)for(var _=b*2,C=0;C<2;C++)a[p+_+C]=e.get(o[x+C],o[x+b]),a[p+2*g+_+C]=e.get(o[x+b],o[y-C]),a[p+4*g+_+C]=e.get(o[y-C],o[y-b]),a[p+6*g+_+C]=e.get(o[y-b],o[x+C]);p+=g*8}return a},t.readCode=function(e,r,n){for(var i=0,o=r;o<r+n;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),qt=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var o=e-n,a=r-i;return Math.sqrt(o*o+a*a)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var o=e[n];r+=o}return r},t})(),nP=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ze=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*nP.floatToIntBits(this.x)+nP.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,a,s;if(n>=r&&n>=i?(a=e[0],o=e[1],s=e[2]):i>=n&&i>=r?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var l=o;o=s,s=l}e[0]=o,e[1]=a,e[2]=s},t.distance=function(e,r){return qt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,o=r.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},t})(),GO=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),KLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),YLe=(function(t){KLe(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(GO),iP=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new be}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,l=!1,c=!1,d=!1,f=!1,p=this.width,g=this.height;a;){a=!1;for(var x=!0;(x||!l)&&r<p;)x=this.containsBlackPoint(n,i,r,!1),x?(r++,a=!0,l=!0):l||r++;if(r>=p){o=!0;break}for(var y=!0;(y||!c)&&i<g;)y=this.containsBlackPoint(e,r,i,!0),y?(i++,a=!0,c=!0):c||i++;if(i>=g){o=!0;break}for(var b=!0;(b||!d)&&e>=0;)b=this.containsBlackPoint(n,i,e,!1),b?(e--,a=!0,d=!0):d||e--;if(e<0){o=!0;break}for(var _=!0;(_||!f)&&n>=0;)_=this.containsBlackPoint(e,r,n,!0),_?(n--,a=!0,f=!0):f||n--;if(n<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var C=r-e,E=null,P=1;E===null&&P<C;P++)E=this.getBlackPointOnSegment(e,i-P,e+P,i);if(E==null)throw new be;for(var I=null,P=1;I===null&&P<C;P++)I=this.getBlackPointOnSegment(e,n+P,e+P,n);if(I==null)throw new be;for(var T=null,P=1;T===null&&P<C;P++)T=this.getBlackPointOnSegment(r,n+P,r-P,n);if(T==null)throw new be;for(var N=null,P=1;N===null&&P<C;P++)N=this.getBlackPointOnSegment(r,i-P,r-P,i);if(N==null)throw new be;return this.centerEdges(N,E,T,I)}else throw new be},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var o=qt.round(qt.distance(e,r,n,i)),a=(n-e)/o,s=(i-r)/o,l=this.image,c=0;c<o;c++){var d=qt.round(e+c*a),f=qt.round(r+c*s);if(l.get(d,f))return new Ze(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),a=e.getY(),s=r.getX(),l=r.getY(),c=n.getX(),d=n.getY(),f=i.getX(),p=i.getY(),g=t.CORR;return o<this.width/2?[new Ze(f-g,p+g),new Ze(s+g,l+g),new Ze(c-g,d-g),new Ze(o+g,a-g)]:[new Ze(f+g,p+g),new Ze(s+g,l-g),new Ze(c-g,d+g),new Ze(o-g,a-g)]},t.prototype.containsBlackPoint=function(e,r,n,i){var o=this.image;if(i){for(var a=e;a<=r;a++)if(o.get(a,n))return!0}else for(var s=e;s<=r;s++)if(o.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),L$=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<r.length&&o;a+=2){var s=Math.floor(r[a]),l=Math.floor(r[a+1]);if(s<-1||s>n||l<-1||l>i)throw new be;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),l===-1?(r[a+1]=0,o=!0):l===i&&(r[a+1]=i-1,o=!0)}o=!0;for(var a=r.length-2;a>=0&&o;a-=2){var s=Math.floor(r[a]),l=Math.floor(r[a+1]);if(s<-1||s>n||l<-1||l>i)throw new be;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),l===-1?(r[a+1]=0,o=!0):l===i&&(r[a+1]=i-1,o=!0)}},t})(),vee=(function(){function t(e,r,n,i,o,a,s,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,a,s,l,c,d,f,p,g,x,y,b){var _=t.quadrilateralToSquare(e,r,n,i,o,a,s,l),C=t.squareToQuadrilateral(c,d,f,p,g,x,y,b);return C.times(_)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,p=0;p<r;p+=2){var g=e[p],x=e[p+1],y=o*g+l*x+f;e[p]=(n*g+a*x+c)/y,e[p+1]=(i*g+s*x+d)/y}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,p=e.length,g=0;g<p;g++){var x=e[g],y=r[g],b=o*x+l*y+f;e[g]=(n*x+a*y+c)/b,r[g]=(i*x+s*y+d)/b}},t.squareToQuadrilateral=function(e,r,n,i,o,a,s,l){var c=e-n+o-s,d=r-i+a-l;if(c===0&&d===0)return new t(n-e,o-n,e,i-r,a-i,r,0,0,1);var f=n-o,p=s-o,g=i-a,x=l-a,y=f*x-p*g,b=(c*x-p*d)/y,_=(f*d-c*g)/y;return new t(n-e+b*n,s-e+_*s,e,i-r+b*i,l-r+_*l,r,b,_,1)},t.quadrilateralToSquare=function(e,r,n,i,o,a,s,l){return t.squareToQuadrilateral(e,r,n,i,o,a,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),XLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),QLe=(function(t){XLe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,o,a,s,l,c,d,f,p,g,x,y,b,_,C,E,P){var I=vee.quadrilateralToQuadrilateral(o,a,s,l,c,d,f,p,g,x,y,b,_,C,E,P);return this.sampleGridWithTransform(r,n,i,I)},e.prototype.sampleGridWithTransform=function(r,n,i,o){if(n<=0||i<=0)throw new be;for(var a=new ys(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,d=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=d;o.transformPoints(s),L$.checkAndNudgePoints(r,s);try{for(var f=0;f<c;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&a.set(f/2,l)}catch{throw new be}}return a},e})(L$),KO=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new QLe,t})(),Oi=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Ze(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),ZLe=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new YLe(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new be;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,o=0;o<4;o++){var a=n[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,a,s){var l=(o>>r-2<<1)+(o&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(jt.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new be},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var o=n-i,a=new Int32Array(n),s=n-1;s>=0;--s)a[s]=e&15,e>>=4;try{var l=new l2(Li.AZTEC_PARAM);l.decode(a,o)}catch{throw new be}for(var c=0,s=0;s<i;s++)c=(c<<4)+a[s];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,a,1,-1),l=this.getFirstDifferent(n,a,1,1),c=this.getFirstDifferent(i,a,-1,1),d=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,d))break}r=s,n=l,i=c,o=d,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new be;this.compact=this.nbCenterLayers===5;var p=new Ze(r.getX()+.5,r.getY()-.5),g=new Ze(n.getX()+.5,n.getY()+.5),x=new Ze(i.getX()-.5,i.getY()+.5),y=new Ze(o.getX()-.5,o.getY()-.5);return this.expandSquare([p,g,x,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var o=new iP(this.image).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Oi(a+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Oi(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Oi(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Oi(a-7,s-7),!1,-1,-1).toResultPoint()}var l=qt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=qt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var o=new iP(this.image,15,l,c).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new Oi(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Oi(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Oi(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Oi(l-7,c-7),!1,-1,-1).toResultPoint()}return l=qt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=qt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Oi(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,o){var a=KO.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,o=this.distanceResultPoint(e,r),a=o/n,s=e.getX(),l=e.getY(),c=a*(r.getX()-e.getX())/o,d=a*(r.getY()-e.getY())/o,f=0;f<n;f++)this.image.get(qt.round(s+f*c),qt.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var o=3;e=new Oi(e.getX()-o,e.getY()+o),r=new Oi(r.getX()-o,r.getY()-o),n=new Oi(n.getX()+o,n.getY()-o),i=new Oi(i.getX()+o,i.getY()+o);var a=this.getColor(i,e);if(a===0)return!1;var s=this.getColor(e,r);return s!==a||(s=this.getColor(r,n),s!==a)?!1:(s=this.getColor(n,i),s===a)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,a=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=i,l+=o,this.image.get(qt.round(s),qt.round(l))!==c&&a++;var p=a/n;return p>.1&&p<.9?0:p<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var o=e.getX()+n,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n,a+=i;for(o-=n,a-=i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===r;)a+=i;return a-=i,new Oi(o,a)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Ze(s+i*o,l+i*a),d=new Ze(s-i*o,l-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Ze(s+i*o,l+i*a),p=new Ze(s-i*o,l-i*a),g=[c,f,d,p];return g},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=qt.round(e.getX()),n=qt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return qt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return qt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(jt.truncDivision(this.nbLayers-4,8)+1)+15},t})(),oP=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new ZLe(e.getBlackMatrix()),o=null,a=null;try{var s=i.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new F$().decode(s)}catch(f){n=f}if(a==null)try{var s=i.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new F$().decode(s)}catch(f){throw n??f}var l=new ui(a.getText(),a.getRawBytes(),a.getNumBits(),o,nt.AZTEC,Ar.currentTimeMillis()),c=a.getByteSegments();c!=null&&l.putMetadata(Yn.BYTE_SEGMENTS,c);var d=a.getECLevel();return d!=null&&l.putMetadata(Yn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Vr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,o,a){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),JLe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){JLe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new oP,r)||this}return e})(Cp);var wn=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Vr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,r),a=o.getResultMetadata(),s=270;a!==null&&a.get(Yn.ORIENTATION)===!0&&(s=s+a.get(Yn.ORIENTATION)%360),o.putMetadata(Yn.ORIENTATION,s);var l=o.getResultPoints();if(l!==null)for(var c=i.getHeight(),d=0;d<l.length;d++)l[d]=new Ze(c-l[d].getY()-1,l[d].getX());return o}else throw new be}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),o=new Dn(n),a=r&&r.get(Vr.TRY_HARDER)===!0,s=Math.max(1,i>>(a?8:5)),l;a?l=i:l=15;for(var c=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),p=(d&1)===0,g=c+s*(p?f:-f);if(g<0||g>=i)break;try{o=e.getBlackRow(g,o)}catch{continue}for(var x=function(C){if(C===1&&(o.reverse(),r&&r.get(Vr.NEED_RESULT_POINT_CALLBACK)===!0)){var E=new Map;r.forEach(function(T,N){return E.set(N,T)}),E.delete(Vr.NEED_RESULT_POINT_CALLBACK),r=E}try{var P=y.decodeRow(g,o,r);if(C===1){P.putMetadata(Yn.ORIENTATION,180);var I=P.getResultPoints();I!==null&&(I[0]=new Ze(n-I[0].getX()-1,I[0].getY()),I[1]=new Ze(n-I[1].getX()-1,I[1].getY()))}return{value:P}}catch{}},y=this,b=0;b<2;b++){var _=x(b);if(typeof _=="object")return _.value}}throw new be},t.recordPattern=function(e,r,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var a=e.getSize();if(r>=a)throw new be;for(var s=!e.get(r),l=0,c=r;c<a;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===a))throw new be},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new be;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return Number.POSITIVE_INFINITY;var l=o/a;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],p=r[d]*l,g=f>p?f-p:p-f;if(g>n)return Number.POSITIVE_INFINITY;c+=g}return c/o},t})(),e7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),B$=(function(t){e7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,d=i;d<n;d++)if(r.get(d)!==l)a[o]++;else{if(o===c-1){for(var f=e.MAX_AVG_VARIANCE,p=-1,g=e.CODE_START_A;g<=e.CODE_START_C;g++){var x=wn.patternMatchVariance(a,e.CODE_PATTERNS[g],e.MAX_INDIVIDUAL_VARIANCE);x<f&&(f=x,p=g)}if(p>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,p]);s+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,l=!l}throw new be},e.decodeCode=function(r,n,i){wn.recordPattern(r,i,n);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,a=s)}if(a>=0)return a;throw new be},e.prototype.decodeRow=function(r,n,i){var o=i&&i.get(Vr.ASSUME_GS1)===!0,a=e.findStartPattern(n),s=a[2],l=0,c=new Uint8Array(20);c[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new Me}for(var f=!1,p=!1,g="",x=a[0],y=a[1],b=Int32Array.from([0,0,0,0,0,0]),_=0,C=0,E=s,P=0,I=!0,T=!1,N=!1;!f;){var S=p;switch(p=!1,_=C,C=e.decodeCode(n,b,y),c[l++]=C,C!==e.CODE_STOP&&(I=!0),C!==e.CODE_STOP&&(P++,E+=P*C),x=y,y+=b.reduce(function(J,H){return J+H},0),C){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Me}switch(d){case e.CODE_CODE_A:if(C<64)N===T?g+=String.fromCharCode(32+C):g+=String.fromCharCode(32+C+128),N=!1;else if(C<96)N===T?g+=String.fromCharCode(C-64):g+=String.fromCharCode(C+64),N=!1;else switch(C!==e.CODE_STOP&&(I=!1),C){case e.CODE_FNC_1:o&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!T&&N?(T=!0,N=!1):T&&N?(T=!1,N=!1):N=!0;break;case e.CODE_SHIFT:p=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(C<96)N===T?g+=String.fromCharCode(32+C):g+=String.fromCharCode(32+C+128),N=!1;else switch(C!==e.CODE_STOP&&(I=!1),C){case e.CODE_FNC_1:o&&(g.length===0?g+="]C1":g+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!T&&N?(T=!0,N=!1):T&&N?(T=!1,N=!1):N=!0;break;case e.CODE_SHIFT:p=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(C<100)C<10&&(g+="0"),g+=C;else switch(C!==e.CODE_STOP&&(I=!1),C){case e.CODE_FNC_1:o&&(g.length===0?g+="]C1":g+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=y-x;if(y=n.getNextUnset(y),!n.isRange(y,Math.min(n.getSize(),y+(y-x)/2),!1))throw new be;if(E-=P*_,E%103!==_)throw new Rn;var B=g.length;if(B===0)throw new be;B>0&&I&&(d===e.CODE_CODE_C?g=g.substring(0,B-2):g=g.substring(0,B-1));for(var M=(a[1]+a[0])/2,L=x+j/2,F=c.length,$=new Uint8Array(F),q=0;q<F;q++)$[q]=c[q];var X=[new Ze(M,r),new Ze(L,r)];return new ui(g,$,0,X,nt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(wn),t7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),UT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V$=(function(t){t7e(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var o,a,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,c),f=n.getNextSet(d[1]),p=n.getSize(),g,x;do{e.recordPattern(n,f,c);var y=e.toNarrowWidePattern(c);if(y<0)throw new be;g=e.patternToChar(y),this.decodeRowResult+=g,x=f;try{for(var b=(o=void 0,UT(c)),_=b.next();!_.done;_=b.next()){var C=_.value;f+=C}}catch(F){o={error:F}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var P=UT(c),I=P.next();!I.done;I=P.next()){var C=I.value;E+=C}}catch(F){s={error:F}}finally{try{I&&!I.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}var T=f-x-E;if(f!==p&&T*2<E)throw new be;if(this.usingCheckDigit){for(var N=this.decodeRowResult.length-1,S=0,j=0;j<N;j++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(N)!==e.ALPHABET_STRING.charAt(S%43))throw new Rn;this.decodeRowResult=this.decodeRowResult.substring(0,N)}if(this.decodeRowResult.length===0)throw new be;var B;this.extendedMode?B=e.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;var M=(d[1]+d[0])/2,L=x+E/2;return new ui(B,null,0,[new Ze(M,r),new Ze(L,r)],nt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),o=r.getNextSet(0),a=0,s=o,l=!1,c=n.length,d=o;d<i;d++)if(r.get(d)!==l)n[a]++;else{if(a===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,l=!l}throw new be},e.toNarrowWidePattern=function(r){var n,i,o=r.length,a=0,s;do{var l=2147483647;try{for(var c=(n=void 0,UT(r)),d=c.next();!d.done;d=c.next()){var f=d.value;f<l&&f>a&&(l=f)}}catch(y){n={error:y}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}a=l,s=0;for(var p=0,g=0,x=0;x<o;x++){var f=r[x];f>a&&(g|=1<<o-1-x,s++,p+=f)}if(s===3){for(var x=0;x<o&&s>0;x++){var f=r[x];if(f>a&&(s--,f*2>=p))return-1}return g}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new be},e.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=r.charAt(o+1),l="\0";switch(a){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Me;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Me;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Me;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Me;break}i+=l,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(wn),r7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$$=(function(t){r7e(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,l,c=this.findAsteriskPattern(n),d=n.getNextSet(c[1]),f=n.getSize(),p=this.counters;p.fill(0),this.decodeRowResult="";var g,x;do{e.recordPattern(n,d,p);var y=this.toPattern(p);if(y<0)throw new be;g=this.patternToChar(y),this.decodeRowResult+=g,x=d;try{for(var b=(o=void 0,zT(p)),_=b.next();!_.done;_=b.next()){var C=_.value;d+=C}}catch(j){o={error:j}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}d=n.getNextSet(d)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var P=zT(p),I=P.next();!I.done;I=P.next()){var C=I.value;E+=C}}catch(j){s={error:j}}finally{try{I&&!I.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new be;if(this.decodeRowResult.length<2)throw new be;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var T=this.decodeExtended(this.decodeRowResult),N=(c[1]+c[0])/2,S=x+E/2;return new ui(T,null,0,[new Ze(N,r),new Ze(S,r)],nt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,a=i,s=!1,l=o.length,c=0,d=i;d<n;d++)if(r.get(d)!==s)o[c]++;else{if(c===l-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([a,d]);a+=o[0]+o[1],o.copyWithin(0,2,2+c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,s=!s}throw new be},e.prototype.toPattern=function(r){var n,i,o=0;try{for(var a=zT(r),s=a.next();!s.done;s=a.next()){var l=s.value;o+=l}}catch(x){n={error:x}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var c=0,d=r.length,f=0;f<d;f++){var p=Math.round(r[f]*9/o);if(p<1||p>4)return-1;if((f&1)===0)for(var g=0;g<p;g++)c=c<<1|1;else c<<=p}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new be},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a>="a"&&a<="d"){if(o>=n-1)throw new Me;var s=r.charAt(o+1),l="\0";switch(a){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Me;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Me;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Me;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Me;break}i+=l,o++}else i+=a}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var o=1,a=0,s=n-1;s>=0;s--)a+=o*e.ALPHABET_STRING.indexOf(r.charAt(s)),++o>i&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[a%47])throw new Rn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(wn),n7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),i7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U$=(function(t){n7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var o,a,s=this.decodeStart(n),l=this.decodeEnd(n),c=new Pt;e.decodeMiddle(n,s[1],l[0],c);var d=c.toString(),f=null;i!=null&&(f=i.get(Vr.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var p=d.length,g=!1,x=0;try{for(var y=i7e(f),b=y.next();!b.done;b=y.next()){var _=b.value;if(p===_){g=!0;break}_>x&&(x=_)}}catch(P){o={error:P}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}if(!g&&p>x&&(g=!0),!g)throw new Me;var C=[new Ze(s[1],r),new Ze(l[0],r)],E=new ui(d,null,0,C,nt.ITF,new Date().getTime());return E},e.decodeMiddle=function(r,n,i,o){var a=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(a.fill(0),s.fill(0),l.fill(0);n<i;){wn.recordPattern(r,n,a);for(var c=0;c<5;c++){var d=2*c;s[c]=a[d],l[c]=a[d+1]}var f=e.decodeDigit(s);o.append(f.toString()),f=this.decodeDigit(l),o.append(f.toString()),a.forEach(function(p){n+=p})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!r.get(o);o--)i--;if(i!==0)throw new be},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new be;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof be&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var o=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-o,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var o=i.length,a=new Int32Array(o),s=r.getSize(),l=!1,c=0,d=n;a.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)a[c]++;else{if(c===o-1){if(wn.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=a[0]+a[1],Ar.arraycopy(a,2,a,0,c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,l=!l}throw new be},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],l=wn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=a):l===n&&(i=-1)}if(i>=0)return i%10;throw new be},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(wn),o7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Kh=(function(t){o7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,o=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,a);var s=i[0];o=i[1];var l=s-(o-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,o){return this.findGuardPattern(r,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,i,o,a){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,d=o.length,f=i,p=n;p<s;p++)if(r.get(p)!==f)a[l]++;else{if(l===d-1){if(wn.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,p]);c+=a[0]+a[1];for(var g=a.slice(2,a.length),x=0;x<l-1;x++)a[x]=g[x];a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,f=!f}throw new be},e.decodeDigit=function(r,n,i,o){this.recordPattern(r,i,n);for(var a=this.MAX_AVG_VARIANCE,s=-1,l=o.length,c=0;c<l;c++){var d=o[c],f=wn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,s=c)}if(s>=0)return s;throw new be},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(wn),a7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s7e=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),l=[new Ze((n[0]+n[1])/2,e),new Ze(o,e)],c=new ui(a,null,0,l,nt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=r[1],c=0,d=0;d<5&&l<s;d++){var f=Kh.decodeDigit(e,a,l,Kh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var p=(i=void 0,a7e(a)),g=p.next();!g.done;g=p.next()){var x=g.value;l+=x}}catch(b){i={error:b}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new be;var y=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==y)throw new be;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new be},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Yn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return r+i+"."+a},t})(),l7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c7e=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),l=[new Ze((n[0]+n[1])/2,e),new Ze(o,e)],c=new ui(a,null,0,l,nt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=r[1],c=0,d=0;d<2&&l<s;d++){var f=Kh.decodeDigit(e,a,l,Kh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var p=(i=void 0,l7e(a)),g=p.next();!g.done;g=p.next()){var x=g.value;l+=x}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new be;if(parseInt(n.toString())%4!==c)throw new be;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Yn.ISSUE_NUMBER,parseInt(e)]])},t})(),u7e=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=Kh.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new s7e;return o.decodeRow(e,r,i)}catch{var a=new c7e;return a.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),d7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),gn=(function(t){d7e(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,i){var o=e.findStartGuardPattern(n),a=i==null?null:i.get(Vr.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new Ze((o[0]+o[1])/2,r);a.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,o,this.decodeRowStringBuffer),c=l.rowOffset,d=l.resultString;if(a!=null){var f=new Ze(c,r);a.foundPossibleResultPoint(f)}var p=e.decodeEnd(n,c);if(a!=null){var g=new Ze((p[0]+p[1])/2,r);a.foundPossibleResultPoint(g)}var x=p[1],y=x+(x-p[0]);if(y>=n.getSize()||!n.isRange(x,y,!1))throw new be;var b=d.toString();if(b.length<8)throw new Me;if(!e.checkChecksum(b))throw new Rn;var _=(o[1]+o[0])/2,C=(p[1]+p[0])/2,E=this.getBarcodeFormat(),P=[new Ze(_,r),new Ze(C,r)],I=new ui(b,null,0,P,E,new Date().getTime()),T=0;try{var N=u7e.decodeRow(r,n,p[1]);I.putMetadata(Yn.UPC_EAN_EXTENSION,N.getText()),I.putAllMetadata(N.getResultMetadata()),I.addResultPoints(N.getResultPoints()),T=N.getText().length}catch{}var S=i==null?null:i.get(Vr.ALLOWED_EAN_EXTENSIONS);if(S!=null){var j=!1;for(var B in S)if(T.toString()===B){j=!0;break}if(!j)throw new be}return E===nt.EAN_13||nt.UPC_A,I},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new Me;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Kh),f7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),z$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aP=(function(t){f7e(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],p=0,g=0;g<6&&f<d;g++){var x=gn.decodeDigit(r,c,f,gn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);try{for(var y=(o=void 0,z$(c)),b=y.next();!b.done;b=y.next()){var _=b.value;f+=_}}catch(I){o={error:I}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}x>=10&&(p|=1<<5-g)}i=e.determineFirstDigit(i,p);var C=gn.findGuardPattern(r,f,!0,gn.MIDDLE_PATTERN,new Int32Array(gn.MIDDLE_PATTERN.length).fill(0));f=C[1];for(var g=0;g<6&&f<d;g++){var x=gn.decodeDigit(r,c,f,gn.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var E=(s=void 0,z$(c)),P=E.next();!P.done;P=E.next()){var _=P.value;f+=_}}catch(N){s={error:N}}finally{try{P&&!P.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return nt.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new be},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(gn),h7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),W$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H$=(function(t){h7e(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],p=0;p<4&&f<d;p++){var g=gn.decodeDigit(r,c,f,gn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var x=(o=void 0,W$(c)),y=x.next();!y.done;y=x.next()){var b=y.value;f+=b}}catch(P){o={error:P}}finally{try{y&&!y.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}}var _=gn.findGuardPattern(r,f,!0,gn.MIDDLE_PATTERN,new Int32Array(gn.MIDDLE_PATTERN.length).fill(0));f=_[1];for(var p=0;p<4&&f<d;p++){var g=gn.decodeDigit(r,c,f,gn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var C=(s=void 0,W$(c)),E=C.next();!E.done;E=C.next()){var b=E.value;f+=b}}catch(T){s={error:T}}finally{try{E&&!E.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return nt.EAN_8},e})(gn),p7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),q$=(function(t){p7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new aP,r}return e.prototype.getBarcodeFormat=function(){return nt.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new ui(n.substring(1),null,null,r.getResultPoints(),nt.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new be},e.prototype.reset=function(){this.ean13Reader.reset()},e})(gn),m7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),g7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G$=(function(t){m7e(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s=this.decodeMiddleCounters.map(function(b){return b});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),c=n[1],d=0,f=0;f<6&&c<l;f++){var p=e.decodeDigit(r,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);try{for(var g=(o=void 0,g7e(s)),x=g.next();!x.done;x=g.next()){var y=x.value;c+=y}}catch(b){o={error:b}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}p>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Pt(i),d),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return gn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){r.insert(0,"0"+i),r.append("0"+o);return}throw be.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return nt.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new Pt;i.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(gn),y7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),K$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WT=(function(t){y7e(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Vr.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(nt.EAN_13)>-1&&o.push(new aP),i.indexOf(nt.UPC_A)>-1&&o.push(new q$),i.indexOf(nt.EAN_8)>-1&&o.push(new H$),i.indexOf(nt.UPC_E)>-1&&o.push(new G$)),o.length===0&&(o.push(new aP),o.push(new q$),o.push(new H$),o.push(new G$)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,i){var o,a;try{for(var s=K$(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var d=c.decodeRow(r,n,i),f=d.getBarcodeFormat()===nt.EAN_13&&d.getText().charAt(0)==="0",p=i==null?null:i.get(Vr.POSSIBLE_FORMATS),g=p==null||p.includes(nt.UPC_A);if(f&&g){var x=d.getRawBytes(),y=new ui(d.getText().substring(1),x,x?x.length:null,d.getResultPoints(),nt.UPC_A);return y.putAllMetadata(d.getResultMetadata()),y}return d}catch{}}}catch(b){o={error:b}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new be},e.prototype.reset=function(){var r,n;try{for(var i=K$(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;a.reset()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(wn),v7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),x7e=(function(t){v7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var o=this.getValidRowData(n);if(!o)throw new be;var a=this.codaBarDecodeRow(o.row);if(!a)throw new be;return new ui(a,null,0,[new Ze(o.left,r),new Ze(o.right,r)],nt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var o=n.lastIndexOf(!0);if(o<=i)return null;n=n.slice(i,o+1);for(var a=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],a.push(l),l=1);return a.push(l),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),a=o.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[a])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e})(wn),b7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),w7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pu=(function(t){b7e(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(wn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new be},e.count=function(r){return qt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]>o&&(o=n[a],i=a);r[i]++},e.decrement=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]<o&&(o=n[a],i=a);r[i]--},e.isFinderPattern=function(r){var n,i,o=r[0]+r[1],a=o+r[2]+r[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=w7e(r),f=d.next();!f.done;f=d.next()){var p=f.value;p>c&&(c=p),p<l&&(l=p)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(wn),db=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),xee=(function(){function t(e,r,n,i,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ze(n,o)),this.resultPoints.push(new Ze(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),_7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$f=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,a=0;try{for(var s=_7e(e),l=s.next();!l.done;l=s.next()){var c=l.value;a+=c}}catch(C){i={error:C}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var d=0,f=0,p=e.length,g=0;g<p-1;g++){var x=void 0;for(x=1,f|=1<<g;x<e[g];x++,f&=~(1<<g)){var y=t.combins(a-x-1,p-g-2);if(n&&f===0&&a-x-(p-g-1)>=p-g-1&&(y-=t.combins(a-x-(p-g),p-g-2)),p-g-1>1){for(var b=0,_=a-x-(p-g-2);_>r;_--)b+=t.combins(a-x-_-1,p-g-3);y-=b*(p-1-g)}else a-x>r&&y--;d+=y}a-=x}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var o=1,a=1,s=e;s>n;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},t})(),A7e=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Dn(n),o=0,a=e[0],s=a.getRightChar().getValue(),l=11;l>=0;--l)(s&1<<l)!==0&&i.set(o),o++;for(var l=1;l<e.length;++l){for(var c=e[l],d=c.getLeftChar().getValue(),f=11;f>=0;--f)(d&1<<f)!==0&&i.set(o),o++;if(c.getRightChar()!==null)for(var p=c.getRightChar().getValue(),f=11;f>=0;--f)(p&1<<f)!==0&&i.set(o),o++}return i},t})(),Eu=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),YO=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),C7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ia=(function(t){C7e(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(YO),E7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Su=(function(t){E7e(e,t);function e(r,n,i){var o=t.call(this,r)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(YO),S7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wf=(function(t){S7e(e,t);function e(r,n,i){var o=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Me;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(YO),Zv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T7e=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,o,a,s,l,c;if(!e)return null;if(e.length<2)throw new be;var d=e.substring(0,2);try{for(var f=Zv(t.TWO_DIGIT_DATA_LENGTH),p=f.next();!p.done;p=f.next()){var g=p.value;if(g[0]===d)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,g[2],e):t.processFixedAI(2,g[1],e)}}catch(T){r={error:T}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new be;var x=e.substring(0,3);try{for(var y=Zv(t.THREE_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var g=b.value;if(g[0]===x)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,g[2],e):t.processFixedAI(3,g[1],e)}}catch(T){i={error:T}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var _=Zv(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),C=_.next();!C.done;C=_.next()){var g=C.value;if(g[0]===x)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(T){a={error:T}}finally{try{C&&!C.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(e.length<4)throw new be;var E=e.substring(0,4);try{for(var P=Zv(t.FOUR_DIGIT_DATA_LENGTH),I=P.next();!I.done;I=P.next()){var g=I.value;if(g[0]===E)return g[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,g[2],e):t.processFixedAI(4,g[1],e)}}catch(T){l={error:T}}finally{try{I&&!I.done&&(c=P.return)&&c.call(P)}finally{if(l)throw l.error}}throw new be},t.processFixedAI=function(e,r,n){if(n.length<e)throw new be;var i=n.substring(0,e);if(n.length<e+r)throw new be;var o=n.substring(e,e+r),a=n.substring(e+r),s="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(a);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var a=n.substring(e,o),s=n.substring(o),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),C1=(function(){function t(e){this.buffer=new Pt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var o=this.decodeGeneralPurposeField(n,i),a=T7e.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new wf(this.information.getSize(),wf.FNC1,wf.FNC1):new wf(this.information.getSize(),r-1,wf.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new wf(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,o=0;o<n;++o)e.get(r+o)&&(i|=1<<n-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Su(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Su(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Su(this.current.getPosition(),this.buffer.toString()):r=new Su(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Eu(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Su(this.current.getPosition(),this.buffer.toString());return new Eu(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Eu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Su(this.current.getPosition(),this.buffer.toString());return new Eu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Eu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Su(this.current.getPosition(),this.buffer.toString());return new Eu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Eu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ia(e+5,ia.FNC1);if(r>=5&&r<15)return new ia(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new ia(e+7,""+(n+1));if(n>=90&&n<116)return new ia(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Me}return new ia(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ia(e+5,ia.FNC1);if(r>=5&&r<15)return new ia(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new ia(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new t0("Decoding invalid alphanumeric value: "+n)}return new ia(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),bee=(function(){function t(e){this.information=e,this.generalDecoder=new C1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),N7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fa=(function(t){N7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,o=0;o<13;o++){var a=r.charAt(o+n).charCodeAt(0)-48;i+=(o&1)===0?3*a:a}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(bee),I7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),k7e=(function(t){I7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Pt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(fa),P7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),O7e=(function(t){P7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Pt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(bee),j7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),E1=(function(t){j7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,o);for(var a=this.checkWeight(o),s=1e5,l=0;l<5;++l)a/s===0&&r.append("0"),s/=10;r.append(a)},e})(fa),R7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wee=(function(t){R7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+E1.GTIN_SIZE+e.WEIGHT_SIZE)throw new be;var r=new Pt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+E1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(E1),D7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),M7e=(function(t){D7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(wee),F7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),L7e=(function(t){F7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(wee),B7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),V7e=(function(t){B7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+fa.GTIN_SIZE)throw new be;var r=new Pt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+fa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(fa),$7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),U7e=(function(t){$7e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+fa.GTIN_SIZE)throw new be;var r=new Pt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+fa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+fa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(fa),z7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tc=(function(t){z7e(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new be;var r=new Pt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=i%32;i/=32;var a=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(E1);function W7e(t){try{if(t.get(1))return new k7e(t);if(!t.get(2))return new O7e(t);var e=C1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new M7e(t);case 5:return new L7e(t)}var r=C1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new V7e(t);case 13:return new U7e(t)}var n=C1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new tc(t,"310","11");case 57:return new tc(t,"320","11");case 58:return new tc(t,"310","13");case 59:return new tc(t,"320","13");case 60:return new tc(t,"310","15");case 61:return new tc(t,"320","15");case 62:return new tc(t,"310","17");case 63:return new tc(t,"320","17")}}catch(i){throw console.log(i),new t0("unknown decoder: "+t)}}var Y$=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),H7e=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,o){r.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),q7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),rc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G7e=(function(t){q7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof be){if(!this.pairs.length)throw new be;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new be},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,o,a=n;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var l=(i=void 0,rc(r)),c=l.next();!c.done;c=l.next()){var d=c.value;this.pairs.push(d.getPairs())}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,a+1)}catch(p){console.log(p)}}}throw new be},e.isValidSequence=function(r){var n,i;try{for(var o=rc(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(r.length>s.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new H7e(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,o,a,s,l,c;try{for(var d=rc(n),f=d.next();!f.done;f=d.next()){var p=f.value;if(p.getPairs().length!==r.length){var g=!0;try{for(var x=(a=void 0,rc(p.getPairs())),y=x.next();!y.done;y=x.next()){var b=y.value,_=!1;try{for(var C=(l=void 0,rc(r)),E=C.next();!E.done;E=C.next()){var P=E.value;if(Y$.equals(b,P)){_=!0;break}}}catch(I){l={error:I}}finally{try{E&&!E.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}_||(g=!1)}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}}}}catch(I){i={error:I}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,o,a,s,l,c;try{for(var d=rc(n),f=d.next();!f.done;f=d.next()){var p=f.value,g=!0;try{for(var x=(a=void 0,rc(r)),y=x.next();!y.done;y=x.next()){var b=y.value,_=!1;try{for(var C=(l=void 0,rc(p.getPairs())),E=C.next();!E.done;E=C.next()){var P=E.value;if(b.equals(P)){_=!0;break}}}catch(I){l={error:I}}finally{try{E&&!E.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}if(!_){g=!1;break}}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}if(g)return!0}}catch(I){i={error:I}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=A7e.buildBitArray(r),i=W7e(n),o=i.parseInformation(),a=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[a[0],a[1],s[0],s[1]];return new ui(o,null,null,l,nt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);o+=l.getLeftChar().getChecksumPortion(),a++;var c=l.getRightChar();c!=null&&(o+=c.getChecksumPortion(),a++)}o%=211;var d=211*(a-4)+o;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var o=n.length%2===0;this.startFromEven&&(o=!o);var a,s=!0,l=-1;do this.findNextPair(r,n,l),a=this.parseFoundFinderPattern(r,i,o),a===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(r,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new be;var d;try{d=this.decodeDataCharacter(r,a,o,!1)}catch(f){d=null,console.log(f)}return new Y$(c,d,a,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var d=!1;s<a&&(d=!r.get(s),!!d);)s++;for(var f=0,p=s,g=s;g<a;g++)if(r.get(g)!==d)o[f]++;else{if(f===3){if(c&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=g;return}c&&e.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,d=!d}throw new be},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var o=r[i];r[i]=r[n-i-1],r[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,i){var o,a,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,o=this.startEnd[0]-l,a=l,s=this.startEnd[1]}else a=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var c=this.getDecodeFinderCounters();Ar.arraycopy(c,0,c,1,c.length-1),c[0]=o;var d;try{d=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new xee(d,[a,s],a,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],a);else{e.recordPattern(r,n.getStartEnd()[1],a);for(var l=0,c=a.length-1;l<c;l++,c--){var d=a[l];a[l]=a[c],a[c]=d}}var f=17,p=qt.sum(new Int32Array(a))/f,g=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(p-g)/g>.3)throw new be;for(var x=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var C=1*a[l]/p,E=C+.5;if(E<1){if(C<.3)throw new be;E=1}else if(E>8){if(C>8.7)throw new be;E=8}var P=l/2;(l&1)===0?(x[P]=E,b[P]=C-E):(y[P]=E,_[P]=C-E)}this.adjustOddEvenCounts(f);for(var I=4*n.getValue()+(i?0:2)+(o?0:1)-1,T=0,N=0,l=x.length-1;l>=0;l--){if(e.isNotA1left(n,i,o)){var S=e.WEIGHTS[I][2*l];N+=x[l]*S}T+=x[l]}for(var j=0,l=y.length-1;l>=0;l--)if(e.isNotA1left(n,i,o)){var S=e.WEIGHTS[I][2*l+1];j+=y[l]*S}var B=N+j;if((T&1)!==0||T>13||T<4)throw new be;var M=(13-T)/2,L=e.SYMBOL_WIDEST[M],F=9-L,$=$f.getRSSvalue(x,L,!0),q=$f.getRSSvalue(y,F,!1),X=e.EVEN_TOTAL_SUBSET[M],J=e.GSUM[M],H=$*X+q+J;return new db(H,B)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=qt.sum(new Int32Array(this.getOddCounts())),i=qt.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-r,d=(n&1)===1,f=(i&1)===0;if(c===1)if(d){if(f)throw new be;a=!0}else{if(!f)throw new be;l=!0}else if(c===-1)if(d){if(f)throw new be;o=!0}else{if(!f)throw new be;s=!0}else if(c===0){if(d){if(!f)throw new be;n<i?(o=!0,l=!0):(a=!0,s=!0)}else if(f)throw new be}else throw new be;if(o){if(a)throw new be;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new be;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Pu),K7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Y7e=(function(t){K7e(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(db),X7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),HT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X$=(function(t){X7e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=HT(this.possibleLeftPairs),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.getCount()>1)try{for(var x=(s=void 0,HT(this.possibleRightPairs)),y=x.next();!y.done;y=x.next()){var b=y.value;if(b.getCount()>1&&e.checkChecksum(g,b))return e.constructResult(g,b)}}catch(_){s={error:_}}finally{try{y&&!y.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}throw new be},e.addOrTally=function(r,n){var i,o;if(n!=null){var a=!1;try{for(var s=HT(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),a=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),o=new String(i).toString(),a=new Pt,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var l=0,s=0;s<13;s++){var c=a.charAt(s).charCodeAt(0)-48;l+=(s&1)===0?3*c:c}l=10-l%10,l===10&&(l=0),a.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new ui(a.toString(),null,0,[d[0],d[1],f[0],f[1]],nt.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(r,n,i,o){try{var a=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,a),l=o==null?null:o.get(Vr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(a[0]+a[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new Ze(c,i))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new Y7e(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)wn.recordPatternInReverse(r,n.getStartEnd()[0],o);else{wn.recordPattern(r,n.getStartEnd()[1]+1,o);for(var s=0,l=o.length-1;s<l;s++,l--){var c=o[s];o[s]=o[l],o[l]=c}}for(var d=i?16:15,f=qt.sum(new Int32Array(o))/d,p=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var b=o[s]/f,_=Math.floor(b+.5);_<1?_=1:_>8&&(_=8);var C=Math.floor(s/2);(s&1)===0?(p[C]=_,x[C]=b-_):(g[C]=_,y[C]=b-_)}this.adjustOddEvenCounts(i,d);for(var E=0,P=0,s=p.length-1;s>=0;s--)P*=9,P+=p[s],E+=p[s];for(var I=0,T=0,s=g.length-1;s>=0;s--)I*=9,I+=g[s],T+=g[s];var N=P+3*I;if(i){if((E&1)!==0||E>12||E<4)throw new be;var S=(12-E)/2,j=e.OUTSIDE_ODD_WIDEST[S],B=9-j,M=$f.getRSSvalue(p,j,!1),L=$f.getRSSvalue(g,B,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],$=e.OUTSIDE_GSUM[S];return new db(M*F+L+$,N)}else{if((T&1)!==0||T>10||T<4)throw new be;var S=(10-T)/2,j=e.INSIDE_ODD_WIDEST[S],B=9-j,M=$f.getRSSvalue(p,j,!0),L=$f.getRSSvalue(g,B,!1),q=e.INSIDE_ODD_TOTAL_SUBSET[S],$=e.INSIDE_GSUM[S];return new db(L*q+M+$,N)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=r.getSize(),a=!1,s=0;s<o&&(a=!r.get(s),n!==a);)s++;for(var l=0,c=s,d=s;d<o;d++)if(r.get(d)!==a)i[l]++;else{if(l===3){if(Pu.isFinderPattern(i))return[c,d];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,a=!a}throw new be},e.prototype.parseFoundFinderPattern=function(r,n,i,o){for(var a=r.get(o[0]),s=o[0]-1;s>=0&&a!==r.get(s);)s--;s++;var l=o[0]-s,c=this.getDecodeFinderCounters(),d=new Int32Array(c.length);Ar.arraycopy(c,0,d,1,c.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),p=s,g=o[1];return i&&(p=r.getSize()-1-p,g=r.getSize()-1-g),new xee(f,[s,o[1]],p,g,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=qt.sum(new Int32Array(this.getOddCounts())),o=qt.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,l=!1,c=!1;r?(i>12?s=!0:i<4&&(a=!0),o>12?c=!0:o<4&&(l=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?c=!0:o<4&&(l=!0));var d=i+o-n,f=(i&1)===(r?1:0),p=(o&1)===1;if(d===1)if(f){if(p)throw new be;s=!0}else{if(!p)throw new be;c=!0}else if(d===-1)if(f){if(p)throw new be;a=!0}else{if(!p)throw new be;l=!0}else if(d===0){if(f){if(!p)throw new be;i<o?(a=!0,c=!0):(s=!0,l=!0)}else if(p)throw new be}else throw new be;if(a){if(s)throw new be;Pu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Pu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new be;Pu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Pu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Pu),Q7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Hm=(function(t){Q7e(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Vr.POSSIBLE_FORMATS):null,o=r&&r.get(Vr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(nt.EAN_13)||i.includes(nt.UPC_A)||i.includes(nt.EAN_8)||i.includes(nt.UPC_E))&&n.readers.push(new WT(r)),i.includes(nt.CODE_39)&&n.readers.push(new V$(o)),i.includes(nt.CODE_93)&&n.readers.push(new $$),i.includes(nt.CODE_128)&&n.readers.push(new B$),i.includes(nt.ITF)&&n.readers.push(new U$),i.includes(nt.CODABAR)&&n.readers.push(new x7e),i.includes(nt.RSS_14)&&n.readers.push(new X$),i.includes(nt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new G7e))),n.readers.length===0&&(n.readers.push(new WT(r)),n.readers.push(new V$),n.readers.push(new $$),n.readers.push(new WT(r)),n.readers.push(new B$),n.readers.push(new U$),n.readers.push(new X$)),n}return e.prototype.decodeRow=function(r,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,i)}catch{}throw new be},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(wn),Z7e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){Z7e(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Hm(n),r,n)||this}return e})(Cp);var Q$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nr=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Qt=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),J7e=(function(){function t(e,r,n,i,o,a){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var c=0,d=a.getECCodewords(),f=a.getECBlocks();try{for(var p=Q$(f),g=p.next();!g.done;g=p.next()){var x=g.value;c+=x.getCount()*(x.getDataCodewords()+d)}}catch(y){s={error:y}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new Me;try{for(var o=Q$(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new Me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new nr(5,new Qt(1,3))),new t(2,12,12,10,10,new nr(7,new Qt(1,5))),new t(3,14,14,12,12,new nr(10,new Qt(1,8))),new t(4,16,16,14,14,new nr(12,new Qt(1,12))),new t(5,18,18,16,16,new nr(14,new Qt(1,18))),new t(6,20,20,18,18,new nr(18,new Qt(1,22))),new t(7,22,22,20,20,new nr(20,new Qt(1,30))),new t(8,24,24,22,22,new nr(24,new Qt(1,36))),new t(9,26,26,24,24,new nr(28,new Qt(1,44))),new t(10,32,32,14,14,new nr(36,new Qt(1,62))),new t(11,36,36,16,16,new nr(42,new Qt(1,86))),new t(12,40,40,18,18,new nr(48,new Qt(1,114))),new t(13,44,44,20,20,new nr(56,new Qt(1,144))),new t(14,48,48,22,22,new nr(68,new Qt(1,174))),new t(15,52,52,24,24,new nr(42,new Qt(2,102))),new t(16,64,64,14,14,new nr(56,new Qt(2,140))),new t(17,72,72,16,16,new nr(36,new Qt(4,92))),new t(18,80,80,18,18,new nr(48,new Qt(4,114))),new t(19,88,88,20,20,new nr(56,new Qt(4,144))),new t(20,96,96,22,22,new nr(68,new Qt(4,174))),new t(21,104,104,24,24,new nr(56,new Qt(6,136))),new t(22,120,120,18,18,new nr(68,new Qt(6,175))),new t(23,132,132,20,20,new nr(62,new Qt(8,163))),new t(24,144,144,22,22,new nr(62,new Qt(8,156),new Qt(2,155))),new t(25,8,18,6,16,new nr(7,new Qt(1,5))),new t(26,8,32,6,14,new nr(11,new Qt(1,10))),new t(27,12,26,10,24,new nr(14,new Qt(1,16))),new t(28,12,36,10,16,new nr(18,new Qt(1,22))),new t(29,16,36,14,16,new nr(24,new Qt(1,32))),new t(30,16,48,14,22,new nr(28,new Qt(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),e9e=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new Me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ys(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return J7e.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,d=!1;do if(n===o&&i===0&&!s)e[r++]=this.readCorner1(o,a)&255,n-=2,i+=2,s=!0;else if(n===o-2&&i===0&&(a&3)!==0&&!l)e[r++]=this.readCorner2(o,a)&255,n-=2,i+=2,l=!0;else if(n===o+4&&i===2&&(a&7)===0&&!c)e[r++]=this.readCorner3(o,a)&255,n-=2,i+=2,c=!0;else if(n===o-2&&i===0&&(a&7)===4&&!d)e[r++]=this.readCorner4(o,a)&255,n-=2,i+=2,d=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<a);if(r!==this.version.getTotalCodewords())throw new Me;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var o=0;return this.readModule(e-2,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r,n,i)&&(o|=1),o<<=1,this.readModule(e,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e,r,n,i)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new lt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=r/i|0,s=n/o|0,l=a*i,c=s*o,d=new ys(c,l),f=0;f<a;++f)for(var p=f*i,g=0;g<s;++g)for(var x=g*o,y=0;y<i;++y)for(var b=f*(i+2)+1+y,_=p+y,C=0;C<o;++C){var E=g*(o+2)+1+C;if(e.get(E,b)){var P=x+C;d.set(P,_)}}return d},t})(),Z$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t9e=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,o,a,s=r.getECBlocks(),l=0,c=s.getECBlocks();try{for(var d=Z$(c),f=d.next();!f.done;f=d.next()){var p=f.value;l+=p.getCount()}}catch($){n={error:$}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var g=new Array(l),x=0;try{for(var y=Z$(c),b=y.next();!b.done;b=y.next())for(var p=b.value,_=0;_<p.getCount();_++){var C=p.getDataCodewords(),E=s.getECCodewords()+C;g[x++]=new t(C,new Uint8Array(E))}}catch($){o={error:$}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}for(var P=g[0].codewords.length,I=P-s.getECCodewords(),T=I-1,N=0,_=0;_<T;_++)for(var S=0;S<x;S++)g[S].codewords[_]=e[N++];for(var j=r.getVersionNumber()===24,B=j?8:x,S=0;S<B;S++)g[S].codewords[I-1]=e[N++];for(var M=g[0].codewords.length,_=I;_<M;_++)for(var S=0;S<x;S++){var L=j?(S+8)%x:S,F=j&&L>7?_-1:_;g[L].codewords[F]=e[N++]}if(N!==e.length)throw new lt;return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),_ee=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new lt(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var a=8-n,s=e<a?e:a,l=a-s,c=255>>8-s<<l;r=(o[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|o[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(o[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),pn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(pn||(pn={}));var r9e=(function(){function t(){}return t.decode=function(e){var r=new _ee(e),n=new Pt,i=new Pt,o=new Array,a=pn.ASCII_ENCODE;do if(a===pn.ASCII_ENCODE)a=this.decodeAsciiSegment(r,n,i);else{switch(a){case pn.C40_ENCODE:this.decodeC40Segment(r,n);break;case pn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case pn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case pn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case pn.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new Me}a=pn.ASCII_ENCODE}while(a!==pn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new s2(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new Me;if(o<=128)return i&&(o+=128),r.append(String.fromCharCode(o-1)),pn.ASCII_ENCODE;if(o===129)return pn.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&r.append("0"),r.append(""+a)}else switch(o){case 230:return pn.C40_ENCODE;case 231:return pn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return pn.ANSIX12_ENCODE;case 239:return pn.TEXT_ENCODE;case 240:return pn.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Me;break}}while(e.available()>0);return pn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(o){case 0:if(l<3)o=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new Me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Me}o=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),o=0;break;default:throw new Me}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(o){case 0:if(l<3)o=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new Me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Me}o=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),o=0}else throw new Me;break;default:throw new Me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var a=n[o];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new Me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new Me;for(var s=new Uint8Array(a),l=0;l<a;l++){if(e.available()<8)throw new Me;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(zo.decode(s,Ut.ISO88591))}catch(c){throw new t0("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),n9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i9e=(function(){function t(){this.rsDecoder=new l2(Li.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new e9e(e),o=i.getVersion(),a=i.readCodewords(),s=t9e.getDataBlocks(a,o),l=0;try{for(var c=n9e(s),d=c.next();!d.done;d=c.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(E){r={error:E}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var p=new Uint8Array(l),g=s.length,x=0;x<g;x++){var y=s[x],b=y.getCodewords(),_=y.getNumDataCodewords();this.correctErrors(b,_);for(var C=0;C<_;C++)p[C*g+x]=b[C]}return r9e.decode(p)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Rn}for(var i=0;i<r;i++)e[i]=n[i]},t})(),o9e=(function(){function t(e){this.image=e,this.rectangleDetector=new iP(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new be;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],o=r[2],a=r[3],s=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,n,i,o,a,s,l);return new GO(c,[n,i,o,a])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new Ze(e.getX()+i,e.getY()+o)},t.moveAway=function(e,r,n){var i=e.getX(),o=e.getY();return i<r?i-=1:i+=1,o<n?o-=1:o+=1,new Ze(i,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],o=e[2],a=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,o),c=this.transitionsBetween(o,r),d=a,f=[o,r,n,i];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=i,f[3]=o),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=o,f[3]=r),d>c&&(f[0]=i,f[1]=o,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=t.shiftPoint(n,i,(a+1)*4),l=t.shiftPoint(i,n,(a+1)*4),c=this.transitionsBetween(s,r),d=this.transitionsBetween(l,o);return c<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=this.transitionsBetween(n,o),l=t.shiftPoint(r,n,(s+1)*4),c=t.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(l,o),s=this.transitionsBetween(c,o);var d=new Ze(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),f=new Ze(o.getX()+(r.getX()-n.getX())/(s+1),o.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var p=this.transitionsBetween(l,d)+this.transitionsBetween(c,d),g=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return p>g?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(i,o)+1,l=t.shiftPoint(r,n,s*4),c=t.shiftPoint(i,n,a*4);a=this.transitionsBetween(l,o)+1,s=this.transitionsBetween(c,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+o.getX())/4,f=(r.getY()+n.getY()+i.getY()+o.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),o=t.moveAway(o,d,f);var p,g;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,o,a*4),p=t.shiftPoint(n,r,s*4),p=t.shiftPoint(p,i,a*4),c=t.shiftPoint(i,o,s*4),c=t.shiftPoint(c,n,a*4),g=t.shiftPoint(o,i,s*4),g=t.shiftPoint(g,r,a*4),[l,p,c,g]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,o,a,s){var l=KO.getInstance();return l.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(r.getX()),a=Math.trunc(r.getY()),s=Math.abs(a-i)>Math.abs(o-n);if(s){var l=n;n=i,i=l,l=o,o=a,a=l}for(var c=Math.abs(o-n),d=Math.abs(a-i),f=-c/2,p=i<a?1:-1,g=n<o?1:-1,x=0,y=this.image.get(s?i:n,s?n:i),b=n,_=i;b!==o;b+=g){var C=this.image.get(s?_:b,s?b:_);if(C!==y&&(x++,y=C),f+=d,f>0){if(_===a)break;_+=p,f-=c}}return x},t})(),sP=(function(){function t(){this.decoder=new i9e}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Vr.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new o9e(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),l=new ui(n.getText(),s,8*s.length,i,nt.DATA_MATRIX,Ar.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Yn.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!=null&&l.putMetadata(Yn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new be;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],l=n[0],c=(l-s+1)/i,d=(a-o+1)/i;if(c<=0||d<=0)throw new be;var f=i/2;o+=f,s+=f;for(var p=new ys(c,d),g=0;g<d;g++)for(var x=o+g*i,y=0;y<c;y++)e.get(s+y*i,x)&&p.set(y,g);return p},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],o=e[1];i<n&&r.get(i,o);)i++;if(i===n)throw new be;var a=i-e[0];if(a===0)throw new be;return a},t.NO_POINTS=[],t})(),a9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){a9e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new sP,r)||this}return e})(Cp);var Uf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Uf||(Uf={}));var s9e=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new aa(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new lt;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Uf.L,"L",1),t.M=new t(Uf.M,"M",0),t.Q=new t(Uf.Q,"Q",3),t.H=new t(Uf.H,"H",2),t})(),l9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aee=(function(){function t(e){this.errorCorrectionLevel=s9e.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return jt.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=l9e(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,d=c[0];if(d===e||d===r)return new t(c[1]);var f=t.numBitsDiffering(e,d);f<o&&(a=c[1],o=f),e!==r&&(f=t.numBitsDiffering(r,d),f<o&&(a=c[1],o=f))}}catch(p){n={error:p}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),c9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},he=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var o=c9e(i),a=o.next();!a.done;a=o.next()){var s=a.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),Y=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),u9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yu=(function(){function t(e,r){for(var n,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var s=0,l=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();try{for(var d=u9e(c),f=d.next();!f.done;f=d.next()){var p=f.value;s+=p.getCount()*(p.getDataCodewords()+l)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new lt;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=Aee.numBitsDiffering(e,o);a<r&&(n=i+7,r=a)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ys(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new he(7,new Y(1,19)),new he(10,new Y(1,16)),new he(13,new Y(1,13)),new he(17,new Y(1,9))),new t(2,Int32Array.from([6,18]),new he(10,new Y(1,34)),new he(16,new Y(1,28)),new he(22,new Y(1,22)),new he(28,new Y(1,16))),new t(3,Int32Array.from([6,22]),new he(15,new Y(1,55)),new he(26,new Y(1,44)),new he(18,new Y(2,17)),new he(22,new Y(2,13))),new t(4,Int32Array.from([6,26]),new he(20,new Y(1,80)),new he(18,new Y(2,32)),new he(26,new Y(2,24)),new he(16,new Y(4,9))),new t(5,Int32Array.from([6,30]),new he(26,new Y(1,108)),new he(24,new Y(2,43)),new he(18,new Y(2,15),new Y(2,16)),new he(22,new Y(2,11),new Y(2,12))),new t(6,Int32Array.from([6,34]),new he(18,new Y(2,68)),new he(16,new Y(4,27)),new he(24,new Y(4,19)),new he(28,new Y(4,15))),new t(7,Int32Array.from([6,22,38]),new he(20,new Y(2,78)),new he(18,new Y(4,31)),new he(18,new Y(2,14),new Y(4,15)),new he(26,new Y(4,13),new Y(1,14))),new t(8,Int32Array.from([6,24,42]),new he(24,new Y(2,97)),new he(22,new Y(2,38),new Y(2,39)),new he(22,new Y(4,18),new Y(2,19)),new he(26,new Y(4,14),new Y(2,15))),new t(9,Int32Array.from([6,26,46]),new he(30,new Y(2,116)),new he(22,new Y(3,36),new Y(2,37)),new he(20,new Y(4,16),new Y(4,17)),new he(24,new Y(4,12),new Y(4,13))),new t(10,Int32Array.from([6,28,50]),new he(18,new Y(2,68),new Y(2,69)),new he(26,new Y(4,43),new Y(1,44)),new he(24,new Y(6,19),new Y(2,20)),new he(28,new Y(6,15),new Y(2,16))),new t(11,Int32Array.from([6,30,54]),new he(20,new Y(4,81)),new he(30,new Y(1,50),new Y(4,51)),new he(28,new Y(4,22),new Y(4,23)),new he(24,new Y(3,12),new Y(8,13))),new t(12,Int32Array.from([6,32,58]),new he(24,new Y(2,92),new Y(2,93)),new he(22,new Y(6,36),new Y(2,37)),new he(26,new Y(4,20),new Y(6,21)),new he(28,new Y(7,14),new Y(4,15))),new t(13,Int32Array.from([6,34,62]),new he(26,new Y(4,107)),new he(22,new Y(8,37),new Y(1,38)),new he(24,new Y(8,20),new Y(4,21)),new he(22,new Y(12,11),new Y(4,12))),new t(14,Int32Array.from([6,26,46,66]),new he(30,new Y(3,115),new Y(1,116)),new he(24,new Y(4,40),new Y(5,41)),new he(20,new Y(11,16),new Y(5,17)),new he(24,new Y(11,12),new Y(5,13))),new t(15,Int32Array.from([6,26,48,70]),new he(22,new Y(5,87),new Y(1,88)),new he(24,new Y(5,41),new Y(5,42)),new he(30,new Y(5,24),new Y(7,25)),new he(24,new Y(11,12),new Y(7,13))),new t(16,Int32Array.from([6,26,50,74]),new he(24,new Y(5,98),new Y(1,99)),new he(28,new Y(7,45),new Y(3,46)),new he(24,new Y(15,19),new Y(2,20)),new he(30,new Y(3,15),new Y(13,16))),new t(17,Int32Array.from([6,30,54,78]),new he(28,new Y(1,107),new Y(5,108)),new he(28,new Y(10,46),new Y(1,47)),new he(28,new Y(1,22),new Y(15,23)),new he(28,new Y(2,14),new Y(17,15))),new t(18,Int32Array.from([6,30,56,82]),new he(30,new Y(5,120),new Y(1,121)),new he(26,new Y(9,43),new Y(4,44)),new he(28,new Y(17,22),new Y(1,23)),new he(28,new Y(2,14),new Y(19,15))),new t(19,Int32Array.from([6,30,58,86]),new he(28,new Y(3,113),new Y(4,114)),new he(26,new Y(3,44),new Y(11,45)),new he(26,new Y(17,21),new Y(4,22)),new he(26,new Y(9,13),new Y(16,14))),new t(20,Int32Array.from([6,34,62,90]),new he(28,new Y(3,107),new Y(5,108)),new he(26,new Y(3,41),new Y(13,42)),new he(30,new Y(15,24),new Y(5,25)),new he(28,new Y(15,15),new Y(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new he(28,new Y(4,116),new Y(4,117)),new he(26,new Y(17,42)),new he(28,new Y(17,22),new Y(6,23)),new he(30,new Y(19,16),new Y(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new he(28,new Y(2,111),new Y(7,112)),new he(28,new Y(17,46)),new he(30,new Y(7,24),new Y(16,25)),new he(24,new Y(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new he(30,new Y(4,121),new Y(5,122)),new he(28,new Y(4,47),new Y(14,48)),new he(30,new Y(11,24),new Y(14,25)),new he(30,new Y(16,15),new Y(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new he(30,new Y(6,117),new Y(4,118)),new he(28,new Y(6,45),new Y(14,46)),new he(30,new Y(11,24),new Y(16,25)),new he(30,new Y(30,16),new Y(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new he(26,new Y(8,106),new Y(4,107)),new he(28,new Y(8,47),new Y(13,48)),new he(30,new Y(7,24),new Y(22,25)),new he(30,new Y(22,15),new Y(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new he(28,new Y(10,114),new Y(2,115)),new he(28,new Y(19,46),new Y(4,47)),new he(28,new Y(28,22),new Y(6,23)),new he(30,new Y(33,16),new Y(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new he(30,new Y(8,122),new Y(4,123)),new he(28,new Y(22,45),new Y(3,46)),new he(30,new Y(8,23),new Y(26,24)),new he(30,new Y(12,15),new Y(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new he(30,new Y(3,117),new Y(10,118)),new he(28,new Y(3,45),new Y(23,46)),new he(30,new Y(4,24),new Y(31,25)),new he(30,new Y(11,15),new Y(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new he(30,new Y(7,116),new Y(7,117)),new he(28,new Y(21,45),new Y(7,46)),new he(30,new Y(1,23),new Y(37,24)),new he(30,new Y(19,15),new Y(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new he(30,new Y(5,115),new Y(10,116)),new he(28,new Y(19,47),new Y(10,48)),new he(30,new Y(15,24),new Y(25,25)),new he(30,new Y(23,15),new Y(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new he(30,new Y(13,115),new Y(3,116)),new he(28,new Y(2,46),new Y(29,47)),new he(30,new Y(42,24),new Y(1,25)),new he(30,new Y(23,15),new Y(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new he(30,new Y(17,115)),new he(28,new Y(10,46),new Y(23,47)),new he(30,new Y(10,24),new Y(35,25)),new he(30,new Y(19,15),new Y(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new he(30,new Y(17,115),new Y(1,116)),new he(28,new Y(14,46),new Y(21,47)),new he(30,new Y(29,24),new Y(19,25)),new he(30,new Y(11,15),new Y(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new he(30,new Y(13,115),new Y(6,116)),new he(28,new Y(14,46),new Y(23,47)),new he(30,new Y(44,24),new Y(7,25)),new he(30,new Y(59,16),new Y(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new he(30,new Y(12,121),new Y(7,122)),new he(28,new Y(12,47),new Y(26,48)),new he(30,new Y(39,24),new Y(14,25)),new he(30,new Y(22,15),new Y(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new he(30,new Y(6,121),new Y(14,122)),new he(28,new Y(6,47),new Y(34,48)),new he(30,new Y(46,24),new Y(10,25)),new he(30,new Y(2,15),new Y(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new he(30,new Y(17,122),new Y(4,123)),new he(28,new Y(29,46),new Y(14,47)),new he(30,new Y(49,24),new Y(10,25)),new he(30,new Y(24,15),new Y(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new he(30,new Y(4,122),new Y(18,123)),new he(28,new Y(13,46),new Y(32,47)),new he(30,new Y(48,24),new Y(14,25)),new he(30,new Y(42,15),new Y(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new he(30,new Y(20,117),new Y(4,118)),new he(28,new Y(40,47),new Y(7,48)),new he(30,new Y(43,24),new Y(22,25)),new he(30,new Y(10,15),new Y(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new he(30,new Y(19,118),new Y(6,119)),new he(28,new Y(18,47),new Y(31,48)),new he(30,new Y(34,24),new Y(34,25)),new he(30,new Y(20,15),new Y(61,16)))],t})(),Nn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Nn||(Nn={}));var J$=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Nn.DATA_MASK_000,new t(Nn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Nn.DATA_MASK_001,new t(Nn.DATA_MASK_001,function(e,r){return(e&1)===0})],[Nn.DATA_MASK_010,new t(Nn.DATA_MASK_010,function(e,r){return r%3===0})],[Nn.DATA_MASK_011,new t(Nn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Nn.DATA_MASK_100,new t(Nn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Nn.DATA_MASK_101,new t(Nn.DATA_MASK_101,function(e,r){return e*r%6===0})],[Nn.DATA_MASK_110,new t(Nn.DATA_MASK_110,function(e,r){return e*r%6<3})],[Nn.DATA_MASK_111,new t(Nn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),d9e=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,a=i-7,n=i-1;n>=a;n--)o=this.copyBit(8,n,o);for(var r=i-8;r<i;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=Aee.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Yu.getVersionForNumber(r);for(var n=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,o,n);var s=Yu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(s=Yu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Me},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=J$.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=r.buildFunctionPattern(),a=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,c=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var p=0;p<i;p++)for(var g=a?i-1-p:p,x=0;x<2;x++)o.get(f-x,g)||(d++,c<<=1,this.bitMatrix.get(f-x,g)&&(c|=1),d===8&&(s[l++]=c,d=0,c=0));a=!a}if(l!==r.getTotalCodewords())throw new Me;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=J$.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,o=e.getHeight();i<o;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),eU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f9e=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,o,a,s;if(e.length!==r.getTotalCodewords())throw new lt;var l=r.getECBlocksForLevel(n),c=0,d=l.getECBlocks();try{for(var f=eU(d),p=f.next();!p.done;p=f.next()){var g=p.value;c+=g.getCount()}}catch(F){i={error:F}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var x=new Array(c),y=0;try{for(var b=eU(d),_=b.next();!_.done;_=b.next())for(var g=_.value,C=0;C<g.getCount();C++){var E=g.getDataCodewords(),P=l.getECCodewordsPerBlock()+E;x[y++]=new t(E,new Uint8Array(P))}}catch(F){a={error:F}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}for(var I=x[0].codewords.length,T=x.length-1;T>=0;){var N=x[T].codewords.length;if(N===I)break;T--}T++;for(var S=I-l.getECCodewordsPerBlock(),j=0,C=0;C<S;C++)for(var B=0;B<y;B++)x[B].codewords[C]=e[j++];for(var B=T;B<y;B++)x[B].codewords[S]=e[j++];for(var M=x[0].codewords.length,C=S;C<M;C++)for(var B=0;B<y;B++){var L=B<T?C:C+1;x[B].codewords[L]=e[j++]}return x},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Ro;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Ro||(Ro={}));var Ir=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new lt;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Ro.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Ro.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Ro.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Ro.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Ro.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Ro.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Ro.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Ro.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Ro.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Ro.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),h9e=(function(){function t(){}return t.decode=function(e,r,n,i){var o=new _ee(e),a=new Pt,s=new Array,l=-1,c=-1;try{var d=null,f=!1,p=void 0;do{if(o.available()<4)p=Ir.TERMINATOR;else{var g=o.readBits(4);p=Ir.forBits(g)}switch(p){case Ir.TERMINATOR:break;case Ir.FNC1_FIRST_POSITION:case Ir.FNC1_SECOND_POSITION:f=!0;break;case Ir.STRUCTURED_APPEND:if(o.available()<16)throw new Me;l=o.readBits(8),c=o.readBits(8);break;case Ir.ECI:var x=t.parseECIValue(o);if(d=yn.getCharacterSetECIByValue(x),d===null)throw new Me;break;case Ir.HANZI:var y=o.readBits(4),b=o.readBits(p.getCharacterCountBits(r));y===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,b);break;default:var _=o.readBits(p.getCharacterCountBits(r));switch(p){case Ir.NUMERIC:t.decodeNumericSegment(o,a,_);break;case Ir.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,_,f);break;case Ir.BYTE:t.decodeByteSegment(o,a,_,d,s,i);break;case Ir.KANJI:t.decodeKanjiSegment(o,a,_);break;default:throw new Me}break}}while(p!==Ir.TERMINATOR)}catch{throw new Me}return new s2(e,a.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Me;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,i[o]=s>>8&255,i[o+1]=s&255,o+=2,n--}try{r.append(zo.decode(i,Ut.GB2312))}catch(l){throw new Me(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Me;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{r.append(zo.decode(i,Ut.SHIFT_JIS))}catch(l){throw new Me(l)}},t.decodeByteSegment=function(e,r,n,i,o,a){if(8*n>e.available())throw new Me;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=Ut.guessEncoding(s,a):c=i.getName();try{r.append(zo.decode(s,c))}catch(d){throw new Me(d)}o.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(e.available()<11)throw new Me;var a=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(a/45))),r.append(t.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new Me;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Me;var i=e.readBits(10);if(i>=1e3)throw new Me;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Me;var o=e.readBits(7);if(o>=100)throw new Me;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new Me;var a=e.readBits(4);if(a>=10)throw new Me;r.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),Cee=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),tU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p9e=(function(){function t(){this.rsDecoder=new l2(Li.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ys.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new d9e(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new Cee(!0)),o}catch(a){throw i!==null?i:a}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,o,a,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=f9e.getDataBlocks(c,s,l),f=0;try{for(var p=tU(d),g=p.next();!g.done;g=p.next()){var x=g.value;f+=x.getNumDataCodewords()}}catch(T){n={error:T}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}var y=new Uint8Array(f),b=0;try{for(var _=tU(d),C=_.next();!C.done;C=_.next()){var x=C.value,E=x.getCodewords(),P=x.getNumDataCodewords();this.correctErrors(E,P);for(var I=0;I<P;I++)y[b++]=E[I]}}catch(T){o={error:T}}finally{try{C&&!C.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}return h9e.decode(y,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Rn}for(var i=0;i<r;i++)e[i]=n[i]},t})(),m9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),g9e=(function(t){m9e(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=(this.getX()+n)/2,a=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(o,a,s)},e})(Ze),y9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v9e=(function(){function t(e,r,n,i,o,a,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,o=this.startY+r/2,a=new Int32Array(3),s=this.image,l=0;l<r;l++){var c=o+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var d=e;d<i&&!s.get(d,c);)d++;for(var f=0;d<i;){if(s.get(d,c))if(f===1)a[1]++;else if(f===2){if(this.foundPatternCross(a)){var p=this.handlePossibleCenter(a,c,d);if(p!==null)return p}a[0]=a[2],a[1]=1,a[2]=0,f=1}else a[++f]++;else f===1&&f++,a[f]++;d++}if(this.foundPatternCross(a)){var p=this.handlePossibleCenter(a,c,i);if(p!==null)return p}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new be},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&o.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!o.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<a&&o.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===a||s[1]>n)return NaN;for(;l<a&&!o.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],a);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var d=y9e(this.possibleCenters),f=d.next();!f.done;f=d.next()){var p=f.value;if(p.aboutEquals(c,l,s))return p.combineEstimate(l,s,c)}}catch(x){i={error:x}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var g=new g9e(s,l,c);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null},t})(),x9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),b9e=(function(t){x9e(e,t);function e(r,n,i,o){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=this.count+1,a=(this.count*this.getX()+n)/o,s=(this.count*this.getY()+r)/o,l=(this.count*this.estimatedModuleSize+i)/o;return new e(a,s,l,o)},e})(Ze),w9e=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),Im=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_9e=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Vr.TRY_HARDER)!==void 0,n=e!=null&&e.get(Vr.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=s-1;d<o&&!l;d+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,p=0;p<a;p++)if(i.get(p,d))(f&1)===1&&f++,c[f]++;else if((f&1)===0)if(f===4)if(t.foundPatternCross(c)){var g=this.handlePossibleCenter(c,d,p,n);if(g===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var x=this.findRowSkip();x>c[2]&&(d+=x-c[2]-s,p=a-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;else c[f]++;if(t.foundPatternCross(c)){var g=this.handlePossibleCenter(c,d,a,n);g===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var y=this.selectBestPatterns();return Ze.orderBestPatterns(y),new w9e(y)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var o=r/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&r>=a&&s.get(r-a,e-a);)o[2]++,a++;if(e<a||r<a)return!1;for(;e>=a&&r>=a&&!s.get(r-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||r<a||o[1]>n)return!1;for(;e>=a&&r>=a&&s.get(r-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(a=1;e+a<l&&r+a<c&&s.get(r+a,e+a);)o[2]++,a++;if(e+a>=l||r+a>=c)return!1;for(;e+a<l&&r+a<c&&!s.get(r+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=l||r+a>=c||o[3]>=n)return!1;for(;e+a<l&&r+a<c&&s.get(r+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var d=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&o.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<a&&o.get(r,l);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===a||s[3]>=n)return NaN;for(;l<a&&o.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&o.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<a&&o.get(l,r);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===a||s[3]>=n)return NaN;for(;l<a&&o.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var l=o/7,c=!1,d=this.possibleCenters,f=0,p=d.length;f<p;f++){var g=d[f];if(g.aboutEquals(l,s,a)){d[f]=g.combineEstimate(s,a,l),c=!0;break}}if(!c){var x=new b9e(a,s,l);d.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=Im(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var l=Im(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value;d.getCount()>=t.CENTER_QUORUM&&(o++,a+=d.getEstimatedModuleSize())}}catch(y){e={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var f=a/s,p=0;try{for(var g=Im(this.possibleCenters),x=g.next();!x.done;x=g.next()){var d=x.value;p+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(y){n={error:y}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}return p<=.05*a},t.prototype.selectBestPatterns=function(){var e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new be;var a=this.possibleCenters,s;if(o>3){var l=0,c=0;try{for(var d=Im(this.possibleCenters),f=d.next();!f.done;f=d.next()){var p=f.value,g=p.getEstimatedModuleSize();l+=g,c+=g*g}}catch(I){e={error:I}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/o;var x=Math.sqrt(c/o-s*s);a.sort(function(I,T){var N=Math.abs(T.getEstimatedModuleSize()-s),S=Math.abs(I.getEstimatedModuleSize()-s);return N<S?-1:N>S?1:0});for(var y=Math.max(.2*s,x),b=0;b<a.length&&a.length>3;b++){var _=a[b];Math.abs(_.getEstimatedModuleSize()-s)>y&&(a.splice(b,1),b--)}}if(a.length>3){var l=0;try{for(var C=Im(a),E=C.next();!E.done;E=C.next()){var P=E.value;l+=P.getEstimatedModuleSize()}}catch(T){n={error:T}}finally{try{E&&!E.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}s=l/a.length,a.sort(function(T,N){if(N.getCount()===T.getCount()){var S=Math.abs(N.getEstimatedModuleSize()-s),j=Math.abs(T.getEstimatedModuleSize()-s);return S<j?1:S>j?-1:0}else return N.getCount()-T.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),A9e=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Vr.NEED_RESULT_POINT_CALLBACK);var r=new _9e(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new be("No pattern found in proccess finder.");var a=t.computeDimension(r,n,i,o),s=Yu.getProvisionalVersionForDimension(a),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),p=1-3/l,g=Math.floor(r.getX()+p*(d-r.getX())),x=Math.floor(r.getY()+p*(f-r.getY())),y=4;y<=16;y<<=1)try{c=this.findAlignmentInRegion(o,g,x,y);break}catch(E){if(!(E instanceof be))throw E}var b=t.createTransform(r,n,i,c,a),_=t.sampleGrid(this.image,b,a),C;return c===null?C=[i,r,n]:C=[i,r,n,c],new GO(_,C)},t.createTransform=function(e,r,n,i,o){var a=o-3.5,s,l,c,d;return i!==null?(s=i.getX(),l=i.getY(),c=a-3,d=c):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=a,d=a),vee.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,c,d,3.5,a,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=KO.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var o=qt.round(Ze.distance(e,r)/i),a=qt.round(Ze.distance(e,n)/i),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new be("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,i),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*a);return a=1,l<0?(a=r/(r-l),l=0):l>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var o=Math.abs(i-r)>Math.abs(n-e);if(o){var a=e;e=r,r=a,a=n,n=i,i=a}for(var s=Math.abs(n-e),l=Math.abs(i-r),c=-s/2,d=e<n?1:-1,f=r<i?1:-1,p=0,g=n+d,x=e,y=r;x!==g;x+=d){var b=o?y:x,_=o?x:y;if(p===1===this.image.get(b,_)){if(p===2)return qt.distance(x,y,e,r);p++}if(c+=l,c>0){if(y===i)break;y+=f,c-=s}}return p===2?qt.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var o=Math.floor(i*e),a=Math.max(0,r-o),s=Math.min(this.image.getWidth()-1,r+o);if(s-a<e*3)throw new be("Alignment top exceeds estimated module size.");var l=Math.max(0,n-o),c=Math.min(this.image.getHeight()-1,n+o);if(c-l<e*3)throw new be("Alignment bottom exceeds estimated module size.");var d=new v9e(this.image,a,l,s-a,c-l,e,this.resultPointCallback);return d.find()},t})(),lP=(function(){function t(){this.decoder=new p9e}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Vr.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var a=new A9e(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof Cee&&n.getOther().applyMirroredCorrection(i);var s=new ui(n.getText(),n.getRawBytes(),void 0,i,nt.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(Yn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(Yn.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Yn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Yn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new be;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],l=n[0];if(s>=l||o>=a)throw new be;if(a-o!==l-s&&(l=s+(a-o),l>=e.getWidth()))throw new be;var c=Math.round((l-s+1)/i),d=Math.round((a-o+1)/i);if(c<=0||d<=0)throw new be;if(d!==c)throw new be;var f=Math.floor(i/2);o+=f,s+=f;var p=s+Math.floor((c-1)*i)-l;if(p>0){if(p>f)throw new be;s-=p}var g=o+Math.floor((d-1)*i)-a;if(g>0){if(g>f)throw new be;o-=g}for(var x=new ys(c,d),y=0;y<d;y++)for(var b=o+Math.floor(y*i),_=0;_<c;_++)e.get(s+Math.floor(_*i),b)&&x.set(_,y);return x},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),o=e[0],a=e[1],s=!0,l=0;o<i&&a<n;){if(s!==r.get(o,a)){if(++l===5)break;s=!s}o++,a++}if(o===i||a===n)throw new be;return(o-e[0])/7},t.NO_POINTS=new Array,t})(),C9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wt=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return qt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=C9e(e),s=a.next();!s.done;s=a.next()){var l=s.value;i[o++]=l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=xn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),E9e=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),S9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T9e=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(n,i)),new E9e(i,o)},t.detect=function(e,r){for(var n,i,o=new Array,a=0,s=0,l=!1;a<r.getHeight();){var c=t.findVertices(r,a,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,S9e(o)),f=d.next();!f.done;f=d.next()){var p=f.value;p[1]!=null&&(a=Math.trunc(Math.max(a,p[1].getY()))),p[3]!=null&&(a=Math.max(a,Math.trunc(p[3].getY())))}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}a+=t.ROW_STEP;continue}if(l=!0,o.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,o,a){for(var s=new Array(4),l=!1,c=new Int32Array(a.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,o,i,n,!1,a,c);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,o,--i,n,!1,a,c);if(f!=null)d=f;else{i++;break}}s[0]=new Ze(d[0],i),s[1]=new Ze(d[1],i),l=!0;break}}var p=i+1;if(l){for(var g=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);p<r;p++){var d=t.findGuardPattern(e,f[0],p,n,!1,a,c);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,g=0;else{if(g>t.SKIPPED_ROW_COUNT_MAX)break;g++}}p-=g+1,s[2]=new Ze(f[0],p),s[3]=new Ze(f[1],p)}return p-i<t.BARCODE_MIN_HEIGHT&&xn.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,o,a,s){xn.fillWithin(s,0,s.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,p=a.length,g=o;d<i;d++){var x=e.get(d,n);if(x!==g)s[f]++;else{if(f===p-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],Ar.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,g=!g}}return f===p-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return 1/0;var l=o/a;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],p=r[d]*l,g=f>p?f-p:p-f;if(g>n)return 1/0;c+=g}return c/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),N9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wu=(function(){function t(e,r){if(r.length===0)throw new lt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Ar.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=N9e(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,d=1;d<c;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;Ar.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(r[s-a],n[s]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var l=r[s],c=0;c<o;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(l,i[c]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new lt;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Pt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),I9e=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new lt;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new yee;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),k9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),P9e=(function(t){k9e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var o=1,a=0;a<r;a++)i.expTable[a]=o,o=o*n%r;for(var a=0;a<r-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Wu(i,new Int32Array([0])),i.one=new Wu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new lt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Wu(this,i)},e.PDF417_GF=new e(Wt.NUMBER_OF_CODEWORDS,3),e})(I9e),O9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j9e=(function(){function t(){this.field=P9e.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,o,a=new Wu(this.field,e),s=new Int32Array(r),l=!1,c=r;c>0;c--){var d=a.evaluateAt(this.field.exp(c));s[r-c]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var p=O9e(n),g=p.next();!g.done;g=p.next()){var x=g.value,y=this.field.exp(e.length-1-x),b=new Wu(this.field,new Int32Array([this.field.subtract(0,y),1]));f=f.multiply(b)}}catch(S){i={error:S}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}for(var _=new Wu(this.field,s),C=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),_,r),E=C[0],P=C[1],I=this.findErrorLocations(E),T=this.findErrorMagnitudes(P,E,I),c=0;c<I.length;c++){var N=e.length-1-this.field.log(I[c]);if(N<0)throw Rn.getChecksumInstance();e[N]=this.field.subtract(e[N],T[c])}return I.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=e,a=r,s=this.field.getZero(),l=this.field.getOne();a.getDegree()>=Math.round(n/2);){var c=o,d=s;if(o=a,s=l,o.isZero())throw Rn.getChecksumInstance();a=c;for(var f=this.field.getZero(),p=o.getCoefficient(o.getDegree()),g=this.field.inverse(p);a.getDegree()>=o.getDegree()&&!a.isZero();){var x=a.getDegree()-o.getDegree(),y=this.field.multiply(a.getCoefficient(a.getDegree()),g);f=f.add(this.field.buildMonomial(x,y)),a=a.subtract(o.multiplyByMonomial(x,y))}l=f.multiply(s).subtract(d).negative()}var b=l.getCoefficient(0);if(b===0)throw Rn.getChecksumInstance();var _=this.field.inverse(b),C=l.multiply(_),E=a.multiply(_);return[C,E]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,o=1;o<this.field.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==r)throw Rn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,r.getCoefficient(a));for(var s=new Wu(this.field,o),l=n.length,c=new Int32Array(l),a=0;a<l;a++){var d=this.field.inverse(n[a]),f=this.field.subtract(0,e.evaluateAt(d)),p=this.field.inverse(s.evaluateAt(d));c[a]=this.field.multiply(f,p)}return c},t})(),cP=(function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(e,r,n,i,o){var a=r==null||n==null,s=i==null||o==null;if(a&&s)throw new be;a?(r=new Ze(0,i.getY()),n=new Ze(0,o.getY())):s&&(i=new Ze(e.getWidth()-1,r.getY()),o=new Ze(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var d=new Ze(l.getX(),c);n?i=d:a=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,p=Math.trunc(f.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);var g=new Ze(f.getX(),p);n?o=g:s=g}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),R9e=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),XO=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(a,s,l,c,d,f){if(a==="%%")return"%";if(r[++n]!==void 0){a=c?parseInt(c.substr(1)):void 0;var p=d?parseInt(d.substr(1)):void 0,g;switch(f){case"s":g=r[n];break;case"c":g=r[n][0];break;case"f":g=parseFloat(r[n]).toFixed(a);break;case"p":g=parseFloat(r[n]).toPrecision(a);break;case"e":g=parseFloat(r[n]).toExponential(a);break;case"x":g=parseInt(r[n]).toString(p||16);break;case"d":g=parseFloat(parseInt(r[n],p||10).toPrecision(a)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(p);for(var x=parseInt(l),y=l&&l[0]+""=="0"?"0":" ";g.length<x;)g=s!==void 0?g+y:y+g;return g}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),D9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eee=(function(){function t(e){this.boundingBox=new cP(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new XO,i=0;try{for(var o=D9e(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),M9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F9e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},qm=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,o=function(f,p){var g={getKey:function(){return f},getValue:function(){return p}};g.getValue()>n?(n=g.getValue(),i=[],i.push(g.getKey())):g.getValue()===n&&i.push(g.getKey())};try{for(var a=M9e(this.values.entries()),s=a.next();!s.done;s=a.next()){var l=F9e(s.value,2),c=l[0],d=l[1];o(c,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return Wt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),L9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rU=(function(t){L9e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=qT(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=-1,d=1,f=0,p=s;p<l;p++)if(n[p]!=null){var g=n[p],x=g.getRowNumber()-c;if(x===0)f++;else if(x===1)d=Math.max(d,f),f=1,c=g.getRowNumber();else if(x<0||g.getRowNumber()>=r.getRowCount()||x>p)n[p]=null;else{var y=void 0;d>2?y=(d-2)*x:y=x;for(var b=y>=p,_=1;_<=y&&!b;_++)b=n[p-_]!=null;b?n[p]=null:(c=g.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=qT(this.getCodewords()),s=a.next();!s.done;s=a.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=o.length)continue;o[c]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.getCodewords(),c=-1,d=a;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var p=f.getRowNumber()-c;p===0||(p===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),o=new qm,a=new qm,s=new qm,l=new qm;try{for(var c=qT(i),d=c.next();!d.done;d=c.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var p=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(p*3+1);break;case 1:l.setValue(p/3),s.setValue(p%3);break;case 2:o.setValue(p+1);break}}}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||l.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<Wt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>Wt.MAX_ROWS_IN_BARCODE)return null;var x=new R9e(o.getValue()[0],a.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,x),x},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var o=r[i];if(r[i]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:a+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(Eee),B9e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V9e=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Wt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var a=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=s[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=s[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=s[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=s[r+2],c[13]=l[r+2]);try{for(var d=B9e(c),f=d.next();!f.done;f=d.next()){var p=f.value;if(t.adjustRowNumber(a,p))return}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new XO,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t})(),$9e=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),U9e=(function(){function t(){}return t.initialize=function(){for(var e=0;e<Wt.SYMBOL_TABLE.length;e++)for(var r=Wt.SYMBOL_TABLE[e],n=r&1,i=0;i<Wt.BARS_IN_MODULE;i++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Wt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Wt.BARS_IN_MODULE-i-1]=Math.fround(o/Wt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=qt.sum(e),n=new Int32Array(Wt.BARS_IN_MODULE),i=0,o=0,a=0;a<Wt.MODULES_IN_CODEWORD;a++){var s=r/(2*Wt.MODULES_IN_CODEWORD)+a*r/Wt.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Wt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=qt.sum(e),n=new Array(Wt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=nP.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],d=0;d<Wt.BARS_IN_MODULE;d++){var f=Math.fround(c[d]-n[d]);if(l+=Math.fround(f*f),l>=o)break}l<o&&(o=l,a=Wt.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Wt.SYMBOL_TABLE.length).map(function(e){return new Array(Wt.BARS_IN_MODULE)}),t})(),z9e=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),nU=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),W9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),H9e=(function(t){W9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Hi),q9e=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new H9e;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new HO;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),G9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),K9e=(function(t){G9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Hi),Y9e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),X9e=(function(t){Y9e(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new lt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new K9e;i=jt.MAX_VALUE}this.buf=xn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new HO;this.ensureCapacity(this.count+i),Ar.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return xn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(q9e),ur;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ur||(ur={}));function See(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Jv;function sc(t){if(typeof Jv>"u"&&(Jv=See()),Jv===null)throw new Error("BigInt is not supported!");return Jv(t)}function Q9e(){var t=[];t[0]=sc(1);var e=sc(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var Z9e=(function(){function t(){}return t.decode=function(e,r){var n=new Pt(""),i=yn.ISO8859_1;n.enableDecoding(i);for(var o=1,a=e[o++],s=new z9e;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:yn.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Me;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw Me.getFormatInstance()}if(n.length()===0)throw Me.getFormatInstance();var l=new s2(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(jt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Pt;r=t.textCompaction(e,r,a),n.setFileId(a.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Pt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Pt;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Pt;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Pt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(jt.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var p=new Pt;r=t.numericCompaction(e,r+1,p),n.setTimestamp(nU.parseLong(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var g=new Pt;r=t.numericCompaction(e,r+1,g),n.setChecksum(jt.parseInt(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var x=new Pt;r=t.numericCompaction(e,r+1,x),n.setFileSize(nU.parseLong(x.toString()));break;default:throw Me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Me.getFormatInstance()}if(s!==-1){var y=r-s;n.isLastSegment()&&y--,n.setOptionalData(xn.copyOfRange(e,s,s+y))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),a=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[a]=l/30,i[a+1]=l%30,a+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],o[a]=l,a++;break}}return t.decodeTextCompaction(i,o,a,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=ur.ALPHA,a=ur.ALPHA,s=0;s<n;){var l=e[s],c="";switch(o){case ur.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:o=ur.LOWER;break;case t.ML:o=ur.MIXED;break;case t.PS:a=o,o=ur.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ur.ALPHA;break}break;case ur.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:a=o,o=ur.ALPHA_SHIFT;break;case t.ML:o=ur.MIXED;break;case t.PS:a=o,o=ur.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ur.ALPHA;break}break;case ur.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:o=ur.PUNCT;break;case 26:c=" ";break;case t.LL:o=ur.LOWER;break;case t.AL:o=ur.ALPHA;break;case t.PS:a=o,o=ur.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ur.ALPHA;break}break;case ur.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=ur.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ur.ALPHA;break}break;case ur.ALPHA_SHIFT:if(o=a,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=ur.ALPHA;break}break;case ur.PUNCT_SHIFT:if(o=a,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=ur.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ur.ALPHA;break}break}c!==""&&i.append(c),s++}},t.byteCompaction=function(e,r,n,i,o){var a=new X9e,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(d[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var p=0;p<6;++p)a.write(Number(sc(l)>>sc(8*(5-p))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var g=0;g<s;g++)a.write(d[g]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var x=r[i++];if(x<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+x;else switch(x){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var p=0;p<6;++p)a.write(Number(sc(l)>>sc(8*(5-p))));l=0,s=0}}break}return o.append(zo.decode(a.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var s=e[r++];if(r===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(a,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=sc(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*sc(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new Me;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=See()?Q9e():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),km=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J9e=(function(){function t(){}return t.decode=function(e,r,n,i,o,a,s){for(var l=new cP(e,r,n,i,o),c=null,d=null,f,p=!0;;p=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,a,s)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,a,s)),f=t.merge(c,d),f==null)throw be.getNotFoundInstance();var g=f.getBoundingBox();if(p&&g!=null&&(g.getMinY()<l.getMinY()||g.getMaxY()>l.getMaxY()))l=g;else break}f.setBoundingBox(l);var x=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(x,d);for(var y=c!=null,b=1;b<=x;b++){var _=y?b:x-b;if(f.getDetectionResultColumn(_)===void 0){var C=void 0;_===0||_===x?C=new rU(l,_===0):C=new Eee(l),f.setDetectionResultColumn(_,C);for(var E=-1,P=E,I=l.getMinY();I<=l.getMaxY();I++){if(E=t.getStartColumn(f,_,I,y),E<0||E>l.getMaxX()){if(P===-1)continue;E=P}var T=t.detectCodeword(e,l.getMinX(),l.getMaxX(),y,E,I,a,s);T!=null&&(C.setCodeword(I,T),P=E,a=Math.min(a,T.getWidth()),s=Math.max(s,T.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=cP.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new V9e(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),a=0;try{for(var s=km(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(a+=o-c,c>0)break}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;a>0&&d[f]==null;f++)a--;for(var p=0,f=i.length-1;f>=0&&(p+=o-i[f],!(i[f]>0));f--);for(var f=d.length-1;p>0&&d[f]==null;f--)p--;return e.getBoundingBox().addMissingRows(a,p,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var o=km(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,o,a){for(var s=new rU(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var p=t.detectCodeword(e,0,e.getWidth(),i,d,f,o,a);p!=null&&(s.setCodeword(f,p),i?d=p.getStartX():d=p.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>Wt.MAX_CODEWORDS_IN_BARCODE)throw be.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(d):c.length===1?i[d]=c[0]:(a.push(d),o.push(c))}for(var f=new Array(o.length),p=0;p<f.length;p++)f[p]=o[p];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Wt.toIntArray(n),Wt.toIntArray(a),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<a.length;l++)r[i[l]]=o[l][a[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var c=d instanceof Rn;if(!c)throw d}if(a.length===0)throw Rn.getChecksumInstance();for(var l=0;l<a.length;l++)if(a[l]<o[l].length-1){a[l]++;break}else if(a[l]=0,l===a.length-1)throw Rn.getChecksumInstance()}throw Rn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var l=0;l<a[s].length;l++)a[s][l]=new qm;var c=0;try{for(var d=km(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var p=f.value;if(p!=null)try{for(var g=(i=void 0,km(p.getCodewords())),x=g.next();!x.done;x=g.next()){var y=x.value;if(y!=null){var b=y.getRowNumber();if(b>=0){if(b>=a.length)continue;a[b][c].setValue(y.getValue())}}}}catch(_){i={error:_}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}c++}}catch(_){r={error:_}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return a},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,a,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(o=void 0,km(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var p=f.value;if(p!=null)return(i?p.getEndX():p.getStartX())+s*c*(p.getEndX()-p.getStartX())}}catch(g){o={error:g}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,a,s,l){o=t.adjustCodewordStartColumn(e,r,n,i,o,a);var c=t.getModuleBitCount(e,r,n,i,o,a);if(c==null)return null;var d,f=qt.sum(c);if(i)d=o+f;else{for(var p=0;p<c.length/2;p++){var g=c[p];c[p]=c[c.length-1-p],c[c.length-1-p]=g}d=o,o=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var x=U9e.getDecodedValue(c),y=Wt.getCodeword(x);return y===-1?null:new $9e(o,d,t.getCodewordBucketNumber(x),y)},t.getModuleBitCount=function(e,r,n,i,o,a){for(var s=o,l=new Int32Array(8),c=0,d=i?1:-1,f=i;(i?s<n:s>=r)&&c<l.length;)e.get(s,a)===f?(l[c]++,s+=d):(c++,f=!f);return c===l.length||s===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,o,a){for(var s=o,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=r:s<n)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Me.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var a=Z9e.decode(e,""+r);return a.setErrorsCorrected(o),a.setErasures(n.length),a},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Rn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Me.getFormatInstance();var n=e[0];if(n>e.length)throw Me.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new XO,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new j9e,t})(),eBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uP=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw be.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Me||n instanceof Rn?be.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,o,a=new Array,s=T9e.detectMultiple(e,r,n);try{for(var l=eBe(s.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,f=J9e.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),p=new ui(f.getText(),f.getRawBytes(),void 0,d,nt.PDF_417);p.putMetadata(Yn.ERROR_CORRECTION_LEVEL,f.getECLevel());var g=f.getOther();g!=null&&p.putMetadata(Yn.PDF417_EXTRA_METADATA,g),a.push(p)}}catch(x){i={error:x}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a.map(function(x){return x})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?jt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),tBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),iU=(function(t){tBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(Hi),oU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rBe=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Vr.TRY_HARDER)!==void 0,n=e==null?null:e.get(Vr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(a){return a===nt.UPC_A||a===nt.UPC_E||a===nt.EAN_13||a===nt.EAN_8||a===nt.CODABAR||a===nt.CODE_39||a===nt.CODE_93||a===nt.CODE_128||a===nt.ITF||a===nt.RSS_14||a===nt.RSS_EXPANDED});o&&!r&&i.push(new Hm(e)),n.includes(nt.QR_CODE)&&i.push(new lP),n.includes(nt.DATA_MATRIX)&&i.push(new sP),n.includes(nt.AZTEC)&&i.push(new oP),n.includes(nt.PDF_417)&&i.push(new uP),o&&r&&i.push(new Hm(e))}i.length===0&&(r||i.push(new Hm(e)),i.push(new lP),i.push(new sP),i.push(new oP),i.push(new uP),r&&i.push(new Hm(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=oU(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new iU("No readers where selected, nothing can be read.");try{for(var i=oU(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof iU)continue}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new be("No MultiFormat Readers were able to detect the code.")},t})(),nBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),iBe=(function(t){nBe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,o=new rBe;return o.setHints(r),i=t.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(Cp),oBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){oBe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new uP,r)||this}return e})(Cp);var aBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){aBe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new lP,r)||this}return e})(Cp);var dP;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(dP||(dP={}));const e1=dP;var Tee=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new wc(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,o=r.length;o<=e;o++){var a=n.multiply(new wc(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));r.push(a),n=a}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new lt("No error correction bytes");var n=e.length-r;if(n<=0)throw new lt("No data bytes provided");var i=this.buildGenerator(r),o=new Int32Array(n);Ar.arraycopy(e,0,o,0,n);var a=new wc(this.field,o);a=a.multiplyByMonomial(r,1);for(var s=a.divide(i)[1],l=s.getCoefficients(),c=r-l.length,d=0;d<c;d++)e[n+d]=0;Ar.arraycopy(l,0,e,n+c,l.length)},t})(),Gm=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=n[a],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[a+1][l]&&c===n[a+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var l=n[a];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,a+6<o&&n[a][s]===1&&n[a+1][s]===0&&n[a+2][s]===1&&n[a+3][s]===1&&n[a+4][s]===1&&n[a+5][s]===0&&n[a+6][s]===1&&(t.isWhiteVertical(n,s,a-4,a)||t.isWhiteVertical(n,s,a+7,a+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=n[a],l=0;l<i;l++)s[l]===1&&r++;var c=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-c)*10/c);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,o;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,i=(o&1)+o%3;break;case 6:o=n*r,i=(o&1)+o%3&1;break;case 7:o=n*r,i=o%3+(n+r&1)&1;break;default:throw new lt("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,d=0;d<o;d++){var f=r?a[s][d]:a[d][s];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),sBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lBe=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=sBe(this.bytes),o=i.next();!o.done;o=i.next()){var a=o.value;xn.fill(a,e)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=r.bytes[n],s=0,l=this.width;s<l;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Pt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),fP=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Pt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),cBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Nr=(function(t){cBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(Hi),aU=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Dn;t.makeTypeInfoBits(e,r,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],c=l[0],d=l[1];if(n.setBoolean(c,d,s),o<8){var f=n.getWidth()-o-1,p=8;n.setBoolean(f,p,s)}else{var f=8,p=n.getHeight()-7+(o-8);n.setBoolean(f,p,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Dn;t.makeVersionInfoBits(e,n);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+a,s),r.setBoolean(r.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=a-l;if(t.isEmpty(n.get(c,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&Gm.getDataMaskBit(r,c,s)&&(d=!d),n.setBoolean(c,s,d)}}s+=o}o=-o,s+=o,a-=2}if(i!==e.getSize())throw new Nr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-jt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new lt("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!fP.isValidMaskPattern(r))throw new Nr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var a=new Dn;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new Nr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Nr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Nr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Nr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Nr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var l=0;l!==a;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),uBe=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),sU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Gm.applyMaskPenaltyRule1(e)+Gm.applyMaskPenaltyRule2(e)+Gm.applyMaskPenaltyRule3(e)+Gm.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(e1.CHARACTER_SET)!==void 0;o&&(i=n.get(e1.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new Dn;if(a===Ir.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=yn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(a,s);var c=new Dn;this.appendBytes(e,a,c,i);var d;if(n!==null&&n.get(e1.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(e1.QR_VERSION).toString(),10);d=Yu.getVersionForNumber(f);var p=this.calculateBitsNeeded(a,s,c,d);if(!this.willFit(p,d,r))throw new Nr("Data too big for requested version")}else d=this.recommendVersion(r,a,s,c);var g=new Dn;g.appendBitArray(s);var x=a===Ir.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(x,d,a,g),g.appendBitArray(c);var y=d.getECBlocksForLevel(r),b=d.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(b,g);var _=this.interleaveWithECBytes(g,d.getTotalCodewords(),b,y.getNumBlocks()),C=new fP;C.setECLevel(r),C.setMode(a),C.setVersion(d);var E=d.getDimensionForVersion(),P=new lBe(E,E),I=this.chooseMaskPattern(_,r,d,P);return C.setMaskPattern(I),aU.buildMatrix(_,r,d,I,P),C.setMatrix(P),C},t.recommendVersion=function(e,r,n,i){var o=this.calculateBitsNeeded(r,n,i,Yu.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(r,n,i,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),yn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ir.KANJI;for(var n=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Ir.BYTE}return i?Ir.ALPHANUMERIC:n?Ir.NUMERIC:Ir.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=zo.encode(e,yn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=r[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<fP.NUM_MASK_PATTERNS;s++){aU.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<o&&(o=l,a=s)}return a},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Yu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Nr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),a=o.getTotalECCodewords(),s=i-a,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Nr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var i=o;i<8;i++)r.appendBit(!1);for(var a=e-r.getSizeInBytes(),i=0;i<a;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new Nr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,o,a){if(i>=n)throw new Nr("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),d=c+1,f=Math.floor(r/n),p=f+1,g=c-f,x=d-p;if(g!==x)throw new Nr("EC bytes mismatch");if(n!==l+s)throw new Nr("RS blocks mismatch");if(e!==(f+g)*l+(p+x)*s)throw new Nr("Total bytes mismatch");i<l?(o[0]=f,a[0]=g):(o[0]=p,a[0]=x)},t.interleaveWithECBytes=function(e,r,n,i){var o,a,s,l;if(e.getSizeInBytes()!==n)throw new Nr("Number of bits and data bytes does not match");for(var c=0,d=0,f=0,p=new Array,g=0;g<i;++g){var x=new Int32Array(1),y=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,g,x,y);var b=x[0],_=new Uint8Array(b);e.toBytes(8*c,_,0,b);var C=t.generateECBytes(_,y[0]);p.push(new uBe(_,C)),d=Math.max(d,b),f=Math.max(f,C.length),c+=x[0]}if(n!==c)throw new Nr("Data bytes does not match offset");for(var E=new Dn,g=0;g<d;++g)try{for(var P=(o=void 0,sU(p)),I=P.next();!I.done;I=P.next()){var T=I.value,_=T.getDataBytes();g<_.length&&E.appendBits(_[g],8)}}catch(B){o={error:B}}finally{try{I&&!I.done&&(a=P.return)&&a.call(P)}finally{if(o)throw o.error}}for(var g=0;g<f;++g)try{for(var N=(s=void 0,sU(p)),S=N.next();!S.done;S=N.next()){var T=S.value,C=T.getErrorCorrectionBytes();g<C.length&&E.appendBits(C[g],8)}}catch(B){s={error:B}}finally{try{S&&!S.done&&(l=N.return)&&l.call(N)}finally{if(s)throw s.error}}if(r!==E.getSizeInBytes())throw new Nr("Interleaving error: "+r+" and "+E.getSizeInBytes()+" differ.");return E},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),o=0;o<n;o++)i[o]=e[o]&255;new Tee(Li.QR_CODE_FIELD_256).encode(i,r);for(var a=new Uint8Array(r),o=0;o<r;o++)a[o]=i[n+o];return a},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new Nr(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,r,n,i){switch(r){case Ir.NUMERIC:t.appendNumericBytes(e,n);break;case Ir.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Ir.BYTE:t.append8BitBytes(e,n,i);break;case Ir.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Nr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(o*100+a*10+s,10),i+=3}else if(i+1<n){var a=t.getDigit(e.charAt(i+1));r.appendBits(o*10+a,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new Nr;if(i+1<n){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new Nr;r.appendBits(o*45+a,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=zo.encode(e,n)}catch(l){throw new Nr(l)}for(var o=0,a=i.length;o!==a;o++){var s=i[o];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=zo.encode(e,yn.SJIS)}catch(f){throw new Nr(f)}for(var i=n.length,o=0;o<i;o+=2){var a=n[o]&255,s=n[o+1]&255,l=a<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Nr("Invalid byte sequence");var d=(c>>8)*192+(c&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Ir.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=yn.UTF8.getName(),t})();var dBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){dBe(e,t);function e(r,n,i,o,a,s,l,c){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=o,d.top=a,o+s>n||a+l>i)throw new lt("Crop rectangle does not fit within image data.");return c&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Ar.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Ar.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<n;s++){var l=s*r;Ar.arraycopy(this.yuvData,a,o,l,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,c=0;c<r;c++){var d=o[a+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|d*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth)for(var s=a+r/2,l=a,c=a+r-1;l<s;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}},e.prototype.invert=function(){return new qO(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(a2);var fBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){fBe(e,t);function e(r,n,i,o,a,s,l){var c=t.call(this,n,i)||this;if(c.dataWidth=o,c.dataHeight=a,c.left=s,c.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),p=0;p<d;p++){var g=r[p],x=g>>16&255,y=g>>7&510,b=g&255;f[p]=(x+y+b)/4&255}c.luminances=f}else c.luminances=r;if(o===void 0&&(c.dataWidth=n),a===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new lt("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Ar.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Ar.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<n;s++){var l=s*r;Ar.arraycopy(this.luminances,a,o,l,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new qO(this)},e})(a2);var hBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),pBe=(function(t){hBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(yn),mBe=(function(){function t(){}return t.ISO_8859_1=yn.ISO8859_1,t})(),hP,gBe=301,yBe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=gBe);return{LOG:t,ALOG:e}};hP=yBe([],[]),hP.LOG;hP.ALOG;var lU;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(lU||(lU={}));var cU=129,Nee=230,vBe=231,xBe=235,bBe=236,wBe=237,_Be=238,ABe=239,CBe=240,GT=254,EBe=254,uU="[)>05",dU="[)>06",fU="",cr=0,zn=1,yi=2,mn=3,In=4,ri=5,SBe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return cr},t.prototype.encode=function(e){var r=ha.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=ha.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case ri:e.writeCodeword(vBe),e.signalEncoderChange(ri);return;case zn:e.writeCodeword(Nee),e.signalEncoderChange(zn);return;case mn:e.writeCodeword(_Be),e.signalEncoderChange(mn);break;case yi:e.writeCodeword(ABe),e.signalEncoderChange(yi);break;case In:e.writeCodeword(CBe),e.signalEncoderChange(In);break;default:throw new Error("Illegal mode: "+i)}else ha.isExtendedASCII(n)?(e.writeCodeword(xBe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(ha.isDigit(e)&&ha.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t})(),TBe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return ri},t.prototype.encode=function(e){var r=new Pt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=ha.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(cr);break}}var o=r.length()-1,a=1,s=e.getCodewordCount()+o+a;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(o<=249)r.setCharAt(0,Ut.getCharAt(o));else if(o<=1555)r.setCharAt(0,Ut.getCharAt(Math.floor(o/250)+249)),r.insert(1,Ut.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t})(),QO=(function(){function t(){}return t.prototype.getEncodingMode=function(){return zn},t.prototype.encodeMaximal=function(e){for(var r=new Pt,n=0,i=e.pos,o=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,n=this.encodeChar(a,r),r.length()%3===0&&(i=e.pos,o=r.length())}if(o!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&c!==2||d===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Nee),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Pt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,a=e.getCodewordCount()+o;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var l=new Pt;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var d=ha.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(cr);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var o=r.length(),a=r.toString().substring(0,o-i);r.setLengthToZero(),r.append(a),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(GT)}else if(a===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(GT),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(a>0||e.hasMoreCharacters())&&e.writeCodeword(GT)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(cr)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,o=new Pt;return o.append(n),o.append(i),o.toString()},t})(),NBe=(function(){function t(){}return t.prototype.getEncodingMode=function(){return In},t.prototype.encode=function(e){for(var r=new Pt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var a=ha.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(cr);break}}}r.append(Ut.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var a=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(cr)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(Ut.getCharAt(e-64)):ha.illegalCharacter(Ut.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,a=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(o<<6)+a,l=s>>16&255,c=s>>8&255,d=s&255,f=new Pt;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(d),f.toString()},t})(),IBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),kBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zt=(function(){function t(e,r,n,i,o,a,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,o){var a,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var l=kBe(OBe),c=l.next();!c.done;c=l.next()){var d=c.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t})(),PBe=(function(t){IBe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e})(Zt),OBe=[new Zt(!1,3,5,8,8,1),new Zt(!1,5,7,10,10,1),new Zt(!0,5,7,16,6,1),new Zt(!1,8,10,12,12,1),new Zt(!0,10,11,14,6,2),new Zt(!1,12,12,14,14,1),new Zt(!0,16,14,24,10,1),new Zt(!1,18,14,16,16,1),new Zt(!1,22,18,18,18,1),new Zt(!0,22,18,16,10,2),new Zt(!1,30,20,20,20,1),new Zt(!0,32,24,16,14,2),new Zt(!1,36,24,22,22,1),new Zt(!1,44,28,24,24,1),new Zt(!0,49,28,22,14,2),new Zt(!1,62,36,14,14,4),new Zt(!1,86,42,16,16,4),new Zt(!1,114,48,18,18,4),new Zt(!1,144,56,20,20,4),new Zt(!1,174,68,22,22,4),new Zt(!1,204,84,24,24,4,102,42),new Zt(!1,280,112,14,14,16,140,56),new Zt(!1,368,144,16,16,16,92,36),new Zt(!1,456,192,18,18,16,114,48),new Zt(!1,576,224,20,20,16,144,56),new Zt(!1,696,272,22,22,16,174,68),new Zt(!1,816,336,24,24,16,136,56),new Zt(!1,1050,408,18,18,36,175,68),new Zt(!1,1304,496,20,20,36,163,62),new PBe],jBe=(function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Pt,i=0,o=r.length;i<o;i++){var a=String.fromCharCode(r[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(a)}this.msg=n.toString(),this.shape=0,this.codewords=new Pt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Zt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t})(),RBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),DBe=(function(t){RBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return mn},e.prototype.encode=function(r){for(var n=new Pt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var a=ha.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){r.signalEncoderChange(cr);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):ha.illegalCharacter(Ut.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(EBe),r.getNewEncoding()<0&&r.signalEncoderChange(cr)},e})(QO),MBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),FBe=(function(t){MBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return yi},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e})(QO),ha=(function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=cU+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var a=new QO,s=[new SBe,a,new FBe,new DBe,new NBe,new TBe],l=new jBe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(uU)&&e.endsWith(fU)?(l.writeCodeword(bBe),l.setSkipAtEnd(2),l.pos+=uU.length):e.startsWith(dU)&&e.endsWith(fU)&&(l.writeCodeword(wBe),l.setSkipAtEnd(2),l.pos+=dU.length);var c=cr;for(o&&(a.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&c!==cr&&c!==ri&&c!==In&&l.writeCodeword("þ");var p=l.getCodewords();for(p.length()<f&&p.append(cU);p.length()<f;)p.append(this.randomize253State(p.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===mn&&i===mn){for(var o=Math.min(r+3,e.length),a=r;a<o;a++)if(!this.isNativeX12(e.charCodeAt(a)))return cr}else if(n===In&&i===In){for(var o=Math.min(r+4,e.length),a=r;a<o;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return cr}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===cr?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var o=0,a=new Uint8Array(6),s=[];;){if(r+o===e.length){xn.fill(a,0),xn.fill(s,0);var l=this.findMinimums(i,s,jt.MAX_VALUE,a),c=this.getMinimumCount(a);if(s[cr]===l)return cr;if(c===1){if(a[ri]>0)return ri;if(a[In]>0)return In;if(a[yi]>0)return yi;if(a[mn]>0)return mn}return zn}var d=e.charCodeAt(r+o);if(o++,this.isDigit(d)?i[cr]+=.5:this.isExtendedASCII(d)?(i[cr]=Math.ceil(i[cr]),i[cr]+=2):(i[cr]=Math.ceil(i[cr]),i[cr]++),this.isNativeC40(d)?i[zn]+=2/3:this.isExtendedASCII(d)?i[zn]+=8/3:i[zn]+=4/3,this.isNativeText(d)?i[yi]+=2/3:this.isExtendedASCII(d)?i[yi]+=8/3:i[yi]+=4/3,this.isNativeX12(d)?i[mn]+=2/3:this.isExtendedASCII(d)?i[mn]+=13/3:i[mn]+=10/3,this.isNativeEDIFACT(d)?i[In]+=3/4:this.isExtendedASCII(d)?i[In]+=17/4:i[In]+=13/4,this.isSpecialB256(d)?i[ri]+=4:i[ri]++,o>=4){if(xn.fill(a,0),xn.fill(s,0),this.findMinimums(i,s,jt.MAX_VALUE,a),s[cr]<this.min(s[ri],s[zn],s[yi],s[mn],s[In]))return cr;if(s[ri]<s[cr]||s[ri]+1<this.min(s[zn],s[yi],s[mn],s[In]))return ri;if(s[In]+1<this.min(s[ri],s[zn],s[yi],s[mn],s[cr]))return In;if(s[yi]+1<this.min(s[ri],s[zn],s[In],s[mn],s[cr]))return yi;if(s[mn]+1<this.min(s[ri],s[zn],s[In],s[yi],s[cr]))return mn;if(s[zn]+1<this.min(s[cr],s[ri],s[In],s[yi])){if(s[zn]<s[mn])return zn;if(s[zn]===s[mn]){for(var f=r+o+1;f<e.length;){var p=e.charCodeAt(f);if(this.isX12TermSep(p))return mn;if(!this.isNativeX12(p))break;f++}return zn}}}}},t.min=function(e,r,n,i,o){var a=Math.min(e,Math.min(r,Math.min(n,i)));return o===void 0?a:Math.min(a,o)},t.findMinimums=function(e,r,n,i){for(var o=0;o<6;o++){var a=r[o]=Math.ceil(e[o]);n>a&&(n=a,xn.fill(i,0)),n===a&&(i[o]=i[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=jt.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t})(),KT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hU=(function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return zo.encode(e,this.charset)!=null}catch{return!1}},t})(),LBe=(function(){function t(e,r,n){var i,o,a,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new hU(pBe.forName(j))}),this.encoders=[];var d=[];d.push(new hU(mBe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),p=0;p<e.length;p++){var g=!1;try{for(var x=(i=void 0,KT(d)),y=x.next();!y.done;y=x.next()){var b=y.value,_=e.charAt(p),C=_.charCodeAt(0);if(C===n||b.canEncode(_)){g=!0;break}}}catch(j){i={error:j}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}if(!g)try{for(var E=(a=void 0,KT(this.ENCODERS)),P=E.next();!P.done;P=E.next()){var b=P.value;if(b.canEncode(e.charAt(p))){d.push(b),g=!0;break}}}catch(j){a={error:j}}finally{try{P&&!P.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}g||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var I=0;try{for(var T=KT(d),N=T.next();!N.done;N=T.next()){var b=N.value;this.encoders[I++]=b}}catch(j){l={error:j}}finally{try{N&&!N.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}}var S=-1;if(r!=null){for(var p=0;p<this.encoders.length;p++)if(this.encoders[p]!=null&&r.name===this.encoders[p].name){S=p;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return zo.encode(Ut.getCharAt(e),this.encoders[r].name)},t})(),BBe=3,VBe=(function(){function t(e,r,n){this.fnc1=n;var i=new LBe(e,r,n);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var a=e.charAt(o).charCodeAt(0);this.bytes[o]=a===n?1e3:a}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Pt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,o,a){var s=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(s===a||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var d=l;d<c;d++)(s===a||r.canEncode(s,d))&&this.addEdge(n,i+1,new pU(s,r,d,o,a))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,o=new pU[i+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var a=1;a<=i;a++){for(var s=0;s<r.length();s++)o[a][s]!=null&&a<i&&this.addEdges(e,r,o,a,o[a][s],n);for(var s=0;s<r.length();s++)o[a-1][s]=null}for(var l=-1,c=jt.MAX_VALUE,s=0;s<r.length();s++)if(o[i][s]!=null){var d=o[i][s];d.cachedTotalSize<c&&(c=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],p=o[i][l];p!=null;){if(p.isFNC1())f.unshift(1e3);else for(var g=r.encode(p.c,p.encoderIndex),a=g.length-1;a>=0;a--)f.unshift(g[a]&255);var x=p.previous===null?0:p.previous.encoderIndex;x!==p.encoderIndex&&f.unshift(256+r.getECIValue(p.encoderIndex)),p=p.previous}for(var y=[],a=0;a<y.length;a++)y[a]=f[a];return y},t})(),pU=(function(){function t(e,r,n,i,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var a=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(a+=BBe),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t})(),$Be=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();var mU;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(mU||(mU={}));(function(t){$Be(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n,i)||this;return s.shape=o,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(VBe);var UBe=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),gU=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),zBe=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),WBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ZO=(function(t){WBe(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+jt.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(zBe),HBe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qBe=(function(t){HBe(e,t);function e(r,n,i){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(ZO);function GBe(t,e,r){return new qBe(t,e,r)}function Pm(t,e,r){return new ZO(t,e,r)}var KBe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],_c=0,fb=1,$o=2,Iee=3,es=4,YBe=new ZO(null,0,0),YT=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],XBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function QBe(t){var e,r;try{for(var n=XBe(t),i=n.next();!i.done;i=n.next()){var o=i.value;xn.fill(o,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[_c][es]=0,t[fb][es]=0,t[fb][_c]=28,t[Iee][es]=0,t[$o][es]=0,t[$o][_c]=15,t}var kee=QBe(xn.createInt32Array(6,6)),ZBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JBe=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=YT[this.mode][e];i=Pm(i,o&65535,o>>16),n+=o>>16}var a=e===$o?4:5;return i=Pm(i,r,a),new t(i,e,0,n+a)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===$o?4:5;return n=Pm(n,kee[this.mode][e],i),n=Pm(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===es||this.mode===$o){var o=YT[n][_c];r=Pm(r,o&65535,o>>16),i+=o>>16,n=_c}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=GBe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(YT[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var a=new Dn;try{for(var s=ZBe(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(a,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.prototype.toString=function(){return Ut.format("%s bits=%d bytes=%d",KBe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(YBe,_c,0,0),t})();function eVe(t){var e=Ut.getCharCode(" "),r=Ut.getCharCode("."),n=Ut.getCharCode(",");t[_c][e]=1;for(var i=Ut.getCharCode("Z"),o=Ut.getCharCode("A"),a=o;a<=i;a++)t[_c][a]=a-o+2;t[fb][e]=1;for(var s=Ut.getCharCode("z"),l=Ut.getCharCode("a"),a=l;a<=s;a++)t[fb][a]=a-l+2;t[$o][e]=1;for(var c=Ut.getCharCode("9"),d=Ut.getCharCode("0"),a=d;a<=c;a++)t[$o][a]=a-d+2;t[$o][n]=12,t[$o][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],p=0;p<f.length;p++)t[Iee][Ut.getCharCode(f[p])]=p;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],p=0;p<g.length;p++)Ut.getCharCode(g[p])>0&&(t[es][Ut.getCharCode(g[p])]=p);return t}var XT=eVe(xn.createInt32Array(5,256)),t1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tVe=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Ut.getCharCode(" "),r=Ut.getCharCode(`
`),n=gU.singletonList(JBe.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Ut.getCharCode("\r"):o=a===r?2:0;break;case Ut.getCharCode("."):o=a===e?3:0;break;case Ut.getCharCode(","):o=a===e?4:0;break;case Ut.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var s=gU.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var a=t1(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.updateStateForChar(l,r,o)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,o=XT[e.getMode()][i]>0,a=null,s=0;s<=es;s++){var l=XT[s][i];if(l>0){if(a==null&&(a=e.endBinaryShift(r)),!o||s===e.getMode()||s===$o){var c=a.latchAndAppend(s,l);n.push(c)}if(!o&&kee[e.getMode()][s]>=0){var d=a.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||XT[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,o,a=[];try{for(var s=t1(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,r,n,a)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,r,n,i){var o=e.endBinaryShift(r);if(i.push(o.latchAndAppend(es,n)),e.getMode()!==es&&i.push(o.shiftAndAppend(es,n)),n===3||n===4){var a=o.latchAndAppend($o,16-n).latchAndAppend($o,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,o,a=[];try{for(var s=t1(e),l=s.next();!l.done;l=s.next()){var c=l.value,d=!0,f=function(b){if(b.isBetterThanOrEqualTo(c))return d=!1,"break";c.isBetterThanOrEqualTo(b)&&(a=a.filter(function(_){return _!==b}))};try{for(var p=(i=void 0,t1(a)),g=p.next();!g.done;g=p.next()){var x=g.value,y=f(x);if(y==="break")break}}catch(b){i={error:b}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}d&&a.push(c)}}catch(b){r={error:b}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t})(),rVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new tVe(e).encode(),o=jt.truncDivision(i.getSize()*r,100)+11,a=i.getSize()+o,s,l,c,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new lt(Ut.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var p=c-c%d;if(f=t.stuffBits(i,d),f.getSize()+o>p)throw new lt("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new lt("Data to large for user specified layer")}else{d=0,f=null;for(var g=0;;g++){if(g>t.MAX_NB_BITS)throw new lt("Data too large for an Aztec code");if(s=g<=3,l=s?g+1:g,c=t.totalBitsInLayer(l,s),!(a>c)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var p=c-c%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+o<=p)break}}}var x=t.generateCheckWords(f,c,d),y=f.getSize()/d,b=t.generateModeMessage(s,l,y),_=(s?11:14)+l*4,C=new Int32Array(_),E;if(s){E=_;for(var g=0;g<C.length;g++)C[g]=g}else{E=_+1+2*jt.truncDivision(jt.truncDivision(_,2)-1,15);for(var P=jt.truncDivision(_,2),I=jt.truncDivision(E,2),g=0;g<P;g++){var T=g+jt.truncDivision(g,15);C[P-g-1]=I-T-1,C[P+g]=I+T+1}}for(var N=new ys(E),g=0,S=0;g<l;g++){for(var j=(l-g)*4+(s?9:12),B=0;B<j;B++)for(var M=B*2,L=0;L<2;L++)x.get(S+M+L)&&N.set(C[g*2+L],C[g*2+B]),x.get(S+j*2+M+L)&&N.set(C[g*2+B],C[_-1-g*2-L]),x.get(S+j*4+M+L)&&N.set(C[_-1-g*2-L],C[_-1-g*2-B]),x.get(S+j*6+M+L)&&N.set(C[_-1-g*2-B],C[g*2+L]);S+=j*8}if(t.drawModeMessage(N,s,E,b),s)t.drawBullsEye(N,jt.truncDivision(E,2),5);else{t.drawBullsEye(N,jt.truncDivision(E,2),7);for(var g=0,B=0;g<jt.truncDivision(_,2)-1;g+=15,B+=16)for(var L=jt.truncDivision(E,2)&1;L<E;L+=2)N.set(jt.truncDivision(E,2)-B,L),N.set(jt.truncDivision(E,2)+B,L),N.set(L,jt.truncDivision(E,2)-B),N.set(L,jt.truncDivision(E,2)+B)}var F=new UBe;return F.setCompact(s),F.setSize(E),F.setLayers(l),F.setCodeWords(y),F.setMatrix(N),F},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var o=r-i;o<=r+i;o++)e.set(o,r-i),e.set(o,r+i),e.set(r-i,o),e.set(r+i,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Dn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var o=jt.truncDivision(n,2);if(r)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+jt.truncDivision(a,5);i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)}},t.generateCheckWords=function(e,r,n){var i,o,a=e.getSize()/n,s=new Tee(t.getGF(n)),l=jt.truncDivision(r,n),c=t.bitsToWords(e,n,l);s.encode(c,l-a);var d=r%n,f=new Dn;f.appendBits(0,d);try{for(var p=rVe(Array.from(c)),g=p.next();!g.done;g=p.next()){var x=g.value;f.appendBits(x,n)}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),o,a;for(o=0,a=e.getSize()/r;o<a;o++){for(var s=0,l=0;l<r;l++)s|=e.get(o*r+l)?1<<r-l-1:0;i[o]=s}return i},t.getGF=function(e){switch(e){case 4:return Li.AZTEC_PARAM;case 6:return Li.AZTEC_DATA_6;case 8:return Li.AZTEC_DATA_8;case 10:return Li.AZTEC_DATA_10;case 12:return Li.AZTEC_DATA_12;default:throw new lt("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Dn,i=e.getSize(),o=(1<<r)-2,a=0;a<i;a+=r){for(var s=0,l=0;l<r;l++)(a+l>=i||e.get(a+l))&&(s|=1<<r-1-l);(s&o)===o?(n.appendBits(s&o,r),a--):(s&o)===0?(n.appendBits(s|1,r),a--):n.appendBits(s,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var nVe={audio:!1,video:{facingMode:"environment"}},iVe=300,oVe=function(t){var e=t===void 0?{}:t,r=e.timeBetweenDecodingAttempts,n=r===void 0?iVe:r,i=e.hints;return k.useMemo(function(){var o=new iBe(i);return o.timeBetweenDecodingAttempts=n,o},[i,n])},yU=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},vU=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},aVe=function(t){var e=t.resetStream,r=k.useState(!1),n=r[0],i=r[1],o=k.useState(null),a=o[0],s=o[1],l=k.useRef(null),c=k.useRef(e),d=k.useCallback(function(g){l.current=g,s(typeof g.getCapabilities=="function"?g.getCapabilities().torch!==void 0:!1)},[]),f=k.useCallback(function(){return yU(void 0,void 0,void 0,function(){return vU(this,function(g){switch(g.label){case 0:return!l.current||!a?[2]:[4,l.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return g.sent(),i(!0),[2]}})})},[a]),p=k.useCallback(function(){return yU(void 0,void 0,void 0,function(){return vU(this,function(g){switch(g.label){case 0:return!l.current||!a?[2]:(l.current=null,s(null),i(!1),[4,c.current()]);case 1:return g.sent(),[2]}})})},[a]);return k.useEffect(function(){c.current=e},[e]),{init:d,isOn:n,isAvailable:a,on:f,off:p}},sVe=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},xU=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},bU=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},lVe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},cVe=function(t){t===void 0&&(t={});var e=t.paused,r=e===void 0?!1:e,n=t.hints,i=t.timeBetweenDecodingAttempts,o=t.onDecodeResult,a=o===void 0?function(){}:o,s=t.onDecodeError,l=s===void 0?function(){}:s,c=t.onError,d=c===void 0?function(){}:c,f="deviceId"in t?t.deviceId:void 0,p=k.useState("constraints"in t?t.constraints:void 0),g=p[0],x=p[1],y=k.useRef(a),b=k.useRef(l),_=k.useRef(d),C=k.useRef(null),E=oVe({hints:n,timeBetweenDecodingAttempts:i}),P=aVe({resetStream:function(){return xU(void 0,void 0,void 0,function(){return bU(this,function(B){switch(B.label){case 0:return j(),[4,S()];case 1:return B.sent(),[2]}})})}}),I=P.init,T=lVe(P,["init"]),N=k.useCallback(function(B,M){B&&y.current(B),M&&b.current(M)},[]),S=k.useCallback(function(){return xU(void 0,void 0,void 0,function(){var B,M,L;return bU(this,function(F){switch(F.label){case 0:if(!C.current)return[2];if(r)return[2];F.label=1;case 1:return F.trys.push([1,6,,7]),f?[4,E.decodeFromVideoDevice(f,C.current,N)]:[3,3];case 2:return F.sent(),[3,5];case 3:return[4,E.decodeFromConstraints(g??nVe,C.current,N)];case 4:F.sent(),F.label=5;case 5:return[3,7];case 6:return B=F.sent(),_.current(B),[2];case 7:return C.current?(M=C.current.srcObject,L=M.getVideoTracks()[0],L&&I(L),[2]):[2]}})})},[E,f,g,r,N,I]),j=k.useCallback(function(){E.reset()},[E]);return k.useEffect(function(){y.current=a},[a]),k.useEffect(function(){b.current=l},[l]),k.useEffect(function(){_.current=d},[d]),k.useEffect(function(){var B=sVe(g,t.constraints);B||x(t.constraints)},[g,t]),k.useEffect(function(){return S(),function(){j()}},[S,j]),{ref:C,torch:T}};function uVe({onBarcodeDetected:t,onClose:e,isActive:r}){const[n,i]=k.useState(""),[o,a]=k.useState(null),[s,l]=k.useState(null),[c,d]=k.useState(!1),[f,p]=k.useState(!1),{ref:g}=cVe({onDecodeResult(y){const b=y.getText();console.log("📷 Barcode detected by camera:",b),console.log("🔢 Barcode length:",b.length),console.log("📋 Barcode format:",y.getBarcodeFormat()),i(b),t(b)},onDecodeError(y){d(!0)},onError(y){console.error("Scanner error:",y),y?.message?.includes("Permission")?(a("Camera permission denied"),l(!1)):y?.message?.includes("NotFound")?(a("No camera found on this device"),l(!1)):a("Error accessing camera")},constraints:{video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},timeBetweenDecodingAttempts:100,paused:!r});k.useEffect(()=>{r&&(console.log("🎥 Starting barcode scanner..."),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(()=>{console.log("✅ Camera permission granted"),l(!0),a(null)}).catch(y=>{console.error("❌ Camera permission error:",y),l(!1),y.name==="NotAllowedError"?a("Camera permission denied. Please enable it in settings."):y.name==="NotFoundError"?a("No camera found on this device."):a("Unable to access camera.")}))},[r]);const x=async()=>{try{const y=g.current;if(y&&y.srcObject){const _=y.srcObject.getVideoTracks()[0];_.getCapabilities().torch&&(await _.applyConstraints({advanced:[{torch:!f}]}),p(!f),console.log("🔦 Torch toggled:",!f))}}catch(y){console.error("Torch error:",y)}};return u.jsx(yd,{children:r&&u.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black",children:u.jsx("div",{className:"relative w-full h-full",children:o||s===!1?u.jsx("div",{className:"flex items-center justify-center h-full p-6",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#FFE8E8"},children:u.jsx(kre,{className:"w-10 h-10",style:{color:"#E53E3E"}})}),u.jsx("h3",{className:"text-xl mb-3 text-white",children:"Camera Access Required"}),u.jsx("p",{className:"text-gray-300 mb-6",children:o}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:e,className:"w-full py-3 rounded-lg text-white transition-all hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Close"}),u.jsx("p",{className:"text-sm text-gray-400",children:"To enable camera: Settings → Privacy → Camera"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsx("video",{ref:g,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50"}),u.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-4 border-white rounded-xl",style:{width:"85%",maxWidth:"400px",height:"220px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"},children:[u.jsx("div",{className:"absolute -top-1 -left-1 w-8 h-8 border-t-4 border-l-4 border-green-400 rounded-tl-xl"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-8 h-8 border-t-4 border-r-4 border-green-400 rounded-tr-xl"}),u.jsx("div",{className:"absolute -bottom-1 -left-1 w-8 h-8 border-b-4 border-l-4 border-green-400 rounded-bl-xl"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 border-b-4 border-r-4 border-green-400 rounded-br-xl"}),u.jsx(it.div,{className:"absolute left-0 right-0 h-1 bg-green-400 shadow-lg",style:{boxShadow:"0 0 20px rgba(74, 222, 128, 0.8)"},animate:{top:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})]})]}),u.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 bg-gradient-to-b from-black/70 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xu,{className:"w-5 h-5 text-white"}),u.jsx("span",{className:"text-white font-medium",children:"Scan Barcode"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:x,className:`p-2 rounded-full transition-colors ${f?"bg-yellow-500":"hover:bg-white/20"}`,children:u.jsx(Gre,{className:"w-6 h-6 text-white"})}),u.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:u.jsx(Zs,{className:"w-6 h-6 text-white"})})]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/70 to-transparent",children:u.jsx("div",{className:"text-center",children:n?u.jsx(it.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-green-500 px-6 py-3 rounded-lg inline-block",children:u.jsxs("p",{className:"text-white font-medium",children:["✓ Scanned: ",n]})}):u.jsxs("div",{className:"bg-black/50 px-6 py-3 rounded-lg inline-block backdrop-blur-sm max-w-md",children:[u.jsx("p",{className:"text-white text-sm mb-1",children:c?"🔍 Actively scanning...":"Position barcode in frame"}),u.jsx("p",{className:"text-gray-300 text-xs",children:c?"Hold steady • Make sure barcode is clear and well-lit":"Aim camera at barcode"})]})})})]})})})})}function dVe({onPhotoCapture:t,onClose:e,isActive:r}){const n=k.useRef(null),i=k.useRef(null),[o,a]=k.useState(null),[s,l]=k.useState(null),[c,d]=k.useState(null);k.useEffect(()=>(r&&f(),()=>{p()}),[r]);const f=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});n.current&&(n.current.srcObject=_),a(_),d(null),console.log("✅ Camera started for nutrition label capture")}catch(_){console.error("❌ Camera error:",_),_.name==="NotAllowedError"?d("Camera permission denied. Please enable it in settings."):_.name==="NotFoundError"?d("No camera found on this device."):d("Unable to access camera.")}},p=()=>{o&&(o.getTracks().forEach(_=>_.stop()),a(null))},g=()=>{if(!n.current||!i.current)return;const _=n.current,C=i.current,E=C.getContext("2d");if(!E)return;C.width=_.videoWidth,C.height=_.videoHeight,E.drawImage(_,0,0,C.width,C.height);const P=C.toDataURL("image/jpeg",.9);l(P),console.log("📸 Photo captured")},x=()=>{l(null)},y=()=>{s&&(t(s),p())},b=()=>{p(),e()};return u.jsx(yd,{children:r&&u.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black",children:u.jsx("div",{className:"relative w-full h-full",children:c?u.jsx("div",{className:"flex items-center justify-center h-full p-6",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#FFE8E8"},children:u.jsx(Zs,{className:"w-10 h-10",style:{color:"#E53E3E"}})}),u.jsx("h3",{className:"text-xl mb-3 text-white",children:"Camera Access Required"}),u.jsx("p",{className:"text-gray-300 mb-6",children:c}),u.jsx("button",{onClick:b,className:"w-full py-3 rounded-lg text-white transition-all hover:opacity-90",style:{backgroundColor:"#1C7C54"},children:"Close"})]})}):s?u.jsxs("div",{className:"relative w-full h-full",children:[u.jsx("img",{src:s,alt:"Captured nutrition label",className:"w-full h-full object-contain bg-black"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-5 pb-6 bg-gradient-to-t from-black via-black/95 to-transparent",children:u.jsxs(it.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,ease:"easeOut"},className:"max-w-md mx-auto space-y-3",children:[u.jsx("p",{className:"text-center text-white text-sm font-semibold",children:"Is the nutrition label readable?"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(it.button,{onClick:x,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 py-3 rounded-xl font-semibold text-base flex items-center justify-center gap-2 border-2",style:{backgroundColor:"#FF3B30",borderColor:"#FFF",color:"#FFF",boxShadow:"0 4px 20px rgba(255, 59, 48, 0.6)"},children:[u.jsx(Sne,{className:"w-5 h-5"}),"Retake"]}),u.jsxs(it.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 py-3 rounded-xl font-semibold text-base flex items-center justify-center gap-2 border-2",style:{backgroundColor:"#34C759",borderColor:"#FFF",color:"#FFF",boxShadow:"0 4px 20px rgba(52, 199, 89, 0.6)"},children:[u.jsx(gd,{className:"w-5 h-5"}),"Use Photo"]})]})]})}),u.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 bg-gradient-to-b from-black/70 to-transparent",children:u.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-white/20 transition-colors ml-auto block",children:u.jsx(Zs,{className:"w-6 h-6 text-white"})})})]}):u.jsxs(u.Fragment,{children:[u.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),u.jsx("canvas",{ref:i,className:"hidden"}),u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50"}),u.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-4 border-white rounded-xl",style:{width:"85%",maxWidth:"500px",height:"65%",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"},children:[u.jsx("div",{className:"absolute -top-1 -left-1 w-8 h-8 border-t-4 border-l-4 border-green-400 rounded-tl-xl"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-8 h-8 border-t-4 border-r-4 border-green-400 rounded-tr-xl"}),u.jsx("div",{className:"absolute -bottom-1 -left-1 w-8 h-8 border-b-4 border-l-4 border-green-400 rounded-bl-xl"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 border-b-4 border-r-4 border-green-400 rounded-br-xl"})]})]}),u.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 bg-gradient-to-b from-black/70 to-transparent",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xu,{className:"w-5 h-5 text-white"}),u.jsx("span",{className:"text-white font-medium",children:"Nutrition Label"})]}),u.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:u.jsx(Zs,{className:"w-6 h-6 text-white"})})]})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/70 to-transparent",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("p",{className:"text-white text-sm mb-2",children:"Align the nutrition facts label within the frame"}),u.jsx("p",{className:"text-gray-300 text-xs",children:"Make sure the text is clear and well-lit"})]}),u.jsx("button",{onClick:g,className:"w-20 h-20 rounded-full border-4 border-white bg-white/20 hover:bg-white/30 transition-all mx-auto block",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-white m-auto"})})]})]})})})})}const fVe="https://world.openfoodfacts.org/api/v2";async function hVe(t){try{console.log("🔍 Fetching product for barcode:",t);const e=`${fVe}/product/${t}.json`;console.log("📡 API URL:",e);const r=await fetch(e,{headers:{"User-Agent":"FareFit - Fitness Nutrition Tracker"}});if(console.log("📥 Response status:",r.status),r.status===404)return console.log("❌ Product not found in OpenFoodFacts database (404)"),null;if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();if(console.log("📦 API Response:",n),n.status===0||!n.product)return console.log("❌ Product not found in OpenFoodFacts database"),null;console.log("✅ Product found:",n.product.product_name);const i=pVe(n.product,t);return console.log("🎯 Parsed product data:",i),gVe(i)?i:(console.log("⚠️ Product found but has no nutrition data"),null)}catch(e){throw console.error("❌ Error fetching product from OpenFoodFacts:",e),e}}function pVe(t,e){const r=t.nutriments||{},n=t.serving_size||"100g",i=!!t.serving_size,o=i?r["energy-kcal_serving"]||r["energy-kcal"]||0:r["energy-kcal_100g"]||r["energy-kcal"]||0,a=i?r.proteins_serving||r.proteins||0:r.proteins_100g||r.proteins||0,s=i?r.carbohydrates_serving||r.carbohydrates||0:r.carbohydrates_100g||r.carbohydrates||0,l=i?r.fat_serving||r.fat||0:r.fat_100g||r.fat||0,c=i?r.fiber_serving||r.fiber||0:r.fiber_100g||r.fiber||0;return{id:Date.now().toString(),name:t.product_name||"Unknown Product",brandName:t.brands||"",servingSize:n,amountConsumed:1,baseCalories:Math.round(o),baseProtein:Math.round(a*10)/10,baseCarbs:Math.round(s*10)/10,baseFat:Math.round(l*10)/10,baseFiber:Math.round(c*10)/10,calories:Math.round(o),protein:Math.round(a*10)/10,carbs:Math.round(s*10)/10,fat:Math.round(l*10)/10,fiber:Math.round(c*10)/10,isExpanded:!0,isFavorite:!1}}function mVe(t){const e=t.replace(/\D/g,""),r=[8,12,13,14];return e.length>0&&r.includes(e.length)}function gVe(t){return t.name!=="Unknown Product"&&t.servingSize.length>0}function yVe({onBack:t,onMealLogged:e}){const[r,n]=k.useState("manual"),[i,o]=k.useState(""),[a,s]=k.useState(!0),[l,c]=k.useState("lunch"),[d,f]=k.useState([{id:"1",name:"",servingSize:"",amountConsumed:1,baseCalories:0,baseProtein:0,baseCarbs:0,baseFat:0,baseFiber:0,calories:0,protein:0,carbs:0,fat:0,fiber:0,isExpanded:!0,isFavorite:!1,brandName:""}]),[p,g]=k.useState(null),x=d.reduce((I,T)=>({calories:I.calories+(T.calories||0),protein:I.protein+(T.protein||0),carbs:I.carbs+(T.carbs||0),fat:I.fat+(T.fat||0),fiber:I.fiber+(T.fiber||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0}),y=()=>{const I={id:Date.now().toString(),name:"",servingSize:"",amountConsumed:1,baseCalories:0,baseProtein:0,baseCarbs:0,baseFat:0,baseFiber:0,calories:0,protein:0,carbs:0,fat:0,fiber:0,isExpanded:!0,brandName:""};f([...d,I])},b=I=>{d.length>1?f(d.filter(T=>T.id!==I)):Ue.error("You must have at least one food item")},_=(I,T)=>{f(d.map(N=>{if(N.id===I){const S={...N,...T};if("amountConsumed"in T||"baseCalories"in T||"baseProtein"in T||"baseCarbs"in T||"baseFat"in T||"baseFiber"in T){const j=S.amountConsumed;S.calories=Math.round(S.baseCalories*j),S.protein=Math.round(S.baseProtein*j*10)/10,S.carbs=Math.round(S.baseCarbs*j*10)/10,S.fat=Math.round(S.baseFat*j*10)/10,S.fiber=Math.round(S.baseFiber*j*10)/10}return S}return N}))},C=(I,T)=>{_(I,{name:T.name,servingSize:T.servingSize,baseCalories:T.calories,baseProtein:T.protein,baseCarbs:T.carbs,baseFat:T.fat,baseFiber:T.fiber,amountConsumed:1}),g(null),Ue.success("Barcode scanned! Values auto-filled.")},E=I=>{f(d.map(T=>T.id===I?{...T,isExpanded:!T.isExpanded}:T))},P=async()=>{if(!d.some(S=>S.name&&S.name.trim().length>0)){Ue.error("Please add at least one food item with a name");return}const T=a?l.charAt(0).toUpperCase()+l.slice(1):i||"Custom Meal",N={id:Date.now().toString(),name:T,mealType:a?l:"snack",items:d.filter(S=>S.name&&S.name.trim().length>0).map(S=>({name:S.name,calories:S.calories,protein:S.protein,carbs:S.carbs,fat:S.fat,fiber:S.fiber,servingSize:S.servingSize,amountConsumed:S.amountConsumed,brandName:S.brandName||""})),calories:x.calories,protein:x.protein,carbs:x.carbs,fat:x.fat,fiber:x.fiber,timestamp:new Date};try{const j=or().currentUser,B=j?.uid;if(!j){Ue.error("User not logged in");return}if(!B)return;console.log("🔑 Current User ID:",j.uid),console.log("📍 Firebase path: Daily_Nutrition_Summary/"+j.uid),(await K4(B)).length===N.items.length&&(await Lge(B),console.log("✅ Streak updated for first meal of the day"));for(const L of N.items)console.log("💾 Saving meal item to Firebase:",{meal_type:N.mealType,food_name:L.name,brand:L.brandName,calories:L.calories}),await Dge(j.uid,{meal_type:N.mealType,food_name:L.name,serving_size:L.amountConsumed||1,calories:L.calories,protein:L.protein,carbs:L.carbs,fats:L.fat,fiber:L.fiber,brand:L.brandName,meal_time:new Date,meal_date:vh()}),await Y4(B,"logged_food");console.log(` ${N.items.length} item(s) saved to Firebase successfully!`),e(N),Ue.success(` ${T} logged successfully! ${x.calories} kcal added.`),t()}catch(S){console.error(" Error saving meal:",S),Ue.error("Error saving meal to Firestore")}};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F7F9FA"},children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors flex items-center justify-center",style:{color:"#102A43"},children:u.jsx(Ea,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-2xl",style:{color:"#102A43"},children:"Log Your Meal"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Add food items and track your nutrition"})]}),u.jsx("button",{onClick:P,className:"p-2 rounded-full hover:bg-green-50 transition-colors flex items-center justify-center",style:{color:"#1C7C54"},children:u.jsx(N1,{className:"w-6 h-6"})})]})}),u.jsx("div",{className:"flex-1 max-w-4xl mx-auto w-full px-4 py-6 pb-24",children:u.jsxs(aJ,{value:r,onValueChange:n,className:"w-full",children:[u.jsxs(sJ,{className:"grid w-full grid-cols-4 mb-6",children:[u.jsxs(Uu,{value:"manual",className:"flex items-center gap-2",children:[u.jsx(ga,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Manual"})]}),u.jsxs(Uu,{value:"barcode",className:"flex items-center gap-2",children:[u.jsx(pP,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Barcode"})]}),u.jsxs(Uu,{value:"scan",className:"flex items-center gap-2",children:[u.jsx(Xu,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Photo"})]}),u.jsxs(Uu,{value:"ai",className:"flex items-center gap-2",children:[u.jsx(jU,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"AI"})]})]}),u.jsx(zu,{value:"manual",children:u.jsx(vVe,{mealName:i,setMealName:o,usePredefinedMeal:a,setUsePredefinedMeal:s,predefinedMeal:l,setPredefinedMeal:c,foodItems:d,totals:x,addFoodItem:y,removeFoodItem:b,updateFoodItem:_,toggleItemExpanded:E,scanningItemId:p,setScanningItemId:g,onBarcodeScanned:C})}),u.jsx(zu,{value:"barcode",children:u.jsx(bVe,{onFoodDetected:I=>{const T={id:Date.now().toString(),...I,isExpanded:!0};f([...d,T]),n("manual")}})}),u.jsx(zu,{value:"scan",children:u.jsx(wVe,{onMealDetected:I=>{f(I.items),o(I.name),s(!1),n("manual")}})}),u.jsx(zu,{value:"ai",children:u.jsx(_Ve,{onMealParsed:I=>{f(I.items),o(I.name),s(!1),n("manual")}})})]})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",style:{borderColor:"#E8F4F2"},children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsxs("button",{onClick:P,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gd,{className:"w-5 h-5"}),"Save Meal • ",x.calories," kcal"]})]})})})]})}function vVe({mealName:t,setMealName:e,usePredefinedMeal:r,setUsePredefinedMeal:n,predefinedMeal:i,setPredefinedMeal:o,foodItems:a,totals:s,addFoodItem:l,removeFoodItem:c,updateFoodItem:d,toggleItemExpanded:f,scanningItemId:p,setScanningItemId:g,onBarcodeScanned:x}){const[y,b]=k.useState(!1),[_,C]=k.useState({calories:0,protein:0,carbs:0,fats:0,fiber:0,food_name:""});return k.useEffect(()=>{(async()=>{try{const I=or().currentUser;if(!I)return;const T=await K4(I.uid);if(T&&T.length>0){const N=T.reduce((S,j)=>({calories:S.calories+(j.calories||0),protein:S.protein+(j.protein||0),carbs:S.carbs+(j.carbs||0),fats:S.fats+(j.fats||0),fiber:S.fiber+(j.fiber||0),food_name:S.food_name}),{calories:0,protein:0,carbs:0,fats:0,fiber:0});C(N)}}catch(P){console.error("Error fetching today’s meals:",P)}})()},[]),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[u.jsx("h3",{className:"mb-4",style:{color:"#102A43"},children:"Meal Type"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 rounded-lg transition-all flex items-center justify-center",style:{backgroundColor:r?"#A8E6CF":"#E8F4F2",color:"#102A43"},children:"Preset"}),u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 rounded-lg transition-all flex items-center justify-center",style:{backgroundColor:r?"#E8F4F2":"#A8E6CF",color:"#102A43"},children:"Custom"})]}),r?u.jsxs(Kk,{value:i,onValueChange:o,children:[u.jsx(Xk,{children:u.jsx(Yk,{})}),u.jsxs(Qk,{children:[u.jsx(qs,{value:"breakfast",children:"🌅 Breakfast"}),u.jsx(qs,{value:"lunch",children:"☀️ Lunch"}),u.jsx(qs,{value:"dinner",children:"🌙 Dinner"}),u.jsx(qs,{value:"snack",children:"🍪 Snack"})]})]}):u.jsx(xr,{placeholder:"e.g., Shake, Post-Workout, Late-Night Bowl",value:t,onChange:E=>e(E.target.value)})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2",style:{borderColor:"#A8E6CF"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{style:{color:"#102A43"},children:"Total Nutrition"}),u.jsx(gee,{children:u.jsxs(mLe,{children:[u.jsx(gLe,{asChild:!0,children:u.jsx("button",{onClick:()=>b(!y),className:"p-1.5 rounded-full hover:bg-gray-100 transition-colors flex items-center justify-center",style:{color:"#102A43",opacity:.6},children:u.jsx(Jre,{className:"w-4 h-4"})})}),u.jsx(yLe,{children:u.jsx("p",{children:"View per-item breakdown"})})]})})]}),u.jsxs("div",{className:"mb-4 p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-4",children:[u.jsx(it.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},className:"text-3xl",style:{color:"#1C7C54"},children:_.calories},_.calories),u.jsx("span",{className:"text-lg",style:{color:"#102A43",opacity:.7},children:"kcal"})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Protein"}),u.jsxs(it.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#F5A623"},children:[_.protein,"g"]},_.protein)]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Carbs"}),u.jsxs(it.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#4DD4AC"},children:[_.carbs,"g"]},_.carbs)]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Fat"}),u.jsxs(it.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#6B47DC"},children:[_.fats,"g"]},_.fats)]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Fiber"}),u.jsxs(it.p,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},style:{color:"#1C7C54"},children:[_.fiber,"g"]},_.fiber)]})]})]}),u.jsx("p",{className:"text-xs text-center",style:{color:"#102A43",opacity:.6},children:"Your total nutrition updates automatically as you add or edit items."}),u.jsx(yd,{children:y&&a.some(E=>E.name&&E.calories>0)&&u.jsxs(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t space-y-2",style:{borderColor:"#A8E6CF"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#102A43",opacity:.7},children:u.jsx("strong",{children:"Per-item breakdown:"})}),a.filter(E=>E.name&&E.calories>0).map(E=>u.jsxs("div",{className:"text-xs flex justify-between",style:{color:"#102A43",opacity:.8},children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.calories," kcal"]})]},E.id))]})})]}),u.jsxs("button",{onClick:l,className:"w-full py-3 rounded-lg border-2 border-dashed transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(ga,{className:"w-5 h-5"}),"Add Item"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{style:{color:"#102A43"},children:["Food Items (",a.length,")"]}),a.map((E,P)=>u.jsx(xVe,{item:E,index:P,onUpdate:d,onRemove:c,onToggleExpand:f,canRemove:a.length>1,scanningItemId:p,setScanningItemId:g,onBarcodeScanned:x},E.id))]})]})}function xVe({item:t,index:e,onUpdate:r,onRemove:n,onToggleExpand:i,canRemove:o,scanningItemId:a,setScanningItemId:s,onBarcodeScanned:l}){const[c,d]=k.useState(!1),f=()=>{s(t.id),d(!0),setTimeout(()=>{const p={name:"Optimum Nutrition Whey Protein",servingSize:"1 scoop (30g)",calories:120,protein:24,carbs:3,fat:1,fiber:1};l(t.id,p),d(!1)},1500)};return u.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>i(t.id),children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm",style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:e+1}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{style:{color:"#102A43"},children:t.name||"Untitled Item"}),!t.isExpanded&&t.calories>0&&u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:[t.amountConsumed!==1&&`${t.amountConsumed}x servings • `,t.calories," kcal"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[o&&u.jsx("button",{onClick:p=>{p.stopPropagation(),n(t.id)},className:"p-2 rounded-lg hover:bg-red-50 transition-colors flex items-center justify-center",style:{color:"#E53E3E"},children:u.jsx(sh,{className:"w-4 h-4"})}),t.isExpanded?u.jsx(pb,{className:"w-5 h-5",style:{color:"#102A43",opacity:.5}}):u.jsx(al,{className:"w-5 h-5",style:{color:"#102A43",opacity:.5}})]})]}),u.jsx(yd,{children:t.isExpanded&&u.jsx(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx(Pr,{children:"Food Name *"}),u.jsxs("div",{className:"flex gap-2 mt-1.5",children:[u.jsx(xr,{placeholder:"e.g., Grilled Chicken Breast",value:t.name,onChange:p=>r(t.id,{name:p.target.value}),className:"flex-1"}),u.jsxs("button",{onClick:f,disabled:c,className:"px-4 py-2 rounded-lg transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-60",style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:[c?u.jsx(it.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:u.jsx(Wo,{className:"w-4 h-4"})}):u.jsx(pP,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline text-sm",children:"Scan"})]})]})]}),u.jsxs("div",{children:[u.jsx(Pr,{children:"Brand Name (optional)"}),u.jsx(xr,{placeholder:"e.g., Tyson, Nestle",value:t.brandName||"",onChange:p=>r(t.id,{brandName:p.target.value}),className:"mt-1.5"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"You can leave this empty if not applicable"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Pr,{children:"Serving Size"}),u.jsx(xr,{placeholder:"e.g., 1 cup (150g)",value:t.servingSize,onChange:p=>r(t.id,{servingSize:p.target.value}),className:"mt-1.5"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"From barcode or manual entry"})]}),u.jsxs("div",{children:[u.jsx(Pr,{children:"Amount Consumed (servings)"}),u.jsx(xr,{type:"number",step:"0.1",min:"0",placeholder:"1.0",value:t.amountConsumed.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{amountConsumed:x})},onBlur:p=>{p.target.value===""&&r(t.id,{amountConsumed:1})},className:"mt-1.5"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"#102A43",opacity:.5},children:"e.g., 0.5, 1.2, 2.0"})]})]}),u.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#102A43",opacity:.7},children:u.jsx("strong",{children:"Nutrition per serving:"})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(Pr,{className:"text-xs",children:"Calories (kcal) *"}),u.jsx(xr,{type:"number",step:"1",min:"0",placeholder:"0",value:t.baseCalories.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseCalories:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseCalories:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Pr,{className:"text-xs",children:"Protein (g)"}),u.jsx(xr,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseProtein.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseProtein:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseProtein:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Pr,{className:"text-xs",children:"Carbs (g)"}),u.jsx(xr,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseCarbs.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseCarbs:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseCarbs:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Pr,{className:"text-xs",children:"Fat (g)"}),u.jsx(xr,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseFat.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseFat:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseFat:0})},className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Pr,{className:"text-xs",children:"Fiber (g)"}),u.jsx(xr,{type:"number",step:"0.1",min:"0",placeholder:"0",value:t.baseFiber.toString(),onChange:p=>{const g=p.target.value,x=g===""?0:Math.max(0,parseFloat(g)||0);r(t.id,{baseFiber:x})},onBlur:p=>{p.target.value===""&&r(t.id,{baseFiber:0})},className:"mt-1"})]})]})]}),t.amountConsumed>0&&t.baseCalories>0&&u.jsxs("div",{className:"p-3 rounded-lg border-2",style:{borderColor:"#A8E6CF",backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs mb-2",style:{color:"#1C7C54"},children:u.jsxs("strong",{children:["📊 Calculated for ",t.amountConsumed," serving(s):"]})}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Calories"}),u.jsx("p",{className:"text-sm",style:{color:"#1C7C54"},children:t.calories})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Protein"}),u.jsxs("p",{className:"text-sm",style:{color:"#F5A623"},children:[t.protein,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Carbs"}),u.jsxs("p",{className:"text-sm",style:{color:"#4DD4AC"},children:[t.carbs,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Fat"}),u.jsxs("p",{className:"text-sm",style:{color:"#6B47DC"},children:[t.fat,"g"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs opacity-60",style:{color:"#102A43"},children:"Fiber"}),u.jsxs("p",{className:"text-sm",style:{color:"#1C7C54"},children:[t.fiber,"g"]})]})]})]}),u.jsx("button",{onClick:p=>{p.stopPropagation(),r(t.id,{isFavorite:!t.isFavorite}),Ue.success(t.isFavorite?"Removed from favorites!":"Added to favorites!")},className:`px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 ${t.isFavorite?"bg-yellow-300 text-yellow":"bg-gray-200 text-gray-700"}`,children:t.isFavorite?"★ Favorite":"☆ Favorite"})]})})})]})}function bVe({onFoodDetected:t}){const[e,r]=k.useState(!1),[n,i]=k.useState(!1),[o,a]=k.useState(null),[s,l]=k.useState(!1),[c,d]=k.useState(""),[f,p]=k.useState([]),[g,x]=k.useState(!1),[y,b]=k.useState(!1);k.useEffect(()=>{(async()=>{const j=or();if(j.currentUser){const B=await vM(j.currentUser.uid);p(B),console.log("📜 Loaded barcode history:",B.length,"products")}})()},[]);const _=()=>{r(!0),a(null)},C=async S=>{console.log("Barcode scanned:",S),r(!1),i(!0);try{const j=await hVe(S);if(j){const B={name:j.name,brandName:j.brandName,servingSize:j.servingSize,amountConsumed:j.amountConsumed,baseCalories:j.baseCalories,baseProtein:j.baseProtein,baseCarbs:j.baseCarbs,baseFat:j.baseFat,baseFiber:j.baseFiber,calories:j.calories,protein:j.protein,carbs:j.carbs,fat:j.fat,fiber:j.fiber};a(B),Ue.success(`✓ Found: ${j.name}!`);const M=or();if(M.currentUser){await Fge(M.currentUser.uid,{barcode:S,product_name:j.name,brand_name:j.brandName,calories:j.calories,protein:j.protein,carbs:j.carbs,fats:j.fat,fiber:j.fiber,serving_size:j.servingSize});const L=await vM(M.currentUser.uid);p(L),console.log("💾 Saved to barcode history")}}else Ue.error("Product not found or missing nutrition data. Use manual entry.",{duration:4e3,description:`Barcode: ${S}`}),r(!1)}catch(j){console.error("Error fetching product:",j),Ue.error("Failed to fetch product data. Check your connection."),r(!1)}finally{i(!1)}},E=()=>{r(!1),a(null)},P=()=>{o&&(t(o),a(null),Ue.success("Item added to your meal!"))},I=async()=>{if(!mVe(c)){Ue.error("Invalid barcode format. Must be 8-14 digits.");return}i(!0);try{await C(c),d(""),l(!1)}catch(S){console.error("Manual lookup error:",S)}},T=S=>{const j={name:S.product_name,brandName:S.brand_name,servingSize:S.serving_size,amountConsumed:1,baseCalories:S.calories,baseProtein:S.protein,baseCarbs:S.carbs,baseFat:S.fats,baseFiber:S.fiber,calories:S.calories,protein:S.protein,carbs:S.carbs,fat:S.fats,fiber:S.fiber};t(j),Ue.success(`✓ Added: ${S.product_name}!`)},N=async S=>{console.log("📸 Processing nutrition label photo..."),x(!1),b(!0);try{const B=await zw().extractNutritionFromImage(S);console.log("✅ Extracted nutrition data:",B);const M={name:B.productName||"Scanned Product",brandName:B.brandName,servingSize:B.servingSize,amountConsumed:1,baseCalories:B.calories,baseProtein:B.protein,baseCarbs:B.carbs,baseFat:B.fat,baseFiber:B.fiber,calories:B.calories,protein:B.protein,carbs:B.carbs,fat:B.fat,fiber:B.fiber};a(M),Ue.success("✓ Nutrition label scanned successfully!")}catch(j){console.error("❌ Error processing nutrition label:",j),Ue.error("Failed to read nutrition label. Please try again with better lighting.")}finally{b(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(uVe,{isActive:e,onBarcodeDetected:C,onClose:E}),u.jsx(dVe,{isActive:g,onPhotoCapture:N,onClose:()=>x(!1)}),u.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:y?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(it.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-4",children:u.jsx(Wo,{className:"w-16 h-16",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:"Reading Nutrition Label..."}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Analyzing your photo with AI"})]}):n?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(it.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-4",children:u.jsx(Wo,{className:"w-16 h-16",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:"Fetching Product Info..."}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Looking up nutrition data from our database"})]}):o?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:["✅ ",u.jsx("strong",{children:"Product Found:"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Product Name:"}),u.jsx("p",{style:{color:"#102A43"},children:o.name})]}),o.brandName&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Brand:"}),u.jsx("p",{style:{color:"#102A43"},children:o.brandName})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm mb-1",style:{color:"#102A43",opacity:.7},children:"Serving Size:"}),u.jsx("p",{style:{color:"#102A43"},children:o.servingSize})]}),u.jsx("div",{className:"h-px",style:{backgroundColor:"#A8E6CF"}}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"#102A43"},children:"Calories:"}),u.jsxs("strong",{style:{color:"#102A43"},children:[o.calories," kcal"]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-2",children:[u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Protein"}),u.jsxs("p",{className:"text-sm",style:{color:"#F5A623"},children:[o.protein,"g"]})]}),u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Carbs"}),u.jsxs("p",{className:"text-sm",style:{color:"#4DD4AC"},children:[o.carbs,"g"]})]}),u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Fat"}),u.jsxs("p",{className:"text-sm",style:{color:"#6B47DC"},children:[o.fat,"g"]})]}),u.jsxs("div",{className:"text-center p-2 rounded",style:{backgroundColor:"white"},children:[u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Fiber"}),u.jsxs("p",{className:"text-sm",style:{color:"#1C7C54"},children:[o.fiber,"g"]})]})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>a(null),className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Scan Another"}),u.jsxs("button",{onClick:P,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(ga,{className:"w-5 h-5"}),"Add to Meal"]})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(pP,{className:"w-12 h-12",style:{color:"#1C7C54"}})}),u.jsx("h3",{className:"mb-2",style:{color:"#102A43"},children:"Scan Product Barcode"}),u.jsx("p",{className:"mb-6 text-sm",style:{color:"#102A43",opacity:.6},children:"Point your camera at the barcode on the package"}),u.jsxs("div",{className:"flex gap-3 justify-center mb-6 flex-wrap",children:[u.jsxs("button",{onClick:_,className:"px-8 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(Xu,{className:"w-5 h-5"}),"Scan Barcode"]}),u.jsxs("button",{onClick:()=>l(!s),className:"px-6 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(tne,{className:"w-5 h-5"}),"Type Barcode"]}),u.jsxs("button",{onClick:()=>x(!0),className:"px-6 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(Xu,{className:"w-5 h-5"}),"Scan Label"]})]}),s&&u.jsxs(it.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 rounded-lg text-left",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-3",style:{color:"#102A43"},children:u.jsx("strong",{children:"Enter Barcode Manually:"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(xr,{type:"text",placeholder:"e.g., 012345678901",value:c,onChange:S=>d(S.target.value.replace(/\D/g,"")),onKeyDown:S=>{S.key==="Enter"&&I()},maxLength:14,className:"flex-1"}),u.jsx("button",{onClick:I,disabled:c.length<8,className:"px-4 py-2 rounded-lg text-white transition-all hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"#1C7C54"},children:"Look Up"})]}),u.jsx("p",{className:"text-xs mt-2",style:{color:"#102A43",opacity:.6},children:"Enter 8-14 digit barcode (UPC, EAN, etc.)"})]}),u.jsxs("div",{className:"mt-8 p-4 rounded-lg text-left",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43"},children:u.jsx("strong",{children:"📱 Three ways to add products:"})}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"#102A43",opacity:.8},children:[u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Scan Barcode:"})," Point camera at UPC/EAN barcode (1.3M+ products)"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Type Barcode:"})," Manually enter 8-14 digit barcode number"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Scan Label:"})," Take a photo of nutrition facts (AI-powered)"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Recent Products:"})," Quick-add from your scan history below"]})]})]})]}),f.length>0&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h4",{style:{color:"#102A43"},children:"Recently Scanned"}),u.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"#E8F4F2",color:"#1C7C54"},children:[f.length," products"]})]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.map((S,j)=>u.jsx("div",{className:"p-3 rounded-lg border-2 hover:bg-gray-50 transition-all",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43"},children:S.product_name}),S.brand_name&&u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:S.brand_name}),u.jsxs("div",{className:"flex gap-3 mt-1 text-xs",style:{color:"#102A43",opacity:.7},children:[u.jsxs("span",{children:[S.calories," kcal"]}),u.jsxs("span",{children:["P: ",S.protein,"g"]}),u.jsxs("span",{children:["C: ",S.carbs,"g"]}),u.jsxs("span",{children:["F: ",S.fats,"g"]})]}),S.scan_count>1&&u.jsxs("p",{className:"text-xs mt-1",style:{color:"#1C7C54"},children:["Scanned ",S.scan_count,"x"]})]}),u.jsxs("button",{onClick:()=>T(S),className:"px-4 py-2 rounded-lg text-white transition-all hover:opacity-90 flex items-center gap-1",style:{backgroundColor:"#1C7C54"},children:[u.jsx(ga,{className:"w-4 h-4"}),"Add"]})]})},j))})]})]})})]})}function wVe({onMealDetected:t}){const[e,r]=k.useState(null),[n,i]=k.useState(!1),[o,a]=k.useState(null),s=d=>{const f=d.target.files?.[0];if(f){const p=new FileReader;p.onloadend=()=>{r(p.result),l()},p.readAsDataURL(f)}},l=async()=>{i(!0);try{console.log("🔬 Starting real AI image analysis...");const d=await Rge(e);d.success?(a(d.data),Ue.success(`✨ AI detected ${d.data.items.length} items! Review and confirm.`)):(console.warn("⚠️ AI analysis failed, using fallback data:",d.error),a(d.data),Ue.warning("AI analysis had issues but provided basic detection. Please review carefully."))}catch(d){console.error("❌ Image analysis completely failed:",d),a({name:"Mixed Meal (Analysis Failed)",items:[{id:"1",name:"Food Item",servingSize:"1 portion",amountConsumed:1,baseCalories:300,baseProtein:15,baseCarbs:30,baseFat:10,baseFiber:3,calories:300,protein:15,carbs:30,fat:10,fiber:3,isExpanded:!1,brandName:""}]}),Ue.error("AI analysis failed. Please manually adjust the detected items.")}finally{i(!1)}},c=()=>{o&&(t(o),Ue.success("Items added to your meal!"))};return u.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:e?u.jsxs("div",{children:[u.jsx("img",{src:e,alt:"Uploaded meal",className:"w-full h-64 object-cover rounded-xl mb-4"}),n?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(it.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 mx-auto mb-4",children:u.jsx(Wo,{className:"w-12 h-12",style:{color:"#1C7C54"}})}),u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:"Analyzing your meal..."}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"AI is detecting foods and calculating nutrition"})]}):o?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:["✨ ",u.jsxs("strong",{children:["AI Detected ",o.items.length," Items:"]})]}),u.jsx("ul",{className:"space-y-1 text-sm",style:{color:"#102A43"},children:o.items.map((d,f)=>u.jsxs("li",{children:["• ",d.name," (",d.servingSize,") - ",d.calories," kcal"]},f))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{r(null),a(null)},className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Retake Photo"}),u.jsxs("button",{onClick:c,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gd,{className:"w-5 h-5"}),"Use These Items"]})]})]}):null]}):u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"photo-upload",className:"border-2 border-dashed rounded-xl p-12 flex flex-col items-center justify-center cursor-pointer transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF"},children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#E8F4F2"},children:u.jsx(LU,{className:"w-10 h-10",style:{color:"#1C7C54"}})}),u.jsx("p",{className:"mb-2",style:{color:"#102A43"},children:"Drag & drop or click to upload"}),u.jsx("p",{className:"text-sm mb-4",style:{color:"#102A43",opacity:.6},children:"Take a photo of your meal"}),u.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",capture:"environment",onChange:s,className:"hidden"})]}),u.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43"},children:u.jsx("strong",{children:"🤖 AI-Powered Analysis:"})}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"#102A43",opacity:.8},children:[u.jsx("li",{children:"• Uses Google Gemini 2.5 Flash for real food detection"}),u.jsx("li",{children:"• Identifies multiple food items and estimates portions"}),u.jsx("li",{children:"• Provides USDA nutrition database values"}),u.jsx("li",{children:"• Fallback to manual entry if analysis fails"})]})]})]})})}function _Ve({onMealParsed:t}){const[e,r]=k.useState(""),[n,i]=k.useState(!1),[o,a]=k.useState(null),s=()=>{if(!e.trim()){Ue.error("Please describe your meal");return}i(!0),setTimeout(()=>{a({name:"Protein Shake",items:[{id:"1",name:"Almond Milk",servingSize:"1 cup",amountConsumed:1,baseCalories:30,baseProtein:1,baseCarbs:1,baseFat:2.5,baseFiber:1,calories:30,protein:1,carbs:1,fat:2.5,fiber:1,isExpanded:!1},{id:"2",name:"Whey Protein Powder",servingSize:"1 scoop (30g)",amountConsumed:1,baseCalories:120,baseProtein:24,baseCarbs:3,baseFat:1,baseFiber:1,calories:120,protein:24,carbs:3,fat:1,fiber:1,isExpanded:!1},{id:"3",name:"Banana",servingSize:"1 medium",amountConsumed:1,baseCalories:105,baseProtein:1,baseCarbs:27,baseFat:0,baseFiber:3,calories:105,protein:1,carbs:27,fat:0,fiber:3,isExpanded:!1},{id:"4",name:"Peanut Butter",servingSize:"1 tbsp",amountConsumed:1,baseCalories:95,baseProtein:4,baseCarbs:3,baseFat:8,baseFiber:1,calories:95,protein:4,carbs:3,fat:8,fiber:1,isExpanded:!1}]}),i(!1),Ue.success("AI parsed your meal into items!")},1800)},l=()=>{o&&(t(o),Ue.success("Items added to your meal!"))};return u.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx(Pr,{htmlFor:"ai-input",children:"Describe what you ate"}),u.jsx(nw,{id:"ai-input",placeholder:"e.g., Protein shake with almond milk, 1 scoop whey, banana, and peanut butter",value:e,onChange:c=>r(c.target.value),rows:4,className:"mt-1.5",disabled:n})]}),u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43"},children:u.jsx("strong",{children:"💡 Examples:"})}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"#102A43",opacity:.8},children:[u.jsx("li",{children:'• "Chicken burrito with rice, beans, cheese, and guacamole"'}),u.jsx("li",{children:'• "Greek yogurt parfait with granola and mixed berries"'}),u.jsx("li",{children:'• "Grilled salmon with roasted vegetables and quinoa"'})]})]}),o?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:[u.jsxs("p",{className:"text-sm mb-3",style:{color:"#1C7C54"},children:["🤖 ",u.jsxs("strong",{children:["AI Parsed ",o.items.length," Items:"]})]}),u.jsx("ul",{className:"space-y-2 text-sm",style:{color:"#102A43"},children:o.items.map((c,d)=>u.jsxs("li",{className:"flex justify-between",children:[u.jsxs("span",{children:[c.name," (",c.portion,")"]}),u.jsxs("span",{className:"opacity-70",children:[c.calories," kcal"]})]},d))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{a(null),r("")},className:"flex-1 py-3 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Try Again"}),u.jsxs("button",{onClick:l,className:"flex-1 py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(gd,{className:"w-5 h-5"}),"Use These Items"]})]})]}):u.jsx("button",{onClick:s,disabled:n,className:"w-full py-3 rounded-lg text-white transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-60",style:{backgroundColor:"#1C7C54"},children:n?u.jsxs(u.Fragment,{children:[u.jsx(it.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:u.jsx(Wo,{className:"w-5 h-5"})}),"Analyzing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(jU,{className:"w-5 h-5"}),"Ask Food AI"]})})]})})}var QT={exports:{}},ZT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wU;function AVe(){if(wU)return ZT;wU=1;var t=hb();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function s(f,p){var g=p(),x=n({inst:{value:g,getSnapshot:p}}),y=x[0].inst,b=x[1];return o(function(){y.value=g,y.getSnapshot=p,l(y)&&b({inst:y})},[f,g,p]),i(function(){return l(y)&&b({inst:y}),f(function(){l(y)&&b({inst:y})})},[f]),a(g),g}function l(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!r(f,g)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return ZT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,ZT}var _U;function CVe(){return _U||(_U=1,QT.exports=AVe()),QT.exports}var EVe=CVe();function SVe(){return EVe.useSyncExternalStore(TVe,()=>!0,()=>!1)}function TVe(){return()=>{}}var JO="Avatar",[NVe]=Go(JO),[IVe,Pee]=NVe(JO),Oee=k.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,o]=k.useState("idle");return u.jsx(IVe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:u.jsx(wt.span,{...n,ref:e})})});Oee.displayName=JO;var jee="AvatarImage",Ree=k.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...o}=t,a=Pee(jee,r),s=kVe(n,o),l=ml(c=>{i(c),a.onImageLoadingStatusChange(c)});return ln(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?u.jsx(wt.img,{...o,ref:e,src:n}):null});Ree.displayName=jee;var Dee="AvatarFallback",Mee=k.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,o=Pee(Dee,r),[a,s]=k.useState(n===void 0);return k.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),a&&o.imageLoadingStatus!=="loaded"?u.jsx(wt.span,{...i,ref:e}):null});Mee.displayName=Dee;function AU(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kVe(t,{referrerPolicy:e,crossOrigin:r}){const n=SVe(),i=k.useRef(null),o=n?(i.current||(i.current=new window.Image),i.current):null,[a,s]=k.useState(()=>AU(o,t));return ln(()=>{s(AU(o,t))},[o,t]),ln(()=>{const l=f=>()=>{s(f)};if(!o)return;const c=l("loaded"),d=l("error");return o.addEventListener("load",c),o.addEventListener("error",d),e&&(o.referrerPolicy=e),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,r,e]),a}var PVe=Oee,OVe=Ree,jVe=Mee;function r1({className:t,...e}){return u.jsx(PVe,{"data-slot":"avatar",className:Nt("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function n1({className:t,...e}){return u.jsx(OVe,{"data-slot":"avatar-image",className:Nt("aspect-square size-full",t),...e})}function i1({className:t,...e}){return u.jsx(jVe,{"data-slot":"avatar-fallback",className:Nt("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const RVe=SQ("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function zf({className:t,variant:e,asChild:r=!1,...n}){const i=r?Qq:"span";return u.jsx(i,{"data-slot":"badge",className:Nt(RVe({variant:e}),t),...n})}const DVe=t=>({text:t?"#E8F4F2":"#102A43",subtext:t?"#A8C0B0":"#2F4A56",bg:t?"#0F1C18":"#E8F4F2",card:t?"#1B2A25":"#FFFFFF",input:t?"#1E2D28":"#FFFFFF",primary:t?"#3DD68C":"#1C7C54",primaryHover:t?"#2EBB76":"#166B48",secondary:t?"#26433A":"#A8E6CF",accent:t?"#FF7C85":"#FFB6B9",border:t?"#22342E":"#DCEEEF",shadow:t?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.05)",error:t?"#FF6B6B":"#E53E3E",warning:t?"#FFB347":"#F5A623",success:"#4DD4AC",textPrimary:t?"#E8F4F2":"#102A43",textSecondary:t?"#A8C0B0":"#2F4A56",mint:t?"#26433A":"#A8E6CF",primaryLight:"#4DD4AC",cardHover:t?"#1E2D28":"#f9f9f9",inputBg:t?"#1E2D28":"#FFFFFF"});function MVe({onBack:t,userName:e,userEmail:r,isDemoMode:n=!1,onUpdateProfile:i,isDarkMode:o=!1,onToggleDarkMode:a}){const s=DVe(o),[l,c]=k.useState("overview"),[d,f]=k.useState(!1),[p,g]=k.useState(!1),[x,y]=k.useState(!1),[b,_]=k.useState(!1),[C,E]=k.useState(!1),[P,I]=k.useState(!1),[T,N]=k.useState(new Set),[S,j]=k.useState(null),[B,M]=k.useState(!0);k.useEffect(()=>{(async()=>{const rt=or().currentUser,Vt=rt?.uid;if(!rt||!Vt)return;const fr=await Vge(Vt);fr&&j({score:fr.score||0,change:0,tier:fr.tier||"Starting Journey",history:fr.history||[],mealsLogged:fr.mealsLogged||0,workoutsCompleted:fr.workoutsCompleted||0,streakDays:fr.streakDays||0,penalties:fr.penalties||0,joinDate:fr.joinDate||"Unknown"}),M(!1)})()},[]);const[L,F]=k.useState(()=>localStorage.getItem("farefit_user_name")||e),[$,q]=k.useState(()=>localStorage.getItem("farefit_user_email")||r),[X,J]=k.useState(()=>localStorage.getItem("farefit_user_avatar")||""),[H,oe]=k.useState(X),[z,Q]=k.useState(""),[ee,W]=k.useState(()=>{const ce=localStorage.getItem("farefit_notifications");return ce?JSON.parse(ce):!0}),[xe,Ne]=k.useState(()=>localStorage.getItem("farefit_privacy")||"public"),[ie,se]=k.useState(()=>localStorage.getItem("farefit_units")||"metric"),we=[{id:"1",name:"Julia Martinez",username:"@fitjules",avatar:"",fareScore:842,tier:"FareFit Elite",change:6,streakDays:45},{id:"2",name:"Mike Chen",username:"@mike_gains",avatar:"",fareScore:720,tier:"Goal Crusher",change:-3,streakDays:21},{id:"3",name:"Sarah Johnson",username:"@sarahfit",avatar:"",fareScore:598,tier:"Consistent Tracker",change:12,streakDays:9}],[me,re]=k.useState([]),[le,G]=k.useState([]),[ge,Ee]=k.useState(!0);k.useEffect(()=>{(async()=>{if(n){const Le=[{rank:1,name:"Julia Martinez",username:"@fitjules",avatar:"",fareScore:842,tier:"FareFit Elite",change:6},{rank:2,name:"Giovanni Rossi",username:"@gio_fit",avatar:"",fareScore:830,tier:"FareFit Elite",change:4},{rank:3,name:"Alex Thompson",username:"@alexmacros",avatar:"",fareScore:799,tier:"Goal Crusher",change:8},{rank:18,name:e,username:"@you",avatar:"",fareScore:615,tier:"Consistent Tracker",change:8,isCurrentUser:!0}];re(Le),G(Le.slice(0,3)),Ee(!1);return}try{Ee(!0),console.log("🏆 Fetching real leaderboards...");const[Le,rt]=await Promise.all([Jge(50),tye()]);re(Le),G(rt),console.log(`✅ Leaderboards loaded: ${Le.length} global, ${rt.length} friends`)}catch(Le){console.error("❌ Error loading leaderboards:",Le),re([]),G([])}finally{Ee(!1)}})()},[n,e]);const $e=ce=>{switch(ce){case"FareFit Elite":return"#4DD4AC";case"Goal Crusher":return"#1C7C54";case"Consistent Tracker":return"#A8E6CF";case"Building Habits":return"#F5A623";case"Starting Journey":return"#E53E3E";default:return"#102A43"}},We=ce=>ce>=800?"#4DD4AC":ce>=700?"#1C7C54":ce>=550?"#A8E6CF":ce>=400?"#F5A623":"#E53E3E",ut=ce=>(ce-300)/550*100,ft=()=>{if(!L.trim()){Ue.error("Name cannot be empty");return}if(!$.trim()){Ue.error("Email cannot be empty");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)){Ue.error("Please enter a valid email address");return}localStorage.setItem("farefit_user_name",L),localStorage.setItem("farefit_user_email",$),localStorage.setItem("farefit_user_avatar",H),i&&i(L,$,H),J(H),Ue.success("Profile updated successfully!"),f(!1)},_t=ce=>{const Le=ce.target.files?.[0];if(Le){if(!Le.type.startsWith("image/")){Ue.error("Please select an image file");return}if(Le.size>5*1024*1024){Ue.error("Image size must be less than 5MB");return}const rt=new FileReader;rt.onloadend=()=>{oe(rt.result)},rt.readAsDataURL(Le)}},gt=()=>{oe(""),Ue.info("Avatar removed")},Cr=()=>{const ce=`https://farefit.app/score/${e.toLowerCase().replace(/\s+/g,"")}`;navigator.clipboard.writeText(ce),I(!0),Ue.success("Link copied to clipboard!"),setTimeout(()=>I(!1),2e3)},Qr=async()=>{if(!z.trim()){Ue.error("Please enter a username");return}try{if(!or().currentUser){Ue.error("You must be logged in to add friends");return}Ue.success(`Friend request sent to ${z}!`),Q(""),y(!1)}catch(ce){console.error("Error adding friend:",ce),Ue.error("Failed to send friend request")}},di=(ce,Le)=>{if(T.has(ce)){Ue.info(`You already cheered for ${Le} today!`);return}N(rt=>new Set(rt).add(ce)),Ue.success(`You cheered for ${Le}! 🎉`)},Se=ce=>{W(ce),localStorage.setItem("farefit_notifications",JSON.stringify(ce)),Ue.success(ce?"Notifications enabled":"Notifications disabled")},Ve=ce=>{Ne(ce),localStorage.setItem("farefit_privacy",ce);const Le={public:"Your profile is now public",friends:"Your profile is now visible to friends only",private:"Your profile is now private"};Ue.success(Le[ce])},ue=ce=>{se(ce),localStorage.setItem("farefit_units",ce),Ue.success(`Units changed to ${ce==="metric"?"Metric (kg, cm)":"Imperial (lbs, inches)"}`)},Ae=()=>{Ue.error("Account deletion requires email verification. Check your inbox."),E(!1),_(!1)};return B?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:s.bg},children:u.jsx("div",{style:{color:s.textPrimary},children:"Loading..."})}):S?u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:s.bg},children:[u.jsx("div",{className:"border-b sticky top-0 z-10",style:{backgroundColor:s.card,borderColor:s.border},children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-full transition-colors flex items-center justify-center",style:{color:s.textPrimary,backgroundColor:o?"transparent":void 0},onMouseEnter:ce=>ce.currentTarget.style.backgroundColor=o?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",onMouseLeave:ce=>ce.currentTarget.style.backgroundColor="transparent",children:u.jsx(Ea,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl",style:{color:s.textPrimary},children:"Your Account"}),u.jsx("p",{className:"text-sm",style:{color:s.textSecondary},children:"Manage your profile and track your consistency"})]})]}),u.jsx("button",{onClick:()=>_(!0),className:"p-2 rounded-full transition-colors flex items-center justify-center",style:{color:s.textPrimary,backgroundColor:o?"transparent":void 0},onMouseEnter:ce=>ce.currentTarget.style.backgroundColor=o?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",onMouseLeave:ce=>ce.currentTarget.style.backgroundColor="transparent",children:u.jsx(DU,{className:"w-6 h-6"})})]})}),u.jsx("div",{className:"flex-1 max-w-6xl mx-auto w-full px-4 py-6",children:u.jsxs(aJ,{value:l,onValueChange:c,className:"space-y-6",children:[u.jsxs(sJ,{className:"grid w-full grid-cols-3 max-w-md mx-auto",children:[u.jsx(Uu,{value:"overview",children:"Overview"}),u.jsx(Uu,{value:"leaderboard",children:"Leaderboard"}),u.jsx(Uu,{value:"friends",children:"Friends"})]}),u.jsxs(zu,{value:"overview",className:"space-y-6",children:[u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(r1,{className:"w-20 h-20",children:[u.jsx(n1,{src:X}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:L.split(" ").map(ce=>ce[0]).join("").toUpperCase()||"U"})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl mb-1",style:{color:"#102A43"},children:L}),u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43",opacity:.6},children:$}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jm,{className:"w-4 h-4",style:{color:"#102A43",opacity:.5}}),u.jsxs("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["Member since ",S.joinDate]})]})]})]}),u.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(wne,{className:"w-4 h-4"}),"Edit Profile"]})]})}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-xl mb-2",style:{color:"#102A43"},children:"Your FareScore"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Health Consistency Rating"})]}),u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsxs("div",{className:"relative w-64 h-64 mb-6",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"128",cy:"128",r:"110",fill:"none",stroke:"#E8F4F2",strokeWidth:"16"}),u.jsx("circle",{cx:"128",cy:"128",r:"110",fill:"none",stroke:We(S.score),strokeWidth:"16",strokeDasharray:`${2*Math.PI*110}`,strokeDashoffset:`${2*Math.PI*110*(1-ut(S.score)/100)}`,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease"}})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx(it.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-6xl mb-2",style:{color:We(S.score)},children:S.score}),u.jsx(zf,{style:{backgroundColor:$e(S.tier),color:"white",fontSize:"14px",padding:"4px 12px"},children:S.tier})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[S.change>=0?u.jsx(Om,{className:"w-5 h-5",style:{color:"#1C7C54"}}):u.jsx(_f,{className:"w-5 h-5",style:{color:"#E53E3E"}}),u.jsxs("span",{className:"text-lg",style:{color:S.change>=0?"#1C7C54":"#E53E3E"},children:[Math.abs(S.change)," points from last week"]})]}),u.jsxs("p",{className:"text-center max-w-md",style:{color:"#102A43",opacity:.7},children:["You've increased your FareScore by ",S.change," points in the past week. Great consistency!"]})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#E53E3E"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Starting Journey"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"300-399"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#F5A623"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Building Habits"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"400-549"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#A8E6CF"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Consistent Tracker"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"550-699"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#1C7C54"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"Goal Crusher"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"700-799"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:"#4DD4AC"}}),u.jsx("p",{className:"text-xs mb-1",style:{color:"#102A43",opacity:.6},children:"FareFit Elite"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"800-850"})]})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"mb-4 flex items-center gap-2",style:{color:"#102A43"},children:[u.jsx(wa,{className:"w-5 h-5"}),"Score History"]}),u.jsx("div",{className:"h-64",children:u.jsx(Eh,{width:"100%",height:"100%",children:u.jsxs(Yy,{data:S.history,children:[u.jsx(yp,{strokeDasharray:"3 3",stroke:"#E8F4F2"}),u.jsx(Wc,{dataKey:"date",stroke:"#102A43",opacity:.6}),u.jsx(Hc,{domain:[300,850],stroke:"#102A43",opacity:.6}),u.jsx(vi,{contentStyle:{backgroundColor:"white",border:"2px solid #A8E6CF",borderRadius:"8px"}}),u.jsx(vo,{type:"monotone",dataKey:"score",stroke:"#1C7C54",strokeWidth:3,dot:{fill:"#1C7C54",r:5},activeDot:{r:7}})]})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(TU,{className:"w-6 h-6",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Meals Logged"}),u.jsx("p",{className:"text-2xl",style:{color:"#1C7C54"},children:S.mealsLogged})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"This month"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(F_,{className:"w-6 h-6",style:{color:"#F5A623"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Workouts"}),u.jsx("p",{className:"text-2xl",style:{color:"#F5A623"},children:S.workoutsCompleted})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"This month"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F4F2"},children:u.jsx(jm,{className:"w-6 h-6",style:{color:"#4DD4AC"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Streak Days"}),u.jsx("p",{className:"text-2xl",style:{color:"#4DD4AC"},children:S.streakDays})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"Current streak"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#FFE8E8"},children:u.jsx(_f,{className:"w-6 h-6",style:{color:"#E53E3E"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:"Penalties"}),u.jsx("p",{className:"text-2xl",style:{color:"#E53E3E"},children:S.penalties})]})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.5},children:"Missed logs"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsx("h4",{className:"mb-4",style:{color:"#102A43"},children:"How FareScore Works"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:"#E8F4F2"},children:u.jsx(Om,{className:"w-4 h-4",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:u.jsx("strong",{children:"Increases Gradually"})}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Log meals (+1), complete workouts (+2), hit macro targets (+3), maintain streaks (+5)"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:"#FFE8E8"},children:u.jsx(_f,{className:"w-4 h-4",style:{color:"#E53E3E"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:u.jsx("strong",{children:"Decreases with Inactivity"})}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Miss daily logs (-2), break streaks (-5), inactive for a week (-10)"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:"#E8F4F2"},children:u.jsx(jm,{className:"w-4 h-4",style:{color:"#1C7C54"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:u.jsx("strong",{children:"Updates Daily"})}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"Your score reflects consistency over time, not perfection. Small daily actions compound into big results."})]})]})]})]})]}),u.jsx(zu,{value:"leaderboard",className:"space-y-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl flex items-center gap-2",style:{color:"#102A43"},children:[u.jsx(F_,{className:"w-6 h-6",style:{color:"#F5A623"}}),"Top FareScores"]}),u.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(Mne,{className:"w-4 h-4"}),"Share"]})]}),u.jsx("div",{className:"space-y-3",children:ge?u.jsx("div",{className:"text-center py-8",style:{color:s.textSecondary},children:"Loading leaderboard..."}):me.length===0?u.jsx("div",{className:"text-center py-8",style:{color:s.textSecondary},children:"No users found. Be the first!"}):me.map(ce=>u.jsxs(it.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ce.rank*.05},className:"flex items-center gap-4 p-4 rounded-xl transition-all hover:shadow-md",style:{backgroundColor:ce.isCurrentUser?"#E8F4F2":"#F7F9FA",border:ce.isCurrentUser?"2px solid #1C7C54":"none"},children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:ce.rank===1?"#F5A623":ce.rank===2?"#A8A8A8":ce.rank===3?"#CD7F32":"#E8F4F2",color:ce.rank<=3?"white":"#102A43"},children:ce.rank<=3?u.jsx(F_,{className:"w-6 h-6"}):`#${ce.rank}`}),u.jsxs(r1,{className:"w-12 h-12",children:[u.jsx(n1,{src:ce.avatar}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:ce.name.split(" ").map(Le=>Le[0]).join("")})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{style:{color:"#102A43"},children:[ce.name," ",ce.isCurrentUser&&u.jsx("span",{className:"text-sm opacity-60",children:"(You)"})]}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:ce.username})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl mb-1",style:{color:We(ce.fareScore)},children:ce.fareScore}),u.jsx(zf,{style:{backgroundColor:$e(ce.tier),color:"white",fontSize:"11px"},children:ce.tier})]}),u.jsxs("div",{className:"flex items-center gap-1 w-20 justify-end",children:[ce.change>=0?u.jsx(Om,{className:"w-4 h-4",style:{color:"#1C7C54"}}):u.jsx(_f,{className:"w-4 h-4",style:{color:"#E53E3E"}}),u.jsx("span",{className:"text-sm",style:{color:ce.change>=0?"#1C7C54":"#E53E3E"},children:Math.abs(ce.change)})]})]},ce.rank))}),me.length>10&&me[me.length-1]?.rank>10&&u.jsx("div",{className:"mt-6 pt-6 border-t",style:{borderColor:"#E8F4F2"},children:u.jsxs("p",{className:"text-center text-sm",style:{color:"#102A43",opacity:.6},children:["... and ",me[me.length-1].rank-6," more users"]})})]})}),u.jsx(zu,{value:"friends",className:"space-y-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl flex items-center gap-2",style:{color:"#102A43"},children:[u.jsx(AD,{className:"w-6 h-6",style:{color:"#1C7C54"}}),"Friends Leaderboard (",le.length,")"]}),u.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 rounded-lg transition-all hover:opacity-90 flex items-center justify-center gap-2 text-white",style:{backgroundColor:"#1C7C54"},children:[u.jsx(_D,{className:"w-4 h-4"}),"Add Friend"]})]}),u.jsx("div",{className:"space-y-3",children:ge?u.jsx("div",{className:"text-center py-8",style:{color:s.textSecondary},children:"Loading friends..."}):le.length===0?u.jsxs("div",{className:"text-center py-8 space-y-2",children:[u.jsx("div",{style:{color:s.textSecondary},children:"No friends added yet!"}),u.jsx("div",{className:"text-sm",style:{color:s.textSecondary,opacity:.7},children:'Click "Add Friend" to start building your fitness community'})]}):le.map(ce=>u.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl transition-all hover:shadow-md",style:{backgroundColor:ce.isCurrentUser?"#E8F5E8":"#F7F9FA"},children:[u.jsxs(r1,{className:"w-14 h-14",children:[u.jsx(n1,{src:ce.avatar}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:ce.name.split(" ").map(Le=>Le[0]).join("")})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",style:{color:"#102A43"},children:ce.name}),u.jsx("p",{className:"text-sm mb-2",style:{color:"#102A43",opacity:.6},children:ce.username}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jm,{className:"w-4 h-4",style:{color:"#102A43",opacity:.4}}),u.jsxs("span",{className:"text-sm",style:{color:"#102A43",opacity:.6},children:["Rank #",ce.rank]})]})})]}),u.jsxs("div",{className:"text-right mr-4",children:[u.jsx("p",{className:"text-2xl mb-1",style:{color:We(ce.fareScore)},children:ce.fareScore}),u.jsxs("div",{className:"flex items-center gap-1 justify-end mb-1",children:[ce.change>=0?u.jsx(Om,{className:"w-3 h-3",style:{color:"#1C7C54"}}):u.jsx(_f,{className:"w-3 h-3",style:{color:"#E53E3E"}}),u.jsx("span",{className:"text-xs",style:{color:ce.change>=0?"#1C7C54":"#E53E3E"},children:Math.abs(ce.change)})]}),u.jsx(zf,{style:{backgroundColor:$e(ce.tier),color:"white",fontSize:"11px"},children:ce.tier})]}),u.jsxs("button",{onClick:()=>di(ce.rank.toString(),ce.name),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 flex items-center justify-center gap-2",style:{borderColor:T.has(ce.rank.toString())?"#FFB6B9":"#A8E6CF",color:T.has(ce.rank.toString())?"#FFB6B9":"#1C7C54",backgroundColor:T.has(ce.rank.toString())?"#FFB6B920":"transparent"},children:[u.jsx(Qre,{className:"w-4 h-4",fill:T.has(ce.rank.toString())?"#FFB6B9":"none"}),T.has(ce.rank.toString())?"Cheered!":"Cheer"]})]},ce.rank))}),we.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(AD,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#102A43",opacity:.2}}),u.jsx("p",{className:"mb-2",style:{color:"#102A43",opacity:.6},children:"No friends yet"}),u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.5},children:"Add friends to compare scores and support each other!"})]})]})})]})}),u.jsx(bi,{open:d,onOpenChange:ce=>{f(ce),ce&&oe(X)},children:u.jsxs(wi,{className:"sm:max-w-md",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Edit Profile"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.6},children:"Update your profile information"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{style:{color:"#102A43"},children:"Profile Picture"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(r1,{className:"w-20 h-20",children:[u.jsx(n1,{src:H}),u.jsx(i1,{style:{backgroundColor:"#A8E6CF",color:"#1C7C54"},children:L.split(" ").map(ce=>ce[0]).join("").toUpperCase()||"U"})]}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{htmlFor:"avatar-upload",className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50 cursor-pointer text-sm flex items-center gap-2",style:{borderColor:"#A8E6CF",color:"#1C7C54"},children:[u.jsx(Xu,{className:"w-4 h-4"}),H?"Change Photo":"Upload Photo"]}),u.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:_t,className:"hidden"}),H&&u.jsx("button",{type:"button",onClick:gt,className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-red-50 text-sm",style:{borderColor:"#FFE8E8",color:"#E53E3E"},children:"Remove"})]}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"JPG, PNG or GIF. Max 5MB."})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{htmlFor:"name",style:{color:"#102A43"},children:"Name"}),u.jsx(xr,{id:"name",value:L,onChange:ce=>F(ce.target.value),placeholder:"Enter your name",style:{borderColor:"#A8E6CF"}})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{htmlFor:"email",style:{color:"#102A43"},children:"Email"}),u.jsx(xr,{id:"email",type:"email",value:$,onChange:ce=>q(ce.target.value),placeholder:"Enter your email",style:{borderColor:"#A8E6CF"}})]})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx("button",{onClick:ft,className:"px-6 py-2 rounded-lg transition-all hover:opacity-90 text-white",style:{backgroundColor:"#1C7C54"},children:"Save Changes"})]})]})}),u.jsx(bi,{open:p,onOpenChange:g,children:u.jsxs(wi,{className:"sm:max-w-md",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Share Your FareScore"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.6},children:"Share your progress with friends and family"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-mint-50 rounded-xl p-6 text-center",children:[u.jsx("div",{className:"text-5xl mb-3",style:{color:We(S.score)},children:S.score}),u.jsx(zf,{style:{backgroundColor:$e(S.tier),color:"white",fontSize:"14px",padding:"4px 12px"},children:S.tier}),u.jsxs("p",{className:"mt-3 text-sm",style:{color:"#102A43",opacity:.7},children:[e,"'s FareScore"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xr,{readOnly:!0,value:`https://farefit.app/score/${e.toLowerCase().replace(/\s+/g,"")}`,className:"flex-1",style:{borderColor:"#A8E6CF"}}),u.jsxs("button",{onClick:Cr,className:"px-4 py-2 rounded-lg transition-all flex items-center gap-2 text-white",style:{backgroundColor:P?"#1C7C54":"#4DD4AC"},children:[P?u.jsx(gd,{className:"w-4 h-4"}):u.jsx(JT,{className:"w-4 h-4"}),P?"Copied!":"Copy"]})]})]})]})}),u.jsx(bi,{open:x,onOpenChange:y,children:u.jsxs(wi,{className:"sm:max-w-md",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Add Friend"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.6},children:"Connect with friends to compare scores and support each other"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pr,{htmlFor:"username",style:{color:"#102A43"},children:"Username or Email"}),u.jsx(xr,{id:"username",value:z,onChange:ce=>Q(ce.target.value),placeholder:"@username or email@example.com",style:{borderColor:"#A8E6CF"},onKeyDown:ce=>{ce.key==="Enter"&&Qr()}})]}),u.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F4F2"},children:u.jsx("p",{className:"text-sm",style:{color:"#102A43",opacity:.7},children:"💡 Tip: Friends can see each other's FareScores and send cheers for motivation!"})})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-gray-50",style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsxs("button",{onClick:Qr,className:"px-6 py-2 rounded-lg transition-all hover:opacity-90 text-white flex items-center gap-2",style:{backgroundColor:"#1C7C54"},children:[u.jsx(_D,{className:"w-4 h-4"}),"Send Request"]})]})]})}),u.jsx(bi,{open:b,onOpenChange:_,children:u.jsxs(wi,{className:"sm:max-w-md",children:[u.jsxs(fo,{children:[u.jsx(ho,{style:{color:"#102A43"},children:"Settings"}),u.jsx(Bo,{style:{color:"#102A43",opacity:.6},children:"Manage your account preferences"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsx("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(NU,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Notifications"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Daily reminders and updates"})]})]}),u.jsx(Ya,{checked:ee,onCheckedChange:Se})]})}),u.jsx("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:o?"🌙":"☀️"}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Dark Mode"}),u.jsxs("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:["Switch to ",o?"light":"dark"," theme"]})]})]}),u.jsx(Ya,{checked:o,onCheckedChange:a})]})}),u.jsxs("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(ah,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Privacy"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Who can see your profile"})]})]}),u.jsxs(Kk,{value:xe,onValueChange:Ve,children:[u.jsx(Xk,{className:"w-full mt-2",style:{borderColor:"#A8E6CF"},children:u.jsx(Yk,{})}),u.jsxs(Qk,{children:[u.jsx(qs,{value:"public",children:"Public - Everyone can see"}),u.jsx(qs,{value:"friends",children:"Friends Only"}),u.jsx(qs,{value:"private",children:"Private - Only you"})]})]})]}),u.jsxs("div",{className:"px-4 py-3 rounded-lg border-2",style:{borderColor:"#E8F4F2"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(RU,{className:"w-5 h-5",style:{color:"#1C7C54"}}),u.jsxs("div",{children:[u.jsx("p",{style:{color:"#102A43"},children:"Units"}),u.jsx("p",{className:"text-xs",style:{color:"#102A43",opacity:.6},children:"Measurement system"})]})]}),u.jsxs(Kk,{value:ie,onValueChange:ue,children:[u.jsx(Xk,{className:"w-full mt-2",style:{borderColor:"#A8E6CF"},children:u.jsx(Yk,{})}),u.jsxs(Qk,{children:[u.jsx(qs,{value:"metric",children:"Metric (kg, cm)"}),u.jsx(qs,{value:"imperial",children:"Imperial (lbs, inches)"})]})]})]}),u.jsx("div",{className:"border-t",style:{borderColor:"#E8F4F2"}}),u.jsxs("button",{className:"w-full px-4 py-3 rounded-lg border-2 transition-all hover:bg-red-50 flex items-center gap-3",style:{borderColor:"#FFE8E8",color:"#E53E3E"},onClick:()=>E(!0),children:[u.jsx(sh,{className:"w-5 h-5"}),u.jsx("span",{children:"Delete Account"})]})]})]})}),u.jsx(TQ,{open:C,onOpenChange:E,children:u.jsxs(IQ,{children:[u.jsxs(kQ,{children:[u.jsx(OQ,{style:{color:"#E53E3E"},children:"Delete Account?"}),u.jsxs(jQ,{children:["This action cannot be undone. This will permanently delete your account and remove all your data including:",u.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-1",style:{color:"#102A43"},children:[u.jsx("li",{children:"Your FareScore history"}),u.jsx("li",{children:"All logged meals and workouts"}),u.jsx("li",{children:"Progress tracking data"}),u.jsx("li",{children:"Friends and leaderboard connections"})]}),u.jsx("p",{className:"mt-3",style:{color:"#102A43",opacity:.8},children:"You will receive an email confirmation before deletion is finalized."})]})]}),u.jsxs(PQ,{children:[u.jsx(DQ,{style:{borderColor:"#A8E6CF",color:"#102A43"},children:"Cancel"}),u.jsx(RQ,{onClick:Ae,className:"text-white",style:{backgroundColor:"#E53E3E"},children:"Delete Account"})]})]})})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:s.bg},children:u.jsx("div",{style:{color:s.textPrimary},children:"No data found"})})}const ji={STARTING_JOURNEY:{label:"Starting Journey",description:"Beginning your fitness journey - Every log counts!"},BUILDING_HABITS:{min:400,label:"Building Habits",description:"Developing consistency - Keep going!"},CONSISTENT_TRACKER:{min:550,label:"Consistent Tracker",description:"Staying on track most days - Great progress!"},GOAL_CRUSHER:{min:700,label:"Goal Crusher",description:"Crushing your goals with dedication!"},FAREFIT_ELITE:{min:800,label:"FareFit Elite",description:"Elite consistency - You're an inspiration!"}};function FVe(t){return t>=ji.FAREFIT_ELITE.min?{label:ji.FAREFIT_ELITE.label,description:ji.FAREFIT_ELITE.description}:t>=ji.GOAL_CRUSHER.min?{label:ji.GOAL_CRUSHER.label,description:ji.GOAL_CRUSHER.description}:t>=ji.CONSISTENT_TRACKER.min?{label:ji.CONSISTENT_TRACKER.label,description:ji.CONSISTENT_TRACKER.description}:t>=ji.BUILDING_HABITS.min?{label:ji.BUILDING_HABITS.label,description:ji.BUILDING_HABITS.description}:{label:ji.STARTING_JOURNEY.label,description:ji.STARTING_JOURNEY.description}}function LVe(t){return t>=800?"#4DD4AC":t>=700?"#1C7C54":t>=550?"#A8E6CF":t>=400?"#F5A623":"#E53E3E"}function BVe({fareScore:t,fareScoreChange:e,dailyScore:r,dailyBreakdown:n,onFareScoreClick:i,isDemoMode:o=!1}){const a=FVe(t),s=LVe(t),l=r,c=2*Math.PI*32,d=c-l/100*c,f=(t-300)/550*100,p=c-f/100*c;return u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[u.jsxs(it.button,{onClick:i,className:"relative overflow-hidden rounded-xl p-6 text-left transition-all hover:shadow-lg active:scale-[0.98]",style:{backgroundColor:"var(--bg-primary)",border:"2px solid var(--border-color)"},whileHover:{y:-2},whileTap:{scale:.98},children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(wa,{size:18,style:{color:"var(--accent-primary)"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"FareScore"})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Your consistency rating"})]}),u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded",style:{backgroundColor:e>=0?"var(--accent-light)":"#FFE8E8"},children:[e>=0?u.jsx(Om,{size:14,style:{color:"var(--accent-primary)"}}):u.jsx(_f,{size:14,style:{color:"#E53E3E"}}),u.jsx("span",{className:"text-xs",style:{color:e>=0?"var(--accent-primary)":"#E53E3E"},children:Math.abs(e)})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:"var(--accent-light)",strokeWidth:"8",fill:"none"}),u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:s,strokeWidth:"8",fill:"none",strokeDasharray:c,strokeDashoffset:p,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-2xl",style:{color:s},children:t})})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx(zf,{style:{backgroundColor:s,color:"white",fontSize:"12px",marginBottom:"8px"},children:a.label}),u.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Range: 300-850"}),u.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--text-tertiary)"},children:[e>=0?"+":"",e," this week"]}),u.jsx("p",{className:"text-xs",style:{color:"var(--accent-primary)",opacity:.8},children:"Tap for details →"})]})]})]}),u.jsxs("div",{className:"relative overflow-hidden rounded-xl p-6",style:{backgroundColor:"var(--bg-primary)",border:"2px solid var(--border-color)"},children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Yh,{size:18,style:{color:"#F5A623"}}),u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Today's Score"})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"Daily points progress"})]}),r===100&&u.jsx(zf,{style:{backgroundColor:"#FFD700",color:"#102A43",fontSize:"11px"},children:"Perfect!"})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:"var(--accent-light)",strokeWidth:"8",fill:"none"}),u.jsx("circle",{cx:"48",cy:"48",r:"32",stroke:r===100?"#FFD700":r>=75?"#1C7C54":r>=50?"#4DD4AC":"#F5A623",strokeWidth:"8",fill:"none",strokeDasharray:c,strokeDashoffset:d,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl",style:{color:r===100?"#FFD700":r>=75?"#1C7C54":r>=50?"#4DD4AC":"#F5A623"},children:r}),u.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:"/ 100"})]})})]}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("div",{className:"space-y-2",children:n?u.jsxs(u.Fragment,{children:[u.jsx(nc,{label:"Meals logged",points:n.mealsLogged.max,earned:n.mealsLogged.earned}),u.jsx(nc,{label:"Workout done",points:n.workoutCompleted.max,earned:n.workoutCompleted.earned}),u.jsx(nc,{label:"Macros hit",points:n.macrosHit.max,earned:n.macrosHit.earned}),u.jsx(nc,{label:"Bonus",points:n.consistencyBonus.max,earned:n.consistencyBonus.earned})]}):u.jsxs(u.Fragment,{children:[u.jsx(nc,{label:"Meals logged",points:30,earned:r>=20}),u.jsx(nc,{label:"Workout done",points:30,earned:r>=50}),u.jsx(nc,{label:"Macros hit",points:25,earned:r>=75}),u.jsx(nc,{label:"Bonus",points:15,earned:r===100})]})})})]})]})]})}function nc({label:t,points:e,earned:r}){const n=typeof r=="number"?r:r?e:0,i=n===e,o=n>0&&n<e;return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:i?"#1C7C54":o?"#4DD4AC":"var(--accent-light)"}}),u.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:n>0?.8:.5},children:t})]}),u.jsxs("span",{className:"text-xs",style:{color:i?"#1C7C54":o?"#4DD4AC":"var(--text-primary)",opacity:n>0?1:.4},children:[n,"/",e]})]})}function VVe(t){const e={total:0,mealsLogged:{earned:0,max:30},workoutCompleted:{earned:0,max:30},macrosHit:{earned:0,max:25},consistencyBonus:{earned:0,max:15}};t.loggedCalories>=500?e.mealsLogged.earned=20:t.loggedCalories>=200&&(e.mealsLogged.earned=10),t.workoutCompleted&&(e.workoutCompleted.earned=30);const r=Math.abs(t.loggedCalories-t.targetCalories),n=t.targetCalories>0?r/t.targetCalories*100:100,i=Math.abs(t.loggedProtein-t.targetProtein),o=t.targetProtein>0?i/t.targetProtein*100:100;n<=5&&o<=5?e.macrosHit.earned=25:n<=10&&o<=10?e.macrosHit.earned=20:n<=15&&o<=15?e.macrosHit.earned=15:n<=25&&o<=25&&(e.macrosHit.earned=10);const a=e.mealsLogged.earned+e.workoutCompleted.earned+e.macrosHit.earned;return a>=75?e.consistencyBonus.earned=15:a>=60&&(e.consistencyBonus.earned=10),e.total=e.mealsLogged.earned+e.workoutCompleted.earned+e.macrosHit.earned+e.consistencyBonus.earned,e}function $Ve(){const[t,e]=k.useState(()=>localStorage.getItem("farefit_dark_mode")==="true");k.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const r=()=>{const Se=!t;e(Se),localStorage.setItem("farefit_dark_mode",String(Se))},[n,i]=k.useState(!1),[o,a]=k.useState(null),[s,l]=k.useState(null),[c,d]=k.useState("landing"),[f,p]=k.useState("dashboard"),[g,x]=k.useState(!1),[y,b]=k.useState(!1),[_,C]=k.useState(!1),[E,P]=k.useState(!1);k.useEffect(()=>{(async()=>{if(console.log("🔍 Profile fetch effect triggered - isAuthenticated:",n,"currentUser:",oa.currentUser?.uid),n&&oa.currentUser){console.log("🔍 Fetching complete user profile for user:",oa.currentUser.uid);try{const Ve=await nx(oa.currentUser.uid);console.log("👤 Complete user profile received:",Ve),l(Ve)}catch(Ve){console.error("❌ Error fetching user profile:",Ve)}}else console.log("⏸️ Skipping profile fetch - not authenticated or no user")})()},[n,oa.currentUser]),k.useEffect(()=>{(async()=>{const Ve=localStorage.getItem("farefit_user");if(Ve){const ue=JSON.parse(Ve);try{const ce=(await Ou(()=>Promise.resolve().then(()=>Sv),void 0).then(Le=>Le.auth)).currentUser;if(ce){const Le=await hA(ce.uid);ue.onboardingComplete!==Le&&(console.log(`🔄 Syncing onboarding status: localStorage=${ue.onboardingComplete}, Firestore=${Le}`),ue.onboardingComplete=Le,localStorage.setItem("farefit_user",JSON.stringify(ue)))}}catch(Ae){console.warn("⚠️ Could not verify onboarding status from Firestore:",Ae)}a(ue),i(!0),ue.onboardingComplete&&Ee&&await j(Ee.uid),d(ue.onboardingComplete?"app":"onboarding")}})()},[]),k.useEffect(()=>{YN();const Se=setInterval(()=>{const Ve=new Date;Ve.getHours()===0&&Ve.getMinutes()===0&&YN()},6e4);return()=>clearInterval(Se)},[]);const I=async(Se,Ve)=>{try{const ue=await Pge(Se,Ve);if(!ue){alert("Login failed. Please check your credentials.");return}const Ae=await hA(ue.uid);await xM(ue.uid);const ce={email:ue.email||Se,name:ue.displayName||Se.split("@")[0],onboardingComplete:Ae};a(ce),i(!0),ce.onboardingComplete&&await j(ue.uid),d(ce.onboardingComplete?"app":"onboarding")}catch(ue){console.error("Login error:",ue),alert(ue.message||"Failed to login. Please try again.")}},T=async(Se,Ve,ue)=>{try{const Ae=await kge(Se,Ve,ue);await Yq(Ae.uid,ue,Se);const ce={email:Ae.email||Se,name:Ae.displayName||ue,onboardingComplete:!1};localStorage.setItem(`farefit_user_${Se}`,JSON.stringify(ce)),localStorage.setItem("farefit_user",JSON.stringify(ce)),a(ce),i(!0),d("onboarding")}catch(Ae){console.error("Signup error:",Ae),alert(Ae.message||"Failed to signup.")}},N=async()=>{try{const Se=await Oge();if(!Se){alert("Google login failed. Please try again.");return}const Ve=await hA(Se.uid);await xM(Se.uid);const ue={email:Se.email,name:Se.displayName||Se.email.split("@")[0],onboardingComplete:Ve};a(ue),i(!0),ue.onboardingComplete&&await j(Se.uid),d(ue.onboardingComplete?"app":"onboarding")}catch(Se){console.error("Google login failed:",Se.message),alert(Se.message||"Google login failed. Please try again.")}},S=async Se=>{if(o)try{const ue=(await Ou(()=>Promise.resolve().then(()=>Sv),void 0).then(ce=>ce.auth)).currentUser;ue&&(await Bge(ue.uid),console.log("✅ Onboarding marked complete in Firestore"));const Ae={...o,onboardingComplete:!0,onboardingData:Se};localStorage.setItem(`farefit_user_${o.email}`,JSON.stringify(Ae)),localStorage.setItem("farefit_user",JSON.stringify(Ae)),a(Ae),d("app"),C(!0)}catch(Ve){console.error("❌ Error completing onboarding:",Ve);const ue={...o,onboardingComplete:!0,onboardingData:Se};localStorage.setItem(`farefit_user_${o.email}`,JSON.stringify(ue)),localStorage.setItem("farefit_user",JSON.stringify(ue)),a(ue),d("app"),C(!0)}},j=async Se=>{if(Se)try{H(!0),console.log("📋 Loading user plan summary...");const Ve=await rye(Se);X(Ve),Ve?console.log("✅ Plan summary loaded:",Ve):console.log("📭 No active plan found for user")}catch(Ve){console.error("❌ Error loading user plan:",Ve)}finally{H(!1)}},B=async Se=>{console.log("🎯 Plan generated successfully:",Se.id),console.log("🎯 Plan details received:",{goalType:Se.goalType,targetCalories:Se.targetCalories,tdee:Se.tdee,macros:Se.macros});const Ve={targetCalories:Se.targetCalories,macros:{protein:Se.macros.protein,carbs:Se.macros.carbs,fat:Se.macros.fat,fiber:Se.macros.fiber},goalType:Se.goalType,currentWeek:1,currentFocus:Se.planContent?.weeks?.[0]?.focus||"Getting Started",generatedAt:Se.generatedAt,version:Se.version};if(X(Ve),console.log("✅ Plan summary updated immediately:",Ve),console.log("🔍 Debug - hasSeenPlanModal:",W),console.log("🔍 Debug - localStorage hasSeenPlanModal:",localStorage.getItem("hasSeenPlanModal")),W?console.log("📋 Skipping plan modal - user has seen it before"):(console.log("📋 Setting up modal for first-time user with plan data:",Se),ee(Se),z(!0),console.log("📋 Modal state set - generatedPlan set, showPlanModal:",!0)),o)try{const Ae=(await Ou(()=>Promise.resolve().then(()=>Sv),void 0).then(ce=>ce.auth)).currentUser;Ae&&(await j(Ae.uid),console.log("✅ Plan summary reloaded"))}catch(ue){console.error("❌ Error reloading plan:",ue)}},M=async()=>{try{await Bpe(oa)}catch(Se){console.error("Error signing out from Firebase:",Se)}localStorage.removeItem("farefit_user"),a(null),i(!1),d("landing"),p("dashboard"),C(!1),P(!1)},L=(Se,Ve,ue)=>{if(!o)return;const Ae={...o,name:Se,email:Ve};localStorage.setItem(`farefit_user_${Ve}`,JSON.stringify(Ae)),localStorage.setItem("farefit_user",JSON.stringify(Ae)),a(Ae)},[F,$]=k.useState(()=>{const Se=localStorage.getItem("fitnessGoal");return Se?JSON.parse(Se):null}),[q,X]=k.useState(null),[J,H]=k.useState(!1),[oe,z]=k.useState(!1),[Q,ee]=k.useState(null),[W,xe]=k.useState(()=>localStorage.getItem("hasSeenPlanModal")==="true"),[Ne,ie]=k.useState(()=>{const Se=localStorage.getItem("workoutData");if(!Se)return null;try{const Ve=JSON.parse(Se);if(Ve.exercises&&Ve.exercises.length>0){const ue=Ve.exercises[0];if(ue.sets&&Array.isArray(ue.sets)&&typeof ue.sets[0]=="object"){console.log("Migrating workout data from old format to new format");const Ae=Ve.exercises.map((Le,rt)=>{const Vt=Le.sets.length,fr=Le.sets.reduce((fi,ar)=>fi+ar.weight,0)/Vt,Dr=Math.round(Le.sets.reduce((fi,ar)=>fi+ar.reps,0)/Vt),Ei=Vt*Dr*fr;return{id:(Date.now()+rt).toString(),name:Le.name,sets:Vt,reps:Dr,weight:fr,volume:Ei,notes:"",startTime:new Date(Date.now()-(Ve.exercises.length-rt)*10*6e4).toISOString(),endTime:new Date(Date.now()-(Ve.exercises.length-rt-1)*10*6e4).toISOString()}}),ce={workoutType:Ve.type||Ve.workoutType||"Workout",duration:Ve.duration||45,caloriesBurned:Ve.caloriesBurned||0,exercises:Ae,date:Ve.date||new Date().toISOString()};return localStorage.setItem("workoutData",JSON.stringify(ce)),ce}}return Ve}catch(Ve){return console.error("Error loading workout data:",Ve),null}}),[se,we]=k.useState(()=>{const Se=localStorage.getItem("loggedMacros");return Se?JSON.parse(Se):{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),me=Se=>{we(Se),localStorage.setItem("loggedMacros",JSON.stringify(Se))},[re,le]=k.useState(350),[G,ge]=k.useState(0),[Ee,$e]=k.useState(null);k.useEffect(()=>{const Ve=or().onAuthStateChanged(ue=>{$e(ue),console.log("🔐 Auth state changed:",ue?`User: ${ue.uid}`:"No user")});return()=>Ve()},[]),k.useEffect(()=>{if(!Ee||E){console.log("🔥 Skipping FareScore listener:",{currentUser:!!Ee,isDemoMode:E});return}const Se=Fb(),Ve=st(Se,"FareScore",Ee.uid);console.log("🔥 Setting up real-time FareScore listener for:",Ee.uid);const ue=M4(Ve,Ae=>{if(Ae.exists()){const ce=Ae.data();console.log("📊 Real-time FareScore update:",ce),le(ce.score||350),ge(ce.weeklyChange||0)}else console.log("❌ No FareScore document found, using default values"),le(350),ge(0)},Ae=>{console.error("❌ Error listening to FareScore changes:",Ae),le(350),ge(0)});return()=>{console.log("🔥 Cleaning up FareScore listener"),ue()}},[E,Ee]);const ut=F?VVe({workoutCompleted:Ne!==null,loggedCalories:se.calories,targetCalories:F.targetCalories,loggedProtein:se.protein,targetProtein:F.protein,loggedCarbs:se.carbs,targetCarbs:F.carbs,loggedFat:se.fat,targetFat:F.fat}):{total:0,mealsLogged:{earned:0,max:30},workoutCompleted:{earned:0,max:30},macrosHit:{earned:0,max:25},consistencyBonus:{earned:0,max:15}},ft=ut.total,_t=()=>{const Se={email:"demo@farefit.com",name:"Alex",onboardingComplete:!0,onboardingData:{sex:"male",birthday:new Date("1990-01-01"),height:175,heightUnit:"cm",weight:75,weightUnit:"kg",activityLevel:"moderately-active",goal:"lose-weight",notificationsEnabled:!0}},Ve={goalType:"cut",age:34,weight:75,height:175,gender:"male",activityLevel:"moderately-active",tdee:2450,targetCalories:1950,protein:150,carbs:195,fat:54,fiber:27},ue={calories:1247,protein:98,carbs:112,fat:38,fiber:18},Ae={workoutType:"Push Day 💪",duration:45,caloriesBurned:517,exercises:[{id:"1",name:"Bench Press",sets:3,reps:10,weight:135,volume:4050,notes:"Felt strong today",startTime:new Date(Date.now()-45*6e4).toISOString(),endTime:new Date(Date.now()-35*6e4).toISOString()},{id:"2",name:"Incline DB Press",sets:3,reps:12,weight:55,volume:1980,notes:"",startTime:new Date(Date.now()-30*6e4).toISOString(),endTime:new Date(Date.now()-20*6e4).toISOString()},{id:"3",name:"Lateral Raises",sets:4,reps:15,weight:20,volume:1200,notes:"Good pump",startTime:new Date(Date.now()-15*6e4).toISOString(),endTime:new Date(Date.now()-5*6e4).toISOString()}],date:new Date().toISOString()};localStorage.setItem("farefit_user",JSON.stringify(Se)),localStorage.setItem("fitnessGoal",JSON.stringify(Ve)),localStorage.setItem("loggedMacros",JSON.stringify(ue)),localStorage.setItem("workoutData",JSON.stringify(Ae)),localStorage.setItem("fareScore","615"),a(Se),$(Ve),we(ue),ie(Ae),le(615),ge(8),i(!0),d("app"),C(!0),P(!0)},gt=Se=>{const Ve={calories:se.calories+Se.calories,protein:se.protein+Se.protein,carbs:se.carbs+Se.carbs,fat:se.fat+Se.fat,fiber:se.fiber+Se.fiber};me(Ve)},Cr=()=>f==="progress"?"Progress":f==="help"?"Help":f==="privacy"?"Privacy":f==="terms"?"Terms":f==="fitness-goal"?"Fitness Goal":f==="coach-ai"?"Coach AI":f==="food-assistant"?"Food Assistant":f==="workout-detail"?"Workout Detail":f==="daily-timeline"?"Daily Timeline":"Dashboard",Qr=async Se=>{console.log("💾 Saving goal data to Fitness_Goals collection:",Se),$(Se);try{if(localStorage.setItem("fitnessGoal",JSON.stringify(Se)),oa.currentUser){const{doc:Ve,updateDoc:ue,Timestamp:Ae}=await Ou(async()=>{const{doc:Vt,updateDoc:fr,Timestamp:Dr}=await Promise.resolve().then(()=>jhe);return{doc:Vt,updateDoc:fr,Timestamp:Dr}},void 0),{db:ce}=await Ou(async()=>{const{db:Vt}=await Promise.resolve().then(()=>Sv);return{db:Vt}},void 0),Le=Ve(ce,"Fitness_Goals",oa.currentUser.uid);await ue(Le,{age:Se.age,gender:Se.gender,height:Se.height,weight:Se.weight,activity_level:Se.activityLevel,goal_type:Se.goalType,tdee:Se.tdee,target_calories:Se.targetCalories,protein_target:Se.protein,carbs_target:Se.carbs,fats_target:Se.fat,fiber_target:Se.fiber,updated_at:Ae.now(),is_active:!0}),console.log("✅ Goal data saved to Fitness_Goals collection with correct field names"),await new Promise(Vt=>setTimeout(Vt,500)),console.log("🔄 Refreshing user profile after goal save...");const rt=await nx(oa.currentUser.uid);console.log("👤 Updated profile after goal save:",rt),l(rt)}}catch(Ve){console.error("❌ Error saving goal data:",Ve)}},di=Se=>{ie(Se),localStorage.setItem("workoutData",JSON.stringify(Se))};return c==="landing"?u.jsx(H5e,{onGetStarted:()=>d("signup"),onLogin:()=>d("login"),onDemoLogin:_t}):c==="login"?u.jsx(C$,{onLogin:I,onSignup:T,onBack:()=>d("landing"),initialMode:"login",onGoogleLogin:N}):c==="signup"?u.jsx(C$,{onLogin:I,onSignup:T,onBack:()=>d("landing"),initialMode:"signup"}):c==="onboarding"?u.jsx(gMe,{onComplete:S}):f==="progress"?u.jsxs(u.Fragment,{children:[u.jsx(mOe,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0)}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Progress"})]}):f==="help"?u.jsxs(u.Fragment,{children:[u.jsx(AOe,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0)}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Help"})]}):f==="privacy"?u.jsxs(u.Fragment,{children:[u.jsx(XOe,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0)}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Privacy"})]}):f==="terms"?u.jsxs(u.Fragment,{children:[u.jsx(QOe,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0)}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Terms"})]}):f==="fitness-goal"?u.jsxs(u.Fragment,{children:[u.jsx(xje,{onBack:()=>p("dashboard"),onSaveGoal:Qr,onNavigate:Se=>p(Se),onFeedbackClick:()=>x(!0),onPlanGenerated:B,userId:oa.currentUser?.uid,userProfile:s?{age:s.age,weight:s.weight,height:s.height,gender:s.gender,activityLevel:s.activityLevel,goalType:s.goalType}:void 0}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Fitness Goal"})]}):f==="coach-ai"?u.jsxs(u.Fragment,{children:[u.jsx(bje,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0)}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Coach AI"})]}):f==="meal-logging"?u.jsx(yVe,{onBack:()=>p("dashboard"),onMealLogged:gt}):f==="food-assistant"?u.jsxs(u.Fragment,{children:[u.jsx($5e,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0),userGoal:F,loggedMacros:se}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Food Assistant"})]}):f==="workout-detail"?u.jsxs(u.Fragment,{children:[u.jsx(U5e,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0),onCoachAIClick:()=>p("coach-ai"),workoutData:Ne,onSaveWorkout:di}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Workout Detail"})]}):f==="daily-timeline"?u.jsxs(u.Fragment,{children:[u.jsx(W5e,{onBack:()=>p("dashboard"),onNavigate:p,onFeedbackClick:()=>x(!0),userGoal:F,loggedMacros:se}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:"Daily Timeline"})]}):f==="account"?u.jsx(MVe,{onBack:()=>p("dashboard"),userName:o?.name||"User",userEmail:o?.email||"",isDemoMode:E,onUpdateProfile:L,isDarkMode:t,onToggleDarkMode:r}):u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--farefit-bg)"},children:[u.jsx(sie,{userName:o?.name,onLogout:M,onAccountClick:()=>p("account"),isDarkMode:t}),_&&u.jsx(SMe,{userName:o?.name||"there",onClose:()=>C(!1)}),u.jsx(Kle,{onCoachAIClick:()=>p("coach-ai"),userName:o?.name||o?.email?.split("@")[0],hasLoggedMeals:se.calories>0,hasLoggedWorkout:Ne!==null,goalType:F?.goalType,macroProgress:F?{calories:se.calories,targetCalories:F.targetCalories,protein:se.protein,targetProtein:F.protein,carbs:se.carbs,targetCarbs:F.carbs,fat:se.fat,targetFat:F.fat}:void 0}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-16",children:[u.jsx(Yle,{onFitnessScoreClick:()=>b(!0),userName:o?.name||o?.email?.split("@")[0]}),u.jsx(BVe,{fareScore:re,fareScoreChange:G,dailyScore:ft,dailyBreakdown:ut,onFareScoreClick:()=>p("account"),isDemoMode:E}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsx(nye,{onFoodAIClick:()=>p("food-assistant"),onLogMealClick:()=>p("meal-logging"),userGoal:F,planSummary:q}),u.jsx(iye,{onViewTimeline:()=>p("daily-timeline"),onLogMealClick:()=>p("meal-logging")})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsx(_ve,{onCoachAIClick:()=>p("coach-ai"),onViewWorkout:()=>p("workout-detail"),workoutData:Ne}),u.jsx(Ave,{onClick:()=>p("progress")})]}),u.jsx(Eve,{onGoalSetupClick:()=>p("fitness-goal"),onCoachAIClick:()=>p("coach-ai"),onFoodAssistantClick:()=>p("food-assistant"),userGoal:F,planSummary:q})]}),!1,u.jsx(Sl,{onNavigate:p,onFeedbackClick:()=>x(!0)}),u.jsx(qa,{isOpen:g,onClose:()=>x(!1),currentPage:Cr()}),u.jsx(NZ,{isOpen:y,onClose:()=>b(!1)}),u.jsx(UQ,{isOpen:oe,onClose:()=>{console.log("📋 Closing plan modal via X button"),z(!1),xe(!0),localStorage.setItem("hasSeenPlanModal","true")},status:Q?"ready":"loading",plan:Q,onContinueToDashboard:()=>{console.log("📋 Closing plan modal via button"),z(!1),xe(!0),localStorage.setItem("hasSeenPlanModal","true")}})]})}Qte.createRoot(document.getElementById("root")).render(u.jsx($Ve,{}));
